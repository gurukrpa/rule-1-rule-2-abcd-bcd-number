function HI(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in r)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(r,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var gr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mx(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function zI(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var s=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:function(){return r[n]}})}),t}var Tk={exports:{}},y2={},Ck={exports:{}},Or={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp=Symbol.for("react.element"),qI=Symbol.for("react.portal"),WI=Symbol.for("react.fragment"),GI=Symbol.for("react.strict_mode"),KI=Symbol.for("react.profiler"),XI=Symbol.for("react.provider"),YI=Symbol.for("react.context"),JI=Symbol.for("react.forward_ref"),QI=Symbol.for("react.suspense"),ZI=Symbol.for("react.memo"),eP=Symbol.for("react.lazy"),Q4=Symbol.iterator;function tP(r){return r===null||typeof r!="object"?null:(r=Q4&&r[Q4]||r["@@iterator"],typeof r=="function"?r:null)}var Nk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dk=Object.assign,Rk={};function hd(r,e,t){this.props=r,this.context=e,this.refs=Rk,this.updater=t||Nk}hd.prototype.isReactComponent={};hd.prototype.setState=function(r,e){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,e,"setState")};hd.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function Ik(){}Ik.prototype=hd.prototype;function Fx(r,e,t){this.props=r,this.context=e,this.refs=Rk,this.updater=t||Nk}var Lx=Fx.prototype=new Ik;Lx.constructor=Fx;Dk(Lx,hd.prototype);Lx.isPureReactComponent=!0;var Z4=Array.isArray,Pk=Object.prototype.hasOwnProperty,jx={current:null},Ok={key:!0,ref:!0,__self:!0,__source:!0};function Mk(r,e,t){var n,s={},i=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)Pk.call(e,n)&&!Ok.hasOwnProperty(n)&&(s[n]=e[n]);var o=arguments.length-2;if(o===1)s.children=t;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];s.children=l}if(r&&r.defaultProps)for(n in o=r.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:Fp,type:r,key:i,ref:a,props:s,_owner:jx.current}}function rP(r,e){return{$$typeof:Fp,type:r.type,key:e,ref:r.ref,props:r.props,_owner:r._owner}}function Bx(r){return typeof r=="object"&&r!==null&&r.$$typeof===Fp}function nP(r){var e={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(t){return e[t]})}var e3=/\/+/g;function Gv(r,e){return typeof r=="object"&&r!==null&&r.key!=null?nP(""+r.key):e.toString(36)}function Ag(r,e,t,n,s){var i=typeof r;(i==="undefined"||i==="boolean")&&(r=null);var a=!1;if(r===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(r.$$typeof){case Fp:case qI:a=!0}}if(a)return a=r,s=s(a),r=n===""?"."+Gv(a,0):n,Z4(s)?(t="",r!=null&&(t=r.replace(e3,"$&/")+"/"),Ag(s,e,t,"",function(c){return c})):s!=null&&(Bx(s)&&(s=rP(s,t+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(e3,"$&/")+"/")+r)),e.push(s)),1;if(a=0,n=n===""?".":n+":",Z4(r))for(var o=0;o<r.length;o++){i=r[o];var l=n+Gv(i,o);a+=Ag(i,e,t,l,s)}else if(l=tP(r),typeof l=="function")for(r=l.call(r),o=0;!(i=r.next()).done;)i=i.value,l=n+Gv(i,o++),a+=Ag(i,e,t,l,s);else if(i==="object")throw e=String(r),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Im(r,e,t){if(r==null)return r;var n=[],s=0;return Ag(r,n,"","",function(i){return e.call(t,i,s++)}),n}function sP(r){if(r._status===-1){var e=r._result;e=e(),e.then(function(t){(r._status===0||r._status===-1)&&(r._status=1,r._result=t)},function(t){(r._status===0||r._status===-1)&&(r._status=2,r._result=t)}),r._status===-1&&(r._status=0,r._result=e)}if(r._status===1)return r._result.default;throw r._result}var Ai={current:null},Tg={transition:null},iP={ReactCurrentDispatcher:Ai,ReactCurrentBatchConfig:Tg,ReactCurrentOwner:jx};function Fk(){throw Error("act(...) is not supported in production builds of React.")}Or.Children={map:Im,forEach:function(r,e,t){Im(r,function(){e.apply(this,arguments)},t)},count:function(r){var e=0;return Im(r,function(){e++}),e},toArray:function(r){return Im(r,function(e){return e})||[]},only:function(r){if(!Bx(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};Or.Component=hd;Or.Fragment=WI;Or.Profiler=KI;Or.PureComponent=Fx;Or.StrictMode=GI;Or.Suspense=QI;Or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iP;Or.act=Fk;Or.cloneElement=function(r,e,t){if(r==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+r+".");var n=Dk({},r.props),s=r.key,i=r.ref,a=r._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=jx.current),e.key!==void 0&&(s=""+e.key),r.type&&r.type.defaultProps)var o=r.type.defaultProps;for(l in e)Pk.call(e,l)&&!Ok.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=t;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Fp,type:r.type,key:s,ref:i,props:n,_owner:a}};Or.createContext=function(r){return r={$$typeof:YI,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},r.Provider={$$typeof:XI,_context:r},r.Consumer=r};Or.createElement=Mk;Or.createFactory=function(r){var e=Mk.bind(null,r);return e.type=r,e};Or.createRef=function(){return{current:null}};Or.forwardRef=function(r){return{$$typeof:JI,render:r}};Or.isValidElement=Bx;Or.lazy=function(r){return{$$typeof:eP,_payload:{_status:-1,_result:r},_init:sP}};Or.memo=function(r,e){return{$$typeof:ZI,type:r,compare:e===void 0?null:e}};Or.startTransition=function(r){var e=Tg.transition;Tg.transition={};try{r()}finally{Tg.transition=e}};Or.unstable_act=Fk;Or.useCallback=function(r,e){return Ai.current.useCallback(r,e)};Or.useContext=function(r){return Ai.current.useContext(r)};Or.useDebugValue=function(){};Or.useDeferredValue=function(r){return Ai.current.useDeferredValue(r)};Or.useEffect=function(r,e){return Ai.current.useEffect(r,e)};Or.useId=function(){return Ai.current.useId()};Or.useImperativeHandle=function(r,e,t){return Ai.current.useImperativeHandle(r,e,t)};Or.useInsertionEffect=function(r,e){return Ai.current.useInsertionEffect(r,e)};Or.useLayoutEffect=function(r,e){return Ai.current.useLayoutEffect(r,e)};Or.useMemo=function(r,e){return Ai.current.useMemo(r,e)};Or.useReducer=function(r,e,t){return Ai.current.useReducer(r,e,t)};Or.useRef=function(r){return Ai.current.useRef(r)};Or.useState=function(r){return Ai.current.useState(r)};Or.useSyncExternalStore=function(r,e,t){return Ai.current.useSyncExternalStore(r,e,t)};Or.useTransition=function(){return Ai.current.useTransition()};Or.version="18.3.1";Ck.exports=Or;var Ae=Ck.exports;const Ux=Mx(Ae),_b=HI({__proto__:null,default:Ux},[Ae]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aP=Ae,oP=Symbol.for("react.element"),lP=Symbol.for("react.fragment"),cP=Object.prototype.hasOwnProperty,uP=aP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hP={key:!0,ref:!0,__self:!0,__source:!0};function Lk(r,e,t){var n,s={},i=null,a=null;t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)cP.call(e,n)&&!hP.hasOwnProperty(n)&&(s[n]=e[n]);if(r&&r.defaultProps)for(n in e=r.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:oP,type:r,key:i,ref:a,props:s,_owner:uP.current}}y2.Fragment=lP;y2.jsx=Lk;y2.jsxs=Lk;Tk.exports=y2;var G=Tk.exports,Sb={},jk={exports:{}},ca={},Bk={exports:{}},Uk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){function e(_,x){var R=_.length;_.push(x);e:for(;0<R;){var W=R-1>>>1,T=_[W];if(0<s(T,x))_[W]=x,_[R]=T,R=W;else break e}}function t(_){return _.length===0?null:_[0]}function n(_){if(_.length===0)return null;var x=_[0],R=_.pop();if(R!==x){_[0]=R;e:for(var W=0,T=_.length,z=T>>>1;W<z;){var q=2*(W+1)-1,Y=_[q],U=q+1,Q=_[U];if(0>s(Y,R))U<T&&0>s(Q,Y)?(_[W]=Q,_[U]=R,W=U):(_[W]=Y,_[q]=R,W=q);else if(U<T&&0>s(Q,R))_[W]=Q,_[U]=R,W=U;else break e}}return x}function s(_,x){var R=_.sortIndex-x.sortIndex;return R!==0?R:_.id-x.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;r.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();r.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,d=null,h=3,f=!1,m=!1,g=!1,p=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(_){for(var x=t(c);x!==null;){if(x.callback===null)n(c);else if(x.startTime<=_)n(c),x.sortIndex=x.expirationTime,e(l,x);else break;x=t(c)}}function E(_){if(g=!1,b(_),!m)if(t(l)!==null)m=!0,w(N);else{var x=t(c);x!==null&&S(E,x.startTime-_)}}function N(_,x){m=!1,g&&(g=!1,v(C),C=-1),f=!0;var R=h;try{for(b(x),d=t(l);d!==null&&(!(d.expirationTime>x)||_&&!B());){var W=d.callback;if(typeof W=="function"){d.callback=null,h=d.priorityLevel;var T=W(d.expirationTime<=x);x=r.unstable_now(),typeof T=="function"?d.callback=T:d===t(l)&&n(l),b(x)}else n(l);d=t(l)}if(d!==null)var z=!0;else{var q=t(c);q!==null&&S(E,q.startTime-x),z=!1}return z}finally{d=null,h=R,f=!1}}var j=!1,D=null,C=-1,I=5,V=-1;function B(){return!(r.unstable_now()-V<I)}function P(){if(D!==null){var _=r.unstable_now();V=_;var x=!0;try{x=D(!0,_)}finally{x?k():(j=!1,D=null)}}else j=!1}var k;if(typeof y=="function")k=function(){y(P)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,A=M.port2;M.port1.onmessage=P,k=function(){A.postMessage(null)}}else k=function(){p(P,0)};function w(_){D=_,j||(j=!0,k())}function S(_,x){C=p(function(){_(r.unstable_now())},x)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(_){_.callback=null},r.unstable_continueExecution=function(){m||f||(m=!0,w(N))},r.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<_?Math.floor(1e3/_):5},r.unstable_getCurrentPriorityLevel=function(){return h},r.unstable_getFirstCallbackNode=function(){return t(l)},r.unstable_next=function(_){switch(h){case 1:case 2:case 3:var x=3;break;default:x=h}var R=h;h=x;try{return _()}finally{h=R}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(_,x){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var R=h;h=_;try{return x()}finally{h=R}},r.unstable_scheduleCallback=function(_,x,R){var W=r.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?W+R:W):R=W,_){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=R+T,_={id:u++,callback:x,priorityLevel:_,startTime:R,expirationTime:T,sortIndex:-1},R>W?(_.sortIndex=R,e(c,_),t(l)===null&&_===t(c)&&(g?(v(C),C=-1):g=!0,S(E,R-W))):(_.sortIndex=T,e(l,_),m||f||(m=!0,w(N))),_},r.unstable_shouldYield=B,r.unstable_wrapCallback=function(_){var x=h;return function(){var R=h;h=x;try{return _.apply(this,arguments)}finally{h=R}}}})(Uk);Bk.exports=Uk;var fP=Bk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dP=Ae,oa=fP;function Ut(r){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+r,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+r+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $k=new Set,X0={};function gh(r,e){Wf(r,e),Wf(r+"Capture",e)}function Wf(r,e){for(X0[r]=e,r=0;r<e.length;r++)$k.add(e[r])}var Tl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eb=Object.prototype.hasOwnProperty,pP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,t3={},r3={};function mP(r){return Eb.call(r3,r)?!0:Eb.call(t3,r)?!1:pP.test(r)?r3[r]=!0:(t3[r]=!0,!1)}function gP(r,e,t,n){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:t!==null?!t.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function vP(r,e,t,n){if(e===null||typeof e>"u"||gP(r,e,t,n))return!0;if(n)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ti(r,e,t,n,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=t,this.propertyName=r,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var $s={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){$s[r]=new Ti(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var e=r[0];$s[e]=new Ti(e,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){$s[r]=new Ti(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){$s[r]=new Ti(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){$s[r]=new Ti(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){$s[r]=new Ti(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){$s[r]=new Ti(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){$s[r]=new Ti(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){$s[r]=new Ti(r,5,!1,r.toLowerCase(),null,!1,!1)});var $x=/[\-:]([a-z])/g;function Vx(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var e=r.replace($x,Vx);$s[e]=new Ti(e,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var e=r.replace($x,Vx);$s[e]=new Ti(e,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var e=r.replace($x,Vx);$s[e]=new Ti(e,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){$s[r]=new Ti(r,1,!1,r.toLowerCase(),null,!1,!1)});$s.xlinkHref=new Ti("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){$s[r]=new Ti(r,1,!1,r.toLowerCase(),null,!0,!0)});function Hx(r,e,t,n){var s=$s.hasOwnProperty(e)?$s[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vP(e,t,s,n)&&(t=null),n||s===null?mP(e)&&(t===null?r.removeAttribute(e):r.setAttribute(e,""+t)):s.mustUseProperty?r[s.propertyName]=t===null?s.type===3?!1:"":t:(e=s.attributeName,n=s.attributeNamespace,t===null?r.removeAttribute(e):(s=s.type,t=s===3||s===4&&t===!0?"":""+t,n?r.setAttributeNS(n,e,t):r.setAttribute(e,t))))}var Bl=dP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pm=Symbol.for("react.element"),hf=Symbol.for("react.portal"),ff=Symbol.for("react.fragment"),zx=Symbol.for("react.strict_mode"),kb=Symbol.for("react.profiler"),Vk=Symbol.for("react.provider"),Hk=Symbol.for("react.context"),qx=Symbol.for("react.forward_ref"),Ab=Symbol.for("react.suspense"),Tb=Symbol.for("react.suspense_list"),Wx=Symbol.for("react.memo"),_c=Symbol.for("react.lazy"),zk=Symbol.for("react.offscreen"),n3=Symbol.iterator;function qd(r){return r===null||typeof r!="object"?null:(r=n3&&r[n3]||r["@@iterator"],typeof r=="function"?r:null)}var Dn=Object.assign,Kv;function i0(r){if(Kv===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Kv=e&&e[1]||""}return`
`+Kv+r}var Xv=!1;function Yv(r,e){if(!r||Xv)return"";Xv=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(r,[],e)}else{try{e.call()}catch(c){n=c}r.call(e.prototype)}else{try{throw Error()}catch(c){n=c}r()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return r.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",r.displayName)),l}while(1<=a&&0<=o);break}}}finally{Xv=!1,Error.prepareStackTrace=t}return(r=r?r.displayName||r.name:"")?i0(r):""}function yP(r){switch(r.tag){case 5:return i0(r.type);case 16:return i0("Lazy");case 13:return i0("Suspense");case 19:return i0("SuspenseList");case 0:case 2:case 15:return r=Yv(r.type,!1),r;case 11:return r=Yv(r.type.render,!1),r;case 1:return r=Yv(r.type,!0),r;default:return""}}function Cb(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case ff:return"Fragment";case hf:return"Portal";case kb:return"Profiler";case zx:return"StrictMode";case Ab:return"Suspense";case Tb:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case Hk:return(r.displayName||"Context")+".Consumer";case Vk:return(r._context.displayName||"Context")+".Provider";case qx:var e=r.render;return r=r.displayName,r||(r=e.displayName||e.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Wx:return e=r.displayName||null,e!==null?e:Cb(r.type)||"Memo";case _c:e=r._payload,r=r._init;try{return Cb(r(e))}catch{}}return null}function bP(r){var e=r.type;switch(r.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=e.render,r=r.displayName||r.name||"",e.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cb(e);case 8:return e===zx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ru(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function qk(r){var e=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function wP(r){var e=qk(r)?"checked":"value",t=Object.getOwnPropertyDescriptor(r.constructor.prototype,e),n=""+r[e];if(!r.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var s=t.get,i=t.set;return Object.defineProperty(r,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(r,e,{enumerable:t.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){r._valueTracker=null,delete r[e]}}}}function Om(r){r._valueTracker||(r._valueTracker=wP(r))}function Wk(r){if(!r)return!1;var e=r._valueTracker;if(!e)return!0;var t=e.getValue(),n="";return r&&(n=qk(r)?r.checked?"true":"false":r.value),r=n,r!==t?(e.setValue(r),!0):!1}function r1(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Nb(r,e){var t=e.checked;return Dn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??r._wrapperState.initialChecked})}function s3(r,e){var t=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;t=ru(e.value!=null?e.value:t),r._wrapperState={initialChecked:n,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Gk(r,e){e=e.checked,e!=null&&Hx(r,"checked",e,!1)}function Db(r,e){Gk(r,e);var t=ru(e.value),n=e.type;if(t!=null)n==="number"?(t===0&&r.value===""||r.value!=t)&&(r.value=""+t):r.value!==""+t&&(r.value=""+t);else if(n==="submit"||n==="reset"){r.removeAttribute("value");return}e.hasOwnProperty("value")?Rb(r,e.type,t):e.hasOwnProperty("defaultValue")&&Rb(r,e.type,ru(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(r.defaultChecked=!!e.defaultChecked)}function i3(r,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+r._wrapperState.initialValue,t||e===r.value||(r.value=e),r.defaultValue=e}t=r.name,t!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,t!==""&&(r.name=t)}function Rb(r,e,t){(e!=="number"||r1(r.ownerDocument)!==r)&&(t==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+t&&(r.defaultValue=""+t))}var a0=Array.isArray;function Af(r,e,t,n){if(r=r.options,e){e={};for(var s=0;s<t.length;s++)e["$"+t[s]]=!0;for(t=0;t<r.length;t++)s=e.hasOwnProperty("$"+r[t].value),r[t].selected!==s&&(r[t].selected=s),s&&n&&(r[t].defaultSelected=!0)}else{for(t=""+ru(t),e=null,s=0;s<r.length;s++){if(r[s].value===t){r[s].selected=!0,n&&(r[s].defaultSelected=!0);return}e!==null||r[s].disabled||(e=r[s])}e!==null&&(e.selected=!0)}}function Ib(r,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ut(91));return Dn({},e,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function a3(r,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Ut(92));if(a0(t)){if(1<t.length)throw Error(Ut(93));t=t[0]}e=t}e==null&&(e=""),t=e}r._wrapperState={initialValue:ru(t)}}function Kk(r,e){var t=ru(e.value),n=ru(e.defaultValue);t!=null&&(t=""+t,t!==r.value&&(r.value=t),e.defaultValue==null&&r.defaultValue!==t&&(r.defaultValue=t)),n!=null&&(r.defaultValue=""+n)}function o3(r){var e=r.textContent;e===r._wrapperState.initialValue&&e!==""&&e!==null&&(r.value=e)}function Xk(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pb(r,e){return r==null||r==="http://www.w3.org/1999/xhtml"?Xk(e):r==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Mm,Yk=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,n,s){MSApp.execUnsafeLocalFunction(function(){return r(e,t,n,s)})}:r}(function(r,e){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=e;else{for(Mm=Mm||document.createElement("div"),Mm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Mm.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;e.firstChild;)r.appendChild(e.firstChild)}});function Y0(r,e){if(e){var t=r.firstChild;if(t&&t===r.lastChild&&t.nodeType===3){t.nodeValue=e;return}}r.textContent=e}var b0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xP=["Webkit","ms","Moz","O"];Object.keys(b0).forEach(function(r){xP.forEach(function(e){e=e+r.charAt(0).toUpperCase()+r.substring(1),b0[e]=b0[r]})});function Jk(r,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||b0.hasOwnProperty(r)&&b0[r]?(""+e).trim():e+"px"}function Qk(r,e){r=r.style;for(var t in e)if(e.hasOwnProperty(t)){var n=t.indexOf("--")===0,s=Jk(t,e[t],n);t==="float"&&(t="cssFloat"),n?r.setProperty(t,s):r[t]=s}}var _P=Dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ob(r,e){if(e){if(_P[r]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ut(137,r));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ut(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ut(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ut(62))}}function Mb(r,e){if(r.indexOf("-")===-1)return typeof e.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fb=null;function Gx(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Lb=null,Tf=null,Cf=null;function l3(r){if(r=Bp(r)){if(typeof Lb!="function")throw Error(Ut(280));var e=r.stateNode;e&&(e=S2(e),Lb(r.stateNode,r.type,e))}}function Zk(r){Tf?Cf?Cf.push(r):Cf=[r]:Tf=r}function eA(){if(Tf){var r=Tf,e=Cf;if(Cf=Tf=null,l3(r),e)for(r=0;r<e.length;r++)l3(e[r])}}function tA(r,e){return r(e)}function rA(){}var Jv=!1;function nA(r,e,t){if(Jv)return r(e,t);Jv=!0;try{return tA(r,e,t)}finally{Jv=!1,(Tf!==null||Cf!==null)&&(rA(),eA())}}function J0(r,e){var t=r.stateNode;if(t===null)return null;var n=S2(t);if(n===null)return null;t=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(r=r.type,n=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!n;break e;default:r=!1}if(r)return null;if(t&&typeof t!="function")throw Error(Ut(231,e,typeof t));return t}var jb=!1;if(Tl)try{var Wd={};Object.defineProperty(Wd,"passive",{get:function(){jb=!0}}),window.addEventListener("test",Wd,Wd),window.removeEventListener("test",Wd,Wd)}catch{jb=!1}function SP(r,e,t,n,s,i,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var w0=!1,n1=null,s1=!1,Bb=null,EP={onError:function(r){w0=!0,n1=r}};function kP(r,e,t,n,s,i,a,o,l){w0=!1,n1=null,SP.apply(EP,arguments)}function AP(r,e,t,n,s,i,a,o,l){if(kP.apply(this,arguments),w0){if(w0){var c=n1;w0=!1,n1=null}else throw Error(Ut(198));s1||(s1=!0,Bb=c)}}function vh(r){var e=r,t=r;if(r.alternate)for(;e.return;)e=e.return;else{r=e;do e=r,e.flags&4098&&(t=e.return),r=e.return;while(r)}return e.tag===3?t:null}function sA(r){if(r.tag===13){var e=r.memoizedState;if(e===null&&(r=r.alternate,r!==null&&(e=r.memoizedState)),e!==null)return e.dehydrated}return null}function c3(r){if(vh(r)!==r)throw Error(Ut(188))}function TP(r){var e=r.alternate;if(!e){if(e=vh(r),e===null)throw Error(Ut(188));return e!==r?null:r}for(var t=r,n=e;;){var s=t.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){t=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===t)return c3(s),r;if(i===n)return c3(s),e;i=i.sibling}throw Error(Ut(188))}if(t.return!==n.return)t=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===t){a=!0,t=s,n=i;break}if(o===n){a=!0,n=s,t=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===t){a=!0,t=i,n=s;break}if(o===n){a=!0,n=i,t=s;break}o=o.sibling}if(!a)throw Error(Ut(189))}}if(t.alternate!==n)throw Error(Ut(190))}if(t.tag!==3)throw Error(Ut(188));return t.stateNode.current===t?r:e}function iA(r){return r=TP(r),r!==null?aA(r):null}function aA(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var e=aA(r);if(e!==null)return e;r=r.sibling}return null}var oA=oa.unstable_scheduleCallback,u3=oa.unstable_cancelCallback,CP=oa.unstable_shouldYield,NP=oa.unstable_requestPaint,qn=oa.unstable_now,DP=oa.unstable_getCurrentPriorityLevel,Kx=oa.unstable_ImmediatePriority,lA=oa.unstable_UserBlockingPriority,i1=oa.unstable_NormalPriority,RP=oa.unstable_LowPriority,cA=oa.unstable_IdlePriority,b2=null,jo=null;function IP(r){if(jo&&typeof jo.onCommitFiberRoot=="function")try{jo.onCommitFiberRoot(b2,r,void 0,(r.current.flags&128)===128)}catch{}}var co=Math.clz32?Math.clz32:MP,PP=Math.log,OP=Math.LN2;function MP(r){return r>>>=0,r===0?32:31-(PP(r)/OP|0)|0}var Fm=64,Lm=4194304;function o0(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function a1(r,e){var t=r.pendingLanes;if(t===0)return 0;var n=0,s=r.suspendedLanes,i=r.pingedLanes,a=t&268435455;if(a!==0){var o=a&~s;o!==0?n=o0(o):(i&=a,i!==0&&(n=o0(i)))}else a=t&~s,a!==0?n=o0(a):i!==0&&(n=o0(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=t&16),e=r.entangledLanes,e!==0)for(r=r.entanglements,e&=n;0<e;)t=31-co(e),s=1<<t,n|=r[t],e&=~s;return n}function FP(r,e){switch(r){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function LP(r,e){for(var t=r.suspendedLanes,n=r.pingedLanes,s=r.expirationTimes,i=r.pendingLanes;0<i;){var a=31-co(i),o=1<<a,l=s[a];l===-1?(!(o&t)||o&n)&&(s[a]=FP(o,e)):l<=e&&(r.expiredLanes|=o),i&=~o}}function Ub(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function uA(){var r=Fm;return Fm<<=1,!(Fm&4194240)&&(Fm=64),r}function Qv(r){for(var e=[],t=0;31>t;t++)e.push(r);return e}function Lp(r,e,t){r.pendingLanes|=e,e!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,e=31-co(e),r[e]=t}function jP(r,e){var t=r.pendingLanes&~e;r.pendingLanes=e,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=e,r.mutableReadLanes&=e,r.entangledLanes&=e,e=r.entanglements;var n=r.eventTimes;for(r=r.expirationTimes;0<t;){var s=31-co(t),i=1<<s;e[s]=0,n[s]=-1,r[s]=-1,t&=~i}}function Xx(r,e){var t=r.entangledLanes|=e;for(r=r.entanglements;t;){var n=31-co(t),s=1<<n;s&e|r[n]&e&&(r[n]|=e),t&=~s}}var an=0;function hA(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var fA,Yx,dA,pA,mA,$b=!1,jm=[],$c=null,Vc=null,Hc=null,Q0=new Map,Z0=new Map,Ac=[],BP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function h3(r,e){switch(r){case"focusin":case"focusout":$c=null;break;case"dragenter":case"dragleave":Vc=null;break;case"mouseover":case"mouseout":Hc=null;break;case"pointerover":case"pointerout":Q0.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Z0.delete(e.pointerId)}}function Gd(r,e,t,n,s,i){return r===null||r.nativeEvent!==i?(r={blockedOn:e,domEventName:t,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Bp(e),e!==null&&Yx(e)),r):(r.eventSystemFlags|=n,e=r.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),r)}function UP(r,e,t,n,s){switch(e){case"focusin":return $c=Gd($c,r,e,t,n,s),!0;case"dragenter":return Vc=Gd(Vc,r,e,t,n,s),!0;case"mouseover":return Hc=Gd(Hc,r,e,t,n,s),!0;case"pointerover":var i=s.pointerId;return Q0.set(i,Gd(Q0.get(i)||null,r,e,t,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Z0.set(i,Gd(Z0.get(i)||null,r,e,t,n,s)),!0}return!1}function gA(r){var e=qu(r.target);if(e!==null){var t=vh(e);if(t!==null){if(e=t.tag,e===13){if(e=sA(t),e!==null){r.blockedOn=e,mA(r.priority,function(){dA(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){r.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Cg(r){if(r.blockedOn!==null)return!1;for(var e=r.targetContainers;0<e.length;){var t=Vb(r.domEventName,r.eventSystemFlags,e[0],r.nativeEvent);if(t===null){t=r.nativeEvent;var n=new t.constructor(t.type,t);Fb=n,t.target.dispatchEvent(n),Fb=null}else return e=Bp(t),e!==null&&Yx(e),r.blockedOn=t,!1;e.shift()}return!0}function f3(r,e,t){Cg(r)&&t.delete(e)}function $P(){$b=!1,$c!==null&&Cg($c)&&($c=null),Vc!==null&&Cg(Vc)&&(Vc=null),Hc!==null&&Cg(Hc)&&(Hc=null),Q0.forEach(f3),Z0.forEach(f3)}function Kd(r,e){r.blockedOn===e&&(r.blockedOn=null,$b||($b=!0,oa.unstable_scheduleCallback(oa.unstable_NormalPriority,$P)))}function ep(r){function e(s){return Kd(s,r)}if(0<jm.length){Kd(jm[0],r);for(var t=1;t<jm.length;t++){var n=jm[t];n.blockedOn===r&&(n.blockedOn=null)}}for($c!==null&&Kd($c,r),Vc!==null&&Kd(Vc,r),Hc!==null&&Kd(Hc,r),Q0.forEach(e),Z0.forEach(e),t=0;t<Ac.length;t++)n=Ac[t],n.blockedOn===r&&(n.blockedOn=null);for(;0<Ac.length&&(t=Ac[0],t.blockedOn===null);)gA(t),t.blockedOn===null&&Ac.shift()}var Nf=Bl.ReactCurrentBatchConfig,o1=!0;function VP(r,e,t,n){var s=an,i=Nf.transition;Nf.transition=null;try{an=1,Jx(r,e,t,n)}finally{an=s,Nf.transition=i}}function HP(r,e,t,n){var s=an,i=Nf.transition;Nf.transition=null;try{an=4,Jx(r,e,t,n)}finally{an=s,Nf.transition=i}}function Jx(r,e,t,n){if(o1){var s=Vb(r,e,t,n);if(s===null)ly(r,e,n,l1,t),h3(r,n);else if(UP(s,r,e,t,n))n.stopPropagation();else if(h3(r,n),e&4&&-1<BP.indexOf(r)){for(;s!==null;){var i=Bp(s);if(i!==null&&fA(i),i=Vb(r,e,t,n),i===null&&ly(r,e,n,l1,t),i===s)break;s=i}s!==null&&n.stopPropagation()}else ly(r,e,n,null,t)}}var l1=null;function Vb(r,e,t,n){if(l1=null,r=Gx(n),r=qu(r),r!==null)if(e=vh(r),e===null)r=null;else if(t=e.tag,t===13){if(r=sA(e),r!==null)return r;r=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;r=null}else e!==r&&(r=null);return l1=r,null}function vA(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DP()){case Kx:return 1;case lA:return 4;case i1:case RP:return 16;case cA:return 536870912;default:return 16}default:return 16}}var Oc=null,Qx=null,Ng=null;function yA(){if(Ng)return Ng;var r,e=Qx,t=e.length,n,s="value"in Oc?Oc.value:Oc.textContent,i=s.length;for(r=0;r<t&&e[r]===s[r];r++);var a=t-r;for(n=1;n<=a&&e[t-n]===s[i-n];n++);return Ng=s.slice(r,1<n?1-n:void 0)}function Dg(r){var e=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&e===13&&(r=13)):r=e,r===10&&(r=13),32<=r||r===13?r:0}function Bm(){return!0}function d3(){return!1}function ua(r){function e(t,n,s,i,a){this._reactName=t,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in r)r.hasOwnProperty(o)&&(t=r[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Bm:d3,this.isPropagationStopped=d3,this}return Dn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Bm)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Bm)},persist:function(){},isPersistent:Bm}),e}var fd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zx=ua(fd),jp=Dn({},fd,{view:0,detail:0}),zP=ua(jp),Zv,ey,Xd,w2=Dn({},jp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:e5,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Xd&&(Xd&&r.type==="mousemove"?(Zv=r.screenX-Xd.screenX,ey=r.screenY-Xd.screenY):ey=Zv=0,Xd=r),Zv)},movementY:function(r){return"movementY"in r?r.movementY:ey}}),p3=ua(w2),qP=Dn({},w2,{dataTransfer:0}),WP=ua(qP),GP=Dn({},jp,{relatedTarget:0}),ty=ua(GP),KP=Dn({},fd,{animationName:0,elapsedTime:0,pseudoElement:0}),XP=ua(KP),YP=Dn({},fd,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),JP=ua(YP),QP=Dn({},fd,{data:0}),m3=ua(QP),ZP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rO(r){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(r):(r=tO[r])?!!e[r]:!1}function e5(){return rO}var nO=Dn({},jp,{key:function(r){if(r.key){var e=ZP[r.key]||r.key;if(e!=="Unidentified")return e}return r.type==="keypress"?(r=Dg(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?eO[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:e5,charCode:function(r){return r.type==="keypress"?Dg(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Dg(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),sO=ua(nO),iO=Dn({},w2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),g3=ua(iO),aO=Dn({},jp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:e5}),oO=ua(aO),lO=Dn({},fd,{propertyName:0,elapsedTime:0,pseudoElement:0}),cO=ua(lO),uO=Dn({},w2,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),hO=ua(uO),fO=[9,13,27,32],t5=Tl&&"CompositionEvent"in window,x0=null;Tl&&"documentMode"in document&&(x0=document.documentMode);var dO=Tl&&"TextEvent"in window&&!x0,bA=Tl&&(!t5||x0&&8<x0&&11>=x0),v3=" ",y3=!1;function wA(r,e){switch(r){case"keyup":return fO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xA(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var df=!1;function pO(r,e){switch(r){case"compositionend":return xA(e);case"keypress":return e.which!==32?null:(y3=!0,v3);case"textInput":return r=e.data,r===v3&&y3?null:r;default:return null}}function mO(r,e){if(df)return r==="compositionend"||!t5&&wA(r,e)?(r=yA(),Ng=Qx=Oc=null,df=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bA&&e.locale!=="ko"?null:e.data;default:return null}}var gO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function b3(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e==="input"?!!gO[r.type]:e==="textarea"}function _A(r,e,t,n){Zk(n),e=c1(e,"onChange"),0<e.length&&(t=new Zx("onChange","change",null,t,n),r.push({event:t,listeners:e}))}var _0=null,tp=null;function vO(r){PA(r,0)}function x2(r){var e=gf(r);if(Wk(e))return r}function yO(r,e){if(r==="change")return e}var SA=!1;if(Tl){var ry;if(Tl){var ny="oninput"in document;if(!ny){var w3=document.createElement("div");w3.setAttribute("oninput","return;"),ny=typeof w3.oninput=="function"}ry=ny}else ry=!1;SA=ry&&(!document.documentMode||9<document.documentMode)}function x3(){_0&&(_0.detachEvent("onpropertychange",EA),tp=_0=null)}function EA(r){if(r.propertyName==="value"&&x2(tp)){var e=[];_A(e,tp,r,Gx(r)),nA(vO,e)}}function bO(r,e,t){r==="focusin"?(x3(),_0=e,tp=t,_0.attachEvent("onpropertychange",EA)):r==="focusout"&&x3()}function wO(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return x2(tp)}function xO(r,e){if(r==="click")return x2(e)}function _O(r,e){if(r==="input"||r==="change")return x2(e)}function SO(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var po=typeof Object.is=="function"?Object.is:SO;function rp(r,e){if(po(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;var t=Object.keys(r),n=Object.keys(e);if(t.length!==n.length)return!1;for(n=0;n<t.length;n++){var s=t[n];if(!Eb.call(e,s)||!po(r[s],e[s]))return!1}return!0}function _3(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function S3(r,e){var t=_3(r);r=0;for(var n;t;){if(t.nodeType===3){if(n=r+t.textContent.length,r<=e&&n>=e)return{node:t,offset:e-r};r=n}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=_3(t)}}function kA(r,e){return r&&e?r===e?!0:r&&r.nodeType===3?!1:e&&e.nodeType===3?kA(r,e.parentNode):"contains"in r?r.contains(e):r.compareDocumentPosition?!!(r.compareDocumentPosition(e)&16):!1:!1}function AA(){for(var r=window,e=r1();e instanceof r.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)r=e.contentWindow;else break;e=r1(r.document)}return e}function r5(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e&&(e==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||e==="textarea"||r.contentEditable==="true")}function EO(r){var e=AA(),t=r.focusedElem,n=r.selectionRange;if(e!==t&&t&&t.ownerDocument&&kA(t.ownerDocument.documentElement,t)){if(n!==null&&r5(t)){if(e=n.start,r=n.end,r===void 0&&(r=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(r,t.value.length);else if(r=(e=t.ownerDocument||document)&&e.defaultView||window,r.getSelection){r=r.getSelection();var s=t.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!r.extend&&i>n&&(s=n,n=i,i=s),s=S3(t,i);var a=S3(t,n);s&&a&&(r.rangeCount!==1||r.anchorNode!==s.node||r.anchorOffset!==s.offset||r.focusNode!==a.node||r.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),r.removeAllRanges(),i>n?(r.addRange(e),r.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),r.addRange(e)))}}for(e=[],r=t;r=r.parentNode;)r.nodeType===1&&e.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)r=e[t],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var kO=Tl&&"documentMode"in document&&11>=document.documentMode,pf=null,Hb=null,S0=null,zb=!1;function E3(r,e,t){var n=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;zb||pf==null||pf!==r1(n)||(n=pf,"selectionStart"in n&&r5(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),S0&&rp(S0,n)||(S0=n,n=c1(Hb,"onSelect"),0<n.length&&(e=new Zx("onSelect","select",null,e,t),r.push({event:e,listeners:n}),e.target=pf)))}function Um(r,e){var t={};return t[r.toLowerCase()]=e.toLowerCase(),t["Webkit"+r]="webkit"+e,t["Moz"+r]="moz"+e,t}var mf={animationend:Um("Animation","AnimationEnd"),animationiteration:Um("Animation","AnimationIteration"),animationstart:Um("Animation","AnimationStart"),transitionend:Um("Transition","TransitionEnd")},sy={},TA={};Tl&&(TA=document.createElement("div").style,"AnimationEvent"in window||(delete mf.animationend.animation,delete mf.animationiteration.animation,delete mf.animationstart.animation),"TransitionEvent"in window||delete mf.transitionend.transition);function _2(r){if(sy[r])return sy[r];if(!mf[r])return r;var e=mf[r],t;for(t in e)if(e.hasOwnProperty(t)&&t in TA)return sy[r]=e[t];return r}var CA=_2("animationend"),NA=_2("animationiteration"),DA=_2("animationstart"),RA=_2("transitionend"),IA=new Map,k3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mu(r,e){IA.set(r,e),gh(e,[r])}for(var iy=0;iy<k3.length;iy++){var ay=k3[iy],AO=ay.toLowerCase(),TO=ay[0].toUpperCase()+ay.slice(1);mu(AO,"on"+TO)}mu(CA,"onAnimationEnd");mu(NA,"onAnimationIteration");mu(DA,"onAnimationStart");mu("dblclick","onDoubleClick");mu("focusin","onFocus");mu("focusout","onBlur");mu(RA,"onTransitionEnd");Wf("onMouseEnter",["mouseout","mouseover"]);Wf("onMouseLeave",["mouseout","mouseover"]);Wf("onPointerEnter",["pointerout","pointerover"]);Wf("onPointerLeave",["pointerout","pointerover"]);gh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gh("onBeforeInput",["compositionend","keypress","textInput","paste"]);gh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var l0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CO=new Set("cancel close invalid load scroll toggle".split(" ").concat(l0));function A3(r,e,t){var n=r.type||"unknown-event";r.currentTarget=t,AP(n,e,void 0,r),r.currentTarget=null}function PA(r,e){e=(e&4)!==0;for(var t=0;t<r.length;t++){var n=r[t],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;A3(s,o,c),i=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;A3(s,o,c),i=l}}}if(s1)throw r=Bb,s1=!1,Bb=null,r}function bn(r,e){var t=e[Xb];t===void 0&&(t=e[Xb]=new Set);var n=r+"__bubble";t.has(n)||(OA(e,r,2,!1),t.add(n))}function oy(r,e,t){var n=0;e&&(n|=4),OA(t,r,n,e)}var $m="_reactListening"+Math.random().toString(36).slice(2);function np(r){if(!r[$m]){r[$m]=!0,$k.forEach(function(t){t!=="selectionchange"&&(CO.has(t)||oy(t,!1,r),oy(t,!0,r))});var e=r.nodeType===9?r:r.ownerDocument;e===null||e[$m]||(e[$m]=!0,oy("selectionchange",!1,e))}}function OA(r,e,t,n){switch(vA(e)){case 1:var s=VP;break;case 4:s=HP;break;default:s=Jx}t=s.bind(null,e,t,r),s=void 0,!jb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?r.addEventListener(e,t,{capture:!0,passive:s}):r.addEventListener(e,t,!0):s!==void 0?r.addEventListener(e,t,{passive:s}):r.addEventListener(e,t,!1)}function ly(r,e,t,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=qu(o),a===null)return;if(l=a.tag,l===5||l===6){n=i=a;continue e}o=o.parentNode}}n=n.return}nA(function(){var c=i,u=Gx(t),d=[];e:{var h=IA.get(r);if(h!==void 0){var f=Zx,m=r;switch(r){case"keypress":if(Dg(t)===0)break e;case"keydown":case"keyup":f=sO;break;case"focusin":m="focus",f=ty;break;case"focusout":m="blur",f=ty;break;case"beforeblur":case"afterblur":f=ty;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=p3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=WP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=oO;break;case CA:case NA:case DA:f=XP;break;case RA:f=cO;break;case"scroll":f=zP;break;case"wheel":f=hO;break;case"copy":case"cut":case"paste":f=JP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=g3}var g=(e&4)!==0,p=!g&&r==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var y=c,b;y!==null;){b=y;var E=b.stateNode;if(b.tag===5&&E!==null&&(b=E,v!==null&&(E=J0(y,v),E!=null&&g.push(sp(y,E,b)))),p)break;y=y.return}0<g.length&&(h=new f(h,m,null,t,u),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=r==="mouseover"||r==="pointerover",f=r==="mouseout"||r==="pointerout",h&&t!==Fb&&(m=t.relatedTarget||t.fromElement)&&(qu(m)||m[Cl]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(m=t.relatedTarget||t.toElement,f=c,m=m?qu(m):null,m!==null&&(p=vh(m),m!==p||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=c),f!==m)){if(g=p3,E="onMouseLeave",v="onMouseEnter",y="mouse",(r==="pointerout"||r==="pointerover")&&(g=g3,E="onPointerLeave",v="onPointerEnter",y="pointer"),p=f==null?h:gf(f),b=m==null?h:gf(m),h=new g(E,y+"leave",f,t,u),h.target=p,h.relatedTarget=b,E=null,qu(u)===c&&(g=new g(v,y+"enter",m,t,u),g.target=b,g.relatedTarget=p,E=g),p=E,f&&m)t:{for(g=f,v=m,y=0,b=g;b;b=Gh(b))y++;for(b=0,E=v;E;E=Gh(E))b++;for(;0<y-b;)g=Gh(g),y--;for(;0<b-y;)v=Gh(v),b--;for(;y--;){if(g===v||v!==null&&g===v.alternate)break t;g=Gh(g),v=Gh(v)}g=null}else g=null;f!==null&&T3(d,h,f,g,!1),m!==null&&p!==null&&T3(d,p,m,g,!0)}}e:{if(h=c?gf(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var N=yO;else if(b3(h))if(SA)N=_O;else{N=wO;var j=bO}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=xO);if(N&&(N=N(r,c))){_A(d,N,t,u);break e}j&&j(r,h,c),r==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&Rb(h,"number",h.value)}switch(j=c?gf(c):window,r){case"focusin":(b3(j)||j.contentEditable==="true")&&(pf=j,Hb=c,S0=null);break;case"focusout":S0=Hb=pf=null;break;case"mousedown":zb=!0;break;case"contextmenu":case"mouseup":case"dragend":zb=!1,E3(d,t,u);break;case"selectionchange":if(kO)break;case"keydown":case"keyup":E3(d,t,u)}var D;if(t5)e:{switch(r){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else df?wA(r,t)&&(C="onCompositionEnd"):r==="keydown"&&t.keyCode===229&&(C="onCompositionStart");C&&(bA&&t.locale!=="ko"&&(df||C!=="onCompositionStart"?C==="onCompositionEnd"&&df&&(D=yA()):(Oc=u,Qx="value"in Oc?Oc.value:Oc.textContent,df=!0)),j=c1(c,C),0<j.length&&(C=new m3(C,r,null,t,u),d.push({event:C,listeners:j}),D?C.data=D:(D=xA(t),D!==null&&(C.data=D)))),(D=dO?pO(r,t):mO(r,t))&&(c=c1(c,"onBeforeInput"),0<c.length&&(u=new m3("onBeforeInput","beforeinput",null,t,u),d.push({event:u,listeners:c}),u.data=D))}PA(d,e)})}function sp(r,e,t){return{instance:r,listener:e,currentTarget:t}}function c1(r,e){for(var t=e+"Capture",n=[];r!==null;){var s=r,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=J0(r,t),i!=null&&n.unshift(sp(r,i,s)),i=J0(r,e),i!=null&&n.push(sp(r,i,s))),r=r.return}return n}function Gh(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function T3(r,e,t,n,s){for(var i=e._reactName,a=[];t!==null&&t!==n;){var o=t,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,s?(l=J0(t,i),l!=null&&a.unshift(sp(t,l,o))):s||(l=J0(t,i),l!=null&&a.push(sp(t,l,o)))),t=t.return}a.length!==0&&r.push({event:e,listeners:a})}var NO=/\r\n?/g,DO=/\u0000|\uFFFD/g;function C3(r){return(typeof r=="string"?r:""+r).replace(NO,`
`).replace(DO,"")}function Vm(r,e,t){if(e=C3(e),C3(r)!==e&&t)throw Error(Ut(425))}function u1(){}var qb=null,Wb=null;function Gb(r,e){return r==="textarea"||r==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Kb=typeof setTimeout=="function"?setTimeout:void 0,RO=typeof clearTimeout=="function"?clearTimeout:void 0,N3=typeof Promise=="function"?Promise:void 0,IO=typeof queueMicrotask=="function"?queueMicrotask:typeof N3<"u"?function(r){return N3.resolve(null).then(r).catch(PO)}:Kb;function PO(r){setTimeout(function(){throw r})}function cy(r,e){var t=e,n=0;do{var s=t.nextSibling;if(r.removeChild(t),s&&s.nodeType===8)if(t=s.data,t==="/$"){if(n===0){r.removeChild(s),ep(e);return}n--}else t!=="$"&&t!=="$?"&&t!=="$!"||n++;t=s}while(t);ep(e)}function zc(r){for(;r!=null;r=r.nextSibling){var e=r.nodeType;if(e===1||e===3)break;if(e===8){if(e=r.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return r}function D3(r){r=r.previousSibling;for(var e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return r;e--}else t==="/$"&&e++}r=r.previousSibling}return null}var dd=Math.random().toString(36).slice(2),Mo="__reactFiber$"+dd,ip="__reactProps$"+dd,Cl="__reactContainer$"+dd,Xb="__reactEvents$"+dd,OO="__reactListeners$"+dd,MO="__reactHandles$"+dd;function qu(r){var e=r[Mo];if(e)return e;for(var t=r.parentNode;t;){if(e=t[Cl]||t[Mo]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(r=D3(r);r!==null;){if(t=r[Mo])return t;r=D3(r)}return e}r=t,t=r.parentNode}return null}function Bp(r){return r=r[Mo]||r[Cl],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function gf(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(Ut(33))}function S2(r){return r[ip]||null}var Yb=[],vf=-1;function gu(r){return{current:r}}function _n(r){0>vf||(r.current=Yb[vf],Yb[vf]=null,vf--)}function gn(r,e){vf++,Yb[vf]=r.current,r.current=e}var nu={},ci=gu(nu),$i=gu(!1),nh=nu;function Gf(r,e){var t=r.type.contextTypes;if(!t)return nu;var n=r.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in t)s[i]=e[i];return n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=e,r.__reactInternalMemoizedMaskedChildContext=s),s}function Vi(r){return r=r.childContextTypes,r!=null}function h1(){_n($i),_n(ci)}function R3(r,e,t){if(ci.current!==nu)throw Error(Ut(168));gn(ci,e),gn($i,t)}function MA(r,e,t){var n=r.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return t;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(Ut(108,bP(r)||"Unknown",s));return Dn({},t,n)}function f1(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||nu,nh=ci.current,gn(ci,r),gn($i,$i.current),!0}function I3(r,e,t){var n=r.stateNode;if(!n)throw Error(Ut(169));t?(r=MA(r,e,nh),n.__reactInternalMemoizedMergedChildContext=r,_n($i),_n(ci),gn(ci,r)):_n($i),gn($i,t)}var ml=null,E2=!1,uy=!1;function FA(r){ml===null?ml=[r]:ml.push(r)}function FO(r){E2=!0,FA(r)}function vu(){if(!uy&&ml!==null){uy=!0;var r=0,e=an;try{var t=ml;for(an=1;r<t.length;r++){var n=t[r];do n=n(!0);while(n!==null)}ml=null,E2=!1}catch(s){throw ml!==null&&(ml=ml.slice(r+1)),oA(Kx,vu),s}finally{an=e,uy=!1}}return null}var yf=[],bf=0,d1=null,p1=0,ka=[],Aa=0,sh=null,gl=1,vl="";function Fu(r,e){yf[bf++]=p1,yf[bf++]=d1,d1=r,p1=e}function LA(r,e,t){ka[Aa++]=gl,ka[Aa++]=vl,ka[Aa++]=sh,sh=r;var n=gl;r=vl;var s=32-co(n)-1;n&=~(1<<s),t+=1;var i=32-co(e)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,gl=1<<32-co(e)+s|t<<s|n,vl=i+r}else gl=1<<i|t<<s|n,vl=r}function n5(r){r.return!==null&&(Fu(r,1),LA(r,1,0))}function s5(r){for(;r===d1;)d1=yf[--bf],yf[bf]=null,p1=yf[--bf],yf[bf]=null;for(;r===sh;)sh=ka[--Aa],ka[Aa]=null,vl=ka[--Aa],ka[Aa]=null,gl=ka[--Aa],ka[Aa]=null}var ia=null,na=null,kn=!1,ro=null;function jA(r,e){var t=Na(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=r,e=r.deletions,e===null?(r.deletions=[t],r.flags|=16):e.push(t)}function P3(r,e){switch(r.tag){case 5:var t=r.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(r.stateNode=e,ia=r,na=zc(e.firstChild),!0):!1;case 6:return e=r.pendingProps===""||e.nodeType!==3?null:e,e!==null?(r.stateNode=e,ia=r,na=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=sh!==null?{id:gl,overflow:vl}:null,r.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Na(18,null,null,0),t.stateNode=e,t.return=r,r.child=t,ia=r,na=null,!0):!1;default:return!1}}function Jb(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Qb(r){if(kn){var e=na;if(e){var t=e;if(!P3(r,e)){if(Jb(r))throw Error(Ut(418));e=zc(t.nextSibling);var n=ia;e&&P3(r,e)?jA(n,t):(r.flags=r.flags&-4097|2,kn=!1,ia=r)}}else{if(Jb(r))throw Error(Ut(418));r.flags=r.flags&-4097|2,kn=!1,ia=r}}}function O3(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;ia=r}function Hm(r){if(r!==ia)return!1;if(!kn)return O3(r),kn=!0,!1;var e;if((e=r.tag!==3)&&!(e=r.tag!==5)&&(e=r.type,e=e!=="head"&&e!=="body"&&!Gb(r.type,r.memoizedProps)),e&&(e=na)){if(Jb(r))throw BA(),Error(Ut(418));for(;e;)jA(r,e),e=zc(e.nextSibling)}if(O3(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(Ut(317));e:{for(r=r.nextSibling,e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="/$"){if(e===0){na=zc(r.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}r=r.nextSibling}na=null}}else na=ia?zc(r.stateNode.nextSibling):null;return!0}function BA(){for(var r=na;r;)r=zc(r.nextSibling)}function Kf(){na=ia=null,kn=!1}function i5(r){ro===null?ro=[r]:ro.push(r)}var LO=Bl.ReactCurrentBatchConfig;function Yd(r,e,t){if(r=t.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ut(309));var n=t.stateNode}if(!n)throw Error(Ut(147,r));var s=n,i=""+r;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof r!="string")throw Error(Ut(284));if(!t._owner)throw Error(Ut(290,r))}return r}function zm(r,e){throw r=Object.prototype.toString.call(e),Error(Ut(31,r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r))}function M3(r){var e=r._init;return e(r._payload)}function UA(r){function e(v,y){if(r){var b=v.deletions;b===null?(v.deletions=[y],v.flags|=16):b.push(y)}}function t(v,y){if(!r)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function n(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function s(v,y){return v=Kc(v,y),v.index=0,v.sibling=null,v}function i(v,y,b){return v.index=b,r?(b=v.alternate,b!==null?(b=b.index,b<y?(v.flags|=2,y):b):(v.flags|=2,y)):(v.flags|=1048576,y)}function a(v){return r&&v.alternate===null&&(v.flags|=2),v}function o(v,y,b,E){return y===null||y.tag!==6?(y=vy(b,v.mode,E),y.return=v,y):(y=s(y,b),y.return=v,y)}function l(v,y,b,E){var N=b.type;return N===ff?u(v,y,b.props.children,E,b.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===_c&&M3(N)===y.type)?(E=s(y,b.props),E.ref=Yd(v,y,b),E.return=v,E):(E=Lg(b.type,b.key,b.props,null,v.mode,E),E.ref=Yd(v,y,b),E.return=v,E)}function c(v,y,b,E){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=yy(b,v.mode,E),y.return=v,y):(y=s(y,b.children||[]),y.return=v,y)}function u(v,y,b,E,N){return y===null||y.tag!==7?(y=Ju(b,v.mode,E,N),y.return=v,y):(y=s(y,b),y.return=v,y)}function d(v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=vy(""+y,v.mode,b),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Pm:return b=Lg(y.type,y.key,y.props,null,v.mode,b),b.ref=Yd(v,null,y),b.return=v,b;case hf:return y=yy(y,v.mode,b),y.return=v,y;case _c:var E=y._init;return d(v,E(y._payload),b)}if(a0(y)||qd(y))return y=Ju(y,v.mode,b,null),y.return=v,y;zm(v,y)}return null}function h(v,y,b,E){var N=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:o(v,y,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Pm:return b.key===N?l(v,y,b,E):null;case hf:return b.key===N?c(v,y,b,E):null;case _c:return N=b._init,h(v,y,N(b._payload),E)}if(a0(b)||qd(b))return N!==null?null:u(v,y,b,E,null);zm(v,b)}return null}function f(v,y,b,E,N){if(typeof E=="string"&&E!==""||typeof E=="number")return v=v.get(b)||null,o(y,v,""+E,N);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Pm:return v=v.get(E.key===null?b:E.key)||null,l(y,v,E,N);case hf:return v=v.get(E.key===null?b:E.key)||null,c(y,v,E,N);case _c:var j=E._init;return f(v,y,b,j(E._payload),N)}if(a0(E)||qd(E))return v=v.get(b)||null,u(y,v,E,N,null);zm(y,E)}return null}function m(v,y,b,E){for(var N=null,j=null,D=y,C=y=0,I=null;D!==null&&C<b.length;C++){D.index>C?(I=D,D=null):I=D.sibling;var V=h(v,D,b[C],E);if(V===null){D===null&&(D=I);break}r&&D&&V.alternate===null&&e(v,D),y=i(V,y,C),j===null?N=V:j.sibling=V,j=V,D=I}if(C===b.length)return t(v,D),kn&&Fu(v,C),N;if(D===null){for(;C<b.length;C++)D=d(v,b[C],E),D!==null&&(y=i(D,y,C),j===null?N=D:j.sibling=D,j=D);return kn&&Fu(v,C),N}for(D=n(v,D);C<b.length;C++)I=f(D,v,C,b[C],E),I!==null&&(r&&I.alternate!==null&&D.delete(I.key===null?C:I.key),y=i(I,y,C),j===null?N=I:j.sibling=I,j=I);return r&&D.forEach(function(B){return e(v,B)}),kn&&Fu(v,C),N}function g(v,y,b,E){var N=qd(b);if(typeof N!="function")throw Error(Ut(150));if(b=N.call(b),b==null)throw Error(Ut(151));for(var j=N=null,D=y,C=y=0,I=null,V=b.next();D!==null&&!V.done;C++,V=b.next()){D.index>C?(I=D,D=null):I=D.sibling;var B=h(v,D,V.value,E);if(B===null){D===null&&(D=I);break}r&&D&&B.alternate===null&&e(v,D),y=i(B,y,C),j===null?N=B:j.sibling=B,j=B,D=I}if(V.done)return t(v,D),kn&&Fu(v,C),N;if(D===null){for(;!V.done;C++,V=b.next())V=d(v,V.value,E),V!==null&&(y=i(V,y,C),j===null?N=V:j.sibling=V,j=V);return kn&&Fu(v,C),N}for(D=n(v,D);!V.done;C++,V=b.next())V=f(D,v,C,V.value,E),V!==null&&(r&&V.alternate!==null&&D.delete(V.key===null?C:V.key),y=i(V,y,C),j===null?N=V:j.sibling=V,j=V);return r&&D.forEach(function(P){return e(v,P)}),kn&&Fu(v,C),N}function p(v,y,b,E){if(typeof b=="object"&&b!==null&&b.type===ff&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Pm:e:{for(var N=b.key,j=y;j!==null;){if(j.key===N){if(N=b.type,N===ff){if(j.tag===7){t(v,j.sibling),y=s(j,b.props.children),y.return=v,v=y;break e}}else if(j.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===_c&&M3(N)===j.type){t(v,j.sibling),y=s(j,b.props),y.ref=Yd(v,j,b),y.return=v,v=y;break e}t(v,j);break}else e(v,j);j=j.sibling}b.type===ff?(y=Ju(b.props.children,v.mode,E,b.key),y.return=v,v=y):(E=Lg(b.type,b.key,b.props,null,v.mode,E),E.ref=Yd(v,y,b),E.return=v,v=E)}return a(v);case hf:e:{for(j=b.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){t(v,y.sibling),y=s(y,b.children||[]),y.return=v,v=y;break e}else{t(v,y);break}else e(v,y);y=y.sibling}y=yy(b,v.mode,E),y.return=v,v=y}return a(v);case _c:return j=b._init,p(v,y,j(b._payload),E)}if(a0(b))return m(v,y,b,E);if(qd(b))return g(v,y,b,E);zm(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(t(v,y.sibling),y=s(y,b),y.return=v,v=y):(t(v,y),y=vy(b,v.mode,E),y.return=v,v=y),a(v)):t(v,y)}return p}var Xf=UA(!0),$A=UA(!1),m1=gu(null),g1=null,wf=null,a5=null;function o5(){a5=wf=g1=null}function l5(r){var e=m1.current;_n(m1),r._currentValue=e}function Zb(r,e,t){for(;r!==null;){var n=r.alternate;if((r.childLanes&e)!==e?(r.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),r===t)break;r=r.return}}function Df(r,e){g1=r,a5=wf=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&e&&(Ui=!0),r.firstContext=null)}function Ra(r){var e=r._currentValue;if(a5!==r)if(r={context:r,memoizedValue:e,next:null},wf===null){if(g1===null)throw Error(Ut(308));wf=r,g1.dependencies={lanes:0,firstContext:r}}else wf=wf.next=r;return e}var Wu=null;function c5(r){Wu===null?Wu=[r]:Wu.push(r)}function VA(r,e,t,n){var s=e.interleaved;return s===null?(t.next=t,c5(e)):(t.next=s.next,s.next=t),e.interleaved=t,Nl(r,n)}function Nl(r,e){r.lanes|=e;var t=r.alternate;for(t!==null&&(t.lanes|=e),t=r,r=r.return;r!==null;)r.childLanes|=e,t=r.alternate,t!==null&&(t.childLanes|=e),t=r,r=r.return;return t.tag===3?t.stateNode:null}var Sc=!1;function u5(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function HA(r,e){r=r.updateQueue,e.updateQueue===r&&(e.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function _l(r,e){return{eventTime:r,lane:e,tag:0,payload:null,callback:null,next:null}}function qc(r,e,t){var n=r.updateQueue;if(n===null)return null;if(n=n.shared,Wr&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Nl(r,t)}return s=n.interleaved,s===null?(e.next=e,c5(n)):(e.next=s.next,s.next=e),n.interleaved=e,Nl(r,t)}function Rg(r,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var n=e.lanes;n&=r.pendingLanes,t|=n,e.lanes=t,Xx(r,t)}}function F3(r,e){var t=r.updateQueue,n=r.alternate;if(n!==null&&(n=n.updateQueue,t===n)){var s=null,i=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};i===null?s=i=a:i=i.next=a,t=t.next}while(t!==null);i===null?s=i=e:i=i.next=e}else s=i=e;t={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},r.updateQueue=t;return}r=t.lastBaseUpdate,r===null?t.firstBaseUpdate=e:r.next=e,t.lastBaseUpdate=e}function v1(r,e,t,n){var s=r.updateQueue;Sc=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?i=c:a.next=c,a=l;var u=r.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;a=0,u=c=l=null,o=i;do{var h=o.lane,f=o.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=r,g=o;switch(h=e,f=t,g.tag){case 1:if(m=g.payload,typeof m=="function"){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(f,d,h):m,h==null)break e;d=Dn({},d,h);break e;case 2:Sc=!0}}o.callback!==null&&o.lane!==0&&(r.flags|=64,h=s.effects,h===null?s.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,a|=h;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;h=o,o=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ah|=a,r.lanes=a,r.memoizedState=d}}function L3(r,e,t){if(r=e.effects,e.effects=null,r!==null)for(e=0;e<r.length;e++){var n=r[e],s=n.callback;if(s!==null){if(n.callback=null,n=t,typeof s!="function")throw Error(Ut(191,s));s.call(n)}}}var Up={},Bo=gu(Up),ap=gu(Up),op=gu(Up);function Gu(r){if(r===Up)throw Error(Ut(174));return r}function h5(r,e){switch(gn(op,e),gn(ap,r),gn(Bo,Up),r=e.nodeType,r){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Pb(null,"");break;default:r=r===8?e.parentNode:e,e=r.namespaceURI||null,r=r.tagName,e=Pb(e,r)}_n(Bo),gn(Bo,e)}function Yf(){_n(Bo),_n(ap),_n(op)}function zA(r){Gu(op.current);var e=Gu(Bo.current),t=Pb(e,r.type);e!==t&&(gn(ap,r),gn(Bo,t))}function f5(r){ap.current===r&&(_n(Bo),_n(ap))}var Cn=gu(0);function y1(r){for(var e=r;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hy=[];function d5(){for(var r=0;r<hy.length;r++)hy[r]._workInProgressVersionPrimary=null;hy.length=0}var Ig=Bl.ReactCurrentDispatcher,fy=Bl.ReactCurrentBatchConfig,ih=0,Nn=null,us=null,Ss=null,b1=!1,E0=!1,lp=0,jO=0;function qs(){throw Error(Ut(321))}function p5(r,e){if(e===null)return!1;for(var t=0;t<e.length&&t<r.length;t++)if(!po(r[t],e[t]))return!1;return!0}function m5(r,e,t,n,s,i){if(ih=i,Nn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ig.current=r===null||r.memoizedState===null?VO:HO,r=t(n,s),E0){i=0;do{if(E0=!1,lp=0,25<=i)throw Error(Ut(301));i+=1,Ss=us=null,e.updateQueue=null,Ig.current=zO,r=t(n,s)}while(E0)}if(Ig.current=w1,e=us!==null&&us.next!==null,ih=0,Ss=us=Nn=null,b1=!1,e)throw Error(Ut(300));return r}function g5(){var r=lp!==0;return lp=0,r}function Do(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ss===null?Nn.memoizedState=Ss=r:Ss=Ss.next=r,Ss}function Ia(){if(us===null){var r=Nn.alternate;r=r!==null?r.memoizedState:null}else r=us.next;var e=Ss===null?Nn.memoizedState:Ss.next;if(e!==null)Ss=e,us=r;else{if(r===null)throw Error(Ut(310));us=r,r={memoizedState:us.memoizedState,baseState:us.baseState,baseQueue:us.baseQueue,queue:us.queue,next:null},Ss===null?Nn.memoizedState=Ss=r:Ss=Ss.next=r}return Ss}function cp(r,e){return typeof e=="function"?e(r):e}function dy(r){var e=Ia(),t=e.queue;if(t===null)throw Error(Ut(311));t.lastRenderedReducer=r;var n=us,s=n.baseQueue,i=t.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,t.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,l=null,c=i;do{var u=c.lane;if((ih&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:r(n,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,a=n):l=l.next=d,Nn.lanes|=u,ah|=u}c=c.next}while(c!==null&&c!==i);l===null?a=n:l.next=o,po(n,e.memoizedState)||(Ui=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,t.lastRenderedState=n}if(r=t.interleaved,r!==null){s=r;do i=s.lane,Nn.lanes|=i,ah|=i,s=s.next;while(s!==r)}else s===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function py(r){var e=Ia(),t=e.queue;if(t===null)throw Error(Ut(311));t.lastRenderedReducer=r;var n=t.dispatch,s=t.pending,i=e.memoizedState;if(s!==null){t.pending=null;var a=s=s.next;do i=r(i,a.action),a=a.next;while(a!==s);po(i,e.memoizedState)||(Ui=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),t.lastRenderedState=i}return[i,n]}function qA(){}function WA(r,e){var t=Nn,n=Ia(),s=e(),i=!po(n.memoizedState,s);if(i&&(n.memoizedState=s,Ui=!0),n=n.queue,v5(XA.bind(null,t,n,r),[r]),n.getSnapshot!==e||i||Ss!==null&&Ss.memoizedState.tag&1){if(t.flags|=2048,up(9,KA.bind(null,t,n,s,e),void 0,null),ks===null)throw Error(Ut(349));ih&30||GA(t,e,s)}return s}function GA(r,e,t){r.flags|=16384,r={getSnapshot:e,value:t},e=Nn.updateQueue,e===null?(e={lastEffect:null,stores:null},Nn.updateQueue=e,e.stores=[r]):(t=e.stores,t===null?e.stores=[r]:t.push(r))}function KA(r,e,t,n){e.value=t,e.getSnapshot=n,YA(e)&&JA(r)}function XA(r,e,t){return t(function(){YA(e)&&JA(r)})}function YA(r){var e=r.getSnapshot;r=r.value;try{var t=e();return!po(r,t)}catch{return!0}}function JA(r){var e=Nl(r,1);e!==null&&uo(e,r,1,-1)}function j3(r){var e=Do();return typeof r=="function"&&(r=r()),e.memoizedState=e.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cp,lastRenderedState:r},e.queue=r,r=r.dispatch=$O.bind(null,Nn,r),[e.memoizedState,r]}function up(r,e,t,n){return r={tag:r,create:e,destroy:t,deps:n,next:null},e=Nn.updateQueue,e===null?(e={lastEffect:null,stores:null},Nn.updateQueue=e,e.lastEffect=r.next=r):(t=e.lastEffect,t===null?e.lastEffect=r.next=r:(n=t.next,t.next=r,r.next=n,e.lastEffect=r)),r}function QA(){return Ia().memoizedState}function Pg(r,e,t,n){var s=Do();Nn.flags|=r,s.memoizedState=up(1|e,t,void 0,n===void 0?null:n)}function k2(r,e,t,n){var s=Ia();n=n===void 0?null:n;var i=void 0;if(us!==null){var a=us.memoizedState;if(i=a.destroy,n!==null&&p5(n,a.deps)){s.memoizedState=up(e,t,i,n);return}}Nn.flags|=r,s.memoizedState=up(1|e,t,i,n)}function B3(r,e){return Pg(8390656,8,r,e)}function v5(r,e){return k2(2048,8,r,e)}function ZA(r,e){return k2(4,2,r,e)}function eT(r,e){return k2(4,4,r,e)}function tT(r,e){if(typeof e=="function")return r=r(),e(r),function(){e(null)};if(e!=null)return r=r(),e.current=r,function(){e.current=null}}function rT(r,e,t){return t=t!=null?t.concat([r]):null,k2(4,4,tT.bind(null,e,r),t)}function y5(){}function nT(r,e){var t=Ia();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&p5(e,n[1])?n[0]:(t.memoizedState=[r,e],r)}function sT(r,e){var t=Ia();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&p5(e,n[1])?n[0]:(r=r(),t.memoizedState=[r,e],r)}function iT(r,e,t){return ih&21?(po(t,e)||(t=uA(),Nn.lanes|=t,ah|=t,r.baseState=!0),e):(r.baseState&&(r.baseState=!1,Ui=!0),r.memoizedState=t)}function BO(r,e){var t=an;an=t!==0&&4>t?t:4,r(!0);var n=fy.transition;fy.transition={};try{r(!1),e()}finally{an=t,fy.transition=n}}function aT(){return Ia().memoizedState}function UO(r,e,t){var n=Gc(r);if(t={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null},oT(r))lT(e,t);else if(t=VA(r,e,t,n),t!==null){var s=Si();uo(t,r,n,s),cT(t,e,n)}}function $O(r,e,t){var n=Gc(r),s={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null};if(oT(r))lT(e,s);else{var i=r.alternate;if(r.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,t);if(s.hasEagerState=!0,s.eagerState=o,po(o,a)){var l=e.interleaved;l===null?(s.next=s,c5(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}t=VA(r,e,s,n),t!==null&&(s=Si(),uo(t,r,n,s),cT(t,e,n))}}function oT(r){var e=r.alternate;return r===Nn||e!==null&&e===Nn}function lT(r,e){E0=b1=!0;var t=r.pending;t===null?e.next=e:(e.next=t.next,t.next=e),r.pending=e}function cT(r,e,t){if(t&4194240){var n=e.lanes;n&=r.pendingLanes,t|=n,e.lanes=t,Xx(r,t)}}var w1={readContext:Ra,useCallback:qs,useContext:qs,useEffect:qs,useImperativeHandle:qs,useInsertionEffect:qs,useLayoutEffect:qs,useMemo:qs,useReducer:qs,useRef:qs,useState:qs,useDebugValue:qs,useDeferredValue:qs,useTransition:qs,useMutableSource:qs,useSyncExternalStore:qs,useId:qs,unstable_isNewReconciler:!1},VO={readContext:Ra,useCallback:function(r,e){return Do().memoizedState=[r,e===void 0?null:e],r},useContext:Ra,useEffect:B3,useImperativeHandle:function(r,e,t){return t=t!=null?t.concat([r]):null,Pg(4194308,4,tT.bind(null,e,r),t)},useLayoutEffect:function(r,e){return Pg(4194308,4,r,e)},useInsertionEffect:function(r,e){return Pg(4,2,r,e)},useMemo:function(r,e){var t=Do();return e=e===void 0?null:e,r=r(),t.memoizedState=[r,e],r},useReducer:function(r,e,t){var n=Do();return e=t!==void 0?t(e):e,n.memoizedState=n.baseState=e,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:e},n.queue=r,r=r.dispatch=UO.bind(null,Nn,r),[n.memoizedState,r]},useRef:function(r){var e=Do();return r={current:r},e.memoizedState=r},useState:j3,useDebugValue:y5,useDeferredValue:function(r){return Do().memoizedState=r},useTransition:function(){var r=j3(!1),e=r[0];return r=BO.bind(null,r[1]),Do().memoizedState=r,[e,r]},useMutableSource:function(){},useSyncExternalStore:function(r,e,t){var n=Nn,s=Do();if(kn){if(t===void 0)throw Error(Ut(407));t=t()}else{if(t=e(),ks===null)throw Error(Ut(349));ih&30||GA(n,e,t)}s.memoizedState=t;var i={value:t,getSnapshot:e};return s.queue=i,B3(XA.bind(null,n,i,r),[r]),n.flags|=2048,up(9,KA.bind(null,n,i,t,e),void 0,null),t},useId:function(){var r=Do(),e=ks.identifierPrefix;if(kn){var t=vl,n=gl;t=(n&~(1<<32-co(n)-1)).toString(32)+t,e=":"+e+"R"+t,t=lp++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=jO++,e=":"+e+"r"+t.toString(32)+":";return r.memoizedState=e},unstable_isNewReconciler:!1},HO={readContext:Ra,useCallback:nT,useContext:Ra,useEffect:v5,useImperativeHandle:rT,useInsertionEffect:ZA,useLayoutEffect:eT,useMemo:sT,useReducer:dy,useRef:QA,useState:function(){return dy(cp)},useDebugValue:y5,useDeferredValue:function(r){var e=Ia();return iT(e,us.memoizedState,r)},useTransition:function(){var r=dy(cp)[0],e=Ia().memoizedState;return[r,e]},useMutableSource:qA,useSyncExternalStore:WA,useId:aT,unstable_isNewReconciler:!1},zO={readContext:Ra,useCallback:nT,useContext:Ra,useEffect:v5,useImperativeHandle:rT,useInsertionEffect:ZA,useLayoutEffect:eT,useMemo:sT,useReducer:py,useRef:QA,useState:function(){return py(cp)},useDebugValue:y5,useDeferredValue:function(r){var e=Ia();return us===null?e.memoizedState=r:iT(e,us.memoizedState,r)},useTransition:function(){var r=py(cp)[0],e=Ia().memoizedState;return[r,e]},useMutableSource:qA,useSyncExternalStore:WA,useId:aT,unstable_isNewReconciler:!1};function Qa(r,e){if(r&&r.defaultProps){e=Dn({},e),r=r.defaultProps;for(var t in r)e[t]===void 0&&(e[t]=r[t]);return e}return e}function ew(r,e,t,n){e=r.memoizedState,t=t(n,e),t=t==null?e:Dn({},e,t),r.memoizedState=t,r.lanes===0&&(r.updateQueue.baseState=t)}var A2={isMounted:function(r){return(r=r._reactInternals)?vh(r)===r:!1},enqueueSetState:function(r,e,t){r=r._reactInternals;var n=Si(),s=Gc(r),i=_l(n,s);i.payload=e,t!=null&&(i.callback=t),e=qc(r,i,s),e!==null&&(uo(e,r,s,n),Rg(e,r,s))},enqueueReplaceState:function(r,e,t){r=r._reactInternals;var n=Si(),s=Gc(r),i=_l(n,s);i.tag=1,i.payload=e,t!=null&&(i.callback=t),e=qc(r,i,s),e!==null&&(uo(e,r,s,n),Rg(e,r,s))},enqueueForceUpdate:function(r,e){r=r._reactInternals;var t=Si(),n=Gc(r),s=_l(t,n);s.tag=2,e!=null&&(s.callback=e),e=qc(r,s,n),e!==null&&(uo(e,r,n,t),Rg(e,r,n))}};function U3(r,e,t,n,s,i,a){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(n,i,a):e.prototype&&e.prototype.isPureReactComponent?!rp(t,n)||!rp(s,i):!0}function uT(r,e,t){var n=!1,s=nu,i=e.contextType;return typeof i=="object"&&i!==null?i=Ra(i):(s=Vi(e)?nh:ci.current,n=e.contextTypes,i=(n=n!=null)?Gf(r,s):nu),e=new e(t,i),r.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=A2,r.stateNode=e,e._reactInternals=r,n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=i),e}function $3(r,e,t,n){r=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,n),e.state!==r&&A2.enqueueReplaceState(e,e.state,null)}function tw(r,e,t,n){var s=r.stateNode;s.props=t,s.state=r.memoizedState,s.refs={},u5(r);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ra(i):(i=Vi(e)?nh:ci.current,s.context=Gf(r,i)),s.state=r.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ew(r,e,i,t),s.state=r.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&A2.enqueueReplaceState(s,s.state,null),v1(r,t,s,n),s.state=r.memoizedState),typeof s.componentDidMount=="function"&&(r.flags|=4194308)}function Jf(r,e){try{var t="",n=e;do t+=yP(n),n=n.return;while(n);var s=t}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:r,source:e,stack:s,digest:null}}function my(r,e,t){return{value:r,source:null,stack:t??null,digest:e??null}}function rw(r,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var qO=typeof WeakMap=="function"?WeakMap:Map;function hT(r,e,t){t=_l(-1,t),t.tag=3,t.payload={element:null};var n=e.value;return t.callback=function(){_1||(_1=!0,fw=n),rw(r,e)},t}function fT(r,e,t){t=_l(-1,t),t.tag=3;var n=r.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;t.payload=function(){return n(s)},t.callback=function(){rw(r,e)}}var i=r.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){rw(r,e),typeof n!="function"&&(Wc===null?Wc=new Set([this]):Wc.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function V3(r,e,t){var n=r.pingCache;if(n===null){n=r.pingCache=new qO;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(t)||(s.add(t),r=iM.bind(null,r,e,t),e.then(r,r))}function H3(r){do{var e;if((e=r.tag===13)&&(e=r.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return r;r=r.return}while(r!==null);return null}function z3(r,e,t,n,s){return r.mode&1?(r.flags|=65536,r.lanes=s,r):(r===e?r.flags|=65536:(r.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=_l(-1,1),e.tag=2,qc(t,e,1))),t.lanes|=1),r)}var WO=Bl.ReactCurrentOwner,Ui=!1;function bi(r,e,t,n){e.child=r===null?$A(e,null,t,n):Xf(e,r.child,t,n)}function q3(r,e,t,n,s){t=t.render;var i=e.ref;return Df(e,s),n=m5(r,e,t,n,i,s),t=g5(),r!==null&&!Ui?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~s,Dl(r,e,s)):(kn&&t&&n5(e),e.flags|=1,bi(r,e,n,s),e.child)}function W3(r,e,t,n,s){if(r===null){var i=t.type;return typeof i=="function"&&!A5(i)&&i.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=i,dT(r,e,i,n,s)):(r=Lg(t.type,null,n,e,e.mode,s),r.ref=e.ref,r.return=e,e.child=r)}if(i=r.child,!(r.lanes&s)){var a=i.memoizedProps;if(t=t.compare,t=t!==null?t:rp,t(a,n)&&r.ref===e.ref)return Dl(r,e,s)}return e.flags|=1,r=Kc(i,n),r.ref=e.ref,r.return=e,e.child=r}function dT(r,e,t,n,s){if(r!==null){var i=r.memoizedProps;if(rp(i,n)&&r.ref===e.ref)if(Ui=!1,e.pendingProps=n=i,(r.lanes&s)!==0)r.flags&131072&&(Ui=!0);else return e.lanes=r.lanes,Dl(r,e,s)}return nw(r,e,t,n,s)}function pT(r,e,t){var n=e.pendingProps,s=n.children,i=r!==null?r.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},gn(_f,ea),ea|=t;else{if(!(t&1073741824))return r=i!==null?i.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:r,cachePool:null,transitions:null},e.updateQueue=null,gn(_f,ea),ea|=r,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:t,gn(_f,ea),ea|=n}else i!==null?(n=i.baseLanes|t,e.memoizedState=null):n=t,gn(_f,ea),ea|=n;return bi(r,e,s,t),e.child}function mT(r,e){var t=e.ref;(r===null&&t!==null||r!==null&&r.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function nw(r,e,t,n,s){var i=Vi(t)?nh:ci.current;return i=Gf(e,i),Df(e,s),t=m5(r,e,t,n,i,s),n=g5(),r!==null&&!Ui?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~s,Dl(r,e,s)):(kn&&n&&n5(e),e.flags|=1,bi(r,e,t,s),e.child)}function G3(r,e,t,n,s){if(Vi(t)){var i=!0;f1(e)}else i=!1;if(Df(e,s),e.stateNode===null)Og(r,e),uT(e,t,n),tw(e,t,n,s),n=!0;else if(r===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=t.contextType;typeof c=="object"&&c!==null?c=Ra(c):(c=Vi(t)?nh:ci.current,c=Gf(e,c));var u=t.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==c)&&$3(e,a,n,c),Sc=!1;var h=e.memoizedState;a.state=h,v1(e,n,a,s),l=e.memoizedState,o!==n||h!==l||$i.current||Sc?(typeof u=="function"&&(ew(e,t,u,n),l=e.memoizedState),(o=Sc||U3(e,t,o,n,h,l,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,HA(r,e),o=e.memoizedProps,c=e.type===e.elementType?o:Qa(e.type,o),a.props=c,d=e.pendingProps,h=a.context,l=t.contextType,typeof l=="object"&&l!==null?l=Ra(l):(l=Vi(t)?nh:ci.current,l=Gf(e,l));var f=t.getDerivedStateFromProps;(u=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||h!==l)&&$3(e,a,n,l),Sc=!1,h=e.memoizedState,a.state=h,v1(e,n,a,s);var m=e.memoizedState;o!==d||h!==m||$i.current||Sc?(typeof f=="function"&&(ew(e,t,f,n),m=e.memoizedState),(c=Sc||U3(e,t,c,n,h,m,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===r.memoizedProps&&h===r.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===r.memoizedProps&&h===r.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),a.props=n,a.state=m,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||o===r.memoizedProps&&h===r.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===r.memoizedProps&&h===r.memoizedState||(e.flags|=1024),n=!1)}return sw(r,e,t,n,i,s)}function sw(r,e,t,n,s,i){mT(r,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&I3(e,t,!1),Dl(r,e,i);n=e.stateNode,WO.current=e;var o=a&&typeof t.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,r!==null&&a?(e.child=Xf(e,r.child,null,i),e.child=Xf(e,null,o,i)):bi(r,e,o,i),e.memoizedState=n.state,s&&I3(e,t,!0),e.child}function gT(r){var e=r.stateNode;e.pendingContext?R3(r,e.pendingContext,e.pendingContext!==e.context):e.context&&R3(r,e.context,!1),h5(r,e.containerInfo)}function K3(r,e,t,n,s){return Kf(),i5(s),e.flags|=256,bi(r,e,t,n),e.child}var iw={dehydrated:null,treeContext:null,retryLane:0};function aw(r){return{baseLanes:r,cachePool:null,transitions:null}}function vT(r,e,t){var n=e.pendingProps,s=Cn.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=r!==null&&r.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(r===null||r.memoizedState!==null)&&(s|=1),gn(Cn,s&1),r===null)return Qb(e),r=e.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(e.mode&1?r.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,r=n.fallback,i?(n=e.mode,i=e.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=N2(a,n,0,null),r=Ju(r,n,t,null),i.return=e,r.return=e,i.sibling=r,e.child=i,e.child.memoizedState=aw(t),e.memoizedState=iw,r):b5(e,a));if(s=r.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return GO(r,e,a,n,o,s,t);if(i){i=n.fallback,a=e.mode,s=r.child,o=s.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Kc(s,l),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Kc(o,i):(i=Ju(i,a,t,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,a=r.child.memoizedState,a=a===null?aw(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=r.childLanes&~t,e.memoizedState=iw,n}return i=r.child,r=i.sibling,n=Kc(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=t),n.return=e,n.sibling=null,r!==null&&(t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)),e.child=n,e.memoizedState=null,n}function b5(r,e){return e=N2({mode:"visible",children:e},r.mode,0,null),e.return=r,r.child=e}function qm(r,e,t,n){return n!==null&&i5(n),Xf(e,r.child,null,t),r=b5(e,e.pendingProps.children),r.flags|=2,e.memoizedState=null,r}function GO(r,e,t,n,s,i,a){if(t)return e.flags&256?(e.flags&=-257,n=my(Error(Ut(422))),qm(r,e,a,n)):e.memoizedState!==null?(e.child=r.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=N2({mode:"visible",children:n.children},s,0,null),i=Ju(i,s,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Xf(e,r.child,null,a),e.child.memoizedState=aw(a),e.memoizedState=iw,i);if(!(e.mode&1))return qm(r,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(Ut(419)),n=my(i,n,void 0),qm(r,e,a,n)}if(o=(a&r.childLanes)!==0,Ui||o){if(n=ks,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Nl(r,s),uo(n,r,s,-1))}return k5(),n=my(Error(Ut(421))),qm(r,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=r.child,e=aM.bind(null,r),s._reactRetry=e,null):(r=i.treeContext,na=zc(s.nextSibling),ia=e,kn=!0,ro=null,r!==null&&(ka[Aa++]=gl,ka[Aa++]=vl,ka[Aa++]=sh,gl=r.id,vl=r.overflow,sh=e),e=b5(e,n.children),e.flags|=4096,e)}function X3(r,e,t){r.lanes|=e;var n=r.alternate;n!==null&&(n.lanes|=e),Zb(r.return,e,t)}function gy(r,e,t,n,s){var i=r.memoizedState;i===null?r.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:t,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=t,i.tailMode=s)}function yT(r,e,t){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(bi(r,e,n.children,t),n=Cn.current,n&2)n=n&1|2,e.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=e.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&X3(r,t,e);else if(r.tag===19)X3(r,t,e);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}n&=1}if(gn(Cn,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(t=e.child,s=null;t!==null;)r=t.alternate,r!==null&&y1(r)===null&&(s=t),t=t.sibling;t=s,t===null?(s=e.child,e.child=null):(s=t.sibling,t.sibling=null),gy(e,!1,s,t,i);break;case"backwards":for(t=null,s=e.child,e.child=null;s!==null;){if(r=s.alternate,r!==null&&y1(r)===null){e.child=s;break}r=s.sibling,s.sibling=t,t=s,s=r}gy(e,!0,t,null,i);break;case"together":gy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Og(r,e){!(e.mode&1)&&r!==null&&(r.alternate=null,e.alternate=null,e.flags|=2)}function Dl(r,e,t){if(r!==null&&(e.dependencies=r.dependencies),ah|=e.lanes,!(t&e.childLanes))return null;if(r!==null&&e.child!==r.child)throw Error(Ut(153));if(e.child!==null){for(r=e.child,t=Kc(r,r.pendingProps),e.child=t,t.return=e;r.sibling!==null;)r=r.sibling,t=t.sibling=Kc(r,r.pendingProps),t.return=e;t.sibling=null}return e.child}function KO(r,e,t){switch(e.tag){case 3:gT(e),Kf();break;case 5:zA(e);break;case 1:Vi(e.type)&&f1(e);break;case 4:h5(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;gn(m1,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(gn(Cn,Cn.current&1),e.flags|=128,null):t&e.child.childLanes?vT(r,e,t):(gn(Cn,Cn.current&1),r=Dl(r,e,t),r!==null?r.sibling:null);gn(Cn,Cn.current&1);break;case 19:if(n=(t&e.childLanes)!==0,r.flags&128){if(n)return yT(r,e,t);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),gn(Cn,Cn.current),n)break;return null;case 22:case 23:return e.lanes=0,pT(r,e,t)}return Dl(r,e,t)}var bT,ow,wT,xT;bT=function(r,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)r.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};ow=function(){};wT=function(r,e,t,n){var s=r.memoizedProps;if(s!==n){r=e.stateNode,Gu(Bo.current);var i=null;switch(t){case"input":s=Nb(r,s),n=Nb(r,n),i=[];break;case"select":s=Dn({},s,{value:void 0}),n=Dn({},n,{value:void 0}),i=[];break;case"textarea":s=Ib(r,s),n=Ib(r,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(r.onclick=u1)}Ob(t,n);var a;t=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(a in o)o.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(X0.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(o=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(t||(t={}),t[a]=l[a])}else t||(i||(i=[]),i.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(X0.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&bn("scroll",r),i||o===l||(i=[])):(i=i||[]).push(c,l))}t&&(i=i||[]).push("style",t);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};xT=function(r,e,t,n){t!==n&&(e.flags|=4)};function Jd(r,e){if(!kn)switch(r.tailMode){case"hidden":e=r.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?r.tail=null:t.sibling=null;break;case"collapsed":t=r.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e||r.tail===null?r.tail=null:r.tail.sibling=null:n.sibling=null}}function Ws(r){var e=r.alternate!==null&&r.alternate.child===r.child,t=0,n=0;if(e)for(var s=r.child;s!==null;)t|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=r,s=s.sibling;else for(s=r.child;s!==null;)t|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=r,s=s.sibling;return r.subtreeFlags|=n,r.childLanes=t,e}function XO(r,e,t){var n=e.pendingProps;switch(s5(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(e),null;case 1:return Vi(e.type)&&h1(),Ws(e),null;case 3:return n=e.stateNode,Yf(),_n($i),_n(ci),d5(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(r===null||r.child===null)&&(Hm(e)?e.flags|=4:r===null||r.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ro!==null&&(mw(ro),ro=null))),ow(r,e),Ws(e),null;case 5:f5(e);var s=Gu(op.current);if(t=e.type,r!==null&&e.stateNode!=null)wT(r,e,t,n,s),r.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Ut(166));return Ws(e),null}if(r=Gu(Bo.current),Hm(e)){n=e.stateNode,t=e.type;var i=e.memoizedProps;switch(n[Mo]=e,n[ip]=i,r=(e.mode&1)!==0,t){case"dialog":bn("cancel",n),bn("close",n);break;case"iframe":case"object":case"embed":bn("load",n);break;case"video":case"audio":for(s=0;s<l0.length;s++)bn(l0[s],n);break;case"source":bn("error",n);break;case"img":case"image":case"link":bn("error",n),bn("load",n);break;case"details":bn("toggle",n);break;case"input":s3(n,i),bn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},bn("invalid",n);break;case"textarea":a3(n,i),bn("invalid",n)}Ob(t,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Vm(n.textContent,o,r),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Vm(n.textContent,o,r),s=["children",""+o]):X0.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&bn("scroll",n)}switch(t){case"input":Om(n),i3(n,i,!0);break;case"textarea":Om(n),o3(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=u1)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Xk(t)),r==="http://www.w3.org/1999/xhtml"?t==="script"?(r=a.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof n.is=="string"?r=a.createElement(t,{is:n.is}):(r=a.createElement(t),t==="select"&&(a=r,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):r=a.createElementNS(r,t),r[Mo]=e,r[ip]=n,bT(r,e,!1,!1),e.stateNode=r;e:{switch(a=Mb(t,n),t){case"dialog":bn("cancel",r),bn("close",r),s=n;break;case"iframe":case"object":case"embed":bn("load",r),s=n;break;case"video":case"audio":for(s=0;s<l0.length;s++)bn(l0[s],r);s=n;break;case"source":bn("error",r),s=n;break;case"img":case"image":case"link":bn("error",r),bn("load",r),s=n;break;case"details":bn("toggle",r),s=n;break;case"input":s3(r,n),s=Nb(r,n),bn("invalid",r);break;case"option":s=n;break;case"select":r._wrapperState={wasMultiple:!!n.multiple},s=Dn({},n,{value:void 0}),bn("invalid",r);break;case"textarea":a3(r,n),s=Ib(r,n),bn("invalid",r);break;default:s=n}Ob(t,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?Qk(r,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Yk(r,l)):i==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Y0(r,l):typeof l=="number"&&Y0(r,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(X0.hasOwnProperty(i)?l!=null&&i==="onScroll"&&bn("scroll",r):l!=null&&Hx(r,i,l,a))}switch(t){case"input":Om(r),i3(r,n,!1);break;case"textarea":Om(r),o3(r);break;case"option":n.value!=null&&r.setAttribute("value",""+ru(n.value));break;case"select":r.multiple=!!n.multiple,i=n.value,i!=null?Af(r,!!n.multiple,i,!1):n.defaultValue!=null&&Af(r,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(r.onclick=u1)}switch(t){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ws(e),null;case 6:if(r&&e.stateNode!=null)xT(r,e,r.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Ut(166));if(t=Gu(op.current),Gu(Bo.current),Hm(e)){if(n=e.stateNode,t=e.memoizedProps,n[Mo]=e,(i=n.nodeValue!==t)&&(r=ia,r!==null))switch(r.tag){case 3:Vm(n.nodeValue,t,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Vm(n.nodeValue,t,(r.mode&1)!==0)}i&&(e.flags|=4)}else n=(t.nodeType===9?t:t.ownerDocument).createTextNode(n),n[Mo]=e,e.stateNode=n}return Ws(e),null;case 13:if(_n(Cn),n=e.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(kn&&na!==null&&e.mode&1&&!(e.flags&128))BA(),Kf(),e.flags|=98560,i=!1;else if(i=Hm(e),n!==null&&n.dehydrated!==null){if(r===null){if(!i)throw Error(Ut(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ut(317));i[Mo]=e}else Kf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ws(e),i=!1}else ro!==null&&(mw(ro),ro=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(n=n!==null,n!==(r!==null&&r.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(r===null||Cn.current&1?fs===0&&(fs=3):k5())),e.updateQueue!==null&&(e.flags|=4),Ws(e),null);case 4:return Yf(),ow(r,e),r===null&&np(e.stateNode.containerInfo),Ws(e),null;case 10:return l5(e.type._context),Ws(e),null;case 17:return Vi(e.type)&&h1(),Ws(e),null;case 19:if(_n(Cn),i=e.memoizedState,i===null)return Ws(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)Jd(i,!1);else{if(fs!==0||r!==null&&r.flags&128)for(r=e.child;r!==null;){if(a=y1(r),a!==null){for(e.flags|=128,Jd(i,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=t,t=e.child;t!==null;)i=t,r=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t=t.sibling;return gn(Cn,Cn.current&1|2),e.child}r=r.sibling}i.tail!==null&&qn()>Qf&&(e.flags|=128,n=!0,Jd(i,!1),e.lanes=4194304)}else{if(!n)if(r=y1(a),r!==null){if(e.flags|=128,n=!0,t=r.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Jd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!kn)return Ws(e),null}else 2*qn()-i.renderingStartTime>Qf&&t!==1073741824&&(e.flags|=128,n=!0,Jd(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=qn(),e.sibling=null,t=Cn.current,gn(Cn,n?t&1|2:t&1),e):(Ws(e),null);case 22:case 23:return E5(),n=e.memoizedState!==null,r!==null&&r.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ea&1073741824&&(Ws(e),e.subtreeFlags&6&&(e.flags|=8192)):Ws(e),null;case 24:return null;case 25:return null}throw Error(Ut(156,e.tag))}function YO(r,e){switch(s5(e),e.tag){case 1:return Vi(e.type)&&h1(),r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 3:return Yf(),_n($i),_n(ci),d5(),r=e.flags,r&65536&&!(r&128)?(e.flags=r&-65537|128,e):null;case 5:return f5(e),null;case 13:if(_n(Cn),r=e.memoizedState,r!==null&&r.dehydrated!==null){if(e.alternate===null)throw Error(Ut(340));Kf()}return r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 19:return _n(Cn),null;case 4:return Yf(),null;case 10:return l5(e.type._context),null;case 22:case 23:return E5(),null;case 24:return null;default:return null}}var Wm=!1,ni=!1,JO=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function xf(r,e){var t=r.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){Fn(r,e,n)}else t.current=null}function lw(r,e,t){try{t()}catch(n){Fn(r,e,n)}}var Y3=!1;function QO(r,e){if(qb=o1,r=AA(),r5(r)){if("selectionStart"in r)var t={start:r.selectionStart,end:r.selectionEnd};else e:{t=(t=r.ownerDocument)&&t.defaultView||window;var n=t.getSelection&&t.getSelection();if(n&&n.rangeCount!==0){t=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{t.nodeType,i.nodeType}catch{t=null;break e}var a=0,o=-1,l=-1,c=0,u=0,d=r,h=null;t:for(;;){for(var f;d!==t||s!==0&&d.nodeType!==3||(o=a+s),d!==i||n!==0&&d.nodeType!==3||(l=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===r)break t;if(h===t&&++c===s&&(o=a),h===i&&++u===n&&(l=a),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}t=o===-1||l===-1?null:{start:o,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(Wb={focusedElem:r,selectionRange:t},o1=!1,Zt=e;Zt!==null;)if(e=Zt,r=e.child,(e.subtreeFlags&1028)!==0&&r!==null)r.return=e,Zt=r;else for(;Zt!==null;){e=Zt;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,p=m.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:Qa(e.type,g),p);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ut(163))}}catch(E){Fn(e,e.return,E)}if(r=e.sibling,r!==null){r.return=e.return,Zt=r;break}Zt=e.return}return m=Y3,Y3=!1,m}function k0(r,e,t){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&r)===r){var i=s.destroy;s.destroy=void 0,i!==void 0&&lw(e,t,i)}s=s.next}while(s!==n)}}function T2(r,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&r)===r){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}}function cw(r){var e=r.ref;if(e!==null){var t=r.stateNode;switch(r.tag){case 5:r=t;break;default:r=t}typeof e=="function"?e(r):e.current=r}}function _T(r){var e=r.alternate;e!==null&&(r.alternate=null,_T(e)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(e=r.stateNode,e!==null&&(delete e[Mo],delete e[ip],delete e[Xb],delete e[OO],delete e[MO])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function ST(r){return r.tag===5||r.tag===3||r.tag===4}function J3(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ST(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function uw(r,e,t){var n=r.tag;if(n===5||n===6)r=r.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(r,e):t.insertBefore(r,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(r,t)):(e=t,e.appendChild(r)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=u1));else if(n!==4&&(r=r.child,r!==null))for(uw(r,e,t),r=r.sibling;r!==null;)uw(r,e,t),r=r.sibling}function hw(r,e,t){var n=r.tag;if(n===5||n===6)r=r.stateNode,e?t.insertBefore(r,e):t.appendChild(r);else if(n!==4&&(r=r.child,r!==null))for(hw(r,e,t),r=r.sibling;r!==null;)hw(r,e,t),r=r.sibling}var Ps=null,eo=!1;function pc(r,e,t){for(t=t.child;t!==null;)ET(r,e,t),t=t.sibling}function ET(r,e,t){if(jo&&typeof jo.onCommitFiberUnmount=="function")try{jo.onCommitFiberUnmount(b2,t)}catch{}switch(t.tag){case 5:ni||xf(t,e);case 6:var n=Ps,s=eo;Ps=null,pc(r,e,t),Ps=n,eo=s,Ps!==null&&(eo?(r=Ps,t=t.stateNode,r.nodeType===8?r.parentNode.removeChild(t):r.removeChild(t)):Ps.removeChild(t.stateNode));break;case 18:Ps!==null&&(eo?(r=Ps,t=t.stateNode,r.nodeType===8?cy(r.parentNode,t):r.nodeType===1&&cy(r,t),ep(r)):cy(Ps,t.stateNode));break;case 4:n=Ps,s=eo,Ps=t.stateNode.containerInfo,eo=!0,pc(r,e,t),Ps=n,eo=s;break;case 0:case 11:case 14:case 15:if(!ni&&(n=t.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&lw(t,e,a),s=s.next}while(s!==n)}pc(r,e,t);break;case 1:if(!ni&&(xf(t,e),n=t.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=t.memoizedProps,n.state=t.memoizedState,n.componentWillUnmount()}catch(o){Fn(t,e,o)}pc(r,e,t);break;case 21:pc(r,e,t);break;case 22:t.mode&1?(ni=(n=ni)||t.memoizedState!==null,pc(r,e,t),ni=n):pc(r,e,t);break;default:pc(r,e,t)}}function Q3(r){var e=r.updateQueue;if(e!==null){r.updateQueue=null;var t=r.stateNode;t===null&&(t=r.stateNode=new JO),e.forEach(function(n){var s=oM.bind(null,r,n);t.has(n)||(t.add(n),n.then(s,s))})}}function qa(r,e){var t=e.deletions;if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];try{var i=r,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Ps=o.stateNode,eo=!1;break e;case 3:Ps=o.stateNode.containerInfo,eo=!0;break e;case 4:Ps=o.stateNode.containerInfo,eo=!0;break e}o=o.return}if(Ps===null)throw Error(Ut(160));ET(i,a,s),Ps=null,eo=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Fn(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)kT(e,r),e=e.sibling}function kT(r,e){var t=r.alternate,n=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(qa(e,r),Ao(r),n&4){try{k0(3,r,r.return),T2(3,r)}catch(g){Fn(r,r.return,g)}try{k0(5,r,r.return)}catch(g){Fn(r,r.return,g)}}break;case 1:qa(e,r),Ao(r),n&512&&t!==null&&xf(t,t.return);break;case 5:if(qa(e,r),Ao(r),n&512&&t!==null&&xf(t,t.return),r.flags&32){var s=r.stateNode;try{Y0(s,"")}catch(g){Fn(r,r.return,g)}}if(n&4&&(s=r.stateNode,s!=null)){var i=r.memoizedProps,a=t!==null?t.memoizedProps:i,o=r.type,l=r.updateQueue;if(r.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Gk(s,i),Mb(o,a);var c=Mb(o,i);for(a=0;a<l.length;a+=2){var u=l[a],d=l[a+1];u==="style"?Qk(s,d):u==="dangerouslySetInnerHTML"?Yk(s,d):u==="children"?Y0(s,d):Hx(s,u,d,c)}switch(o){case"input":Db(s,i);break;case"textarea":Kk(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?Af(s,!!i.multiple,f,!1):h!==!!i.multiple&&(i.defaultValue!=null?Af(s,!!i.multiple,i.defaultValue,!0):Af(s,!!i.multiple,i.multiple?[]:"",!1))}s[ip]=i}catch(g){Fn(r,r.return,g)}}break;case 6:if(qa(e,r),Ao(r),n&4){if(r.stateNode===null)throw Error(Ut(162));s=r.stateNode,i=r.memoizedProps;try{s.nodeValue=i}catch(g){Fn(r,r.return,g)}}break;case 3:if(qa(e,r),Ao(r),n&4&&t!==null&&t.memoizedState.isDehydrated)try{ep(e.containerInfo)}catch(g){Fn(r,r.return,g)}break;case 4:qa(e,r),Ao(r);break;case 13:qa(e,r),Ao(r),s=r.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(_5=qn())),n&4&&Q3(r);break;case 22:if(u=t!==null&&t.memoizedState!==null,r.mode&1?(ni=(c=ni)||u,qa(e,r),ni=c):qa(e,r),Ao(r),n&8192){if(c=r.memoizedState!==null,(r.stateNode.isHidden=c)&&!u&&r.mode&1)for(Zt=r,u=r.child;u!==null;){for(d=Zt=u;Zt!==null;){switch(h=Zt,f=h.child,h.tag){case 0:case 11:case 14:case 15:k0(4,h,h.return);break;case 1:xf(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,t=h.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){Fn(n,t,g)}}break;case 5:xf(h,h.return);break;case 22:if(h.memoizedState!==null){e6(d);continue}}f!==null?(f.return=h,Zt=f):e6(d)}u=u.sibling}e:for(u=null,d=r;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Jk("display",a))}catch(g){Fn(r,r.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){Fn(r,r.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===r)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===r)break e;for(;d.sibling===null;){if(d.return===null||d.return===r)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:qa(e,r),Ao(r),n&4&&Q3(r);break;case 21:break;default:qa(e,r),Ao(r)}}function Ao(r){var e=r.flags;if(e&2){try{e:{for(var t=r.return;t!==null;){if(ST(t)){var n=t;break e}t=t.return}throw Error(Ut(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Y0(s,""),n.flags&=-33);var i=J3(r);hw(r,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=J3(r);uw(r,o,a);break;default:throw Error(Ut(161))}}catch(l){Fn(r,r.return,l)}r.flags&=-3}e&4096&&(r.flags&=-4097)}function ZO(r,e,t){Zt=r,AT(r)}function AT(r,e,t){for(var n=(r.mode&1)!==0;Zt!==null;){var s=Zt,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Wm;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||ni;o=Wm;var c=ni;if(Wm=a,(ni=l)&&!c)for(Zt=s;Zt!==null;)a=Zt,l=a.child,a.tag===22&&a.memoizedState!==null?t6(s):l!==null?(l.return=a,Zt=l):t6(s);for(;i!==null;)Zt=i,AT(i),i=i.sibling;Zt=s,Wm=o,ni=c}Z3(r)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Zt=i):Z3(r)}}function Z3(r){for(;Zt!==null;){var e=Zt;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ni||T2(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ni)if(t===null)n.componentDidMount();else{var s=e.elementType===e.type?t.memoizedProps:Qa(e.type,t.memoizedProps);n.componentDidUpdate(s,t.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&L3(e,i,n);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}L3(e,a,t)}break;case 5:var o=e.stateNode;if(t===null&&e.flags&4){t=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&ep(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ut(163))}ni||e.flags&512&&cw(e)}catch(h){Fn(e,e.return,h)}}if(e===r){Zt=null;break}if(t=e.sibling,t!==null){t.return=e.return,Zt=t;break}Zt=e.return}}function e6(r){for(;Zt!==null;){var e=Zt;if(e===r){Zt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Zt=t;break}Zt=e.return}}function t6(r){for(;Zt!==null;){var e=Zt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{T2(4,e)}catch(l){Fn(e,t,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){Fn(e,s,l)}}var i=e.return;try{cw(e)}catch(l){Fn(e,i,l)}break;case 5:var a=e.return;try{cw(e)}catch(l){Fn(e,a,l)}}}catch(l){Fn(e,e.return,l)}if(e===r){Zt=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Zt=o;break}Zt=e.return}}var eM=Math.ceil,x1=Bl.ReactCurrentDispatcher,w5=Bl.ReactCurrentOwner,Da=Bl.ReactCurrentBatchConfig,Wr=0,ks=null,ns=null,js=0,ea=0,_f=gu(0),fs=0,hp=null,ah=0,C2=0,x5=0,A0=null,ji=null,_5=0,Qf=1/0,dl=null,_1=!1,fw=null,Wc=null,Gm=!1,Mc=null,S1=0,T0=0,dw=null,Mg=-1,Fg=0;function Si(){return Wr&6?qn():Mg!==-1?Mg:Mg=qn()}function Gc(r){return r.mode&1?Wr&2&&js!==0?js&-js:LO.transition!==null?(Fg===0&&(Fg=uA()),Fg):(r=an,r!==0||(r=window.event,r=r===void 0?16:vA(r.type)),r):1}function uo(r,e,t,n){if(50<T0)throw T0=0,dw=null,Error(Ut(185));Lp(r,t,n),(!(Wr&2)||r!==ks)&&(r===ks&&(!(Wr&2)&&(C2|=t),fs===4&&Tc(r,js)),Hi(r,n),t===1&&Wr===0&&!(e.mode&1)&&(Qf=qn()+500,E2&&vu()))}function Hi(r,e){var t=r.callbackNode;LP(r,e);var n=a1(r,r===ks?js:0);if(n===0)t!==null&&u3(t),r.callbackNode=null,r.callbackPriority=0;else if(e=n&-n,r.callbackPriority!==e){if(t!=null&&u3(t),e===1)r.tag===0?FO(r6.bind(null,r)):FA(r6.bind(null,r)),IO(function(){!(Wr&6)&&vu()}),t=null;else{switch(hA(n)){case 1:t=Kx;break;case 4:t=lA;break;case 16:t=i1;break;case 536870912:t=cA;break;default:t=i1}t=OT(t,TT.bind(null,r))}r.callbackPriority=e,r.callbackNode=t}}function TT(r,e){if(Mg=-1,Fg=0,Wr&6)throw Error(Ut(327));var t=r.callbackNode;if(Rf()&&r.callbackNode!==t)return null;var n=a1(r,r===ks?js:0);if(n===0)return null;if(n&30||n&r.expiredLanes||e)e=E1(r,n);else{e=n;var s=Wr;Wr|=2;var i=NT();(ks!==r||js!==e)&&(dl=null,Qf=qn()+500,Yu(r,e));do try{nM();break}catch(o){CT(r,o)}while(!0);o5(),x1.current=i,Wr=s,ns!==null?e=0:(ks=null,js=0,e=fs)}if(e!==0){if(e===2&&(s=Ub(r),s!==0&&(n=s,e=pw(r,s))),e===1)throw t=hp,Yu(r,0),Tc(r,n),Hi(r,qn()),t;if(e===6)Tc(r,n);else{if(s=r.current.alternate,!(n&30)&&!tM(s)&&(e=E1(r,n),e===2&&(i=Ub(r),i!==0&&(n=i,e=pw(r,i))),e===1))throw t=hp,Yu(r,0),Tc(r,n),Hi(r,qn()),t;switch(r.finishedWork=s,r.finishedLanes=n,e){case 0:case 1:throw Error(Ut(345));case 2:Lu(r,ji,dl);break;case 3:if(Tc(r,n),(n&130023424)===n&&(e=_5+500-qn(),10<e)){if(a1(r,0)!==0)break;if(s=r.suspendedLanes,(s&n)!==n){Si(),r.pingedLanes|=r.suspendedLanes&s;break}r.timeoutHandle=Kb(Lu.bind(null,r,ji,dl),e);break}Lu(r,ji,dl);break;case 4:if(Tc(r,n),(n&4194240)===n)break;for(e=r.eventTimes,s=-1;0<n;){var a=31-co(n);i=1<<a,a=e[a],a>s&&(s=a),n&=~i}if(n=s,n=qn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*eM(n/1960))-n,10<n){r.timeoutHandle=Kb(Lu.bind(null,r,ji,dl),n);break}Lu(r,ji,dl);break;case 5:Lu(r,ji,dl);break;default:throw Error(Ut(329))}}}return Hi(r,qn()),r.callbackNode===t?TT.bind(null,r):null}function pw(r,e){var t=A0;return r.current.memoizedState.isDehydrated&&(Yu(r,e).flags|=256),r=E1(r,e),r!==2&&(e=ji,ji=t,e!==null&&mw(e)),r}function mw(r){ji===null?ji=r:ji.push.apply(ji,r)}function tM(r){for(var e=r;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var n=0;n<t.length;n++){var s=t[n],i=s.getSnapshot;s=s.value;try{if(!po(i(),s))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Tc(r,e){for(e&=~x5,e&=~C2,r.suspendedLanes|=e,r.pingedLanes&=~e,r=r.expirationTimes;0<e;){var t=31-co(e),n=1<<t;r[t]=-1,e&=~n}}function r6(r){if(Wr&6)throw Error(Ut(327));Rf();var e=a1(r,0);if(!(e&1))return Hi(r,qn()),null;var t=E1(r,e);if(r.tag!==0&&t===2){var n=Ub(r);n!==0&&(e=n,t=pw(r,n))}if(t===1)throw t=hp,Yu(r,0),Tc(r,e),Hi(r,qn()),t;if(t===6)throw Error(Ut(345));return r.finishedWork=r.current.alternate,r.finishedLanes=e,Lu(r,ji,dl),Hi(r,qn()),null}function S5(r,e){var t=Wr;Wr|=1;try{return r(e)}finally{Wr=t,Wr===0&&(Qf=qn()+500,E2&&vu())}}function oh(r){Mc!==null&&Mc.tag===0&&!(Wr&6)&&Rf();var e=Wr;Wr|=1;var t=Da.transition,n=an;try{if(Da.transition=null,an=1,r)return r()}finally{an=n,Da.transition=t,Wr=e,!(Wr&6)&&vu()}}function E5(){ea=_f.current,_n(_f)}function Yu(r,e){r.finishedWork=null,r.finishedLanes=0;var t=r.timeoutHandle;if(t!==-1&&(r.timeoutHandle=-1,RO(t)),ns!==null)for(t=ns.return;t!==null;){var n=t;switch(s5(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&h1();break;case 3:Yf(),_n($i),_n(ci),d5();break;case 5:f5(n);break;case 4:Yf();break;case 13:_n(Cn);break;case 19:_n(Cn);break;case 10:l5(n.type._context);break;case 22:case 23:E5()}t=t.return}if(ks=r,ns=r=Kc(r.current,null),js=ea=e,fs=0,hp=null,x5=C2=ah=0,ji=A0=null,Wu!==null){for(e=0;e<Wu.length;e++)if(t=Wu[e],n=t.interleaved,n!==null){t.interleaved=null;var s=n.next,i=t.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}t.pending=n}Wu=null}return r}function CT(r,e){do{var t=ns;try{if(o5(),Ig.current=w1,b1){for(var n=Nn.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}b1=!1}if(ih=0,Ss=us=Nn=null,E0=!1,lp=0,w5.current=null,t===null||t.return===null){fs=1,hp=e,ns=null;break}e:{var i=r,a=t.return,o=t,l=e;if(e=js,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=H3(a);if(f!==null){f.flags&=-257,z3(f,a,o,i,e),f.mode&1&&V3(i,c,e),e=f,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){V3(i,c,e),k5();break e}l=Error(Ut(426))}}else if(kn&&o.mode&1){var p=H3(a);if(p!==null){!(p.flags&65536)&&(p.flags|=256),z3(p,a,o,i,e),i5(Jf(l,o));break e}}i=l=Jf(l,o),fs!==4&&(fs=2),A0===null?A0=[i]:A0.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=hT(i,l,e);F3(i,v);break e;case 1:o=l;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Wc===null||!Wc.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var E=fT(i,o,e);F3(i,E);break e}}i=i.return}while(i!==null)}RT(t)}catch(N){e=N,ns===t&&t!==null&&(ns=t=t.return);continue}break}while(!0)}function NT(){var r=x1.current;return x1.current=w1,r===null?w1:r}function k5(){(fs===0||fs===3||fs===2)&&(fs=4),ks===null||!(ah&268435455)&&!(C2&268435455)||Tc(ks,js)}function E1(r,e){var t=Wr;Wr|=2;var n=NT();(ks!==r||js!==e)&&(dl=null,Yu(r,e));do try{rM();break}catch(s){CT(r,s)}while(!0);if(o5(),Wr=t,x1.current=n,ns!==null)throw Error(Ut(261));return ks=null,js=0,fs}function rM(){for(;ns!==null;)DT(ns)}function nM(){for(;ns!==null&&!CP();)DT(ns)}function DT(r){var e=PT(r.alternate,r,ea);r.memoizedProps=r.pendingProps,e===null?RT(r):ns=e,w5.current=null}function RT(r){var e=r;do{var t=e.alternate;if(r=e.return,e.flags&32768){if(t=YO(t,e),t!==null){t.flags&=32767,ns=t;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{fs=6,ns=null;return}}else if(t=XO(t,e,ea),t!==null){ns=t;return}if(e=e.sibling,e!==null){ns=e;return}ns=e=r}while(e!==null);fs===0&&(fs=5)}function Lu(r,e,t){var n=an,s=Da.transition;try{Da.transition=null,an=1,sM(r,e,t,n)}finally{Da.transition=s,an=n}return null}function sM(r,e,t,n){do Rf();while(Mc!==null);if(Wr&6)throw Error(Ut(327));t=r.finishedWork;var s=r.finishedLanes;if(t===null)return null;if(r.finishedWork=null,r.finishedLanes=0,t===r.current)throw Error(Ut(177));r.callbackNode=null,r.callbackPriority=0;var i=t.lanes|t.childLanes;if(jP(r,i),r===ks&&(ns=ks=null,js=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Gm||(Gm=!0,OT(i1,function(){return Rf(),null})),i=(t.flags&15990)!==0,t.subtreeFlags&15990||i){i=Da.transition,Da.transition=null;var a=an;an=1;var o=Wr;Wr|=4,w5.current=null,QO(r,t),kT(t,r),EO(Wb),o1=!!qb,Wb=qb=null,r.current=t,ZO(t),NP(),Wr=o,an=a,Da.transition=i}else r.current=t;if(Gm&&(Gm=!1,Mc=r,S1=s),i=r.pendingLanes,i===0&&(Wc=null),IP(t.stateNode),Hi(r,qn()),e!==null)for(n=r.onRecoverableError,t=0;t<e.length;t++)s=e[t],n(s.value,{componentStack:s.stack,digest:s.digest});if(_1)throw _1=!1,r=fw,fw=null,r;return S1&1&&r.tag!==0&&Rf(),i=r.pendingLanes,i&1?r===dw?T0++:(T0=0,dw=r):T0=0,vu(),null}function Rf(){if(Mc!==null){var r=hA(S1),e=Da.transition,t=an;try{if(Da.transition=null,an=16>r?16:r,Mc===null)var n=!1;else{if(r=Mc,Mc=null,S1=0,Wr&6)throw Error(Ut(331));var s=Wr;for(Wr|=4,Zt=r.current;Zt!==null;){var i=Zt,a=i.child;if(Zt.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Zt=c;Zt!==null;){var u=Zt;switch(u.tag){case 0:case 11:case 15:k0(8,u,i)}var d=u.child;if(d!==null)d.return=u,Zt=d;else for(;Zt!==null;){u=Zt;var h=u.sibling,f=u.return;if(_T(u),u===c){Zt=null;break}if(h!==null){h.return=f,Zt=h;break}Zt=f}}}var m=i.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var p=g.sibling;g.sibling=null,g=p}while(g!==null)}}Zt=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,Zt=a;else e:for(;Zt!==null;){if(i=Zt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:k0(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Zt=v;break e}Zt=i.return}}var y=r.current;for(Zt=y;Zt!==null;){a=Zt;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,Zt=b;else e:for(a=y;Zt!==null;){if(o=Zt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:T2(9,o)}}catch(N){Fn(o,o.return,N)}if(o===a){Zt=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,Zt=E;break e}Zt=o.return}}if(Wr=s,vu(),jo&&typeof jo.onPostCommitFiberRoot=="function")try{jo.onPostCommitFiberRoot(b2,r)}catch{}n=!0}return n}finally{an=t,Da.transition=e}}return!1}function n6(r,e,t){e=Jf(t,e),e=hT(r,e,1),r=qc(r,e,1),e=Si(),r!==null&&(Lp(r,1,e),Hi(r,e))}function Fn(r,e,t){if(r.tag===3)n6(r,r,t);else for(;e!==null;){if(e.tag===3){n6(e,r,t);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Wc===null||!Wc.has(n))){r=Jf(t,r),r=fT(e,r,1),e=qc(e,r,1),r=Si(),e!==null&&(Lp(e,1,r),Hi(e,r));break}}e=e.return}}function iM(r,e,t){var n=r.pingCache;n!==null&&n.delete(e),e=Si(),r.pingedLanes|=r.suspendedLanes&t,ks===r&&(js&t)===t&&(fs===4||fs===3&&(js&130023424)===js&&500>qn()-_5?Yu(r,0):x5|=t),Hi(r,e)}function IT(r,e){e===0&&(r.mode&1?(e=Lm,Lm<<=1,!(Lm&130023424)&&(Lm=4194304)):e=1);var t=Si();r=Nl(r,e),r!==null&&(Lp(r,e,t),Hi(r,t))}function aM(r){var e=r.memoizedState,t=0;e!==null&&(t=e.retryLane),IT(r,t)}function oM(r,e){var t=0;switch(r.tag){case 13:var n=r.stateNode,s=r.memoizedState;s!==null&&(t=s.retryLane);break;case 19:n=r.stateNode;break;default:throw Error(Ut(314))}n!==null&&n.delete(e),IT(r,t)}var PT;PT=function(r,e,t){if(r!==null)if(r.memoizedProps!==e.pendingProps||$i.current)Ui=!0;else{if(!(r.lanes&t)&&!(e.flags&128))return Ui=!1,KO(r,e,t);Ui=!!(r.flags&131072)}else Ui=!1,kn&&e.flags&1048576&&LA(e,p1,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Og(r,e),r=e.pendingProps;var s=Gf(e,ci.current);Df(e,t),s=m5(null,e,n,r,s,t);var i=g5();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Vi(n)?(i=!0,f1(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,u5(e),s.updater=A2,e.stateNode=s,s._reactInternals=e,tw(e,n,r,t),e=sw(null,e,n,!0,i,t)):(e.tag=0,kn&&i&&n5(e),bi(null,e,s,t),e=e.child),e;case 16:n=e.elementType;e:{switch(Og(r,e),r=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=cM(n),r=Qa(n,r),s){case 0:e=nw(null,e,n,r,t);break e;case 1:e=G3(null,e,n,r,t);break e;case 11:e=q3(null,e,n,r,t);break e;case 14:e=W3(null,e,n,Qa(n.type,r),t);break e}throw Error(Ut(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Qa(n,s),nw(r,e,n,s,t);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Qa(n,s),G3(r,e,n,s,t);case 3:e:{if(gT(e),r===null)throw Error(Ut(387));n=e.pendingProps,i=e.memoizedState,s=i.element,HA(r,e),v1(e,n,null,t);var a=e.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Jf(Error(Ut(423)),e),e=K3(r,e,n,t,s);break e}else if(n!==s){s=Jf(Error(Ut(424)),e),e=K3(r,e,n,t,s);break e}else for(na=zc(e.stateNode.containerInfo.firstChild),ia=e,kn=!0,ro=null,t=$A(e,null,n,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Kf(),n===s){e=Dl(r,e,t);break e}bi(r,e,n,t)}e=e.child}return e;case 5:return zA(e),r===null&&Qb(e),n=e.type,s=e.pendingProps,i=r!==null?r.memoizedProps:null,a=s.children,Gb(n,s)?a=null:i!==null&&Gb(n,i)&&(e.flags|=32),mT(r,e),bi(r,e,a,t),e.child;case 6:return r===null&&Qb(e),null;case 13:return vT(r,e,t);case 4:return h5(e,e.stateNode.containerInfo),n=e.pendingProps,r===null?e.child=Xf(e,null,n,t):bi(r,e,n,t),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Qa(n,s),q3(r,e,n,s,t);case 7:return bi(r,e,e.pendingProps,t),e.child;case 8:return bi(r,e,e.pendingProps.children,t),e.child;case 12:return bi(r,e,e.pendingProps.children,t),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,gn(m1,n._currentValue),n._currentValue=a,i!==null)if(po(i.value,a)){if(i.children===s.children&&!$i.current){e=Dl(r,e,t);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=_l(-1,t&-t),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=t,l=i.alternate,l!==null&&(l.lanes|=t),Zb(i.return,t,e),o.lanes|=t;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(Ut(341));a.lanes|=t,o=a.alternate,o!==null&&(o.lanes|=t),Zb(a,t,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}bi(r,e,s.children,t),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Df(e,t),s=Ra(s),n=n(s),e.flags|=1,bi(r,e,n,t),e.child;case 14:return n=e.type,s=Qa(n,e.pendingProps),s=Qa(n.type,s),W3(r,e,n,s,t);case 15:return dT(r,e,e.type,e.pendingProps,t);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Qa(n,s),Og(r,e),e.tag=1,Vi(n)?(r=!0,f1(e)):r=!1,Df(e,t),uT(e,n,s),tw(e,n,s,t),sw(null,e,n,!0,r,t);case 19:return yT(r,e,t);case 22:return pT(r,e,t)}throw Error(Ut(156,e.tag))};function OT(r,e){return oA(r,e)}function lM(r,e,t,n){this.tag=r,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Na(r,e,t,n){return new lM(r,e,t,n)}function A5(r){return r=r.prototype,!(!r||!r.isReactComponent)}function cM(r){if(typeof r=="function")return A5(r)?1:0;if(r!=null){if(r=r.$$typeof,r===qx)return 11;if(r===Wx)return 14}return 2}function Kc(r,e){var t=r.alternate;return t===null?(t=Na(r.tag,e,r.key,r.mode),t.elementType=r.elementType,t.type=r.type,t.stateNode=r.stateNode,t.alternate=r,r.alternate=t):(t.pendingProps=e,t.type=r.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=r.flags&14680064,t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,e=r.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=r.sibling,t.index=r.index,t.ref=r.ref,t}function Lg(r,e,t,n,s,i){var a=2;if(n=r,typeof r=="function")A5(r)&&(a=1);else if(typeof r=="string")a=5;else e:switch(r){case ff:return Ju(t.children,s,i,e);case zx:a=8,s|=8;break;case kb:return r=Na(12,t,e,s|2),r.elementType=kb,r.lanes=i,r;case Ab:return r=Na(13,t,e,s),r.elementType=Ab,r.lanes=i,r;case Tb:return r=Na(19,t,e,s),r.elementType=Tb,r.lanes=i,r;case zk:return N2(t,s,i,e);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Vk:a=10;break e;case Hk:a=9;break e;case qx:a=11;break e;case Wx:a=14;break e;case _c:a=16,n=null;break e}throw Error(Ut(130,r==null?r:typeof r,""))}return e=Na(a,t,e,s),e.elementType=r,e.type=n,e.lanes=i,e}function Ju(r,e,t,n){return r=Na(7,r,n,e),r.lanes=t,r}function N2(r,e,t,n){return r=Na(22,r,n,e),r.elementType=zk,r.lanes=t,r.stateNode={isHidden:!1},r}function vy(r,e,t){return r=Na(6,r,null,e),r.lanes=t,r}function yy(r,e,t){return e=Na(4,r.children!==null?r.children:[],r.key,e),e.lanes=t,e.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},e}function uM(r,e,t,n,s){this.tag=e,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qv(0),this.expirationTimes=Qv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qv(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function T5(r,e,t,n,s,i,a,o,l){return r=new uM(r,e,t,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Na(3,null,null,e),r.current=i,i.stateNode=r,i.memoizedState={element:n,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},u5(i),r}function hM(r,e,t){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hf,key:n==null?null:""+n,children:r,containerInfo:e,implementation:t}}function MT(r){if(!r)return nu;r=r._reactInternals;e:{if(vh(r)!==r||r.tag!==1)throw Error(Ut(170));var e=r;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Vi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ut(171))}if(r.tag===1){var t=r.type;if(Vi(t))return MA(r,t,e)}return e}function FT(r,e,t,n,s,i,a,o,l){return r=T5(t,n,!0,r,s,i,a,o,l),r.context=MT(null),t=r.current,n=Si(),s=Gc(t),i=_l(n,s),i.callback=e??null,qc(t,i,s),r.current.lanes=s,Lp(r,s,n),Hi(r,n),r}function D2(r,e,t,n){var s=e.current,i=Si(),a=Gc(s);return t=MT(t),e.context===null?e.context=t:e.pendingContext=t,e=_l(i,a),e.payload={element:r},n=n===void 0?null:n,n!==null&&(e.callback=n),r=qc(s,e,a),r!==null&&(uo(r,s,a,i),Rg(r,s,a)),a}function k1(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function s6(r,e){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var t=r.retryLane;r.retryLane=t!==0&&t<e?t:e}}function C5(r,e){s6(r,e),(r=r.alternate)&&s6(r,e)}function fM(){return null}var LT=typeof reportError=="function"?reportError:function(r){console.error(r)};function N5(r){this._internalRoot=r}R2.prototype.render=N5.prototype.render=function(r){var e=this._internalRoot;if(e===null)throw Error(Ut(409));D2(r,e,null,null)};R2.prototype.unmount=N5.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var e=r.containerInfo;oh(function(){D2(null,r,null,null)}),e[Cl]=null}};function R2(r){this._internalRoot=r}R2.prototype.unstable_scheduleHydration=function(r){if(r){var e=pA();r={blockedOn:null,target:r,priority:e};for(var t=0;t<Ac.length&&e!==0&&e<Ac[t].priority;t++);Ac.splice(t,0,r),t===0&&gA(r)}};function D5(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function I2(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function i6(){}function dM(r,e,t,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=k1(a);i.call(c)}}var a=FT(e,n,r,0,null,!1,!1,"",i6);return r._reactRootContainer=a,r[Cl]=a.current,np(r.nodeType===8?r.parentNode:r),oh(),a}for(;s=r.lastChild;)r.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var c=k1(l);o.call(c)}}var l=T5(r,0,!1,null,null,!1,!1,"",i6);return r._reactRootContainer=l,r[Cl]=l.current,np(r.nodeType===8?r.parentNode:r),oh(function(){D2(e,l,t,n)}),l}function P2(r,e,t,n,s){var i=t._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=k1(a);o.call(l)}}D2(e,a,r,s)}else a=dM(t,e,r,s,n);return k1(a)}fA=function(r){switch(r.tag){case 3:var e=r.stateNode;if(e.current.memoizedState.isDehydrated){var t=o0(e.pendingLanes);t!==0&&(Xx(e,t|1),Hi(e,qn()),!(Wr&6)&&(Qf=qn()+500,vu()))}break;case 13:oh(function(){var n=Nl(r,1);if(n!==null){var s=Si();uo(n,r,1,s)}}),C5(r,1)}};Yx=function(r){if(r.tag===13){var e=Nl(r,134217728);if(e!==null){var t=Si();uo(e,r,134217728,t)}C5(r,134217728)}};dA=function(r){if(r.tag===13){var e=Gc(r),t=Nl(r,e);if(t!==null){var n=Si();uo(t,r,e,n)}C5(r,e)}};pA=function(){return an};mA=function(r,e){var t=an;try{return an=r,e()}finally{an=t}};Lb=function(r,e,t){switch(e){case"input":if(Db(r,t),e=t.name,t.type==="radio"&&e!=null){for(t=r;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var n=t[e];if(n!==r&&n.form===r.form){var s=S2(n);if(!s)throw Error(Ut(90));Wk(n),Db(n,s)}}}break;case"textarea":Kk(r,t);break;case"select":e=t.value,e!=null&&Af(r,!!t.multiple,e,!1)}};tA=S5;rA=oh;var pM={usingClientEntryPoint:!1,Events:[Bp,gf,S2,Zk,eA,S5]},Qd={findFiberByHostInstance:qu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mM={bundleType:Qd.bundleType,version:Qd.version,rendererPackageName:Qd.rendererPackageName,rendererConfig:Qd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bl.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=iA(r),r===null?null:r.stateNode},findFiberByHostInstance:Qd.findFiberByHostInstance||fM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Km=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Km.isDisabled&&Km.supportsFiber)try{b2=Km.inject(mM),jo=Km}catch{}}ca.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pM;ca.createPortal=function(r,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!D5(e))throw Error(Ut(200));return hM(r,e,null,t)};ca.createRoot=function(r,e){if(!D5(r))throw Error(Ut(299));var t=!1,n="",s=LT;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=T5(r,1,!1,null,null,t,!1,n,s),r[Cl]=e.current,np(r.nodeType===8?r.parentNode:r),new N5(e)};ca.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var e=r._reactInternals;if(e===void 0)throw typeof r.render=="function"?Error(Ut(188)):(r=Object.keys(r).join(","),Error(Ut(268,r)));return r=iA(e),r=r===null?null:r.stateNode,r};ca.flushSync=function(r){return oh(r)};ca.hydrate=function(r,e,t){if(!I2(e))throw Error(Ut(200));return P2(null,r,e,!0,t)};ca.hydrateRoot=function(r,e,t){if(!D5(r))throw Error(Ut(405));var n=t!=null&&t.hydratedSources||null,s=!1,i="",a=LT;if(t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=FT(e,null,r,1,t??null,s,!1,i,a),r[Cl]=e.current,np(r),n)for(r=0;r<n.length;r++)t=n[r],s=t._getVersion,s=s(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,s]:e.mutableSourceEagerHydrationData.push(t,s);return new R2(e)};ca.render=function(r,e,t){if(!I2(e))throw Error(Ut(200));return P2(null,r,e,!1,t)};ca.unmountComponentAtNode=function(r){if(!I2(r))throw Error(Ut(40));return r._reactRootContainer?(oh(function(){P2(null,null,r,!1,function(){r._reactRootContainer=null,r[Cl]=null})}),!0):!1};ca.unstable_batchedUpdates=S5;ca.unstable_renderSubtreeIntoContainer=function(r,e,t,n){if(!I2(t))throw Error(Ut(200));if(r==null||r._reactInternals===void 0)throw Error(Ut(38));return P2(r,e,t,!1,n)};ca.version="18.3.1-next-f1338f8080-20240426";function jT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jT)}catch(r){console.error(r)}}jT(),jk.exports=ca;var BT=jk.exports,a6=BT;Sb.createRoot=a6.createRoot,Sb.hydrateRoot=a6.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fp(){return fp=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},fp.apply(this,arguments)}var Fc;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Fc||(Fc={}));const o6="popstate";function gM(r){r===void 0&&(r={});function e(n,s){let{pathname:i,search:a,hash:o}=n.location;return gw("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(n,s){return typeof s=="string"?s:A1(s)}return yM(e,t,null,r)}function Xn(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function UT(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vM(){return Math.random().toString(36).substr(2,8)}function l6(r,e){return{usr:r.state,key:r.key,idx:e}}function gw(r,e,t,n){return t===void 0&&(t=null),fp({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?pd(e):e,{state:t,key:e&&e.key||n||vM()})}function A1(r){let{pathname:e="/",search:t="",hash:n=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function pd(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substr(n),r=r.substr(0,n)),r&&(e.pathname=r)}return e}function yM(r,e,t,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o=Fc.Pop,l=null,c=u();c==null&&(c=0,a.replaceState(fp({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function d(){o=Fc.Pop;let p=u(),v=p==null?null:p-c;c=p,l&&l({action:o,location:g.location,delta:v})}function h(p,v){o=Fc.Push;let y=gw(g.location,p,v);c=u()+1;let b=l6(y,c),E=g.createHref(y);try{a.pushState(b,"",E)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(E)}i&&l&&l({action:o,location:g.location,delta:1})}function f(p,v){o=Fc.Replace;let y=gw(g.location,p,v);c=u();let b=l6(y,c),E=g.createHref(y);a.replaceState(b,"",E),i&&l&&l({action:o,location:g.location,delta:0})}function m(p){let v=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof p=="string"?p:A1(p);return y=y.replace(/ $/,"%20"),Xn(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let g={get action(){return o},get location(){return r(s,a)},listen(p){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(o6,d),l=p,()=>{s.removeEventListener(o6,d),l=null}},createHref(p){return e(s,p)},createURL:m,encodeLocation(p){let v=m(p);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:f,go(p){return a.go(p)}};return g}var c6;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(c6||(c6={}));function bM(r,e,t){return t===void 0&&(t="/"),wM(r,e,t)}function wM(r,e,t,n){let s=typeof e=="string"?pd(e):e,i=R5(s.pathname||"/",t);if(i==null)return null;let a=$T(r);xM(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=PM(i);o=DM(a[l],c)}return o}function $T(r,e,t,n){e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n="");let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(Xn(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Xc([n,l.relativePath]),u=t.concat(l);i.children&&i.children.length>0&&(Xn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),$T(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:CM(c,i.index),routesMeta:u})};return r.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of VT(i.path))s(i,a,l)}),e}function VT(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,s=t.endsWith("?"),i=t.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=VT(n.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>r.startsWith("/")&&l===""?"/":l)}function xM(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:NM(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const _M=/^:[\w-]+$/,SM=3,EM=2,kM=1,AM=10,TM=-2,u6=r=>r==="*";function CM(r,e){let t=r.split("/"),n=t.length;return t.some(u6)&&(n+=TM),e&&(n+=EM),t.filter(s=>!u6(s)).reduce((s,i)=>s+(_M.test(i)?SM:i===""?kM:AM),n)}function NM(r,e){return r.length===e.length&&r.slice(0,-1).every((n,s)=>n===e[s])?r[r.length-1]-e[e.length-1]:0}function DM(r,e,t){let{routesMeta:n}=r,s={},i="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=RM({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d)return null;Object.assign(s,d.params),a.push({params:s,pathname:Xc([i,d.pathname]),pathnameBase:LM(Xc([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Xc([i,d.pathnameBase]))}return a}function RM(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=IM(r.path,r.caseSensitive,r.end),s=e.match(t);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((c,u,d)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let g=o[d]||"";a=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const m=o[d];return f&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:r}}function IM(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),UT(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let n=[],s="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),s+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":r!==""&&r!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function PM(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return UT(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function R5(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function OM(r,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:s=""}=typeof r=="string"?pd(r):r;return{pathname:t?t.startsWith("/")?t:MM(t,e):e,search:jM(n),hash:BM(s)}}function MM(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function by(r,e,t,n){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function FM(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function I5(r,e){let t=FM(r);return e?t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function P5(r,e,t,n){n===void 0&&(n=!1);let s;typeof r=="string"?s=pd(r):(s=fp({},r),Xn(!s.pathname||!s.pathname.includes("?"),by("?","pathname","search",s)),Xn(!s.pathname||!s.pathname.includes("#"),by("#","pathname","hash",s)),Xn(!s.search||!s.search.includes("#"),by("#","search","hash",s)));let i=r===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=t;else{let d=e.length-1;if(!n&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}o=d>=0?e[d]:"/"}let l=OM(s,o),c=a&&a!=="/"&&a.endsWith("/"),u=(i||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Xc=r=>r.join("/").replace(/\/\/+/g,"/"),LM=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),jM=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,BM=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function UM(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const HT=["post","put","patch","delete"];new Set(HT);const $M=["get",...HT];new Set($M);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dp(){return dp=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},dp.apply(this,arguments)}const O5=Ae.createContext(null),VM=Ae.createContext(null),yu=Ae.createContext(null),O2=Ae.createContext(null),Ul=Ae.createContext({outlet:null,matches:[],isDataRoute:!1}),zT=Ae.createContext(null);function HM(r,e){let{relative:t}=e===void 0?{}:e;md()||Xn(!1);let{basename:n,navigator:s}=Ae.useContext(yu),{hash:i,pathname:a,search:o}=WT(r,{relative:t}),l=a;return n!=="/"&&(l=a==="/"?n:Xc([n,a])),s.createHref({pathname:l,search:o,hash:i})}function md(){return Ae.useContext(O2)!=null}function gd(){return md()||Xn(!1),Ae.useContext(O2).location}function qT(r){Ae.useContext(yu).static||Ae.useLayoutEffect(r)}function $l(){let{isDataRoute:r}=Ae.useContext(Ul);return r?rF():zM()}function zM(){md()||Xn(!1);let r=Ae.useContext(O5),{basename:e,future:t,navigator:n}=Ae.useContext(yu),{matches:s}=Ae.useContext(Ul),{pathname:i}=gd(),a=JSON.stringify(I5(s,t.v7_relativeSplatPath)),o=Ae.useRef(!1);return qT(()=>{o.current=!0}),Ae.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let d=P5(c,JSON.parse(a),i,u.relative==="path");r==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Xc([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,a,i,r])}function M2(){let{matches:r}=Ae.useContext(Ul),e=r[r.length-1];return e?e.params:{}}function WT(r,e){let{relative:t}=e===void 0?{}:e,{future:n}=Ae.useContext(yu),{matches:s}=Ae.useContext(Ul),{pathname:i}=gd(),a=JSON.stringify(I5(s,n.v7_relativeSplatPath));return Ae.useMemo(()=>P5(r,JSON.parse(a),i,t==="path"),[r,a,i,t])}function qM(r,e){return WM(r,e)}function WM(r,e,t,n){md()||Xn(!1);let{navigator:s,static:i}=Ae.useContext(yu),{matches:a}=Ae.useContext(Ul),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=gd(),d;if(e){var h;let v=typeof e=="string"?pd(e):e;c==="/"||(h=v.pathname)!=null&&h.startsWith(c)||Xn(!1),d=v}else d=u;let f=d.pathname||"/",m=f;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=bM(r,{pathname:m}),p=JM(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Xc([c,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Xc([c,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,t,n);return e&&p?Ae.createElement(O2.Provider,{value:{location:dp({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Fc.Pop}},p):p}function GM(){let r=tF(),e=UM(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Ae.createElement(Ae.Fragment,null,Ae.createElement("h2",null,"Unexpected Application Error!"),Ae.createElement("h3",{style:{fontStyle:"italic"}},e),t?Ae.createElement("pre",{style:s},t):null,null)}const KM=Ae.createElement(GM,null);class XM extends Ae.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?Ae.createElement(Ul.Provider,{value:this.props.routeContext},Ae.createElement(zT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function YM(r){let{routeContext:e,match:t,children:n}=r,s=Ae.useContext(O5);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),Ae.createElement(Ul.Provider,{value:e},n)}function JM(r,e,t,n){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),n===void 0&&(n=null),r==null){var i;if(!t)return null;if(t.errors)r=t.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let a=r,o=(s=t)==null?void 0:s.errors;if(o!=null){let u=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);u>=0||Xn(!1),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(t&&n&&n.v7_partialHydration)for(let u=0;u<a.length;u++){let d=a[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:f}=t,m=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,d,h)=>{let f,m=!1,g=null,p=null;t&&(f=o&&d.route.id?o[d.route.id]:void 0,g=d.route.errorElement||KM,l&&(c<0&&h===0?(nF("route-fallback"),m=!0,p=null):c===h&&(m=!0,p=d.route.hydrateFallbackElement||null)));let v=e.concat(a.slice(0,h+1)),y=()=>{let b;return f?b=g:m?b=p:d.route.Component?b=Ae.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=u,Ae.createElement(YM,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:t!=null},children:b})};return t&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?Ae.createElement(XM,{location:t.location,revalidation:t.revalidation,component:g,error:f,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var GT=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(GT||{}),KT=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(KT||{});function QM(r){let e=Ae.useContext(O5);return e||Xn(!1),e}function ZM(r){let e=Ae.useContext(VM);return e||Xn(!1),e}function eF(r){let e=Ae.useContext(Ul);return e||Xn(!1),e}function XT(r){let e=eF(),t=e.matches[e.matches.length-1];return t.route.id||Xn(!1),t.route.id}function tF(){var r;let e=Ae.useContext(zT),t=ZM(),n=XT();return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function rF(){let{router:r}=QM(GT.UseNavigateStable),e=XT(KT.UseNavigateStable),t=Ae.useRef(!1);return qT(()=>{t.current=!0}),Ae.useCallback(function(s,i){i===void 0&&(i={}),t.current&&(typeof s=="number"?r.navigate(s):r.navigate(s,dp({fromRouteId:e},i)))},[r,e])}const h6={};function nF(r,e,t){h6[r]||(h6[r]=!0)}function sF(r,e){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function f6(r){let{to:e,replace:t,state:n,relative:s}=r;md()||Xn(!1);let{future:i,static:a}=Ae.useContext(yu),{matches:o}=Ae.useContext(Ul),{pathname:l}=gd(),c=$l(),u=P5(e,I5(o,i.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(u);return Ae.useEffect(()=>c(JSON.parse(d),{replace:t,state:n,relative:s}),[c,d,s,t,n]),null}function Zi(r){Xn(!1)}function iF(r){let{basename:e="/",children:t=null,location:n,navigationType:s=Fc.Pop,navigator:i,static:a=!1,future:o}=r;md()&&Xn(!1);let l=e.replace(/^\/*/,"/"),c=Ae.useMemo(()=>({basename:l,navigator:i,static:a,future:dp({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof n=="string"&&(n=pd(n));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:m="default"}=n,g=Ae.useMemo(()=>{let p=R5(u,l);return p==null?null:{location:{pathname:p,search:d,hash:h,state:f,key:m},navigationType:s}},[l,u,d,h,f,m,s]);return g==null?null:Ae.createElement(yu.Provider,{value:c},Ae.createElement(O2.Provider,{children:t,value:g}))}function aF(r){let{children:e,location:t}=r;return qM(vw(e),t)}new Promise(()=>{});function vw(r,e){e===void 0&&(e=[]);let t=[];return Ae.Children.forEach(r,(n,s)=>{if(!Ae.isValidElement(n))return;let i=[...e,s];if(n.type===Ae.Fragment){t.push.apply(t,vw(n.props.children,i));return}n.type!==Zi&&Xn(!1),!n.props.index||!n.props.children||Xn(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=vw(n.props.children,i)),t.push(a)}),t}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yw(){return yw=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},yw.apply(this,arguments)}function oF(r,e){if(r==null)return{};var t={},n=Object.keys(r),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(t[s]=r[s]);return t}function lF(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function cF(r,e){return r.button===0&&(!e||e==="_self")&&!lF(r)}const uF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],hF="6";try{window.__reactRouterVersion=hF}catch{}const fF="startTransition",d6=_b[fF];function dF(r){let{basename:e,children:t,future:n,window:s}=r,i=Ae.useRef();i.current==null&&(i.current=gM({window:s,v5Compat:!0}));let a=i.current,[o,l]=Ae.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},u=Ae.useCallback(d=>{c&&d6?d6(()=>l(d)):l(d)},[l,c]);return Ae.useLayoutEffect(()=>a.listen(u),[a,u]),Ae.useEffect(()=>sF(n),[n]),Ae.createElement(iF,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,future:n})}const pF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,no=Ae.forwardRef(function(e,t){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,h=oF(e,uF),{basename:f}=Ae.useContext(yu),m,g=!1;if(typeof c=="string"&&mF.test(c)&&(m=c,pF))try{let b=new URL(window.location.href),E=c.startsWith("//")?new URL(b.protocol+c):new URL(c),N=R5(E.pathname,f);E.origin===b.origin&&N!=null?c=N+E.search+E.hash:g=!0}catch{}let p=HM(c,{relative:s}),v=gF(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:s,viewTransition:d});function y(b){n&&n(b),b.defaultPrevented||v(b)}return Ae.createElement("a",yw({},h,{href:m||p,onClick:g||i?n:y,ref:t,target:l}))});var p6;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(p6||(p6={}));var m6;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(m6||(m6={}));function gF(r,e){let{target:t,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:o}=e===void 0?{}:e,l=$l(),c=gd(),u=WT(r,{relative:a});return Ae.useCallback(d=>{if(cF(d,t)){d.preventDefault();let h=n!==void 0?n:A1(c)===A1(u);l(r,{replace:h,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[c,l,u,n,s,t,r,i,a,o])}const vF="modulepreload",yF=function(r){return"/"+r},g6={},ho=function(e,t,n){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(t.map(l=>{if(l=yF(l),l in g6)return;g6[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":vF,c||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),c)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})},bF=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>ho(async()=>{const{default:n}=await Promise.resolve().then(()=>vd);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)};class M5 extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class wF extends M5{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class v6 extends M5{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class y6 extends M5{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var bw;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(bw||(bw={}));var xF=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};class _F{constructor(e,{headers:t={},customFetch:n,region:s=bw.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=bF(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return xF(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=t;let o={},{region:l}=t;l||(l=this.region);const c=new URL(`${this.url}/${e}`);l&&l!=="any"&&(o["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let u;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",u=a):typeof a=="string"?(o["Content-Type"]="text/plain",u=a):typeof FormData<"u"&&a instanceof FormData?u=a:(o["Content-Type"]="application/json",u=JSON.stringify(a)));const d=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:u}).catch(g=>{throw new wF(g)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new v6(d);if(!d.ok)throw new y6(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return f==="application/json"?m=yield d.json():f==="application/octet-stream"?m=yield d.blob():f==="text/event-stream"?m=d:f==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null,response:d}}catch(s){return{data:null,error:s,response:s instanceof y6||s instanceof v6?s.context:void 0}}})}}var Bi={},F5={},F2={},$p={},L2={},j2={},SF=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Zf=SF();const EF=Zf.fetch,YT=Zf.fetch.bind(Zf),JT=Zf.Headers,kF=Zf.Request,AF=Zf.Response,vd=Object.freeze(Object.defineProperty({__proto__:null,Headers:JT,Request:kF,Response:AF,default:YT,fetch:EF},Symbol.toStringTag,{value:"Module"})),TF=zI(vd);var B2={};Object.defineProperty(B2,"__esModule",{value:!0});let CF=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};B2.default=CF;var QT=gr&&gr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(j2,"__esModule",{value:!0});const NF=QT(TF),DF=QT(B2);let RF=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=NF.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,l;let c=null,u=null,d=null,h=i.status,f=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=v:u=JSON.parse(v))}const g=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),p=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");g&&p&&p.length>1&&(d=parseInt(p[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const g=await i.text();try{c=JSON.parse(g),Array.isArray(c)&&i.status===404&&(u=[],c=null,h=200,f="OK")}catch{i.status===404&&g===""?(h=204,f="No Content"):c={message:g}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,f="OK"),c&&this.shouldThrowOnError)throw new DF.default(c)}return{error:c,data:u,count:d,status:h,statusText:f}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,l;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}};j2.default=RF;var IF=gr&&gr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(L2,"__esModule",{value:!0});const PF=IF(j2);let OF=class extends PF.default{select(e){let t=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!t?"":(s==='"'&&(t=!t),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};L2.default=OF;var MF=gr&&gr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty($p,"__esModule",{value:!0});const FF=MF(L2);let LF=class extends FF.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}};$p.default=LF;var jF=gr&&gr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(F2,"__esModule",{value:!0});const Zd=jF($p);let BF=class{constructor(e,{headers:t={},schema:n,fetch:s}){this.url=e,this.headers=t,this.schema=n,this.fetch=s}select(e,{head:t=!1,count:n}={}){const s=t?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new Zd.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const a=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Zd.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Zd.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),t&&s.push(`count=${t}`),this.headers.Prefer=s.join(","),new Zd.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Zd.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};F2.default=BF;var U2={},$2={};Object.defineProperty($2,"__esModule",{value:!0});$2.version=void 0;$2.version="0.0.0-automated";Object.defineProperty(U2,"__esModule",{value:!0});U2.DEFAULT_HEADERS=void 0;const UF=$2;U2.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${UF.version}`};var ZT=gr&&gr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(F5,"__esModule",{value:!0});const $F=ZT(F2),VF=ZT($p),HF=U2;let zF=class eC{constructor(e,{headers:t={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},HF.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=s}from(e){const t=new URL(`${this.url}/${e}`);return new $F.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new eC(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:n=!1,get:s=!1,count:i}={}){let a;const o=new URL(`${this.url}/rpc/${e}`);let l;n||s?(a=n?"HEAD":"GET",Object.entries(t).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{o.searchParams.append(u,d)})):(a="POST",l=t);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new VF.default({method:a,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};F5.default=zF;var yd=gr&&gr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Bi,"__esModule",{value:!0});Bi.PostgrestError=Bi.PostgrestBuilder=Bi.PostgrestTransformBuilder=Bi.PostgrestFilterBuilder=Bi.PostgrestQueryBuilder=Bi.PostgrestClient=void 0;const tC=yd(F5);Bi.PostgrestClient=tC.default;const rC=yd(F2);Bi.PostgrestQueryBuilder=rC.default;const nC=yd($p);Bi.PostgrestFilterBuilder=nC.default;const sC=yd(L2);Bi.PostgrestTransformBuilder=sC.default;const iC=yd(j2);Bi.PostgrestBuilder=iC.default;const aC=yd(B2);Bi.PostgrestError=aC.default;var qF=Bi.default={PostgrestClient:tC.default,PostgrestQueryBuilder:rC.default,PostgrestFilterBuilder:nC.default,PostgrestTransformBuilder:sC.default,PostgrestBuilder:iC.default,PostgrestError:aC.default};const{PostgrestClient:WF,PostgrestQueryBuilder:voe,PostgrestFilterBuilder:yoe,PostgrestTransformBuilder:boe,PostgrestBuilder:woe,PostgrestError:xoe}=qF;function GF(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const KF=GF(),XF="2.11.15",YF=`realtime-js/${XF}`,JF="1.0.0",oC=1e4,QF=1e3;var C0;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(C0||(C0={}));var ei;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(ei||(ei={}));var to;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(to||(to={}));var ww;(function(r){r.websocket="websocket"})(ww||(ww={}));var $u;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})($u||($u={}));class ZF{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const s=t.getUint8(1),i=t.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(e.slice(a,a+s));a=a+s;const l=n.decode(e.slice(a,a+i));a=a+i;const c=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class lC{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var pn;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(pn||(pn={}));const b6=(r,e,t={})=>{var n;const s=(n=t.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,a)=>(i[a]=eL(a,r,e,s),i),{})},eL=(r,e,t,n)=>{const s=e.find(o=>o.name===r),i=s==null?void 0:s.type,a=t[r];return i&&!n.includes(i)?cC(i,a):xw(a)},cC=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return sL(e,t)}switch(r){case pn.bool:return tL(e);case pn.float4:case pn.float8:case pn.int2:case pn.int4:case pn.int8:case pn.numeric:case pn.oid:return rL(e);case pn.json:case pn.jsonb:return nL(e);case pn.timestamp:return iL(e);case pn.abstime:case pn.date:case pn.daterange:case pn.int4range:case pn.int8range:case pn.money:case pn.reltime:case pn.text:case pn.time:case pn.timestamptz:case pn.timetz:case pn.tsrange:case pn.tstzrange:return xw(e);default:return xw(e)}},xw=r=>r,tL=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},rL=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},nL=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},sL=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,n=r[t];if(r[0]==="{"&&n==="}"){let i;const a=r.slice(1,t);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>cC(e,o))}return r},iL=r=>typeof r=="string"?r.replace(" ","T"):r,uC=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class wy{constructor(e,t,n={},s=oC){this.channel=e,this.event=t,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var w6;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(w6||(w6={}));class N0{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=N0.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=N0.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=N0.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,s){const i=this.cloneDeep(e),a=this.transformState(t),o={},l={};return this.map(i,(c,u)=>{a[c]||(l[c]=u)}),this.map(a,(c,u)=>{const d=i[c];if(d){const h=u.map(p=>p.presence_ref),f=d.map(p=>p.presence_ref),m=u.filter(p=>f.indexOf(p.presence_ref)<0),g=d.filter(p=>h.indexOf(p.presence_ref)<0);m.length>0&&(o[c]=m),g.length>0&&(l[c]=g)}else o[c]=u}),this.syncDiff(i,{joins:o,leaves:l},n,s)}static syncDiff(e,t,n,s){const{joins:i,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var c;const u=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),u.length>0){const d=e[o].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[o].unshift(...h)}n(o,u,l)}),this.map(a,(o,l)=>{let c=e[o];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[o]=c,s(o,c,l),c.length===0&&delete e[o]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const s=e[n];return"metas"in s?t[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[n]=s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var x6;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(x6||(x6={}));var _6;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(_6||(_6={}));var pl;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(pl||(pl={}));class L5{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=ei.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new wy(this,to.join,this.params,this.timeout),this.rejoinTimer=new lC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ei.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ei.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ei.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ei.errored,this.rejoinTimer.scheduleTimeout())}),this._on(to.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new N0(this),this.broadcastEndpointURL=uC(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==ei.closed){const{config:{broadcast:i,presence:a,private:o}}=this.params;this._onError(u=>e==null?void 0:e(pl.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(pl.CLOSED));const l={},c={broadcast:i,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(pl.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,f=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,m=[];for(let g=0;g<f;g++){const p=h[g],{filter:{event:v,schema:y,table:b,filter:E}}=p,N=u&&u[g];if(N&&N.event===v&&N.schema===y&&N.table===b&&N.filter===E)m.push(Object.assign(Object.assign({},p),{id:N.id}));else{this.unsubscribe(),this.state=ei.errored,e==null||e(pl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(pl.SUBSCRIBED);return}}).receive("error",u=>{this.state=ei.errored,e==null||e(pl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(pl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e,t={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const c=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ei.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(to.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new wy(this,to.leave,{},e),n.receive("ok",()=>{t(),s("ok")}).receive("timeout",()=>{t(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,t,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(i),a}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new wy(this,e,t,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var s,i;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=to;if(n&&[o,l,c,u].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,t,n);if(t&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var m,g,p;return((m=f.filter)===null||m===void 0?void 0:m.event)==="*"||((p=(g=f.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase())===a}).map(f=>f.callback(h,n)):(i=this.bindings[a])===null||i===void 0||i.filter(f=>{var m,g,p,v,y,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in f){const E=f.id,N=(m=f.filter)===null||m===void 0?void 0:m.event;return E&&((g=t.ids)===null||g===void 0?void 0:g.includes(E))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((p=t.data)===null||p===void 0?void 0:p.type.toLocaleLowerCase()))}else{const E=(y=(v=f==null?void 0:f.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return E==="*"||E===((b=t==null?void 0:t.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===a}).map(f=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:g,table:p,commit_timestamp:v,type:y,errors:b}=m;h=Object.assign(Object.assign({},{schema:g,table:p,commit_timestamp:v,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(m))}f.callback(h,n)})}_isClosed(){return this.state===ei.closed}_isJoined(){return this.state===ei.joined}_isJoining(){return this.state===ei.joining}_isLeaving(){return this.state===ei.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const s=e.toLocaleLowerCase(),i={type:s,filter:t,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&L5.isEqual(s.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(to.close,{},e)}_onError(e){this._on(to.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ei.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=b6(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=b6(e.columns,e.old_record)),t}}const S6=()=>{},aL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class oL{constructor(e,t){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=oC,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=S6,this.ref=0,this.logger=S6,this.conn=null,this.sendBuffer=[],this.serializer=new ZF,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>ho(async()=>{const{default:l}=await Promise.resolve().then(()=>vd);return{default:l}},void 0).then(({default:l})=>l(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${e}/${ww.websocket}`,this.httpEndpoint=uC(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const s=(n=t==null?void 0:t.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(i,a)=>a(JSON.stringify(i)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new lC(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=KF),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:JF}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case C0.connecting:return $u.Connecting;case C0.open:return $u.Open;case C0.closing:return $u.Closing;default:return $u.Closed}}isConnected(){return this.connectionState()===$u.Open}channel(e,t={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new L5(`realtime:${e}`,t,this);return this.channels.push(i),i}}push(e){const{topic:t,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${t} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(n=>{const s={access_token:t,version:YF};t&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(to.access_token,{access_token:t})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(QF,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:n,event:s,payload:i,ref:a}=t;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(t.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,i),Array.from(this.channels).filter(o=>o._isMember(n)).forEach(o=>o._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(o=>o(t))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(to.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${e}${n}${s}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([aL],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}}class j5 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ws(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class lL extends j5{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class _w extends j5{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var cL=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};const hC=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>ho(async()=>{const{default:n}=await Promise.resolve().then(()=>vd);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},uL=()=>cL(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ho(()=>Promise.resolve().then(()=>vd),void 0)).Response:Response}),Sw=r=>{if(Array.isArray(r))return r.map(t=>Sw(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,n])=>{const s=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Sw(n)}),e};var yh=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};const xy=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),hL=(r,e,t)=>yh(void 0,void 0,void 0,function*(){const n=yield uL();r instanceof n&&!(t!=null&&t.noResolveJson)?r.json().then(s=>{e(new lL(xy(s),r.status||500))}).catch(s=>{e(new _w(xy(s),s))}):e(new _w(xy(r),r))}),fL=(r,e,t,n)=>{const s={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),t))};function Vp(r,e,t,n,s,i){return yh(this,void 0,void 0,function*(){return new Promise((a,o)=>{r(t,fL(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>hL(l,o,n))})})}function T1(r,e,t,n){return yh(this,void 0,void 0,function*(){return Vp(r,"GET",e,t,n)})}function Ec(r,e,t,n,s){return yh(this,void 0,void 0,function*(){return Vp(r,"POST",e,n,s,t)})}function dL(r,e,t,n,s){return yh(this,void 0,void 0,function*(){return Vp(r,"PUT",e,n,s,t)})}function pL(r,e,t,n){return yh(this,void 0,void 0,function*(){return Vp(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),n)})}function fC(r,e,t,n,s){return yh(this,void 0,void 0,function*(){return Vp(r,"DELETE",e,n,s,t)})}var Oi=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};const mL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},E6={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class gL{constructor(e,t={},n,s){this.url=e,this.headers=t,this.bucketId=n,this.fetch=hC(s)}uploadOrUpdate(e,t,n,s){return Oi(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},E6),s);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const c=this._removeEmptyFolders(t),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),h=yield d.json();return d.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(ws(i))return{data:null,error:i};throw i}})}upload(e,t,n){return Oi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,s){return Oi(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",t);try{let l;const c=Object.assign({upsert:E6.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:u}),h=yield d.json();return d.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(ws(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return Oi(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=yield Ec(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new j5("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(ws(n))return{data:null,error:n};throw n}})}update(e,t,n){return Oi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return Oi(this,void 0,void 0,function*(){try{return{data:yield Ec(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ws(s))return{data:null,error:s};throw s}})}copy(e,t,n){return Oi(this,void 0,void 0,function*(){try{return{data:{path:(yield Ec(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ws(s))return{data:null,error:s};throw s}})}createSignedUrl(e,t,n){return Oi(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Ec(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(ws(s))return{data:null,error:s};throw s}})}createSignedUrls(e,t,n){return Oi(this,void 0,void 0,function*(){try{const s=yield Ec(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(ws(s))return{data:null,error:s};throw s}})}download(e,t){return Oi(this,void 0,void 0,function*(){const s=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield T1(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(ws(o))return{data:null,error:o};throw o}})}info(e){return Oi(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const n=yield T1(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Sw(n),error:null}}catch(n){if(ws(n))return{data:null,error:n};throw n}})}exists(e){return Oi(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield pL(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ws(n)&&n instanceof _w){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),s=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&s.push(i);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(e){return Oi(this,void 0,void 0,function*(){try{return{data:yield fC(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(ws(t))return{data:null,error:t};throw t}})}list(e,t,n){return Oi(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},mL),t),{prefix:e||""});return{data:yield Ec(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(ws(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const vL="2.7.1",yL={"X-Client-Info":`storage-js/${vL}`};var Kh=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};class bL{constructor(e,t={},n){this.url=e,this.headers=Object.assign(Object.assign({},yL),t),this.fetch=hC(n)}listBuckets(){return Kh(this,void 0,void 0,function*(){try{return{data:yield T1(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ws(e))return{data:null,error:e};throw e}})}getBucket(e){return Kh(this,void 0,void 0,function*(){try{return{data:yield T1(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(ws(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Kh(this,void 0,void 0,function*(){try{return{data:yield Ec(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ws(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return Kh(this,void 0,void 0,function*(){try{return{data:yield dL(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ws(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Kh(this,void 0,void 0,function*(){try{return{data:yield Ec(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(ws(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Kh(this,void 0,void 0,function*(){try{return{data:yield fC(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(ws(t))return{data:null,error:t};throw t}})}}class wL extends bL{constructor(e,t={},n){super(e,t,n)}from(e){return new gL(this.url,this.headers,e,this.fetch)}}const xL="2.50.3";let c0="";typeof Deno<"u"?c0="deno":typeof document<"u"?c0="web":typeof navigator<"u"&&navigator.product==="ReactNative"?c0="react-native":c0="node";const _L={"X-Client-Info":`supabase-js-${c0}/${xL}`},SL={headers:_L},EL={schema:"public"},kL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},AL={};var TL=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};const CL=r=>{let e;return r?e=r:typeof fetch>"u"?e=YT:e=fetch,(...t)=>e(...t)},NL=()=>typeof Headers>"u"?JT:Headers,DL=(r,e,t)=>{const n=CL(t),s=NL();return(i,a)=>TL(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:r;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",r),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},a),{headers:c}))})};var RL=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};function IL(r){return r.endsWith("/")?r:r+"/"}function PL(r,e){var t,n;const{db:s,auth:i,realtime:a,global:o}=r,{db:l,auth:c,realtime:u,global:d}=e,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),a),global:Object.assign(Object.assign(Object.assign({},d),o),{headers:Object.assign(Object.assign({},(t=d==null?void 0:d.headers)!==null&&t!==void 0?t:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>RL(this,void 0,void 0,function*(){return""})};return r.accessToken?h.accessToken=r.accessToken:delete h.accessToken,h}const dC="2.70.0",rf=30*1e3,Ew=3,_y=Ew*rf,OL="http://localhost:9999",ML="supabase.auth.token",FL={"X-Client-Info":`gotrue-js/${dC}`},kw="X-Supabase-Api-Version",pC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},LL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,jL=6e5;class B5 extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function Cr(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class BL extends B5{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function UL(r){return Cr(r)&&r.name==="AuthApiError"}class mC extends B5{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class bu extends B5{constructor(e,t,n,s){super(e,n,s),this.name=t,this.status=n}}class bc extends bu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $L(r){return Cr(r)&&r.name==="AuthSessionMissingError"}class Xm extends bu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ym extends bu{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Jm extends bu{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function VL(r){return Cr(r)&&r.name==="AuthImplicitGrantRedirectError"}class k6 extends bu{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Aw extends bu{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Sy(r){return Cr(r)&&r.name==="AuthRetryableFetchError"}class A6 extends bu{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class D0 extends bu{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const C1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),T6=` 	
\r=`.split(""),HL=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<T6.length;e+=1)r[T6[e].charCodeAt(0)]=-2;for(let e=0;e<C1.length;e+=1)r[C1[e].charCodeAt(0)]=e;return r})();function C6(r,e,t){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(C1[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(C1[n]),e.queuedBits-=6}}function gC(r,e,t){const n=HL[r];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function N6(r){const e=[],t=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{WL(a,n,t)};for(let a=0;a<r.length;a+=1)gC(r.charCodeAt(a),s,i);return e.join("")}function zL(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function qL(r,e){for(let t=0;t<r.length;t+=1){let n=r.charCodeAt(t);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(r.charCodeAt(t+1)-56320&65535|s)+65536,t+=1}zL(n,e)}}function WL(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let n=1;n<6;n+=1)if(!(r>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function GL(r){const e=[],t={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<r.length;s+=1)gC(r.charCodeAt(s),t,n);return new Uint8Array(e)}function KL(r){const e=[];return qL(r,t=>e.push(t)),new Uint8Array(e)}function XL(r){const e=[],t={queue:0,queuedBits:0},n=s=>{e.push(s)};return r.forEach(s=>C6(s,t,n)),C6(null,t,n),e.join("")}function YL(r){return Math.round(Date.now()/1e3)+r}function JL(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const Ja=()=>typeof window<"u"&&typeof document<"u",Ou={tested:!1,writable:!1},R0=()=>{if(!Ja())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ou.tested)return Ou.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Ou.tested=!0,Ou.writable=!0}catch{Ou.tested=!0,Ou.writable=!1}return Ou.writable};function QL(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return t.searchParams.forEach((n,s)=>{e[s]=n}),e}const vC=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>ho(async()=>{const{default:n}=await Promise.resolve().then(()=>vd);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},ZL=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",yC=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},Qm=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Zm=async(r,e)=>{await r.removeItem(e)};let bC=class wC{constructor(){this.promise=new wC.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}};bC.promiseConstructor=Promise;function Ey(r){const e=r.split(".");if(e.length!==3)throw new D0("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!LL.test(e[n]))throw new D0("JWT not in base64url format");return{header:JSON.parse(N6(e[0])),payload:JSON.parse(N6(e[1])),signature:GL(e[2]),raw:{header:e[0],payload:e[1]}}}async function ej(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function tj(r,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await r(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function rj(r){return("0"+r.toString(16)).substr(-2)}function nj(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let s="";for(let i=0;i<56;i++)s+=t.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,rj).join("")}async function sj(r){const t=new TextEncoder().encode(r),n=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function ij(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await sj(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xh(r,e,t=!1){const n=nj();let s=n;t&&(s+="/PASSWORD_RECOVERY"),await yC(r,`${e}-code-verifier`,s);const i=await ij(n);return[i,n===i?"plain":"s256"]}const aj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function oj(r){const e=r.headers.get(kw);if(!e||!e.match(aj))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function lj(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function cj(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const uj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Yh(r){if(!uj.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var hj=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(t[n[s]]=r[n[s]]);return t};const ju=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),fj=[502,503,504];async function D6(r){var e;if(!ZL(r))throw new Aw(ju(r),0);if(fj.includes(r.status))throw new Aw(ju(r),r.status);let t;try{t=await r.json()}catch(i){throw new mC(ju(i),i)}let n;const s=oj(r);if(s&&s.getTime()>=pC["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new A6(ju(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new bc}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new A6(ju(t),r.status,t.weak_password.reasons);throw new BL(ju(t),r.status||500,n)}const dj=(r,e,t,n)=>{const s={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),t))};async function Pr(r,e,t,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[kw]||(i[kw]=pC["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await pj(r,e,t+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function pj(r,e,t,n,s,i){const a=dj(e,n,s,i);let o;try{o=await r(t,Object.assign({},a))}catch(l){throw console.error(l),new Aw(ju(l),0)}if(o.ok||await D6(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await D6(l)}}function fl(r){var e;let t=null;yj(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=YL(r.expires_in)));const n=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:n},error:null}}function R6(r){const e=fl(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=r.weak_password),e}function Cc(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function mj(r){return{data:r,error:null}}function gj(r){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:s,verification_type:i}=r,a=hj(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:t,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function vj(r){return r}function yj(r){return r.access_token&&r.refresh_token&&r.expires_in}const ky=["global","local","others"];var bj=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(t[n[s]]=r[n[s]]);return t};class wj{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=vC(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=ky[0]){if(ky.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ky.join(", ")}`);try{return await Pr(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Cr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await Pr(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Cc})}catch(n){if(Cr(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=bj(e,["options"]),s=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Pr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:gj,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(Cr(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Pr(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Cc})}catch(t){if(Cr(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,s,i,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Pr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:vj});if(u.error)throw u.error;const d=await u.json(),h=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),p=JSON.parse(m.split(";")[1].split("=")[1]);c[`${p}Page`]=g}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(Cr(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Yh(e);try{return await Pr(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Cc})}catch(t){if(Cr(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Yh(e);try{return await Pr(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Cc})}catch(n){if(Cr(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){Yh(e);try{return await Pr(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Cc})}catch(n){if(Cr(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Yh(e.userId);try{const{data:t,error:n}=await Pr(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:t,error:n}}catch(t){if(Cr(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Yh(e.userId),Yh(e.id);try{return{data:await Pr(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Cr(t))return{data:null,error:t};throw t}}}const xj={getItem:r=>R0()?globalThis.localStorage.getItem(r):null,setItem:(r,e)=>{R0()&&globalThis.localStorage.setItem(r,e)},removeItem:r=>{R0()&&globalThis.localStorage.removeItem(r)}};function I6(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function _j(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Jh={debug:!!(globalThis&&R0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class xC extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Sj extends xC{}async function Ej(r,e,t){Jh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Jh.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Jh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,s.name);try{return await t()}finally{Jh.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,s.name)}}else{if(e===0)throw Jh.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Sj(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Jh.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}_j();const kj={url:OL,storageKey:ML,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:FL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function P6(r,e,t){return await t()}class pp{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=pp.nextInstanceID,pp.nextInstanceID+=1,this.instanceID>0&&Ja()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},kj),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new wj({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=vC(s.fetch),this.lock=s.lock||P6,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ja()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=Ej:this.lock=P6,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:R0()?this.storage=xj:(this.memoryStorage={},this.storage=I6(this.memoryStorage)):(this.memoryStorage={},this.storage=I6(this.memoryStorage)),Ja()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${dC}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=QL(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),Ja()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(t,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),VL(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Cr(t)?{error:t}:{error:new mC("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,s;try{const i=await Pr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:fl}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Cr(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var t,n,s;try{let i;if("email"in e){const{email:u,password:d,options:h}=e;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Xh(this.storage,this.storageKey)),i=await Pr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(t=h==null?void 0:h.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:m},xform:fl})}else if("phone"in e){const{phone:u,password:d,options:h}=e;i=await Pr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:fl})}else throw new Ym("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Cr(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:i,password:a,options:o}=e;t=await Pr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:R6})}else if("phone"in e){const{phone:i,password:a,options:o}=e;t=await Pr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:R6})}else throw new Ym("You must provide either an email or phone number and a password");const{data:n,error:s}=t;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Xm}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(t){if(Cr(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if(t==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,n,s,i,a,o,l,c,u,d,h,f;let m,g;if("message"in e)m=e.message,g=e.signature;else{const{chain:p,wallet:v,statement:y,options:b}=e;let E;if(Ja())if(typeof v=="object")E=v;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))E=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=v}const N=new URL((t=b==null?void 0:b.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in E&&E.signIn){const j=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),y?{statement:y}:null));let D;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")D=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)D=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)m=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),g=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${N.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(s=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((d=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...b.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const j=await E.signMessage(new TextEncoder().encode(m),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=j}}try{const{data:p,error:v}=await Pr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:XL(g)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:fl});if(v)throw v;return!p||!p.session||!p.user?{data:{user:null,session:null},error:new Xm}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:Object.assign({},p),error:v})}catch(p){if(Cr(p))return{data:{user:null,session:null},error:p};throw p}}async _exchangeCodeForSession(e){const t=await Qm(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(t??"").split("/");try{const{data:i,error:a}=await Pr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:fl});if(await Zm(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Xm}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(Cr(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:t,provider:n,token:s,access_token:i,nonce:a}=e,o=await Pr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:fl}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Xm}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(t){if(Cr(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,s,i,a;try{if("email"in e){const{email:o,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Xh(this.storage,this.storageKey));const{error:d}=await Pr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:u}=await Pr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Ym("You must provide either an email or phone number.")}catch(o){if(Cr(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var t,n;try{let s,i;"options"in e&&(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await Pr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:fl});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(Cr(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var t,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await Xh(this.storage,this.storageKey)),await Pr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:mj})}catch(i){if(Cr(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new bc;const{error:s}=await Pr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(Cr(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await Pr(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:o}=await Pr(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new Ym("You must provide either an email or phone number and a type")}catch(t){if(Cr(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Qm(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<_y:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Pr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Cc}):await this._useSession(async t=>{var n,s,i;const{data:a,error:o}=t;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new bc}:await Pr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Cc})})}catch(t){if(Cr(t))return $L(t)&&(await this._removeSession(),await Zm(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new bc;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Xh(this.storage,this.storageKey));const{data:c,error:u}=await Pr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Cc});if(u)throw u;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(Cr(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new bc;const t=Date.now()/1e3;let n=t,s=!0,i=null;const{payload:a}=Ey(e.access_token);if(a.exp&&(n=a.exp,s=n<=t),s){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(Cr(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:a,error:o}=t;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new bc;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(Cr(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Ja())throw new Jm("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Jm(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new k6("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Jm("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new k6("No code detected.");const{data:y,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=e;if(!i||!o||!a||!c)throw new Jm("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(o);let h=u+d;l&&(h=parseInt(l));const f=h-u;f*1e3<=rf&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const m=h-d;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,u);const{data:g,error:p}=await this._getUser(i);if(p)throw p;const v={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:a,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:e.type},error:null}}catch(n){if(Cr(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Qm(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:s,error:i}=t;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(UL(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await Zm(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=JL(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,s;try{const{data:{session:i},error:a}=t;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,t={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Xh(this.storage,this.storageKey,!0));try{return await Pr(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(Cr(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(Cr(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,l,c,u;const{data:d,error:h}=i;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Pr(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Ja()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Cr(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,s;const{data:i,error:a}=t;if(a)throw a;return await Pr(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(t){if(Cr(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await tj(async s=>(s>0&&await ej(200*Math.pow(2,s-1)),this._debug(t,"refreshing attempt",s),await Pr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:fl})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Sy(i)&&Date.now()+a-n<rf})}catch(n){if(this._debug(t,"error",n),Cr(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Ja()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await Qm(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n)){this._debug(t,"session is not valid"),n!==null&&await this._removeSession();return}const s=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<_y;if(this._debug(t,`session has${s?"":" not"} expired with margin of ${_y}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Sy(i)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(t,"error",n),console.error(n);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new bc;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new bC;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new bc;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),Cr(i)){const a={session:null,error:i};return Sy(i)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,t)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await yC(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Zm(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ja()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),rf);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/rf);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${rf}ms, refresh threshold is ${Ew} ticks`),s<=Ew&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof xC)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ja()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const s=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Xh(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:s,error:i}=t;return i?{data:null,error:i}:await Pr(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(Cr(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,s;const{data:i,error:a}=t;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await Pr(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(t){if(Cr(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:s,error:i}=t;if(i)return{data:null,error:i};const{data:a,error:o}=await Pr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(t){if(Cr(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:s,error:i}=t;return i?{data:null,error:i}:await Pr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(Cr(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(e==null?void 0:e.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Ey(s.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((n=(t=s.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(a=>a.kid===e);if(n||(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+jL>Date.now()))return n;const{data:s,error:i}=await Pr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new D0("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(a=>a.kid===e),!n)throw new D0("No matching signing key found in JWKS");return n}async getClaims(e,t={keys:[]}){try{let n=e;if(!n){const{data:f,error:m}=await this.getSession();if(m||!f.session)return{data:null,error:m};n=f.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:l}}=Ey(n);if(lj(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:i,header:s,signature:a},error:null}}const c=cj(s.alg),u=await this.fetchJwk(s.kid,t),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,a,KL(`${o}.${l}`)))throw new D0("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(Cr(n))return{data:null,error:n};throw n}}}pp.nextInstanceID=0;const Aj=pp;class Tj extends Aj{constructor(e){super(e)}}var Cj=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):s(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})};class Nj{constructor(e,t,n){var s,i,a;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const o=IL(e),l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:EL,realtime:AL,auth:Object.assign(Object.assign({},kL),{storageKey:c}),global:SL},d=PL(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=DL(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new WF(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new _F(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new wL(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Cj(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(t=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:o,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Tj({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),c),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:s,flowType:a,lock:o,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new oL(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Dj=(r,e,t)=>new Nj(r,e,t),Rj="https://zndkprjytuhzufdqhnmt.supabase.co",Ij="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpuZGtwcmp5dHVoenVmZHFobm10Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM0OTg5OTgsImV4cCI6MjA1OTA3NDk5OH0._1xM__KPGNlr3HG3-An2fy3kKfIxWU-AXJnrMpdWYok",Xt=Dj(Rj,Ij),Tw=["Ar","Ta","Ge","Cn","Le","Vi","Li","Sc","Sg","Cp","Aq","Pi"],Pj=["Su","Mo","Ma","Me","Ju","Ve","Sa","Ra","Ke"],Mi=["D-1","D-9","D-10","D-3","D-4","D-7","D-12","D-27","D-30","D-60","D-5","D-11","D-81","D-108","D-144"],Ay={group1:["Ar","Cn","Li","Cp"],group2:["Ta","Le","Sc","Aq"],group3:["Ge","Vi","Sg","Pi"]},Oj=["Ar","Ta","Ge"],Vu=r=>Ay.group1.includes(r)?"bg-[#DCEDC1] text-black":Ay.group2.includes(r)?"bg-[#FFD3B6] text-black":Ay.group3.includes(r)?"bg-[#FFAAA5] text-black":"",O6=r=>Oj.includes(r)?"font-bold":"",Mj=(r,e)=>{if(!r||!e)return null;const t=Tw.indexOf(r),n=Tw.indexOf(e);if(t===-1||n===-1)return null;if(r===e)return 1;let s=1,i=t;for(;i!==n;)i=(i+1)%12,s++;return s},Cw=(r,e)=>{const t={},n=Object.entries(e).sort(([s],[i])=>Number(s)-Number(i)).map(([s,i])=>({day:Number(s),date:i}));for(let s=0;s<n.length-1;s++){const i=n[s],a=n[s+1];[...new Set(r.map(l=>l.hr_number))].forEach(l=>{const c=r.filter(d=>d.date===i.date&&d.hr_number===l),u=r.filter(d=>d.date===a.date&&d.hr_number===l);Mi.forEach(d=>{var m,g;const h=(m=c.find(p=>p.topic===d))==null?void 0:m.planet_house,f=(g=u.find(p=>p.topic===d))==null?void 0:g.planet_house;if(console.log(`HR: ${l}, Division: ${d}, Current Date: ${i.date}, Next Date: ${a.date}, Current House: ${h}, Next House: ${f}`),h&&f){const p=Mj(h,f);if(p!==null){const v=parseInt(l.split("-")[1]);t[`${v}_${d}_${a.day}`]=p}}})})}return t},Fj=(r,e,t)=>{const n={};for(let s=1;s<=t;s++)n[s]={Ar:0,Ta:0,Ge:0};return r.forEach(s=>{var o;if(!s.planet_house||s.date!==e)return;const i=(o=s.hr_number)==null?void 0:o.match(/\d+$/),a=i?parseInt(i[0]):null;a&&a<=t&&(["Ar","Cn","Li","Cp"].includes(s.planet_house)?n[a].Ar++:["Ta","Le","Sc","Aq"].includes(s.planet_house)?n[a].Ta++:["Ge","Vi","Sg","Pi"].includes(s.planet_house)&&n[a].Ge++)}),n};function Lj({onAddDate:r,existingDates:e}){const[t,n]=Ae.useState(""),[s,i]=Ae.useState(""),a=()=>{if(!e||e.length===0)return"";const l=[...e].sort((u,d)=>new Date(d)-new Date(u)),c=new Date(l[0]);return c.setDate(c.getDate()+1),c.toISOString().split("T")[0]},o=async l=>{if(l.preventDefault(),i(""),!t){i("Select date");return}if(e.includes(t)){i("Date exists");return}await r(t)&&n("")};return G.jsxs("form",{onSubmit:o,className:"flex items-center gap-1",children:[G.jsx("input",{type:"date",value:t,onChange:l=>n(l.target.value),min:a(),className:"text-xs rounded border-gray-300",title:e.length>0?`Dates up to and including ${new Date(e.sort((l,c)=>new Date(c)-new Date(l))[0]).toLocaleDateString()} are disabled`:""}),G.jsx("button",{type:"submit",className:"bg-green-500 text-white px-2 py-1 text-xs rounded hover:bg-green-600",children:"Add"}),s&&G.jsx("span",{className:"text-xs text-red-600",children:s})]})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var _C=1252,jj=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],U5={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},$5=function(r){jj.indexOf(r)!=-1&&(_C=U5[0]=r)};function Bj(){$5(1252)}var io=function(r){$5(r)};function SC(){io(1200),Bj()}function M6(r){for(var e=[],t=0,n=r.length;t<n;++t)e[t]=r.charCodeAt(t);return e}function Uj(r){for(var e=[],t=0;t<r.length>>1;++t)e[t]=String.fromCharCode(r.charCodeAt(2*t)+(r.charCodeAt(2*t+1)<<8));return e.join("")}function EC(r){for(var e=[],t=0;t<r.length>>1;++t)e[t]=String.fromCharCode(r.charCodeAt(2*t+1)+(r.charCodeAt(2*t)<<8));return e.join("")}var u0=function(r){var e=r.charCodeAt(0),t=r.charCodeAt(1);return e==255&&t==254?Uj(r.slice(2)):e==254&&t==255?EC(r.slice(2)):e==65279?r.slice(1):r},eg=function(e){return String.fromCharCode(e)},F6=function(e){return String.fromCharCode(e)},Nw,Lc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function L6(r){for(var e="",t=0,n=0,s=0,i=0,a=0,o=0,l=0,c=0;c<r.length;)t=r.charCodeAt(c++),i=t>>2,n=r.charCodeAt(c++),a=(t&3)<<4|n>>4,s=r.charCodeAt(c++),o=(n&15)<<2|s>>6,l=s&63,isNaN(n)?o=l=64:isNaN(s)&&(l=64),e+=Lc.charAt(i)+Lc.charAt(a)+Lc.charAt(o)+Lc.charAt(l);return e}function la(r){var e="",t=0,n=0,s=0,i=0,a=0,o=0,l=0;r=r.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<r.length;)i=Lc.indexOf(r.charAt(c++)),a=Lc.indexOf(r.charAt(c++)),t=i<<2|a>>4,e+=String.fromCharCode(t),o=Lc.indexOf(r.charAt(c++)),n=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),l=Lc.indexOf(r.charAt(c++)),s=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(s));return e}var Ur=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),bh=function(){if(typeof Buffer<"u"){var r=!Buffer.from;if(!r)try{Buffer.from("foo","utf8")}catch{r=!0}return r?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function su(r){return Ur?Buffer.alloc?Buffer.alloc(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}function j6(r){return Ur?Buffer.allocUnsafe?Buffer.allocUnsafe(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}var so=function(e){return Ur?bh(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function wh(r){if(Array.isArray(r))return r.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],t=0;t<r.length;++t)e[t]=String.fromCharCode(r[t]);return e.join("")}function V5(r){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(r instanceof ArrayBuffer)return V5(new Uint8Array(r));for(var e=new Array(r.length),t=0;t<r.length;++t)e[t]=r[t];return e}var Nc=Ur?function(r){return Buffer.concat(r.map(function(e){return Buffer.isBuffer(e)?e:bh(e)}))}:function(r){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<r.length;++e)t+=r[e].length;var n=new Uint8Array(t),s=0;for(e=0,t=0;e<r.length;t+=s,++e)if(s=r[e].length,r[e]instanceof Uint8Array)n.set(r[e],t);else{if(typeof r[e]=="string")throw"wtf";n.set(new Uint8Array(r[e]),t)}return n}return[].concat.apply([],r.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function $j(r){for(var e=[],t=0,n=r.length+250,s=su(r.length+255),i=0;i<r.length;++i){var a=r.charCodeAt(i);if(a<128)s[t++]=a;else if(a<2048)s[t++]=192|a>>6&31,s[t++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=r.charCodeAt(++i)&1023;s[t++]=240|a>>8&7,s[t++]=128|a>>2&63,s[t++]=128|o>>6&15|(a&3)<<4,s[t++]=128|o&63}else s[t++]=224|a>>12&15,s[t++]=128|a>>6&63,s[t++]=128|a&63;t>n&&(e.push(s.slice(0,t)),t=0,s=su(65535),n=65530)}return e.push(s.slice(0,t)),Nc(e)}var Ei=/\u0000/g,h0=/[\u0001-\u0006]/g;function If(r){for(var e="",t=r.length-1;t>=0;)e+=r.charAt(t--);return e}function ao(r,e){var t=""+r;return t.length>=e?t:Ln("0",e-t.length)+t}function H5(r,e){var t=""+r;return t.length>=e?t:Ln(" ",e-t.length)+t}function N1(r,e){var t=""+r;return t.length>=e?t:t+Ln(" ",e-t.length)}function Vj(r,e){var t=""+Math.round(r);return t.length>=e?t:Ln("0",e-t.length)+t}function Hj(r,e){var t=""+r;return t.length>=e?t:Ln("0",e-t.length)+t}var B6=Math.pow(2,32);function Qh(r,e){if(r>B6||r<-B6)return Vj(r,e);var t=Math.round(r);return Hj(t,e)}function D1(r,e){return e=e||0,r.length>=7+e&&(r.charCodeAt(e)|32)===103&&(r.charCodeAt(e+1)|32)===101&&(r.charCodeAt(e+2)|32)===110&&(r.charCodeAt(e+3)|32)===101&&(r.charCodeAt(e+4)|32)===114&&(r.charCodeAt(e+5)|32)===97&&(r.charCodeAt(e+6)|32)===108}var U6=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Ty=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function zj(r){return r||(r={}),r[0]="General",r[1]="0",r[2]="0.00",r[3]="#,##0",r[4]="#,##0.00",r[9]="0%",r[10]="0.00%",r[11]="0.00E+00",r[12]="# ?/?",r[13]="# ??/??",r[14]="m/d/yy",r[15]="d-mmm-yy",r[16]="d-mmm",r[17]="mmm-yy",r[18]="h:mm AM/PM",r[19]="h:mm:ss AM/PM",r[20]="h:mm",r[21]="h:mm:ss",r[22]="m/d/yy h:mm",r[37]="#,##0 ;(#,##0)",r[38]="#,##0 ;[Red](#,##0)",r[39]="#,##0.00;(#,##0.00)",r[40]="#,##0.00;[Red](#,##0.00)",r[45]="mm:ss",r[46]="[h]:mm:ss",r[47]="mmss.0",r[48]="##0.0E+0",r[49]="@",r[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',r}var Nr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},$6={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},qj={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function R1(r,e,t){for(var n=r<0?-1:1,s=r*n,i=0,a=1,o=0,l=1,c=0,u=0,d=Math.floor(s);c<e&&(d=Math.floor(s),o=d*a+i,u=d*c+l,!(s-d<5e-8));)s=1/(s-d),i=a,a=o,l=c,c=u;if(u>e&&(c>e?(u=l,o=i):(u=c,o=a)),!t)return[0,n*o,u];var h=Math.floor(n*o/u);return[h,n*o-h*u,u]}function Ku(r,e,t){if(r>2958465||r<0)return null;var n=r|0,s=Math.floor(86400*(r-n)),i=0,a=[],o={D:n,T:s,u:86400*(r-n)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++s==86400&&(o.T=s=0,++n,++o.D)),n===60)a=t?[1317,10,29]:[1900,2,29],i=3;else if(n===0)a=t?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),t&&(i=Jj(l,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=s%60,s=Math.floor(s/60),o.M=s%60,s=Math.floor(s/60),o.H=s,o.q=i,o}var kC=new Date(1899,11,31,0,0,0),Wj=kC.getTime(),Gj=new Date(1900,2,1,0,0,0);function AC(r,e){var t=r.getTime();return e?t-=1461*24*60*60*1e3:r>=Gj&&(t+=24*60*60*1e3),(t-(Wj+(r.getTimezoneOffset()-kC.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function z5(r){return r.indexOf(".")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Kj(r){return r.indexOf("E")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Xj(r){var e=r<0?12:11,t=z5(r.toFixed(12));return t.length<=e||(t=r.toPrecision(10),t.length<=e)?t:r.toExponential(5)}function Yj(r){var e=z5(r.toFixed(11));return e.length>(r<0?12:11)||e==="0"||e==="-0"?r.toPrecision(6):e}function mp(r){var e=Math.floor(Math.log(Math.abs(r))*Math.LOG10E),t;return e>=-4&&e<=-1?t=r.toPrecision(10+e):Math.abs(e)<=9?t=Xj(r):e===10?t=r.toFixed(10).substr(0,12):t=Yj(r),z5(Kj(t.toUpperCase()))}function lh(r,e){switch(typeof r){case"string":return r;case"boolean":return r?"TRUE":"FALSE";case"number":return(r|0)===r?r.toString(10):mp(r);case"undefined":return"";case"object":if(r==null)return"";if(r instanceof Date)return Pa(14,AC(r,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+r)}function Jj(r,e){e[0]-=581;var t=r.getDay();return r<60&&(t=(t+6)%7),t}function Qj(r,e,t,n){var s="",i=0,a=0,o=t.y,l,c=0;switch(r){case 98:o=t.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(e.length){case 1:case 2:l=t.m,c=e.length;break;case 3:return Ty[t.m-1][1];case 5:return Ty[t.m-1][0];default:return Ty[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=t.d,c=e.length;break;case 3:return U6[t.q][0];default:return U6[t.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(t.H+11)%12,c=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=t.H,c=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=t.M,c=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?ao(t.S,e.length):(n>=2?a=n===3?1e3:100:a=n===1?10:1,i=Math.round(a*(t.S+t.u)),i>=60*a&&(i=0),e==="s"?i===0?"0":""+i/a:(s=ao(i,2+n),e==="ss"?s.substr(0,2):"."+s.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=t.D*24+t.H;break;case"[m]":case"[mm]":l=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":l=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}c=e.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?ao(l,c):"";return u}function jc(r){var e=3;if(r.length<=e)return r;for(var t=r.length%e,n=r.substr(0,t);t!=r.length;t+=e)n+=(n.length>0?",":"")+r.substr(t,e);return n}var TC=/%/g;function Zj(r,e,t){var n=e.replace(TC,""),s=e.length-n.length;return Sl(r,n,t*Math.pow(10,2*s))+Ln("%",s)}function eB(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Sl(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function CC(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+CC(r,-e);var s=r.indexOf(".");s===-1&&(s=r.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%s;if(i<0&&(i+=s),t=(e/Math.pow(10,i)).toPrecision(n+1+(s+i)%s),t.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(a-t.length+i):t+="E+"+(a-i);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,s)+"."+t.substr(2+s),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(s+i)%s)+"."+u.substr(i)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var NC=/# (\?+)( ?)\/( ?)(\d+)/;function tB(r,e,t){var n=parseInt(r[4],10),s=Math.round(e*n),i=Math.floor(s/n),a=s-i*n,o=n;return t+(i===0?"":""+i)+" "+(a===0?Ln(" ",r[1].length+1+r[4].length):H5(a,r[1].length)+r[2]+"/"+r[3]+ao(o,r[4].length))}function rB(r,e,t){return t+(e===0?"":""+e)+Ln(" ",r[1].length+2+r[4].length)}var DC=/^#*0*\.([0#]+)/,RC=/\).*[0#]/,IC=/\(###\) ###\\?-####/;function wi(r){for(var e="",t,n=0;n!=r.length;++n)switch(t=r.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function V6(r,e){var t=Math.pow(10,e);return""+Math.round(r*t)/t}function H6(r,e){var t=r-Math.floor(r),n=Math.pow(10,e);return e<(""+Math.round(t*n)).length?0:Math.round(t*n)}function nB(r,e){return e<(""+Math.round((r-Math.floor(r))*Math.pow(10,e))).length?1:0}function sB(r){return r<2147483647&&r>-2147483648?""+(r>=0?r|0:r-1|0):""+Math.floor(r)}function Sa(r,e,t){if(r.charCodeAt(0)===40&&!e.match(RC)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Sa("n",n,t):"("+Sa("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return eB(r,e,t);if(e.indexOf("%")!==-1)return Zj(r,e,t);if(e.indexOf("E")!==-1)return CC(e,t);if(e.charCodeAt(0)===36)return"$"+Sa(r,e.substr(e.charAt(1)==" "?2:1),t);var s,i,a,o,l=Math.abs(t),c=t<0?"-":"";if(e.match(/^00+$/))return c+Qh(l,e.length);if(e.match(/^[#?]+$/))return s=Qh(t,0),s==="0"&&(s=""),s.length>e.length?s:wi(e.substr(0,e.length-s.length))+s;if(i=e.match(NC))return tB(i,l,c);if(e.match(/^#+0+$/))return c+Qh(l,e.length-e.indexOf("0"));if(i=e.match(DC))return s=V6(t,i[1].length).replace(/^([^\.]+)$/,"$1."+wi(i[1])).replace(/\.$/,"."+wi(i[1])).replace(/\.(\d*)$/,function(m,g){return"."+g+Ln("0",wi(i[1]).length-g.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return c+V6(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return c+jc(Qh(l,0));if(i=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Sa(r,e,-t):jc(""+(Math.floor(t)+nB(t,i[1].length)))+"."+ao(H6(t,i[1].length),i[1].length);if(i=e.match(/^#,#*,#0/))return Sa(r,e.replace(/^#,#*,/,""),t);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=If(Sa(r,e.replace(/[\\-]/g,""),t)),a=0,If(If(e.replace(/\\/g,"")).replace(/[0#]/g,function(m){return a<s.length?s.charAt(a++):m==="0"?"0":""}));if(e.match(IC))return s=Sa(r,"##########",t),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var u="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(i[4].length,7),o=R1(l,Math.pow(10,a)-1,!1),s=""+c,u=Sl("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),s+=u+i[2]+"/"+i[3],u=N1(o[2],a),u.length<i[4].length&&(u=wi(i[4].substr(i[4].length-u.length))+u),s+=u,s;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(i[1].length,i[4].length),7),o=R1(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?H5(o[1],a)+i[2]+"/"+i[3]+N1(o[2],a):Ln(" ",2*a+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return s=Qh(t,0),e.length<=s.length?s:wi(e.substr(0,e.length-s.length))+s;if(i=e.match(/^([#0?]+)\.([#0]+)$/)){s=""+t.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),a=s.indexOf(".");var d=e.indexOf(".")-a,h=e.length-s.length-d;return wi(e.substr(0,d)+s+e.substr(e.length-h))}if(i=e.match(/^00,000\.([#0]*0)$/))return a=H6(t,i[1].length),t<0?"-"+Sa(r,e,-t):jc(sB(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?ao(0,3-m.length):"")+m})+"."+ao(a,i[1].length);switch(e){case"###,##0.00":return Sa(r,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var f=jc(Qh(l,0));return f!=="0"?c+f:"";case"###,###.00":return Sa(r,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return Sa(r,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function iB(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Sl(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function aB(r,e,t){var n=e.replace(TC,""),s=e.length-n.length;return Sl(r,n,t*Math.pow(10,2*s))+Ln("%",s)}function PC(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+PC(r,-e);var s=r.indexOf(".");s===-1&&(s=r.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%s;if(i<0&&(i+=s),t=(e/Math.pow(10,i)).toPrecision(n+1+(s+i)%s),!t.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(a-t.length+i):t+="E+"+(a-i),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(s+i)%s)+"."+u.substr(i)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function Co(r,e,t){if(r.charCodeAt(0)===40&&!e.match(RC)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Co("n",n,t):"("+Co("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return iB(r,e,t);if(e.indexOf("%")!==-1)return aB(r,e,t);if(e.indexOf("E")!==-1)return PC(e,t);if(e.charCodeAt(0)===36)return"$"+Co(r,e.substr(e.charAt(1)==" "?2:1),t);var s,i,a,o,l=Math.abs(t),c=t<0?"-":"";if(e.match(/^00+$/))return c+ao(l,e.length);if(e.match(/^[#?]+$/))return s=""+t,t===0&&(s=""),s.length>e.length?s:wi(e.substr(0,e.length-s.length))+s;if(i=e.match(NC))return rB(i,l,c);if(e.match(/^#+0+$/))return c+ao(l,e.length-e.indexOf("0"));if(i=e.match(DC))return s=(""+t).replace(/^([^\.]+)$/,"$1."+wi(i[1])).replace(/\.$/,"."+wi(i[1])),s=s.replace(/\.(\d*)$/,function(m,g){return"."+g+Ln("0",wi(i[1]).length-g.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return c+jc(""+l);if(i=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Co(r,e,-t):jc(""+t)+"."+Ln("0",i[1].length);if(i=e.match(/^#,#*,#0/))return Co(r,e.replace(/^#,#*,/,""),t);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=If(Co(r,e.replace(/[\\-]/g,""),t)),a=0,If(If(e.replace(/\\/g,"")).replace(/[0#]/g,function(m){return a<s.length?s.charAt(a++):m==="0"?"0":""}));if(e.match(IC))return s=Co(r,"##########",t),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var u="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(i[4].length,7),o=R1(l,Math.pow(10,a)-1,!1),s=""+c,u=Sl("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),s+=u+i[2]+"/"+i[3],u=N1(o[2],a),u.length<i[4].length&&(u=wi(i[4].substr(i[4].length-u.length))+u),s+=u,s;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(i[1].length,i[4].length),7),o=R1(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?H5(o[1],a)+i[2]+"/"+i[3]+N1(o[2],a):Ln(" ",2*a+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return s=""+t,e.length<=s.length?s:wi(e.substr(0,e.length-s.length))+s;if(i=e.match(/^([#0]+)\.([#0]+)$/)){s=""+t.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),a=s.indexOf(".");var d=e.indexOf(".")-a,h=e.length-s.length-d;return wi(e.substr(0,d)+s+e.substr(e.length-h))}if(i=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+Co(r,e,-t):jc(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?ao(0,3-m.length):"")+m})+"."+ao(0,i[1].length);switch(e){case"###,###":case"##,###":case"#,###":var f=jc(""+l);return f!=="0"?c+f:"";default:if(e.match(/\.[0#?]*$/))return Co(r,e.slice(0,e.lastIndexOf(".")),t)+wi(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Sl(r,e,t){return(t|0)===t?Co(r,e,t):Sa(r,e,t)}function oB(r){for(var e=[],t=!1,n=0,s=0;n<r.length;++n)switch(r.charCodeAt(n)){case 34:t=!t;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=r.substr(s,n-s),s=n+1}if(e[e.length]=r.substr(s),t===!0)throw new Error("Format |"+r+"| unterminated string ");return e}var OC=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function bd(r){for(var e=0,t="",n="";e<r.length;)switch(t=r.charAt(e)){case"G":D1(r,e)&&(e+=6),e++;break;case'"':for(;r.charCodeAt(++e)!==34&&e<r.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(r.charAt(e+1)==="1"||r.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(r.substr(e,3).toUpperCase()==="A/P"||r.substr(e,5).toUpperCase()==="AM/PM"||r.substr(e,5).toUpperCase()==="上午/下午")return!0;++e;break;case"[":for(n=t;r.charAt(e++)!=="]"&&e<r.length;)n+=r.charAt(e);if(n.match(OC))return!0;break;case".":case"0":case"#":for(;e<r.length&&("0#?.,E+-%".indexOf(t=r.charAt(++e))>-1||t=="\\"&&r.charAt(e+1)=="-"&&"0#".indexOf(r.charAt(e+2))>-1););break;case"?":for(;r.charAt(++e)===t;);break;case"*":++e,(r.charAt(e)==" "||r.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<r.length&&"0123456789".indexOf(r.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function lB(r,e,t,n){for(var s=[],i="",a=0,o="",l="t",c,u,d,h="H";a<r.length;)switch(o=r.charAt(a)){case"G":if(!D1(r,a))throw new Error("unrecognized character "+o+" in "+r);s[s.length]={t:"G",v:"General"},a+=7;break;case'"':for(i="";(d=r.charCodeAt(++a))!==34&&a<r.length;)i+=String.fromCharCode(d);s[s.length]={t:"t",v:i},++a;break;case"\\":var f=r.charAt(++a),m=f==="("||f===")"?f:"t";s[s.length]={t:m,v:f},++a;break;case"_":s[s.length]={t:"t",v:" "},a+=2;break;case"@":s[s.length]={t:"T",v:e},++a;break;case"B":case"b":if(r.charAt(a+1)==="1"||r.charAt(a+1)==="2"){if(c==null&&(c=Ku(e,t,r.charAt(a+1)==="2"),c==null))return"";s[s.length]={t:"X",v:r.substr(a,2)},l=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||c==null&&(c=Ku(e,t),c==null))return"";for(i=o;++a<r.length&&r.charAt(a).toLowerCase()===o;)i+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),s[s.length]={t:o,v:i},l=o;break;case"A":case"a":case"上":var g={t:o,v:o};if(c==null&&(c=Ku(e,t)),r.substr(a,3).toUpperCase()==="A/P"?(c!=null&&(g.v=c.H>=12?"P":"A"),g.t="T",h="h",a+=3):r.substr(a,5).toUpperCase()==="AM/PM"?(c!=null&&(g.v=c.H>=12?"PM":"AM"),g.t="T",a+=5,h="h"):r.substr(a,5).toUpperCase()==="上午/下午"?(c!=null&&(g.v=c.H>=12?"下午":"上午"),g.t="T",a+=5,h="h"):(g.t="t",++a),c==null&&g.t==="T")return"";s[s.length]=g,l=o;break;case"[":for(i=o;r.charAt(a++)!=="]"&&a<r.length;)i+=r.charAt(a);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(OC)){if(c==null&&(c=Ku(e,t),c==null))return"";s[s.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",bd(r)||(s[s.length]={t:"t",v:i}));break;case".":if(c!=null){for(i=o;++a<r.length&&(o=r.charAt(a))==="0";)i+=o;s[s.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++a<r.length&&"0#?.,E+-%".indexOf(o=r.charAt(a))>-1;)i+=o;s[s.length]={t:"n",v:i};break;case"?":for(i=o;r.charAt(++a)===o;)i+=o;s[s.length]={t:o,v:i},l=o;break;case"*":++a,(r.charAt(a)==" "||r.charAt(a)=="*")&&++a;break;case"(":case")":s[s.length]={t:n===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;a<r.length&&"0123456789".indexOf(r.charAt(++a))>-1;)i+=r.charAt(a);s[s.length]={t:"D",v:i};break;case" ":s[s.length]={t:o,v:o},++a;break;case"$":s[s.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+r);s[s.length]={t:"t",v:o},++a;break}var p=0,v=0,y;for(a=s.length-1,l="t";a>=0;--a)switch(s[a].t){case"h":case"H":s[a].t=h,l="h",p<1&&(p=1);break;case"s":(y=s[a].v.match(/\.0+$/))&&(v=Math.max(v,y[0].length-1)),p<3&&(p=3);case"d":case"y":case"M":case"e":l=s[a].t;break;case"m":l==="s"&&(s[a].t="M",p<2&&(p=2));break;case"X":break;case"Z":p<1&&s[a].v.match(/[Hh]/)&&(p=1),p<2&&s[a].v.match(/[Mm]/)&&(p=2),p<3&&s[a].v.match(/[Ss]/)&&(p=3)}switch(p){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var b="",E;for(a=0;a<s.length;++a)switch(s[a].t){case"t":case"T":case" ":case"D":break;case"X":s[a].v="",s[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[a].v=Qj(s[a].t.charCodeAt(0),s[a].v,c,v),s[a].t="t";break;case"n":case"?":for(E=a+1;s[E]!=null&&((o=s[E].t)==="?"||o==="D"||(o===" "||o==="t")&&s[E+1]!=null&&(s[E+1].t==="?"||s[E+1].t==="t"&&s[E+1].v==="/")||s[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(s[E].v==="/"||s[E].v===" "&&s[E+1]!=null&&s[E+1].t=="?"));)s[a].v+=s[E].v,s[E]={v:"",t:";"},++E;b+=s[a].v,a=E-1;break;case"G":s[a].t="t",s[a].v=lh(e,t);break}var N="",j,D;if(b.length>0){b.charCodeAt(0)==40?(j=e<0&&b.charCodeAt(0)===45?-e:e,D=Sl("n",b,j)):(j=e<0&&n>1?-e:e,D=Sl("n",b,j),j<0&&s[0]&&s[0].t=="t"&&(D=D.substr(1),s[0].v="-"+s[0].v)),E=D.length-1;var C=s.length;for(a=0;a<s.length;++a)if(s[a]!=null&&s[a].t!="t"&&s[a].v.indexOf(".")>-1){C=a;break}var I=s.length;if(C===s.length&&D.indexOf("E")===-1){for(a=s.length-1;a>=0;--a)s[a]==null||"n?".indexOf(s[a].t)===-1||(E>=s[a].v.length-1?(E-=s[a].v.length,s[a].v=D.substr(E+1,s[a].v.length)):E<0?s[a].v="":(s[a].v=D.substr(0,E+1),E=-1),s[a].t="t",I=a);E>=0&&I<s.length&&(s[I].v=D.substr(0,E+1)+s[I].v)}else if(C!==s.length&&D.indexOf("E")===-1){for(E=D.indexOf(".")-1,a=C;a>=0;--a)if(!(s[a]==null||"n?".indexOf(s[a].t)===-1)){for(u=s[a].v.indexOf(".")>-1&&a===C?s[a].v.indexOf(".")-1:s[a].v.length-1,N=s[a].v.substr(u+1);u>=0;--u)E>=0&&(s[a].v.charAt(u)==="0"||s[a].v.charAt(u)==="#")&&(N=D.charAt(E--)+N);s[a].v=N,s[a].t="t",I=a}for(E>=0&&I<s.length&&(s[I].v=D.substr(0,E+1)+s[I].v),E=D.indexOf(".")+1,a=C;a<s.length;++a)if(!(s[a]==null||"n?(".indexOf(s[a].t)===-1&&a!==C)){for(u=s[a].v.indexOf(".")>-1&&a===C?s[a].v.indexOf(".")+1:0,N=s[a].v.substr(0,u);u<s[a].v.length;++u)E<D.length&&(N+=D.charAt(E++));s[a].v=N,s[a].t="t",I=a}}}for(a=0;a<s.length;++a)s[a]!=null&&"n?".indexOf(s[a].t)>-1&&(j=n>1&&e<0&&a>0&&s[a-1].v==="-"?-e:e,s[a].v=Sl(s[a].t,s[a].v,j),s[a].t="t");var V="";for(a=0;a!==s.length;++a)s[a]!=null&&(V+=s[a].v);return V}var z6=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function q6(r,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(r==t)return!0;break;case">":if(r>t)return!0;break;case"<":if(r<t)return!0;break;case"<>":if(r!=t)return!0;break;case">=":if(r>=t)return!0;break;case"<=":if(r<=t)return!0;break}return!1}function cB(r,e){var t=oB(r),n=t.length,s=t[n-1].indexOf("@");if(n<4&&s>-1&&--n,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||s>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=s>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=s>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=s>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var i=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[n,i];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var a=t[0].match(z6),o=t[1].match(z6);return q6(e,a)?[n,t[0]]:q6(e,o)?[n,t[1]]:[n,t[a!=null&&o!=null?2:1]]}return[n,i]}function Pa(r,e,t){t==null&&(t={});var n="";switch(typeof r){case"string":r=="m/d/yy"&&t.dateNF?n=t.dateNF:n=r;break;case"number":r==14&&t.dateNF?n=t.dateNF:n=(t.table!=null?t.table:Nr)[r],n==null&&(n=t.table&&t.table[$6[r]]||Nr[$6[r]]),n==null&&(n=qj[r]||"General");break}if(D1(n,0))return lh(e,t);e instanceof Date&&(e=AC(e,t.date1904));var s=cB(n,e);if(D1(s[1]))return lh(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return lB(s[1],e,t,s[0])}function Qu(r,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(Nr[t]==null){e<0&&(e=t);continue}if(Nr[t]==r){e=t;break}}e<0&&(e=391)}return Nr[e]=r,e}function MC(){Nr=zj()}var uB={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},FC=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function hB(r){var e=typeof r=="number"?Nr[r]:r;return e=e.replace(FC,"(\\d+)"),new RegExp("^"+e+"$")}function fB(r,e,t){var n=-1,s=-1,i=-1,a=-1,o=-1,l=-1;(e.match(FC)||[]).forEach(function(d,h){var f=parseInt(t[h+1],10);switch(d.toLowerCase().charAt(0)){case"y":n=f;break;case"d":i=f;break;case"h":a=f;break;case"s":l=f;break;case"m":a>=0?o=f:s=f;break}}),l>=0&&o==-1&&s>=0&&(o=s,s=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return a==-1&&o==-1&&l==-1?c:n==-1&&s==-1&&i==-1?u:c+"T"+u}var dB=function(){var r={};r.version="1.2.0";function e(){for(var D=0,C=new Array(256),I=0;I!=256;++I)D=I,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,C[I]=D;return typeof Int32Array<"u"?new Int32Array(C):C}var t=e();function n(D){var C=0,I=0,V=0,B=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(V=0;V!=256;++V)B[V]=D[V];for(V=0;V!=256;++V)for(I=D[V],C=256+V;C<4096;C+=256)I=B[C]=I>>>8^D[I&255];var P=[];for(V=1;V!=16;++V)P[V-1]=typeof Int32Array<"u"?B.subarray(V*256,V*256+256):B.slice(V*256,V*256+256);return P}var s=n(t),i=s[0],a=s[1],o=s[2],l=s[3],c=s[4],u=s[5],d=s[6],h=s[7],f=s[8],m=s[9],g=s[10],p=s[11],v=s[12],y=s[13],b=s[14];function E(D,C){for(var I=C^-1,V=0,B=D.length;V<B;)I=I>>>8^t[(I^D.charCodeAt(V++))&255];return~I}function N(D,C){for(var I=C^-1,V=D.length-15,B=0;B<V;)I=b[D[B++]^I&255]^y[D[B++]^I>>8&255]^v[D[B++]^I>>16&255]^p[D[B++]^I>>>24]^g[D[B++]]^m[D[B++]]^f[D[B++]]^h[D[B++]]^d[D[B++]]^u[D[B++]]^c[D[B++]]^l[D[B++]]^o[D[B++]]^a[D[B++]]^i[D[B++]]^t[D[B++]];for(V+=15;B<V;)I=I>>>8^t[(I^D[B++])&255];return~I}function j(D,C){for(var I=C^-1,V=0,B=D.length,P=0,k=0;V<B;)P=D.charCodeAt(V++),P<128?I=I>>>8^t[(I^P)&255]:P<2048?(I=I>>>8^t[(I^(192|P>>6&31))&255],I=I>>>8^t[(I^(128|P&63))&255]):P>=55296&&P<57344?(P=(P&1023)+64,k=D.charCodeAt(V++)&1023,I=I>>>8^t[(I^(240|P>>8&7))&255],I=I>>>8^t[(I^(128|P>>2&63))&255],I=I>>>8^t[(I^(128|k>>6&15|(P&3)<<4))&255],I=I>>>8^t[(I^(128|k&63))&255]):(I=I>>>8^t[(I^(224|P>>12&15))&255],I=I>>>8^t[(I^(128|P>>6&63))&255],I=I>>>8^t[(I^(128|P&63))&255]);return~I}return r.table=t,r.bstr=E,r.buf=N,r.str=j,r}(),Vr=function(){var e={};e.version="1.2.1";function t(ue,Pe){for(var ye=ue.split("/"),ke=Pe.split("/"),Re=0,Ie=0,Ye=Math.min(ye.length,ke.length);Re<Ye;++Re){if(Ie=ye[Re].length-ke[Re].length)return Ie;if(ye[Re]!=ke[Re])return ye[Re]<ke[Re]?-1:1}return ye.length-ke.length}function n(ue){if(ue.charAt(ue.length-1)=="/")return ue.slice(0,-1).indexOf("/")===-1?ue:n(ue.slice(0,-1));var Pe=ue.lastIndexOf("/");return Pe===-1?ue:ue.slice(0,Pe+1)}function s(ue){if(ue.charAt(ue.length-1)=="/")return s(ue.slice(0,-1));var Pe=ue.lastIndexOf("/");return Pe===-1?ue:ue.slice(Pe+1)}function i(ue,Pe){typeof Pe=="string"&&(Pe=new Date(Pe));var ye=Pe.getHours();ye=ye<<6|Pe.getMinutes(),ye=ye<<5|Pe.getSeconds()>>>1,ue.write_shift(2,ye);var ke=Pe.getFullYear()-1980;ke=ke<<4|Pe.getMonth()+1,ke=ke<<5|Pe.getDate(),ue.write_shift(2,ke)}function a(ue){var Pe=ue.read_shift(2)&65535,ye=ue.read_shift(2)&65535,ke=new Date,Re=ye&31;ye>>>=5;var Ie=ye&15;ye>>>=4,ke.setMilliseconds(0),ke.setFullYear(ye+1980),ke.setMonth(Ie-1),ke.setDate(Re);var Ye=Pe&31;Pe>>>=5;var st=Pe&63;return Pe>>>=6,ke.setHours(Pe),ke.setMinutes(st),ke.setSeconds(Ye<<1),ke}function o(ue){Ms(ue,0);for(var Pe={},ye=0;ue.l<=ue.length-4;){var ke=ue.read_shift(2),Re=ue.read_shift(2),Ie=ue.l+Re,Ye={};switch(ke){case 21589:ye=ue.read_shift(1),ye&1&&(Ye.mtime=ue.read_shift(4)),Re>5&&(ye&2&&(Ye.atime=ue.read_shift(4)),ye&4&&(Ye.ctime=ue.read_shift(4))),Ye.mtime&&(Ye.mt=new Date(Ye.mtime*1e3));break}ue.l=Ie,Pe[ke]=Ye}return Pe}var l;function c(){return l||(l={})}function u(ue,Pe){if(ue[0]==80&&ue[1]==75)return et(ue,Pe);if((ue[0]|32)==109&&(ue[1]|32)==105)return $t(ue,Pe);if(ue.length<512)throw new Error("CFB file size "+ue.length+" < 512");var ye=3,ke=512,Re=0,Ie=0,Ye=0,st=0,tt=0,ct=[],ot=ue.slice(0,512);Ms(ot,0);var At=d(ot);switch(ye=At[0],ye){case 3:ke=512;break;case 4:ke=4096;break;case 0:if(At[1]==0)return et(ue,Pe);default:throw new Error("Major Version: Expected 3 or 4 saw "+ye)}ke!==512&&(ot=ue.slice(0,ke),Ms(ot,28));var Ot=ue.slice(0,ke);h(ot,ye);var Vt=ot.read_shift(4,"i");if(ye===3&&Vt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Vt);ot.l+=4,Ye=ot.read_shift(4,"i"),ot.l+=4,ot.chk("00100000","Mini Stream Cutoff Size: "),st=ot.read_shift(4,"i"),Re=ot.read_shift(4,"i"),tt=ot.read_shift(4,"i"),Ie=ot.read_shift(4,"i");for(var Se=-1,qe=0;qe<109&&(Se=ot.read_shift(4,"i"),!(Se<0));++qe)ct[qe]=Se;var dt=f(ue,ke);p(tt,Ie,dt,ke,ct);var St=y(dt,Ye,ct,ke);St[Ye].name="!Directory",Re>0&&st!==k&&(St[st].name="!MiniFAT"),St[ct[0]].name="!FAT",St.fat_addrs=ct,St.ssz=ke;var Bt={},Tt=[],jt=[],pr=[];b(Ye,St,dt,Tt,Re,Bt,jt,st),m(jt,pr,Tt),Tt.shift();var rr={FileIndex:jt,FullPaths:pr};return Pe&&Pe.raw&&(rr.raw={header:Ot,sectors:dt}),rr}function d(ue){if(ue[ue.l]==80&&ue[ue.l+1]==75)return[0,0];ue.chk(M,"Header Signature: "),ue.l+=16;var Pe=ue.read_shift(2,"u");return[ue.read_shift(2,"u"),Pe]}function h(ue,Pe){var ye=9;switch(ue.l+=2,ye=ue.read_shift(2)){case 9:if(Pe!=3)throw new Error("Sector Shift: Expected 9 saw "+ye);break;case 12:if(Pe!=4)throw new Error("Sector Shift: Expected 12 saw "+ye);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ye)}ue.chk("0600","Mini Sector Shift: "),ue.chk("000000000000","Reserved: ")}function f(ue,Pe){for(var ye=Math.ceil(ue.length/Pe)-1,ke=[],Re=1;Re<ye;++Re)ke[Re-1]=ue.slice(Re*Pe,(Re+1)*Pe);return ke[ye-1]=ue.slice(ye*Pe),ke}function m(ue,Pe,ye){for(var ke=0,Re=0,Ie=0,Ye=0,st=0,tt=ye.length,ct=[],ot=[];ke<tt;++ke)ct[ke]=ot[ke]=ke,Pe[ke]=ye[ke];for(;st<ot.length;++st)ke=ot[st],Re=ue[ke].L,Ie=ue[ke].R,Ye=ue[ke].C,ct[ke]===ke&&(Re!==-1&&ct[Re]!==Re&&(ct[ke]=ct[Re]),Ie!==-1&&ct[Ie]!==Ie&&(ct[ke]=ct[Ie])),Ye!==-1&&(ct[Ye]=ke),Re!==-1&&ke!=ct[ke]&&(ct[Re]=ct[ke],ot.lastIndexOf(Re)<st&&ot.push(Re)),Ie!==-1&&ke!=ct[ke]&&(ct[Ie]=ct[ke],ot.lastIndexOf(Ie)<st&&ot.push(Ie));for(ke=1;ke<tt;++ke)ct[ke]===ke&&(Ie!==-1&&ct[Ie]!==Ie?ct[ke]=ct[Ie]:Re!==-1&&ct[Re]!==Re&&(ct[ke]=ct[Re]));for(ke=1;ke<tt;++ke)if(ue[ke].type!==0){if(st=ke,st!=ct[st])do st=ct[st],Pe[ke]=Pe[st]+"/"+Pe[ke];while(st!==0&&ct[st]!==-1&&st!=ct[st]);ct[ke]=-1}for(Pe[0]+="/",ke=1;ke<tt;++ke)ue[ke].type!==2&&(Pe[ke]+="/")}function g(ue,Pe,ye){for(var ke=ue.start,Re=ue.size,Ie=[],Ye=ke;ye&&Re>0&&Ye>=0;)Ie.push(Pe.slice(Ye*P,Ye*P+P)),Re-=P,Ye=Hu(ye,Ye*4);return Ie.length===0?cs(0):Nc(Ie).slice(0,ue.size)}function p(ue,Pe,ye,ke,Re){var Ie=k;if(ue===k){if(Pe!==0)throw new Error("DIFAT chain shorter than expected")}else if(ue!==-1){var Ye=ye[ue],st=(ke>>>2)-1;if(!Ye)return;for(var tt=0;tt<st&&(Ie=Hu(Ye,tt*4))!==k;++tt)Re.push(Ie);p(Hu(Ye,ke-4),Pe-1,ye,ke,Re)}}function v(ue,Pe,ye,ke,Re){var Ie=[],Ye=[];Re||(Re=[]);var st=ke-1,tt=0,ct=0;for(tt=Pe;tt>=0;){Re[tt]=!0,Ie[Ie.length]=tt,Ye.push(ue[tt]);var ot=ye[Math.floor(tt*4/ke)];if(ct=tt*4&st,ke<4+ct)throw new Error("FAT boundary crossed: "+tt+" 4 "+ke);if(!ue[ot])break;tt=Hu(ue[ot],ct)}return{nodes:Ie,data:tS([Ye])}}function y(ue,Pe,ye,ke){var Re=ue.length,Ie=[],Ye=[],st=[],tt=[],ct=ke-1,ot=0,At=0,Ot=0,Vt=0;for(ot=0;ot<Re;++ot)if(st=[],Ot=ot+Pe,Ot>=Re&&(Ot-=Re),!Ye[Ot]){tt=[];var Se=[];for(At=Ot;At>=0;){Se[At]=!0,Ye[At]=!0,st[st.length]=At,tt.push(ue[At]);var qe=ye[Math.floor(At*4/ke)];if(Vt=At*4&ct,ke<4+Vt)throw new Error("FAT boundary crossed: "+At+" 4 "+ke);if(!ue[qe]||(At=Hu(ue[qe],Vt),Se[At]))break}Ie[Ot]={nodes:st,data:tS([tt])}}return Ie}function b(ue,Pe,ye,ke,Re,Ie,Ye,st){for(var tt=0,ct=ke.length?2:0,ot=Pe[ue].data,At=0,Ot=0,Vt;At<ot.length;At+=128){var Se=ot.slice(At,At+128);Ms(Se,64),Ot=Se.read_shift(2),Vt=X5(Se,0,Ot-ct),ke.push(Vt);var qe={name:Vt,type:Se.read_shift(1),color:Se.read_shift(1),L:Se.read_shift(4,"i"),R:Se.read_shift(4,"i"),C:Se.read_shift(4,"i"),clsid:Se.read_shift(16),state:Se.read_shift(4,"i"),start:0,size:0},dt=Se.read_shift(2)+Se.read_shift(2)+Se.read_shift(2)+Se.read_shift(2);dt!==0&&(qe.ct=E(Se,Se.l-8));var St=Se.read_shift(2)+Se.read_shift(2)+Se.read_shift(2)+Se.read_shift(2);St!==0&&(qe.mt=E(Se,Se.l-8)),qe.start=Se.read_shift(4,"i"),qe.size=Se.read_shift(4,"i"),qe.size<0&&qe.start<0&&(qe.size=qe.type=0,qe.start=k,qe.name=""),qe.type===5?(tt=qe.start,Re>0&&tt!==k&&(Pe[tt].name="!StreamData")):qe.size>=4096?(qe.storage="fat",Pe[qe.start]===void 0&&(Pe[qe.start]=v(ye,qe.start,Pe.fat_addrs,Pe.ssz)),Pe[qe.start].name=qe.name,qe.content=Pe[qe.start].data.slice(0,qe.size)):(qe.storage="minifat",qe.size<0?qe.size=0:tt!==k&&qe.start!==k&&Pe[tt]&&(qe.content=g(qe,Pe[tt].data,(Pe[st]||{}).data))),qe.content&&Ms(qe.content,0),Ie[Vt]=qe,Ye.push(qe)}}function E(ue,Pe){return new Date((ta(ue,Pe+4)/1e7*Math.pow(2,32)+ta(ue,Pe)/1e7-11644473600)*1e3)}function N(ue,Pe){return c(),u(l.readFileSync(ue),Pe)}function j(ue,Pe){var ye=Pe&&Pe.type;switch(ye||Ur&&Buffer.isBuffer(ue)&&(ye="buffer"),ye||"base64"){case"file":return N(ue,Pe);case"base64":return u(so(la(ue)),Pe);case"binary":return u(so(ue),Pe)}return u(ue,Pe)}function D(ue,Pe){var ye=Pe||{},ke=ye.root||"Root Entry";if(ue.FullPaths||(ue.FullPaths=[]),ue.FileIndex||(ue.FileIndex=[]),ue.FullPaths.length!==ue.FileIndex.length)throw new Error("inconsistent CFB structure");ue.FullPaths.length===0&&(ue.FullPaths[0]=ke+"/",ue.FileIndex[0]={name:ke,type:5}),ye.CLSID&&(ue.FileIndex[0].clsid=ye.CLSID),C(ue)}function C(ue){var Pe="Sh33tJ5";if(!Vr.find(ue,"/"+Pe)){var ye=cs(4);ye[0]=55,ye[1]=ye[3]=50,ye[2]=54,ue.FileIndex.push({name:Pe,type:2,content:ye,size:4,L:69,R:69,C:69}),ue.FullPaths.push(ue.FullPaths[0]+Pe),I(ue)}}function I(ue,Pe){D(ue);for(var ye=!1,ke=!1,Re=ue.FullPaths.length-1;Re>=0;--Re){var Ie=ue.FileIndex[Re];switch(Ie.type){case 0:ke?ye=!0:(ue.FileIndex.pop(),ue.FullPaths.pop());break;case 1:case 2:case 5:ke=!0,isNaN(Ie.R*Ie.L*Ie.C)&&(ye=!0),Ie.R>-1&&Ie.L>-1&&Ie.R==Ie.L&&(ye=!0);break;default:ye=!0;break}}if(!(!ye&&!Pe)){var Ye=new Date(1987,1,19),st=0,tt=Object.create?Object.create(null):{},ct=[];for(Re=0;Re<ue.FullPaths.length;++Re)tt[ue.FullPaths[Re]]=!0,ue.FileIndex[Re].type!==0&&ct.push([ue.FullPaths[Re],ue.FileIndex[Re]]);for(Re=0;Re<ct.length;++Re){var ot=n(ct[Re][0]);ke=tt[ot],ke||(ct.push([ot,{name:s(ot).replace("/",""),type:1,clsid:w,ct:Ye,mt:Ye,content:null}]),tt[ot]=!0)}for(ct.sort(function(Vt,Se){return t(Vt[0],Se[0])}),ue.FullPaths=[],ue.FileIndex=[],Re=0;Re<ct.length;++Re)ue.FullPaths[Re]=ct[Re][0],ue.FileIndex[Re]=ct[Re][1];for(Re=0;Re<ct.length;++Re){var At=ue.FileIndex[Re],Ot=ue.FullPaths[Re];if(At.name=s(Ot).replace("/",""),At.L=At.R=At.C=-(At.color=1),At.size=At.content?At.content.length:0,At.start=0,At.clsid=At.clsid||w,Re===0)At.C=ct.length>1?1:-1,At.size=0,At.type=5;else if(Ot.slice(-1)=="/"){for(st=Re+1;st<ct.length&&n(ue.FullPaths[st])!=Ot;++st);for(At.C=st>=ct.length?-1:st,st=Re+1;st<ct.length&&n(ue.FullPaths[st])!=n(Ot);++st);At.R=st>=ct.length?-1:st,At.type=1}else n(ue.FullPaths[Re+1]||"")==n(Ot)&&(At.R=Re+1),At.type=2}}}function V(ue,Pe){var ye=Pe||{};if(ye.fileType=="mad")return _t(ue,ye);switch(I(ue),ye.fileType){case"zip":return pt(ue,ye)}var ke=function(Vt){for(var Se=0,qe=0,dt=0;dt<Vt.FileIndex.length;++dt){var St=Vt.FileIndex[dt];if(St.content){var Bt=St.content.length;Bt>0&&(Bt<4096?Se+=Bt+63>>6:qe+=Bt+511>>9)}}for(var Tt=Vt.FullPaths.length+3>>2,jt=Se+7>>3,pr=Se+127>>7,rr=jt+qe+Tt+pr,sr=rr+127>>7,Qt=sr<=109?0:Math.ceil((sr-109)/127);rr+sr+Qt+127>>7>sr;)Qt=++sr<=109?0:Math.ceil((sr-109)/127);var mr=[1,Qt,sr,pr,Tt,qe,Se,0];return Vt.FileIndex[0].size=Se<<6,mr[7]=(Vt.FileIndex[0].start=mr[0]+mr[1]+mr[2]+mr[3]+mr[4]+mr[5])+(mr[6]+7>>3),mr}(ue),Re=cs(ke[7]<<9),Ie=0,Ye=0;{for(Ie=0;Ie<8;++Ie)Re.write_shift(1,A[Ie]);for(Ie=0;Ie<8;++Ie)Re.write_shift(2,0);for(Re.write_shift(2,62),Re.write_shift(2,3),Re.write_shift(2,65534),Re.write_shift(2,9),Re.write_shift(2,6),Ie=0;Ie<3;++Ie)Re.write_shift(2,0);for(Re.write_shift(4,0),Re.write_shift(4,ke[2]),Re.write_shift(4,ke[0]+ke[1]+ke[2]+ke[3]-1),Re.write_shift(4,0),Re.write_shift(4,4096),Re.write_shift(4,ke[3]?ke[0]+ke[1]+ke[2]-1:k),Re.write_shift(4,ke[3]),Re.write_shift(-4,ke[1]?ke[0]-1:k),Re.write_shift(4,ke[1]),Ie=0;Ie<109;++Ie)Re.write_shift(-4,Ie<ke[2]?ke[1]+Ie:-1)}if(ke[1])for(Ye=0;Ye<ke[1];++Ye){for(;Ie<236+Ye*127;++Ie)Re.write_shift(-4,Ie<ke[2]?ke[1]+Ie:-1);Re.write_shift(-4,Ye===ke[1]-1?k:Ye+1)}var st=function(Vt){for(Ye+=Vt;Ie<Ye-1;++Ie)Re.write_shift(-4,Ie+1);Vt&&(++Ie,Re.write_shift(-4,k))};for(Ye=Ie=0,Ye+=ke[1];Ie<Ye;++Ie)Re.write_shift(-4,S.DIFSECT);for(Ye+=ke[2];Ie<Ye;++Ie)Re.write_shift(-4,S.FATSECT);st(ke[3]),st(ke[4]);for(var tt=0,ct=0,ot=ue.FileIndex[0];tt<ue.FileIndex.length;++tt)ot=ue.FileIndex[tt],ot.content&&(ct=ot.content.length,!(ct<4096)&&(ot.start=Ye,st(ct+511>>9)));for(st(ke[6]+7>>3);Re.l&511;)Re.write_shift(-4,S.ENDOFCHAIN);for(Ye=Ie=0,tt=0;tt<ue.FileIndex.length;++tt)ot=ue.FileIndex[tt],ot.content&&(ct=ot.content.length,!(!ct||ct>=4096)&&(ot.start=Ye,st(ct+63>>6)));for(;Re.l&511;)Re.write_shift(-4,S.ENDOFCHAIN);for(Ie=0;Ie<ke[4]<<2;++Ie){var At=ue.FullPaths[Ie];if(!At||At.length===0){for(tt=0;tt<17;++tt)Re.write_shift(4,0);for(tt=0;tt<3;++tt)Re.write_shift(4,-1);for(tt=0;tt<12;++tt)Re.write_shift(4,0);continue}ot=ue.FileIndex[Ie],Ie===0&&(ot.start=ot.size?ot.start-1:k);var Ot=Ie===0&&ye.root||ot.name;if(ct=2*(Ot.length+1),Re.write_shift(64,Ot,"utf16le"),Re.write_shift(2,ct),Re.write_shift(1,ot.type),Re.write_shift(1,ot.color),Re.write_shift(-4,ot.L),Re.write_shift(-4,ot.R),Re.write_shift(-4,ot.C),ot.clsid)Re.write_shift(16,ot.clsid,"hex");else for(tt=0;tt<4;++tt)Re.write_shift(4,0);Re.write_shift(4,ot.state||0),Re.write_shift(4,0),Re.write_shift(4,0),Re.write_shift(4,0),Re.write_shift(4,0),Re.write_shift(4,ot.start),Re.write_shift(4,ot.size),Re.write_shift(4,0)}for(Ie=1;Ie<ue.FileIndex.length;++Ie)if(ot=ue.FileIndex[Ie],ot.size>=4096)if(Re.l=ot.start+1<<9,Ur&&Buffer.isBuffer(ot.content))ot.content.copy(Re,Re.l,0,ot.size),Re.l+=ot.size+511&-512;else{for(tt=0;tt<ot.size;++tt)Re.write_shift(1,ot.content[tt]);for(;tt&511;++tt)Re.write_shift(1,0)}for(Ie=1;Ie<ue.FileIndex.length;++Ie)if(ot=ue.FileIndex[Ie],ot.size>0&&ot.size<4096)if(Ur&&Buffer.isBuffer(ot.content))ot.content.copy(Re,Re.l,0,ot.size),Re.l+=ot.size+63&-64;else{for(tt=0;tt<ot.size;++tt)Re.write_shift(1,ot.content[tt]);for(;tt&63;++tt)Re.write_shift(1,0)}if(Ur)Re.l=Re.length;else for(;Re.l<Re.length;)Re.write_shift(1,0);return Re}function B(ue,Pe){var ye=ue.FullPaths.map(function(tt){return tt.toUpperCase()}),ke=ye.map(function(tt){var ct=tt.split("/");return ct[ct.length-(tt.slice(-1)=="/"?2:1)]}),Re=!1;Pe.charCodeAt(0)===47?(Re=!0,Pe=ye[0].slice(0,-1)+Pe):Re=Pe.indexOf("/")!==-1;var Ie=Pe.toUpperCase(),Ye=Re===!0?ye.indexOf(Ie):ke.indexOf(Ie);if(Ye!==-1)return ue.FileIndex[Ye];var st=!Ie.match(h0);for(Ie=Ie.replace(Ei,""),st&&(Ie=Ie.replace(h0,"!")),Ye=0;Ye<ye.length;++Ye)if((st?ye[Ye].replace(h0,"!"):ye[Ye]).replace(Ei,"")==Ie||(st?ke[Ye].replace(h0,"!"):ke[Ye]).replace(Ei,"")==Ie)return ue.FileIndex[Ye];return null}var P=64,k=-2,M="d0cf11e0a1b11ae1",A=[208,207,17,224,161,177,26,225],w="00000000000000000000000000000000",S={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:k,FREESECT:-1,HEADER_SIGNATURE:M,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:w,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function _(ue,Pe,ye){c();var ke=V(ue,ye);l.writeFileSync(Pe,ke)}function x(ue){for(var Pe=new Array(ue.length),ye=0;ye<ue.length;++ye)Pe[ye]=String.fromCharCode(ue[ye]);return Pe.join("")}function R(ue,Pe){var ye=V(ue,Pe);switch(Pe&&Pe.type||"buffer"){case"file":return c(),l.writeFileSync(Pe.filename,ye),ye;case"binary":return typeof ye=="string"?ye:x(ye);case"base64":return L6(typeof ye=="string"?ye:x(ye));case"buffer":if(Ur)return Buffer.isBuffer(ye)?ye:bh(ye);case"array":return typeof ye=="string"?so(ye):ye}return ye}var W;function T(ue){try{var Pe=ue.InflateRaw,ye=new Pe;if(ye._processChunk(new Uint8Array([3,0]),ye._finishFlushFlag),ye.bytesRead)W=ue;else throw new Error("zlib does not expose bytesRead")}catch(ke){console.error("cannot use native zlib: "+(ke.message||ke))}}function z(ue,Pe){if(!W)return Xe(ue,Pe);var ye=W.InflateRaw,ke=new ye,Re=ke._processChunk(ue.slice(ue.l),ke._finishFlushFlag);return ue.l+=ke.bytesRead,Re}function q(ue){return W?W.deflateRawSync(ue):Ve(ue)}var Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],U=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Q=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function F(ue){var Pe=(ue<<1|ue<<11)&139536|(ue<<5|ue<<15)&558144;return(Pe>>16|Pe>>8|Pe)&255}for(var O=typeof Uint8Array<"u",K=O?new Uint8Array(256):[],ne=0;ne<256;++ne)K[ne]=F(ne);function ee(ue,Pe){var ye=K[ue&255];return Pe<=8?ye>>>8-Pe:(ye=ye<<8|K[ue>>8&255],Pe<=16?ye>>>16-Pe:(ye=ye<<8|K[ue>>16&255],ye>>>24-Pe))}function ie(ue,Pe){var ye=Pe&7,ke=Pe>>>3;return(ue[ke]|(ye<=6?0:ue[ke+1]<<8))>>>ye&3}function he(ue,Pe){var ye=Pe&7,ke=Pe>>>3;return(ue[ke]|(ye<=5?0:ue[ke+1]<<8))>>>ye&7}function ce(ue,Pe){var ye=Pe&7,ke=Pe>>>3;return(ue[ke]|(ye<=4?0:ue[ke+1]<<8))>>>ye&15}function te(ue,Pe){var ye=Pe&7,ke=Pe>>>3;return(ue[ke]|(ye<=3?0:ue[ke+1]<<8))>>>ye&31}function se(ue,Pe){var ye=Pe&7,ke=Pe>>>3;return(ue[ke]|(ye<=1?0:ue[ke+1]<<8))>>>ye&127}function ge(ue,Pe,ye){var ke=Pe&7,Re=Pe>>>3,Ie=(1<<ye)-1,Ye=ue[Re]>>>ke;return ye<8-ke||(Ye|=ue[Re+1]<<8-ke,ye<16-ke)||(Ye|=ue[Re+2]<<16-ke,ye<24-ke)||(Ye|=ue[Re+3]<<24-ke),Ye&Ie}function de(ue,Pe,ye){var ke=Pe&7,Re=Pe>>>3;return ke<=5?ue[Re]|=(ye&7)<<ke:(ue[Re]|=ye<<ke&255,ue[Re+1]=(ye&7)>>8-ke),Pe+3}function Te(ue,Pe,ye){var ke=Pe&7,Re=Pe>>>3;return ye=(ye&1)<<ke,ue[Re]|=ye,Pe+1}function De(ue,Pe,ye){var ke=Pe&7,Re=Pe>>>3;return ye<<=ke,ue[Re]|=ye&255,ye>>>=8,ue[Re+1]=ye,Pe+8}function _e(ue,Pe,ye){var ke=Pe&7,Re=Pe>>>3;return ye<<=ke,ue[Re]|=ye&255,ye>>>=8,ue[Re+1]=ye&255,ue[Re+2]=ye>>>8,Pe+16}function fe(ue,Pe){var ye=ue.length,ke=2*ye>Pe?2*ye:Pe+5,Re=0;if(ye>=Pe)return ue;if(Ur){var Ie=j6(ke);if(ue.copy)ue.copy(Ie);else for(;Re<ue.length;++Re)Ie[Re]=ue[Re];return Ie}else if(O){var Ye=new Uint8Array(ke);if(Ye.set)Ye.set(ue);else for(;Re<ye;++Re)Ye[Re]=ue[Re];return Ye}return ue.length=ke,ue}function ae(ue){for(var Pe=new Array(ue),ye=0;ye<ue;++ye)Pe[ye]=0;return Pe}function ve(ue,Pe,ye){var ke=1,Re=0,Ie=0,Ye=0,st=0,tt=ue.length,ct=O?new Uint16Array(32):ae(32);for(Ie=0;Ie<32;++Ie)ct[Ie]=0;for(Ie=tt;Ie<ye;++Ie)ue[Ie]=0;tt=ue.length;var ot=O?new Uint16Array(tt):ae(tt);for(Ie=0;Ie<tt;++Ie)ct[Re=ue[Ie]]++,ke<Re&&(ke=Re),ot[Ie]=0;for(ct[0]=0,Ie=1;Ie<=ke;++Ie)ct[Ie+16]=st=st+ct[Ie-1]<<1;for(Ie=0;Ie<tt;++Ie)st=ue[Ie],st!=0&&(ot[Ie]=ct[st+16]++);var At=0;for(Ie=0;Ie<tt;++Ie)if(At=ue[Ie],At!=0)for(st=ee(ot[Ie],ke)>>ke-At,Ye=(1<<ke+4-At)-1;Ye>=0;--Ye)Pe[st|Ye<<At]=At&15|Ie<<4;return ke}var Ee=O?new Uint16Array(512):ae(512),Fe=O?new Uint16Array(32):ae(32);if(!O){for(var Ue=0;Ue<512;++Ue)Ee[Ue]=0;for(Ue=0;Ue<32;++Ue)Fe[Ue]=0}(function(){for(var ue=[],Pe=0;Pe<32;Pe++)ue.push(5);ve(ue,Fe,32);var ye=[];for(Pe=0;Pe<=143;Pe++)ye.push(8);for(;Pe<=255;Pe++)ye.push(9);for(;Pe<=279;Pe++)ye.push(7);for(;Pe<=287;Pe++)ye.push(8);ve(ye,Ee,288)})();var Ge=function(){for(var Pe=O?new Uint8Array(32768):[],ye=0,ke=0;ye<Q.length-1;++ye)for(;ke<Q[ye+1];++ke)Pe[ke]=ye;for(;ke<32768;++ke)Pe[ke]=29;var Re=O?new Uint8Array(259):[];for(ye=0,ke=0;ye<U.length-1;++ye)for(;ke<U[ye+1];++ke)Re[ke]=ye;function Ie(st,tt){for(var ct=0;ct<st.length;){var ot=Math.min(65535,st.length-ct),At=ct+ot==st.length;for(tt.write_shift(1,+At),tt.write_shift(2,ot),tt.write_shift(2,~ot&65535);ot-- >0;)tt[tt.l++]=st[ct++]}return tt.l}function Ye(st,tt){for(var ct=0,ot=0,At=O?new Uint16Array(32768):[];ot<st.length;){var Ot=Math.min(65535,st.length-ot);if(Ot<10){for(ct=de(tt,ct,+(ot+Ot==st.length)),ct&7&&(ct+=8-(ct&7)),tt.l=ct/8|0,tt.write_shift(2,Ot),tt.write_shift(2,~Ot&65535);Ot-- >0;)tt[tt.l++]=st[ot++];ct=tt.l*8;continue}ct=de(tt,ct,+(ot+Ot==st.length)+2);for(var Vt=0;Ot-- >0;){var Se=st[ot];Vt=(Vt<<5^Se)&32767;var qe=-1,dt=0;if((qe=At[Vt])&&(qe|=ot&-32768,qe>ot&&(qe-=32768),qe<ot))for(;st[qe+dt]==st[ot+dt]&&dt<250;)++dt;if(dt>2){Se=Re[dt],Se<=22?ct=De(tt,ct,K[Se+1]>>1)-1:(De(tt,ct,3),ct+=5,De(tt,ct,K[Se-23]>>5),ct+=3);var St=Se<8?0:Se-4>>2;St>0&&(_e(tt,ct,dt-U[Se]),ct+=St),Se=Pe[ot-qe],ct=De(tt,ct,K[Se]>>3),ct-=3;var Bt=Se<4?0:Se-2>>1;Bt>0&&(_e(tt,ct,ot-qe-Q[Se]),ct+=Bt);for(var Tt=0;Tt<dt;++Tt)At[Vt]=ot&32767,Vt=(Vt<<5^st[ot])&32767,++ot;Ot-=dt-1}else Se<=143?Se=Se+48:ct=Te(tt,ct,1),ct=De(tt,ct,K[Se]),At[Vt]=ot&32767,++ot}ct=De(tt,ct,0)-1}return tt.l=(ct+7)/8|0,tt.l}return function(tt,ct){return tt.length<8?Ie(tt,ct):Ye(tt,ct)}}();function Ve(ue){var Pe=cs(50+Math.floor(ue.length*1.1)),ye=Ge(ue,Pe);return Pe.slice(0,ye)}var ze=O?new Uint16Array(32768):ae(32768),Ke=O?new Uint16Array(32768):ae(32768),be=O?new Uint16Array(128):ae(128),Be=1,He=1;function Me(ue,Pe){var ye=te(ue,Pe)+257;Pe+=5;var ke=te(ue,Pe)+1;Pe+=5;var Re=ce(ue,Pe)+4;Pe+=4;for(var Ie=0,Ye=O?new Uint8Array(19):ae(19),st=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],tt=1,ct=O?new Uint8Array(8):ae(8),ot=O?new Uint8Array(8):ae(8),At=Ye.length,Ot=0;Ot<Re;++Ot)Ye[Y[Ot]]=Ie=he(ue,Pe),tt<Ie&&(tt=Ie),ct[Ie]++,Pe+=3;var Vt=0;for(ct[0]=0,Ot=1;Ot<=tt;++Ot)ot[Ot]=Vt=Vt+ct[Ot-1]<<1;for(Ot=0;Ot<At;++Ot)(Vt=Ye[Ot])!=0&&(st[Ot]=ot[Vt]++);var Se=0;for(Ot=0;Ot<At;++Ot)if(Se=Ye[Ot],Se!=0){Vt=K[st[Ot]]>>8-Se;for(var qe=(1<<7-Se)-1;qe>=0;--qe)be[Vt|qe<<Se]=Se&7|Ot<<3}var dt=[];for(tt=1;dt.length<ye+ke;)switch(Vt=be[se(ue,Pe)],Pe+=Vt&7,Vt>>>=3){case 16:for(Ie=3+ie(ue,Pe),Pe+=2,Vt=dt[dt.length-1];Ie-- >0;)dt.push(Vt);break;case 17:for(Ie=3+he(ue,Pe),Pe+=3;Ie-- >0;)dt.push(0);break;case 18:for(Ie=11+se(ue,Pe),Pe+=7;Ie-- >0;)dt.push(0);break;default:dt.push(Vt),tt<Vt&&(tt=Vt);break}var St=dt.slice(0,ye),Bt=dt.slice(ye);for(Ot=ye;Ot<286;++Ot)St[Ot]=0;for(Ot=ke;Ot<30;++Ot)Bt[Ot]=0;return Be=ve(St,ze,286),He=ve(Bt,Ke,30),Pe}function Le(ue,Pe){if(ue[0]==3&&!(ue[1]&3))return[su(Pe),2];for(var ye=0,ke=0,Re=j6(Pe||1<<18),Ie=0,Ye=Re.length>>>0,st=0,tt=0;!(ke&1);){if(ke=he(ue,ye),ye+=3,ke>>>1)ke>>1==1?(st=9,tt=5):(ye=Me(ue,ye),st=Be,tt=He);else{ye&7&&(ye+=8-(ye&7));var ct=ue[ye>>>3]|ue[(ye>>>3)+1]<<8;if(ye+=32,ct>0)for(!Pe&&Ye<Ie+ct&&(Re=fe(Re,Ie+ct),Ye=Re.length);ct-- >0;)Re[Ie++]=ue[ye>>>3],ye+=8;continue}for(;;){!Pe&&Ye<Ie+32767&&(Re=fe(Re,Ie+32767),Ye=Re.length);var ot=ge(ue,ye,st),At=ke>>>1==1?Ee[ot]:ze[ot];if(ye+=At&15,At>>>=4,!(At>>>8&255))Re[Ie++]=At;else{if(At==256)break;At-=257;var Ot=At<8?0:At-4>>2;Ot>5&&(Ot=0);var Vt=Ie+U[At];Ot>0&&(Vt+=ge(ue,ye,Ot),ye+=Ot),ot=ge(ue,ye,tt),At=ke>>>1==1?Fe[ot]:Ke[ot],ye+=At&15,At>>>=4;var Se=At<4?0:At-2>>1,qe=Q[At];for(Se>0&&(qe+=ge(ue,ye,Se),ye+=Se),!Pe&&Ye<Vt&&(Re=fe(Re,Vt+100),Ye=Re.length);Ie<Vt;)Re[Ie]=Re[Ie-qe],++Ie}}}return Pe?[Re,ye+7>>>3]:[Re.slice(0,Ie),ye+7>>>3]}function Xe(ue,Pe){var ye=ue.slice(ue.l||0),ke=Le(ye,Pe);return ue.l+=ke[1],ke[0]}function Je(ue,Pe){if(ue)typeof console<"u"&&console.error(Pe);else throw new Error(Pe)}function et(ue,Pe){var ye=ue;Ms(ye,0);var ke=[],Re=[],Ie={FileIndex:ke,FullPaths:Re};D(Ie,{root:Pe.root});for(var Ye=ye.length-4;(ye[Ye]!=80||ye[Ye+1]!=75||ye[Ye+2]!=5||ye[Ye+3]!=6)&&Ye>=0;)--Ye;ye.l=Ye+4,ye.l+=4;var st=ye.read_shift(2);ye.l+=6;var tt=ye.read_shift(4);for(ye.l=tt,Ye=0;Ye<st;++Ye){ye.l+=20;var ct=ye.read_shift(4),ot=ye.read_shift(4),At=ye.read_shift(2),Ot=ye.read_shift(2),Vt=ye.read_shift(2);ye.l+=8;var Se=ye.read_shift(4),qe=o(ye.slice(ye.l+At,ye.l+At+Ot));ye.l+=At+Ot+Vt;var dt=ye.l;ye.l=Se+4,xt(ye,ct,ot,Ie,qe),ye.l=dt}return Ie}function xt(ue,Pe,ye,ke,Re){ue.l+=2;var Ie=ue.read_shift(2),Ye=ue.read_shift(2),st=a(ue);if(Ie&8257)throw new Error("Unsupported ZIP encryption");for(var tt=ue.read_shift(4),ct=ue.read_shift(4),ot=ue.read_shift(4),At=ue.read_shift(2),Ot=ue.read_shift(2),Vt="",Se=0;Se<At;++Se)Vt+=String.fromCharCode(ue[ue.l++]);if(Ot){var qe=o(ue.slice(ue.l,ue.l+Ot));(qe[21589]||{}).mt&&(st=qe[21589].mt),((Re||{})[21589]||{}).mt&&(st=Re[21589].mt)}ue.l+=Ot;var dt=ue.slice(ue.l,ue.l+ct);switch(Ye){case 8:dt=z(ue,ot);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ye)}var St=!1;Ie&8&&(tt=ue.read_shift(4),tt==134695760&&(tt=ue.read_shift(4),St=!0),ct=ue.read_shift(4),ot=ue.read_shift(4)),ct!=Pe&&Je(St,"Bad compressed size: "+Pe+" != "+ct),ot!=ye&&Je(St,"Bad uncompressed size: "+ye+" != "+ot),Gt(ke,Vt,dt,{unsafe:!0,mt:st})}function pt(ue,Pe){var ye=Pe||{},ke=[],Re=[],Ie=cs(1),Ye=ye.compression?8:0,st=0,tt=0,ct=0,ot=0,At=0,Ot=ue.FullPaths[0],Vt=Ot,Se=ue.FileIndex[0],qe=[],dt=0;for(tt=1;tt<ue.FullPaths.length;++tt)if(Vt=ue.FullPaths[tt].slice(Ot.length),Se=ue.FileIndex[tt],!(!Se.size||!Se.content||Vt=="Sh33tJ5")){var St=ot,Bt=cs(Vt.length);for(ct=0;ct<Vt.length;++ct)Bt.write_shift(1,Vt.charCodeAt(ct)&127);Bt=Bt.slice(0,Bt.l),qe[At]=dB.buf(Se.content,0);var Tt=Se.content;Ye==8&&(Tt=q(Tt)),Ie=cs(30),Ie.write_shift(4,67324752),Ie.write_shift(2,20),Ie.write_shift(2,st),Ie.write_shift(2,Ye),Se.mt?i(Ie,Se.mt):Ie.write_shift(4,0),Ie.write_shift(-4,qe[At]),Ie.write_shift(4,Tt.length),Ie.write_shift(4,Se.content.length),Ie.write_shift(2,Bt.length),Ie.write_shift(2,0),ot+=Ie.length,ke.push(Ie),ot+=Bt.length,ke.push(Bt),ot+=Tt.length,ke.push(Tt),Ie=cs(46),Ie.write_shift(4,33639248),Ie.write_shift(2,0),Ie.write_shift(2,20),Ie.write_shift(2,st),Ie.write_shift(2,Ye),Ie.write_shift(4,0),Ie.write_shift(-4,qe[At]),Ie.write_shift(4,Tt.length),Ie.write_shift(4,Se.content.length),Ie.write_shift(2,Bt.length),Ie.write_shift(2,0),Ie.write_shift(2,0),Ie.write_shift(2,0),Ie.write_shift(2,0),Ie.write_shift(4,0),Ie.write_shift(4,St),dt+=Ie.l,Re.push(Ie),dt+=Bt.length,Re.push(Bt),++At}return Ie=cs(22),Ie.write_shift(4,101010256),Ie.write_shift(2,0),Ie.write_shift(2,0),Ie.write_shift(2,At),Ie.write_shift(2,At),Ie.write_shift(4,dt),Ie.write_shift(4,ot),Ie.write_shift(2,0),Nc([Nc(ke),Nc(Re),Ie])}var wt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function mt(ue,Pe){if(ue.ctype)return ue.ctype;var ye=ue.name||"",ke=ye.match(/\.([^\.]+)$/);return ke&&wt[ke[1]]||Pe&&(ke=(ye=Pe).match(/[\.\\]([^\.\\])+$/),ke&&wt[ke[1]])?wt[ke[1]]:"application/octet-stream"}function gt(ue){for(var Pe=L6(ue),ye=[],ke=0;ke<Pe.length;ke+=76)ye.push(Pe.slice(ke,ke+76));return ye.join(`\r
`)+`\r
`}function ft(ue){var Pe=ue.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ct){var ot=ct.charCodeAt(0).toString(16).toUpperCase();return"="+(ot.length==1?"0"+ot:ot)});Pe=Pe.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Pe.charAt(0)==`
`&&(Pe="=0D"+Pe.slice(1)),Pe=Pe.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ye=[],ke=Pe.split(`\r
`),Re=0;Re<ke.length;++Re){var Ie=ke[Re];if(Ie.length==0){ye.push("");continue}for(var Ye=0;Ye<Ie.length;){var st=76,tt=Ie.slice(Ye,Ye+st);tt.charAt(st-1)=="="?st--:tt.charAt(st-2)=="="?st-=2:tt.charAt(st-3)=="="&&(st-=3),tt=Ie.slice(Ye,Ye+st),Ye+=st,Ye<Ie.length&&(tt+="="),ye.push(tt)}}return ye.join(`\r
`)}function Nt(ue){for(var Pe=[],ye=0;ye<ue.length;++ye){for(var ke=ue[ye];ye<=ue.length&&ke.charAt(ke.length-1)=="=";)ke=ke.slice(0,ke.length-1)+ue[++ye];Pe.push(ke)}for(var Re=0;Re<Pe.length;++Re)Pe[Re]=Pe[Re].replace(/[=][0-9A-Fa-f]{2}/g,function(Ie){return String.fromCharCode(parseInt(Ie.slice(1),16))});return so(Pe.join(`\r
`))}function Ht(ue,Pe,ye){for(var ke="",Re="",Ie="",Ye,st=0;st<10;++st){var tt=Pe[st];if(!tt||tt.match(/^\s*$/))break;var ct=tt.match(/^(.*?):\s*([^\s].*)$/);if(ct)switch(ct[1].toLowerCase()){case"content-location":ke=ct[2].trim();break;case"content-type":Ie=ct[2].trim();break;case"content-transfer-encoding":Re=ct[2].trim();break}}switch(++st,Re.toLowerCase()){case"base64":Ye=so(la(Pe.slice(st).join("")));break;case"quoted-printable":Ye=Nt(Pe.slice(st));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Re)}var ot=Gt(ue,ke.slice(ye.length),Ye,{unsafe:!0});Ie&&(ot.ctype=Ie)}function $t(ue,Pe){if(x(ue.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ye=Pe&&Pe.root||"",ke=(Ur&&Buffer.isBuffer(ue)?ue.toString("binary"):x(ue)).split(`\r
`),Re=0,Ie="";for(Re=0;Re<ke.length;++Re)if(Ie=ke[Re],!!/^Content-Location:/i.test(Ie)&&(Ie=Ie.slice(Ie.indexOf("file")),ye||(ye=Ie.slice(0,Ie.lastIndexOf("/")+1)),Ie.slice(0,ye.length)!=ye))for(;ye.length>0&&(ye=ye.slice(0,ye.length-1),ye=ye.slice(0,ye.lastIndexOf("/")+1),Ie.slice(0,ye.length)!=ye););var Ye=(ke[1]||"").match(/boundary="(.*?)"/);if(!Ye)throw new Error("MAD cannot find boundary");var st="--"+(Ye[1]||""),tt=[],ct=[],ot={FileIndex:tt,FullPaths:ct};D(ot);var At,Ot=0;for(Re=0;Re<ke.length;++Re){var Vt=ke[Re];Vt!==st&&Vt!==st+"--"||(Ot++&&Ht(ot,ke.slice(At,Re),ye),At=Re)}return ot}function _t(ue,Pe){var ye=Pe||{},ke=ye.boundary||"SheetJS";ke="------="+ke;for(var Re=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ke.slice(2)+'"',"","",""],Ie=ue.FullPaths[0],Ye=Ie,st=ue.FileIndex[0],tt=1;tt<ue.FullPaths.length;++tt)if(Ye=ue.FullPaths[tt].slice(Ie.length),st=ue.FileIndex[tt],!(!st.size||!st.content||Ye=="Sh33tJ5")){Ye=Ye.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(dt){return"_x"+dt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(dt){return"_u"+dt.charCodeAt(0).toString(16)+"_"});for(var ct=st.content,ot=Ur&&Buffer.isBuffer(ct)?ct.toString("binary"):x(ct),At=0,Ot=Math.min(1024,ot.length),Vt=0,Se=0;Se<=Ot;++Se)(Vt=ot.charCodeAt(Se))>=32&&Vt<128&&++At;var qe=At>=Ot*4/5;Re.push(ke),Re.push("Content-Location: "+(ye.root||"file:///C:/SheetJS/")+Ye),Re.push("Content-Transfer-Encoding: "+(qe?"quoted-printable":"base64")),Re.push("Content-Type: "+mt(st,Ye)),Re.push(""),Re.push(qe?ft(ot):gt(ot))}return Re.push(ke+`--\r
`),Re.join(`\r
`)}function er(ue){var Pe={};return D(Pe,ue),Pe}function Gt(ue,Pe,ye,ke){var Re=ke&&ke.unsafe;Re||D(ue);var Ie=!Re&&Vr.find(ue,Pe);if(!Ie){var Ye=ue.FullPaths[0];Pe.slice(0,Ye.length)==Ye?Ye=Pe:(Ye.slice(-1)!="/"&&(Ye+="/"),Ye=(Ye+Pe).replace("//","/")),Ie={name:s(Pe),type:2},ue.FileIndex.push(Ie),ue.FullPaths.push(Ye),Re||Vr.utils.cfb_gc(ue)}return Ie.content=ye,Ie.size=ye?ye.length:0,ke&&(ke.CLSID&&(Ie.clsid=ke.CLSID),ke.mt&&(Ie.mt=ke.mt),ke.ct&&(Ie.ct=ke.ct)),Ie}function We(ue,Pe){D(ue);var ye=Vr.find(ue,Pe);if(ye){for(var ke=0;ke<ue.FileIndex.length;++ke)if(ue.FileIndex[ke]==ye)return ue.FileIndex.splice(ke,1),ue.FullPaths.splice(ke,1),!0}return!1}function Qe(ue,Pe,ye){D(ue);var ke=Vr.find(ue,Pe);if(ke){for(var Re=0;Re<ue.FileIndex.length;++Re)if(ue.FileIndex[Re]==ke)return ue.FileIndex[Re].name=s(ye),ue.FullPaths[Re]=ye,!0}return!1}function ht(ue){I(ue,!0)}return e.find=B,e.read=j,e.parse=u,e.write=R,e.writeFile=_,e.utils={cfb_new:er,cfb_add:Gt,cfb_del:We,cfb_mov:Qe,cfb_gc:ht,ReadShift:I0,CheckField:s7,prep_blob:Ms,bconcat:Nc,use_zlib:T,_deflateRaw:Ve,_inflateRaw:Xe,consts:S},e}();function pB(r){if(typeof Deno<"u")return Deno.readFileSync(r);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(r);e.open("r"),e.encoding="binary";var t=e.read();return e.close(),t}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+r)}function Xo(r){for(var e=Object.keys(r),t=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(r,e[n])&&t.push(e[n]);return t}function q5(r){for(var e=[],t=Xo(r),n=0;n!==t.length;++n)e[r[t[n]]]=t[n];return e}var I1=new Date(1899,11,30,0,0,0);function ki(r,e){var t=r.getTime(),n=I1.getTime()+(r.getTimezoneOffset()-I1.getTimezoneOffset())*6e4;return(t-n)/(24*60*60*1e3)}var LC=new Date,mB=I1.getTime()+(LC.getTimezoneOffset()-I1.getTimezoneOffset())*6e4,W6=LC.getTimezoneOffset();function V2(r){var e=new Date;return e.setTime(r*24*60*60*1e3+mB),e.getTimezoneOffset()!==W6&&e.setTime(e.getTime()+(e.getTimezoneOffset()-W6)*6e4),e}function gB(r){var e=0,t=0,n=!1,s=r.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!s)throw new Error("|"+r+"| is not an ISO8601 Duration");for(var i=1;i!=s.length;++i)if(s[i]){switch(t=1,i>3&&(n=!0),s[i].slice(s[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+s[i].slice(s[i].length-1));case"D":t*=24;case"H":t*=60;case"M":if(n)t*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=t*parseInt(s[i],10)}return e}var G6=new Date("2017-02-19T19:06:09.000Z"),jC=isNaN(G6.getFullYear())?new Date("2/19/17"):G6,vB=jC.getFullYear()==2017;function As(r,e){var t=new Date(r);if(vB)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(r instanceof Date)return r;if(jC.getFullYear()==1917&&!isNaN(t.getFullYear())){var n=t.getFullYear();return r.indexOf(""+n)>-1||t.setFullYear(t.getFullYear()+100),t}var s=r.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return r.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function ch(r,e){if(Ur&&Buffer.isBuffer(r)){if(e){if(r[0]==255&&r[1]==254)return d0(r.slice(2).toString("utf16le"));if(r[1]==254&&r[2]==255)return d0(EC(r.slice(2).toString("binary")))}return r.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(r[0]==255&&r[1]==254)return d0(new TextDecoder("utf-16le").decode(r.slice(2)));if(r[0]==254&&r[1]==255)return d0(new TextDecoder("utf-16be").decode(r.slice(2)))}var t={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(r)&&(r=new Uint8Array(r)),new TextDecoder("latin1").decode(r).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return t[i]||i})}catch{}for(var n=[],s=0;s!=r.length;++s)n.push(String.fromCharCode(r[s]));return n.join("")}function Bs(r){if(typeof JSON<"u"&&!Array.isArray(r))return JSON.parse(JSON.stringify(r));if(typeof r!="object"||r==null)return r;if(r instanceof Date)return new Date(r.getTime());var e={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=Bs(r[t]));return e}function Ln(r,e){for(var t="";t.length<e;)t+=r;return t}function fo(r){var e=Number(r);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(r))return e;var t=1,n=r.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(s,i){return t=-t,i}),!isNaN(e=Number(n)))?e/t:e}var yB=["january","february","march","april","may","june","july","august","september","october","november","december"];function ed(r){var e=new Date(r),t=new Date(NaN),n=e.getYear(),s=e.getMonth(),i=e.getDate();if(isNaN(i))return t;var a=r.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&yB.indexOf(a)==-1)return t}else if(a.match(/[a-z]/))return t;return n<0||n>8099?t:(s>0||i>1)&&n!=101?e:r.match(/[^-0-9:,\/\\]/)?t:e}var bB=function(){var r="abacaba".split(/(:?b)/i).length==5;return function(t,n,s){if(r||typeof n=="string")return t.split(n);for(var i=t.split(n),a=[i[0]],o=1;o<i.length;++o)a.push(s),a.push(i[o]);return a}}();function BC(r){return r?r.content&&r.type?ch(r.content,!0):r.data?u0(r.data):r.asNodeBuffer&&Ur?u0(r.asNodeBuffer().toString("binary")):r.asBinary?u0(r.asBinary()):r._data&&r._data.getContent?u0(ch(Array.prototype.slice.call(r._data.getContent(),0))):null:null}function UC(r){if(!r)return null;if(r.data)return M6(r.data);if(r.asNodeBuffer&&Ur)return r.asNodeBuffer();if(r._data&&r._data.getContent){var e=r._data.getContent();return typeof e=="string"?M6(e):Array.prototype.slice.call(e)}return r.content&&r.type?r.content:null}function wB(r){return r&&r.name.slice(-4)===".bin"?UC(r):BC(r)}function Ea(r,e){for(var t=r.FullPaths||Xo(r.files),n=e.toLowerCase().replace(/[\/]/g,"\\"),s=n.replace(/\\/g,"/"),i=0;i<t.length;++i){var a=t[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==a||s==a)return r.files?r.files[t[i]]:r.FileIndex[i]}return null}function W5(r,e){var t=Ea(r,e);if(t==null)throw new Error("Cannot find file "+e+" in zip");return t}function es(r,e,t){if(!t)return wB(W5(r,e));if(!e)return null;try{return es(r,e)}catch{return null}}function ra(r,e,t){if(!t)return BC(W5(r,e));if(!e)return null;try{return ra(r,e)}catch{return null}}function xB(r,e,t){return UC(W5(r,e))}function K6(r){for(var e=r.FullPaths||Xo(r.files),t=[],n=0;n<e.length;++n)e[n].slice(-1)!="/"&&t.push(e[n].replace(/^Root Entry[\/]/,""));return t.sort()}function _B(r,e,t){if(r.FullPaths){if(typeof t=="string"){var n;return Ur?n=bh(t):n=$j(t),Vr.utils.cfb_add(r,e,n)}Vr.utils.cfb_add(r,e,t)}else r.file(e,t)}function $C(r,e){switch(e.type){case"base64":return Vr.read(r,{type:"base64"});case"binary":return Vr.read(r,{type:"binary"});case"buffer":case"array":return Vr.read(r,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function f0(r,e){if(r.charAt(0)=="/")return r.slice(1);var t=e.split("/");e.slice(-1)!="/"&&t.pop();for(var n=r.split("/");n.length!==0;){var s=n.shift();s===".."?t.pop():s!=="."&&t.push(s)}return t.join("/")}var VC=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,SB=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,X6=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,EB=/<[^>]*>/g,fi=VC.match(X6)?X6:EB,kB=/<\w*:/,AB=/<(\/?)\w+:/;function vr(r,e,t){for(var n={},s=0,i=0;s!==r.length&&!((i=r.charCodeAt(s))===32||i===10||i===13);++s);if(e||(n[0]=r.slice(0,s)),s===r.length)return n;var a=r.match(SB),o=0,l="",c=0,u="",d="",h=1;if(a)for(c=0;c!=a.length;++c){for(d=a[c],i=0;i!=d.length&&d.charCodeAt(i)!==61;++i);for(u=d.slice(0,i).trim();d.charCodeAt(i+1)==32;)++i;for(h=(s=d.charCodeAt(i+1))==34||s==39?1:0,l=d.slice(i+1+h,d.length-h),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=l,n[u.toLowerCase()]=l;else{var f=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(n[f]&&u.slice(o-3,o)=="ext")continue;n[f]=l,n[f.toLowerCase()]=l}}return n}function Jo(r){return r.replace(AB,"<$1")}var HC={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},TB=q5(HC),Gr=function(){var r=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function t(n){var s=n+"",i=s.indexOf("<![CDATA[");if(i==-1)return s.replace(r,function(o,l){return HC[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,l){return String.fromCharCode(parseInt(l,16))});var a=s.indexOf("]]>");return t(s.slice(0,i))+s.slice(i+9,a)+t(s.slice(a+3))}}(),CB=/[&<>'"]/g,NB=/[\u0000-\u001f]/g;function G5(r){var e=r+"";return e.replace(CB,function(t){return TB[t]}).replace(/\n/g,"<br/>").replace(NB,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}var Y6=function(){var r=/&#(\d+);/g;function e(t,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(r,e)}}();function En(r){switch(r){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Cy(r){for(var e="",t=0,n=0,s=0,i=0,a=0,o=0;t<r.length;){if(n=r.charCodeAt(t++),n<128){e+=String.fromCharCode(n);continue}if(s=r.charCodeAt(t++),n>191&&n<224){a=(n&31)<<6,a|=s&63,e+=String.fromCharCode(a);continue}if(i=r.charCodeAt(t++),n<240){e+=String.fromCharCode((n&15)<<12|(s&63)<<6|i&63);continue}a=r.charCodeAt(t++),o=((n&7)<<18|(s&63)<<12|(i&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function J6(r){var e=su(2*r.length),t,n,s=1,i=0,a=0,o;for(n=0;n<r.length;n+=s)s=1,(o=r.charCodeAt(n))<128?t=o:o<224?(t=(o&31)*64+(r.charCodeAt(n+1)&63),s=2):o<240?(t=(o&15)*4096+(r.charCodeAt(n+1)&63)*64+(r.charCodeAt(n+2)&63),s=3):(s=4,t=(o&7)*262144+(r.charCodeAt(n+1)&63)*4096+(r.charCodeAt(n+2)&63)*64+(r.charCodeAt(n+3)&63),t-=65536,a=55296+(t>>>10&1023),t=56320+(t&1023)),a!==0&&(e[i++]=a&255,e[i++]=a>>>8,a=0),e[i++]=t%256,e[i++]=t>>>8;return e.slice(0,i).toString("ucs2")}function Q6(r){return bh(r,"binary").toString("utf8")}var tg="foo bar bazâð£",vn=Ur&&(Q6(tg)==Cy(tg)&&Q6||J6(tg)==Cy(tg)&&J6)||Cy,d0=Ur?function(r){return bh(r,"utf8").toString("binary")}:function(r){for(var e=[],t=0,n=0,s=0;t<r.length;)switch(n=r.charCodeAt(t++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,s=r.charCodeAt(t++)-56320+(n<<10),e.push(String.fromCharCode(240+(s>>18&7))),e.push(String.fromCharCode(144+(s>>12&63))),e.push(String.fromCharCode(128+(s>>6&63))),e.push(String.fromCharCode(128+(s&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},gp=function(){var r={};return function(t,n){var s=t+"|"+(n||"");return r[s]?r[s]:r[s]=new RegExp("<(?:\\w+:)?"+t+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+t+">",n||"")}}(),zC=function(){var r=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var n=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<r.length;++s)n=n.replace(r[s][0],r[s][1]);return n}}(),DB=function(){var r={};return function(t){return r[t]!==void 0?r[t]:r[t]=new RegExp("<(?:vt:)?"+t+">([\\s\\S]*?)</(?:vt:)?"+t+">","g")}}(),RB=/<\/?(?:vt:)?variant>/g,IB=/<(?:vt:)([^>]*)>([\s\S]*)</;function Z6(r,e){var t=vr(r),n=r.match(DB(t.baseType))||[],s=[];if(n.length!=t.size){if(e.WTF)throw new Error("unexpected vector length "+n.length+" != "+t.size);return s}return n.forEach(function(i){var a=i.replace(RB,"").match(IB);a&&s.push({v:vn(a[2]),t:a[1]})}),s}var PB=/(^\s|\s$|\n)/;function OB(r){return Xo(r).map(function(e){return" "+e+'="'+r[e]+'"'}).join("")}function MB(r,e,t){return"<"+r+(t!=null?OB(t):"")+(e!=null?(e.match(PB)?' xml:space="preserve"':"")+">"+e+"</"+r:"/")+">"}function K5(r){if(Ur&&Buffer.isBuffer(r))return r.toString("utf8");if(typeof r=="string")return r;if(typeof Uint8Array<"u"&&r instanceof Uint8Array)return vn(wh(V5(r)));throw new Error("Bad input format: expected Buffer or string")}var vp=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,FB={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},LB=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function jB(r,e){for(var t=1-2*(r[e+7]>>>7),n=((r[e+7]&127)<<4)+(r[e+6]>>>4&15),s=r[e+6]&15,i=5;i>=0;--i)s=s*256+r[e+i];return n==2047?s==0?t*(1/0):NaN:(n==0?n=-1022:(n-=1023,s+=Math.pow(2,52)),t*Math.pow(2,n-52)*s)}function BB(r,e,t){var n=(e<0||1/e==-1/0?1:0)<<7,s=0,i=0,a=n?-e:e;isFinite(a)?a==0?s=i=0:(s=Math.floor(Math.log(a)/Math.LN2),i=a*Math.pow(2,52-s),s<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?s=-1022:(i-=Math.pow(2,52),s+=1023)):(s=2047,i=isNaN(e)?26985:0);for(var o=0;o<=5;++o,i/=256)r[t+o]=i&255;r[t+6]=(s&15)<<4|i&15,r[t+7]=s>>4|n}var eS=function(r){for(var e=[],t=10240,n=0;n<r[0].length;++n)if(r[0][n])for(var s=0,i=r[0][n].length;s<i;s+=t)e.push.apply(e,r[0][n].slice(s,s+t));return e},tS=Ur?function(r){return r[0].length>0&&Buffer.isBuffer(r[0][0])?Buffer.concat(r[0].map(function(e){return Buffer.isBuffer(e)?e:bh(e)})):eS(r)}:eS,rS=function(r,e,t){for(var n=[],s=e;s<t;s+=2)n.push(String.fromCharCode(yl(r,s)));return n.join("").replace(Ei,"")},X5=Ur?function(r,e,t){return Buffer.isBuffer(r)?r.toString("utf16le",e,t).replace(Ei,""):rS(r,e,t)}:rS,nS=function(r,e,t){for(var n=[],s=e;s<e+t;++s)n.push(("0"+r[s].toString(16)).slice(-2));return n.join("")},qC=Ur?function(r,e,t){return Buffer.isBuffer(r)?r.toString("hex",e,e+t):nS(r,e,t)}:nS,sS=function(r,e,t){for(var n=[],s=e;s<t;s++)n.push(String.fromCharCode(nf(r,s)));return n.join("")},Hp=Ur?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf8",t,n):sS(e,t,n)}:sS,WC=function(r,e){var t=ta(r,e);return t>0?Hp(r,e+4,e+4+t-1):""},GC=WC,KC=function(r,e){var t=ta(r,e);return t>0?Hp(r,e+4,e+4+t-1):""},XC=KC,YC=function(r,e){var t=2*ta(r,e);return t>0?Hp(r,e+4,e+4+t-1):""},JC=YC,QC=function(e,t){var n=ta(e,t);return n>0?X5(e,t+4,t+4+n):""},ZC=QC,e7=function(r,e){var t=ta(r,e);return t>0?Hp(r,e+4,e+4+t):""},t7=e7,r7=function(r,e){return jB(r,e)},P1=r7,n7=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Ur&&(GC=function(e,t){if(!Buffer.isBuffer(e))return WC(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},XC=function(e,t){if(!Buffer.isBuffer(e))return KC(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},JC=function(e,t){if(!Buffer.isBuffer(e))return YC(e,t);var n=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n-1)},ZC=function(e,t){if(!Buffer.isBuffer(e))return QC(e,t);var n=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n)},t7=function(e,t){if(!Buffer.isBuffer(e))return e7(e,t);var n=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+n)},P1=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):r7(e,t)},n7=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var nf=function(r,e){return r[e]},yl=function(r,e){return r[e+1]*256+r[e]},UB=function(r,e){var t=r[e+1]*256+r[e];return t<32768?t:(65535-t+1)*-1},ta=function(r,e){return r[e+3]*(1<<24)+(r[e+2]<<16)+(r[e+1]<<8)+r[e]},Hu=function(r,e){return r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]},$B=function(r,e){return r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]};function I0(r,e){var t="",n,s,i=[],a,o,l,c;switch(e){case"dbcs":if(c=this.l,Ur&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*r).toString("utf16le");else for(l=0;l<r;++l)t+=String.fromCharCode(yl(this,c)),c+=2;r*=2;break;case"utf8":t=Hp(this,this.l,this.l+r);break;case"utf16le":r*=2,t=X5(this,this.l,this.l+r);break;case"wstr":return I0.call(this,r,"dbcs");case"lpstr-ansi":t=GC(this,this.l),r=4+ta(this,this.l);break;case"lpstr-cp":t=XC(this,this.l),r=4+ta(this,this.l);break;case"lpwstr":t=JC(this,this.l),r=4+2*ta(this,this.l);break;case"lpp4":r=4+ta(this,this.l),t=ZC(this,this.l),r&2&&(r+=2);break;case"8lpp4":r=4+ta(this,this.l),t=t7(this,this.l),r&3&&(r+=4-(r&3));break;case"cstr":for(r=0,t="";(a=nf(this,this.l+r++))!==0;)i.push(eg(a));t=i.join("");break;case"_wstr":for(r=0,t="";(a=yl(this,this.l+r))!==0;)i.push(eg(a)),r+=2;r+=2,t=i.join("");break;case"dbcs-cont":for(t="",c=this.l,l=0;l<r;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=nf(this,c),this.l=c+1,o=I0.call(this,r-l,a?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(eg(yl(this,c))),c+=2}t=i.join(""),r*=2;break;case"cpstr":case"sbcs-cont":for(t="",c=this.l,l=0;l!=r;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=nf(this,c),this.l=c+1,o=I0.call(this,r-l,a?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(eg(nf(this,c))),c+=1}t=i.join("");break;default:switch(r){case 1:return n=nf(this,this.l),this.l++,n;case 2:return n=(e==="i"?UB:yl)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(n=(r>0?Hu:$B)(this,this.l),this.l+=4,n):(s=ta(this,this.l),this.l+=4,s);case 8:case-8:if(e==="f")return r==8?s=P1(this,this.l):s=P1([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;r=8;case 16:t=qC(this,this.l,r);break}}return this.l+=r,t}var VB=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255,r[t+2]=e>>>16&255,r[t+3]=e>>>24&255},HB=function(r,e,t){r[t]=e&255,r[t+1]=e>>8&255,r[t+2]=e>>16&255,r[t+3]=e>>24&255},zB=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255};function qB(r,e,t){var n=0,s=0;if(t==="dbcs"){for(s=0;s!=e.length;++s)zB(this,e.charCodeAt(s),this.l+2*s);n=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=e.length;++s)this[this.l+s]=e.charCodeAt(s)&255;n=e.length}else if(t==="hex"){for(;s<r;++s)this[this.l++]=parseInt(e.slice(2*s,2*s+2),16)||0;return this}else if(t==="utf16le"){var i=Math.min(this.l+r,this.length);for(s=0;s<Math.min(e.length,r);++s){var a=e.charCodeAt(s);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(r){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,VB(this,e,this.l);break;case 8:if(n=8,t==="f"){BB(this,e,this.l);break}case 16:break;case-4:n=4,HB(this,e,this.l);break}return this.l+=n,this}function s7(r,e){var t=qC(this,this.l,r.length>>1);if(t!==r)throw new Error(e+"Expected "+r+" saw "+t);this.l+=r.length>>1}function Ms(r,e){r.l=e,r.read_shift=I0,r.chk=s7,r.write_shift=qB}function ui(r,e){r.l+=e}function cs(r){var e=su(r);return Ms(e,0),e}function Vl(r,e,t){if(r){var n,s,i;Ms(r,r.l||0);for(var a=r.length,o=0,l=0;r.l<a;){o=r.read_shift(1),o&128&&(o=(o&127)+((r.read_shift(1)&127)<<7));var c=B1[o]||B1[65535];for(n=r.read_shift(1),i=n&127,s=1;s<4&&n&128;++s)i+=((n=r.read_shift(1))&127)<<7*s;l=r.l+i;var u=c.f&&c.f(r,i,t);if(r.l=l,e(u,c,o))return}}}function Dw(){var r=[],e=Ur?256:2048,t=function(c){var u=cs(c);return Ms(u,0),u},n=t(e),s=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&r.push(n),n=null)},i=function(c){return n&&c<n.length-n.l?n:(s(),n=t(Math.max(c+1,e)))},a=function(){return s(),Nc(r)},o=function(c){s(),n=c,n.l==null&&(n.l=n.length),i(e)};return{next:i,push:o,end:a,_bufs:r}}function P0(r,e,t){var n=Bs(r);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!t||t.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function iS(r,e,t){var n=Bs(r);return n.s=P0(n.s,e.s,t),n.e=P0(n.e,e.s,t),n}function O0(r,e){if(r.cRel&&r.c<0)for(r=Bs(r);r.c<0;)r.c+=e>8?16384:256;if(r.rRel&&r.r<0)for(r=Bs(r);r.r<0;)r.r+=e>8?1048576:e>5?65536:16384;var t=Er(r);return!r.cRel&&r.cRel!=null&&(t=KB(t)),!r.rRel&&r.rRel!=null&&(t=WB(t)),t}function Ny(r,e){return r.s.r==0&&!r.s.rRel&&r.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!r.e.rRel?(r.s.cRel?"":"$")+ds(r.s.c)+":"+(r.e.cRel?"":"$")+ds(r.e.c):r.s.c==0&&!r.s.cRel&&r.e.c==(e.biff>=12?16383:255)&&!r.e.cRel?(r.s.rRel?"":"$")+Us(r.s.r)+":"+(r.e.rRel?"":"$")+Us(r.e.r):O0(r.s,e.biff)+":"+O0(r.e,e.biff)}function Y5(r){return parseInt(GB(r),10)-1}function Us(r){return""+(r+1)}function WB(r){return r.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function GB(r){return r.replace(/\$(\d+)$/,"$1")}function J5(r){for(var e=XB(r),t=0,n=0;n!==e.length;++n)t=26*t+e.charCodeAt(n)-64;return t-1}function ds(r){if(r<0)throw new Error("invalid column "+r);var e="";for(++r;r;r=Math.floor((r-1)/26))e=String.fromCharCode((r-1)%26+65)+e;return e}function KB(r){return r.replace(/^([A-Z])/,"$$$1")}function XB(r){return r.replace(/^\$([A-Z])/,"$1")}function YB(r){return r.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function _i(r){for(var e=0,t=0,n=0;n<r.length;++n){var s=r.charCodeAt(n);s>=48&&s<=57?e=10*e+(s-48):s>=65&&s<=90&&(t=26*t+(s-64))}return{c:t-1,r:e-1}}function Er(r){for(var e=r.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(r.r+1)}function wd(r){var e=r.indexOf(":");return e==-1?{s:_i(r),e:_i(r)}:{s:_i(r.slice(0,e)),e:_i(r.slice(e+1))}}function Hr(r,e){return typeof e>"u"||typeof e=="number"?Hr(r.s,r.e):(typeof r!="string"&&(r=Er(r)),typeof e!="string"&&(e=Er(e)),r==e?r:r+":"+e)}function Bn(r){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,n=0,s=0,i=r.length;for(t=0;n<i&&!((s=r.charCodeAt(n)-64)<1||s>26);++n)t=26*t+s;for(e.s.c=--t,t=0;n<i&&!((s=r.charCodeAt(n)-48)<0||s>9);++n)t=10*t+s;if(e.s.r=--t,n===i||s!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,t=0;n!=i&&!((s=r.charCodeAt(n)-64)<1||s>26);++n)t=26*t+s;for(e.e.c=--t,t=0;n!=i&&!((s=r.charCodeAt(n)-48)<0||s>9);++n)t=10*t+s;return e.e.r=--t,e}function aS(r,e){var t=r.t=="d"&&e instanceof Date;if(r.z!=null)try{return r.w=Pa(r.z,t?ki(e):e)}catch{}try{return r.w=Pa((r.XF||{}).numFmtId||(t?14:0),t?ki(e):e)}catch{return""+e}}function Rl(r,e,t){return r==null||r.t==null||r.t=="z"?"":r.w!==void 0?r.w:(r.t=="d"&&!r.z&&t&&t.dateNF&&(r.z=t.dateNF),r.t=="e"?Sh[r.v]||r.v:e==null?aS(r,r.v):aS(r,e))}function wu(r,e){var t=e&&e.sheet?e.sheet:"Sheet1",n={};return n[t]=r,{SheetNames:[t],Sheets:n}}function i7(r,e,t){var n=t||{},s=r?Array.isArray(r):n.dense,i=r||(s?[]:{}),a=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?_i(n.origin):n.origin;a=l.r,o=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=Bn(i["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),a==-1&&(c.e.r=a=u.e.r+1)}for(var d=0;d!=e.length;++d)if(e[d]){if(!Array.isArray(e[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=e[d].length;++h)if(!(typeof e[d][h]>"u")){var f={v:e[d][h]},m=a+d,g=o+h;if(c.s.r>m&&(c.s.r=m),c.s.c>g&&(c.s.c=g),c.e.r<m&&(c.e.r=m),c.e.c<g&&(c.e.c=g),e[d][h]&&typeof e[d][h]=="object"&&!Array.isArray(e[d][h])&&!(e[d][h]instanceof Date))f=e[d][h];else if(Array.isArray(f.v)&&(f.f=e[d][h][1],f.v=f.v[0]),f.v===null)if(f.f)f.t="n";else if(n.nullError)f.t="e",f.v=0;else if(n.sheetStubs)f.t="z";else continue;else typeof f.v=="number"?f.t="n":typeof f.v=="boolean"?f.t="b":f.v instanceof Date?(f.z=n.dateNF||Nr[14],n.cellDates?(f.t="d",f.w=Pa(f.z,ki(f.v))):(f.t="n",f.v=ki(f.v),f.w=Pa(f.z,f.v))):f.t="s";if(s)i[m]||(i[m]=[]),i[m][g]&&i[m][g].z&&(f.z=i[m][g].z),i[m][g]=f;else{var p=Er({c:g,r:m});i[p]&&i[p].z&&(f.z=i[p].z),i[p]=f}}}return c.s.c<1e7&&(i["!ref"]=Hr(c)),i}function xd(r,e){return i7(null,r,e)}function JB(r){return r.read_shift(4,"i")}function li(r){var e=r.read_shift(4);return e===0?"":r.read_shift(e,"dbcs")}function QB(r){return{ich:r.read_shift(2),ifnt:r.read_shift(2)}}function Q5(r,e){var t=r.l,n=r.read_shift(1),s=li(r),i=[],a={t:s,h:s};if(n&1){for(var o=r.read_shift(4),l=0;l!=o;++l)i.push(QB(r));a.r=i}else a.r=[{ich:0,ifnt:0}];return r.l=t+e,a}var ZB=Q5;function Ma(r){var e=r.read_shift(4),t=r.read_shift(2);return t+=r.read_shift(1)<<16,r.l++,{c:e,iStyleRef:t}}function xh(r){var e=r.read_shift(2);return e+=r.read_shift(1)<<16,r.l++,{c:-1,iStyleRef:e}}var eU=li;function Z5(r){var e=r.read_shift(4);return e===0||e===4294967295?"":r.read_shift(e,"dbcs")}var tU=li,Rw=Z5;function e_(r){var e=r.slice(r.l,r.l+4),t=e[0]&1,n=e[0]&2;r.l+=4;var s=n===0?P1([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Hu(e,0)>>2;return t?s/100:s}function a7(r){var e={s:{},e:{}};return e.s.r=r.read_shift(4),e.e.r=r.read_shift(4),e.s.c=r.read_shift(4),e.e.c=r.read_shift(4),e}var _h=a7;function ii(r){if(r.length-r.l<8)throw"XLS Xnum Buffer underflow";return r.read_shift(8,"f")}function rU(r){var e={},t=r.read_shift(1),n=t>>>1,s=r.read_shift(1),i=r.read_shift(2,"i"),a=r.read_shift(1),o=r.read_shift(1),l=r.read_shift(1);switch(r.l++,n){case 0:e.auto=1;break;case 1:e.index=s;var c=Zu[s];c&&(e.rgb=bp(c));break;case 2:e.rgb=bp([a,o,l]);break;case 3:e.theme=s;break}return i!=0&&(e.tint=i>0?i/32767:i/32768),e}function nU(r){var e=r.read_shift(1);r.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function o7(r,e){var t={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=r.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return t[r.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return r.l-=4,r.read_shift(0,e==1?"lpstr":"lpwstr")}function sU(r){return o7(r,1)}function iU(r){return o7(r,2)}var t_=2,Fi=3,rg=11,oS=12,O1=19,ng=64,aU=65,oU=71,lU=4108,cU=4126,xs=80,l7=81,uU=[xs,l7],hU={1:{n:"CodePage",t:t_},2:{n:"Category",t:xs},3:{n:"PresentationFormat",t:xs},4:{n:"ByteCount",t:Fi},5:{n:"LineCount",t:Fi},6:{n:"ParagraphCount",t:Fi},7:{n:"SlideCount",t:Fi},8:{n:"NoteCount",t:Fi},9:{n:"HiddenCount",t:Fi},10:{n:"MultimediaClipCount",t:Fi},11:{n:"ScaleCrop",t:rg},12:{n:"HeadingPairs",t:lU},13:{n:"TitlesOfParts",t:cU},14:{n:"Manager",t:xs},15:{n:"Company",t:xs},16:{n:"LinksUpToDate",t:rg},17:{n:"CharacterCount",t:Fi},19:{n:"SharedDoc",t:rg},22:{n:"HyperlinksChanged",t:rg},23:{n:"AppVersion",t:Fi,p:"version"},24:{n:"DigSig",t:aU},26:{n:"ContentType",t:xs},27:{n:"ContentStatus",t:xs},28:{n:"Language",t:xs},29:{n:"Version",t:xs},255:{},2147483648:{n:"Locale",t:O1},2147483651:{n:"Behavior",t:O1},1919054434:{}},fU={1:{n:"CodePage",t:t_},2:{n:"Title",t:xs},3:{n:"Subject",t:xs},4:{n:"Author",t:xs},5:{n:"Keywords",t:xs},6:{n:"Comments",t:xs},7:{n:"Template",t:xs},8:{n:"LastAuthor",t:xs},9:{n:"RevNumber",t:xs},10:{n:"EditTime",t:ng},11:{n:"LastPrinted",t:ng},12:{n:"CreatedDate",t:ng},13:{n:"ModifiedDate",t:ng},14:{n:"PageCount",t:Fi},15:{n:"WordCount",t:Fi},16:{n:"CharCount",t:Fi},17:{n:"Thumbnail",t:oU},18:{n:"Application",t:xs},19:{n:"DocSecurity",t:Fi},255:{},2147483648:{n:"Locale",t:O1},2147483651:{n:"Behavior",t:O1},1919054434:{}},lS={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},dU=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function pU(r){return r.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var mU=pU([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Zu=Bs(mU),Sh={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},c7={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},cS={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function gU(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function vU(r){var e=gU();if(!r||!r.match)return e;var t={};if((r.match(fi)||[]).forEach(function(n){var s=vr(n);switch(s[0].replace(kB,"<")){case"<?xml":break;case"<Types":e.xmlns=s["xmlns"+(s[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":t[s.Extension]=s.ContentType;break;case"<Override":e[cS[s.ContentType]]!==void 0&&e[cS[s.ContentType]].push(s.PartName);break}}),e.xmlns!==FB.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=t,delete e.calcchains,e}var Sf={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Iw(r){var e=r.lastIndexOf("/");return r.slice(0,e+1)+"_rels/"+r.slice(e+1)+".rels"}function M0(r,e){var t={"!id":{}};if(!r)return t;e.charAt(0)!=="/"&&(e="/"+e);var n={};return(r.match(fi)||[]).forEach(function(s){var i=vr(s);if(i[0]==="<Relationship"){var a={};a.Type=i.Type,a.Target=i.Target,a.Id=i.Id,i.TargetMode&&(a.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:f0(i.Target,e);t[o]=a,n[i.Id]=a}}),t["!id"]=n,t}var yU="application/vnd.oasis.opendocument.spreadsheet";function bU(r,e){for(var t=K5(r),n,s;n=vp.exec(t);)switch(n[3]){case"manifest":break;case"file-entry":if(s=vr(n[0],!1),s.path=="/"&&s.type!==yU)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}var F0=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],wU=function(){for(var r=new Array(F0.length),e=0;e<F0.length;++e){var t=F0[e],n="(?:"+t[0].slice(0,t[0].indexOf(":"))+":)"+t[0].slice(t[0].indexOf(":")+1);r[e]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return r}();function u7(r){var e={};r=vn(r);for(var t=0;t<F0.length;++t){var n=F0[t],s=r.match(wU[t]);s!=null&&s.length>0&&(e[n[1]]=Gr(s[1])),n[2]==="date"&&e[n[1]]&&(e[n[1]]=As(e[n[1]]))}return e}var xU=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function h7(r,e,t,n){var s=[];if(typeof r=="string")s=Z6(r,n);else for(var i=0;i<r.length;++i)s=s.concat(r[i].map(function(u){return{v:u}}));var a=typeof e=="string"?Z6(e,n).map(function(u){return u.v}):e,o=0,l=0;if(a.length>0)for(var c=0;c!==s.length;c+=2){switch(l=+s[c+1].v,s[c].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":t.Worksheets=l,t.SheetNames=a.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":t.NamedRanges=l,t.DefinedNames=a.slice(o,o+l);break;case"Charts":case"Diagramme":t.Chartsheets=l,t.ChartNames=a.slice(o,o+l);break}o+=l}}function _U(r,e,t){var n={};return e||(e={}),r=vn(r),xU.forEach(function(s){var i=(r.match(gp(s[0]))||[])[1];switch(s[2]){case"string":i&&(e[s[1]]=Gr(i));break;case"bool":e[s[1]]=i==="true";break;case"raw":var a=r.match(new RegExp("<"+s[0]+"[^>]*>([\\s\\S]*?)</"+s[0]+">"));a&&a.length>0&&(n[s[1]]=a[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&h7(n.HeadingPairs,n.TitlesOfParts,e,t),e}var SU=/<[^>]+>[^<]*/g;function EU(r,e){var t={},n="",s=r.match(SU);if(s)for(var i=0;i!=s.length;++i){var a=s[i],o=vr(a);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Gr(o.name);break;case"</property>":n=null;break;default:if(a.indexOf("<vt:")===0){var l=a.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":t[n]=Gr(u);break;case"bool":t[n]=En(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":t[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":t[n]=parseFloat(u);break;case"filetime":case"date":t[n]=As(u);break;case"cy":case"error":t[n]=Gr(u);break;default:if(c.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",a,c,l)}}else if(a.slice(0,2)!=="</"){if(e.WTF)throw new Error(a)}}}return t}var kU={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Dy;function AU(r,e,t){Dy||(Dy=q5(kU)),e=Dy[e]||e,r[e]=t}function r_(r){var e=r.read_shift(4),t=r.read_shift(4);return new Date((t/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function f7(r,e,t){var n=r.l,s=r.read_shift(0,"lpstr-cp");if(t)for(;r.l-n&3;)++r.l;return s}function d7(r,e,t){var n=r.read_shift(0,"lpwstr");return n}function p7(r,e,t){return e===31?d7(r):f7(r,e,t)}function Pw(r,e,t){return p7(r,e,t===!1?0:4)}function TU(r,e){if(!e)throw new Error("VtUnalignedString must have positive length");return p7(r,e,0)}function CU(r){for(var e=r.read_shift(4),t=[],n=0;n!=e;++n){var s=r.l;t[n]=r.read_shift(0,"lpwstr").replace(Ei,""),r.l-s&2&&(r.l+=2)}return t}function NU(r){for(var e=r.read_shift(4),t=[],n=0;n!=e;++n)t[n]=r.read_shift(0,"lpstr-cp").replace(Ei,"");return t}function DU(r){var e=r.l,t=M1(r,l7);r[r.l]==0&&r[r.l+1]==0&&r.l-e&2&&(r.l+=2);var n=M1(r,Fi);return[t,n]}function RU(r){for(var e=r.read_shift(4),t=[],n=0;n<e/2;++n)t.push(DU(r));return t}function uS(r,e){for(var t=r.read_shift(4),n={},s=0;s!=t;++s){var i=r.read_shift(4),a=r.read_shift(4);n[i]=r.read_shift(a,e===1200?"utf16le":"utf8").replace(Ei,"").replace(h0,"!"),e===1200&&a%2&&(r.l+=2)}return r.l&3&&(r.l=r.l>>3<<2),n}function m7(r){var e=r.read_shift(4),t=r.slice(r.l,r.l+e);return r.l+=e,(e&3)>0&&(r.l+=4-(e&3)&3),t}function IU(r){var e={};return e.Size=r.read_shift(4),r.l+=e.Size+3-(e.Size-1)%4,e}function M1(r,e,t){var n=r.read_shift(2),s,i=t||{};if(r.l+=2,e!==oS&&n!==e&&uU.indexOf(e)===-1&&!((e&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+e+" saw "+n);switch(e===oS?n:e){case 2:return s=r.read_shift(2,"i"),i.raw||(r.l+=2),s;case 3:return s=r.read_shift(4,"i"),s;case 11:return r.read_shift(4)!==0;case 19:return s=r.read_shift(4),s;case 30:return f7(r,n,4).replace(Ei,"");case 31:return d7(r);case 64:return r_(r);case 65:return m7(r);case 71:return IU(r);case 80:return Pw(r,n,!i.raw).replace(Ei,"");case 81:return TU(r,n).replace(Ei,"");case 4108:return RU(r);case 4126:case 4127:return n==4127?CU(r):NU(r);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}}function hS(r,e){var t=r.l,n=r.read_shift(4),s=r.read_shift(4),i=[],a=0,o=0,l=-1,c={};for(a=0;a!=s;++a){var u=r.read_shift(4),d=r.read_shift(4);i[a]=[u,d+t]}i.sort(function(y,b){return y[1]-b[1]});var h={};for(a=0;a!=s;++a){if(r.l!==i[a][1]){var f=!0;if(a>0&&e)switch(e[i[a-1][0]].t){case 2:r.l+2===i[a][1]&&(r.l+=2,f=!1);break;case 80:r.l<=i[a][1]&&(r.l=i[a][1],f=!1);break;case 4108:r.l<=i[a][1]&&(r.l=i[a][1],f=!1);break}if((!e||a==0)&&r.l<=i[a][1]&&(f=!1,r.l=i[a][1]),f)throw new Error("Read Error: Expected address "+i[a][1]+" at "+r.l+" :"+a)}if(e){var m=e[i[a][0]];if(h[m.n]=M1(r,m.t,{raw:!0}),m.p==="version"&&(h[m.n]=String(h[m.n]>>16)+"."+("0000"+String(h[m.n]&65535)).slice(-4)),m.n=="CodePage")switch(h[m.n]){case 0:h[m.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:io(o=h[m.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[m.n])}}else if(i[a][0]===1){if(o=h.CodePage=M1(r,t_),io(o),l!==-1){var g=r.l;r.l=i[l][1],c=uS(r,o),r.l=g}}else if(i[a][0]===0){if(o===0){l=a,r.l=i[a+1][1];continue}c=uS(r,o)}else{var p=c[i[a][0]],v;switch(r[r.l]){case 65:r.l+=4,v=m7(r);break;case 30:r.l+=4,v=Pw(r,r[r.l-4]).replace(/\u0000+$/,"");break;case 31:r.l+=4,v=Pw(r,r[r.l-4]).replace(/\u0000+$/,"");break;case 3:r.l+=4,v=r.read_shift(4,"i");break;case 19:r.l+=4,v=r.read_shift(4);break;case 5:r.l+=4,v=r.read_shift(8,"f");break;case 11:r.l+=4,v=Hn(r,4);break;case 64:r.l+=4,v=As(r_(r));break;default:throw new Error("unparsed value: "+r[r.l])}h[p]=v}}return r.l=t+n,h}function fS(r,e,t){var n=r.content;if(!n)return{};Ms(n,0);var s,i,a,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),u=n.read_shift(16);if(u!==Vr.utils.consts.HEADER_CLSID&&u!==t)throw new Error("Bad PropertySet CLSID "+u);if(s=n.read_shift(4),s!==1&&s!==2)throw new Error("Unrecognized #Sets: "+s);if(i=n.read_shift(16),o=n.read_shift(4),s===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);s===2&&(a=n.read_shift(16),l=n.read_shift(4));var d=hS(n,e),h={SystemIdentifier:c};for(var f in d)h[f]=d[f];if(h.FMTID=i,s===1)return h;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var m;try{m=hS(n,null)}catch{}for(f in m)h[f]=m[f];return h.FMTID=[i,a],h}function mc(r,e){return r.read_shift(e),null}function PU(r,e,t){for(var n=[],s=r.l+e;r.l<s;)n.push(t(r,s-r.l));if(s!==r.l)throw new Error("Slurp error");return n}function Hn(r,e){return r.read_shift(e)===1}function ts(r){return r.read_shift(2,"u")}function g7(r,e){return PU(r,e,ts)}function OU(r){var e=r.read_shift(1),t=r.read_shift(1);return t===1?e:e===1}function zp(r,e,t){var n=r.read_shift(t&&t.biff>=12?2:1),s="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var i=r.read_shift(1);i&&(s="dbcs-cont")}else t.biff==12&&(s="wstr");t.biff>=2&&t.biff<=5&&(s="cpstr");var a=n?r.read_shift(n,s):"";return a}function MU(r){var e=r.read_shift(2),t=r.read_shift(1),n=t&4,s=t&8,i=1+(t&1),a=0,o,l={};s&&(a=r.read_shift(2)),n&&(o=r.read_shift(4));var c=i==2?"dbcs-cont":"sbcs-cont",u=e===0?"":r.read_shift(e,c);return s&&(r.l+=4*a),n&&(r.l+=o),l.t=u,s||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function uh(r,e,t){var n;if(t){if(t.biff>=2&&t.biff<=5)return r.read_shift(e,"cpstr");if(t.biff>=12)return r.read_shift(e,"dbcs-cont")}var s=r.read_shift(1);return s===0?n=r.read_shift(e,"sbcs-cont"):n=r.read_shift(e,"dbcs-cont"),n}function qp(r,e,t){var n=r.read_shift(t&&t.biff==2?1:2);return n===0?(r.l++,""):uh(r,n,t)}function Eh(r,e,t){if(t.biff>5)return qp(r,e,t);var n=r.read_shift(1);return n===0?(r.l++,""):r.read_shift(n,t.biff<=4||!r.lens?"cpstr":"sbcs-cont")}function FU(r){var e=r.read_shift(1);r.l++;var t=r.read_shift(2);return r.l+=2,[e,t]}function LU(r){var e=r.read_shift(4),t=r.l,n=!1;e>24&&(r.l+=e-24,r.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),r.l=t);var s=r.read_shift((n?e-24:e)>>1,"utf16le").replace(Ei,"");return n&&(r.l+=24),s}function jU(r){for(var e=r.read_shift(2),t="";e-- >0;)t+="../";var n=r.read_shift(0,"lpstr-ansi");if(r.l+=2,r.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var s=r.read_shift(4);if(s===0)return t+n.replace(/\\/g,"/");var i=r.read_shift(4);if(r.read_shift(2)!=3)throw new Error("Bad FileMoniker");var a=r.read_shift(i>>1,"utf16le").replace(Ei,"");return t+a}function BU(r,e){var t=r.read_shift(16);switch(t){case"e0c9ea79f9bace118c8200aa004ba90b":return LU(r);case"0303000000000000c000000000000046":return jU(r);default:throw new Error("Unsupported Moniker "+t)}}function sg(r){var e=r.read_shift(4),t=e>0?r.read_shift(e,"utf16le").replace(Ei,""):"";return t}function UU(r,e){var t=r.l+e,n=r.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var s=r.read_shift(2);r.l+=2;var i,a,o,l,c="",u,d;s&16&&(i=sg(r,t-r.l)),s&128&&(a=sg(r,t-r.l)),(s&257)===257&&(o=sg(r,t-r.l)),(s&257)===1&&(l=BU(r,t-r.l)),s&8&&(c=sg(r,t-r.l)),s&32&&(u=r.read_shift(16)),s&64&&(d=r_(r)),r.l=t;var h=a||o||l||"";h&&c&&(h+="#"+c),h||(h="#"+c),s&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var f={Target:h};return u&&(f.guid=u),d&&(f.time=d),i&&(f.Tooltip=i),f}function v7(r){var e=r.read_shift(1),t=r.read_shift(1),n=r.read_shift(1),s=r.read_shift(1);return[e,t,n,s]}function y7(r,e){var t=v7(r);return t[3]=0,t}function Qo(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2);return{r:e,c:t,ixfe:n}}function $U(r){var e=r.read_shift(2),t=r.read_shift(2);return r.l+=8,{type:e,flags:t}}function VU(r,e,t){return e===0?"":Eh(r,e,t)}function HU(r,e,t){var n=t.biff>8?4:2,s=r.read_shift(n),i=r.read_shift(n,"i"),a=r.read_shift(n,"i");return[s,i,a]}function b7(r){var e=r.read_shift(2),t=e_(r);return[e,t]}function zU(r,e,t){r.l+=4,e-=4;var n=r.l+e,s=zp(r,e,t),i=r.read_shift(2);if(n-=r.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return r.l+=i,s}function H2(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2),s=r.read_shift(2);return{s:{c:n,r:e},e:{c:s,r:t}}}function w7(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(1),s=r.read_shift(1);return{s:{c:n,r:e},e:{c:s,r:t}}}var qU=w7;function x7(r){r.l+=4;var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2);return r.l+=12,[t,e,n]}function WU(r){var e={};return r.l+=4,r.l+=16,e.fSharedNote=r.read_shift(2),r.l+=4,e}function GU(r){var e={};return r.l+=4,r.cf=r.read_shift(2),e}function Gs(r){r.l+=2,r.l+=r.read_shift(2)}var KU={0:Gs,4:Gs,5:Gs,6:Gs,7:GU,8:Gs,9:Gs,10:Gs,11:Gs,12:Gs,13:WU,14:Gs,15:Gs,16:Gs,17:Gs,18:Gs,19:Gs,20:Gs,21:x7};function XU(r,e){for(var t=r.l+e,n=[];r.l<t;){var s=r.read_shift(2);r.l-=2;try{n.push(KU[s](r,t-r.l))}catch{return r.l=t,n}}return r.l!=t&&(r.l=t),n}function ig(r,e){var t={BIFFVer:0,dt:0};switch(t.BIFFVer=r.read_shift(2),e-=2,e>=2&&(t.dt=r.read_shift(2),r.l-=2),t.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+t.BIFFVer)}return r.read_shift(e),t}function YU(r,e){return e===0||r.read_shift(2),1200}function JU(r,e,t){if(t.enc)return r.l+=e,"";var n=r.l,s=Eh(r,0,t);return r.read_shift(e+n-r.l),s}function QU(r,e,t){var n=t&&t.biff==8||e==2?r.read_shift(2):(r.l+=e,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function ZU(r,e,t){var n=r.read_shift(4),s=r.read_shift(1)&3,i=r.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var a=zp(r,0,t);return a.length===0&&(a="Sheet1"),{pos:n,hs:s,dt:i,name:a}}function e$(r,e){for(var t=r.l+e,n=r.read_shift(4),s=r.read_shift(4),i=[],a=0;a!=s&&r.l<t;++a)i.push(MU(r));return i.Count=n,i.Unique=s,i}function t$(r,e){var t={};return t.dsst=r.read_shift(2),r.l+=e-2,t}function r$(r){var e={};e.r=r.read_shift(2),e.c=r.read_shift(2),e.cnt=r.read_shift(2)-e.c;var t=r.read_shift(2);r.l+=4;var n=r.read_shift(1);return r.l+=3,n&7&&(e.level=n&7),n&32&&(e.hidden=!0),n&64&&(e.hpt=t/20),e}function n$(r){var e=$U(r);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var t=r.read_shift(4);return t!==0}function s$(r){return r.read_shift(2),r.read_shift(4)}function dS(r,e,t){var n=0;t&&t.biff==2||(n=r.read_shift(2));var s=r.read_shift(2);t&&t.biff==2&&(n=1-(s>>15),s&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,s]}function i$(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2),s=r.read_shift(2),i=r.read_shift(2),a=r.read_shift(2),o=r.read_shift(2),l=r.read_shift(2),c=r.read_shift(2);return{Pos:[e,t],Dim:[n,s],Flags:i,CurTab:a,FirstTab:o,Selected:l,TabRatio:c}}function a$(r,e,t){if(t&&t.biff>=2&&t.biff<5)return{};var n=r.read_shift(2);return{RTL:n&64}}function o$(){}function l$(r,e,t){var n={dyHeight:r.read_shift(2),fl:r.read_shift(2)};switch(t&&t.biff||8){case 2:break;case 3:case 4:r.l+=2;break;default:r.l+=10;break}return n.name=zp(r,0,t),n}function c$(r){var e=Qo(r);return e.isst=r.read_shift(4),e}function u$(r,e,t){t.biffguess&&t.biff==2&&(t.biff=5);var n=r.l+e,s=Qo(r);t.biff==2&&r.l++;var i=qp(r,n-r.l,t);return s.val=i,s}function h$(r,e,t){var n=r.read_shift(2),s=Eh(r,0,t);return[n,s]}var f$=Eh;function pS(r,e,t){var n=r.l+e,s=t.biff==8||!t.biff?4:2,i=r.read_shift(s),a=r.read_shift(s),o=r.read_shift(2),l=r.read_shift(2);return r.l=n,{s:{r:i,c:o},e:{r:a,c:l}}}function d$(r){var e=r.read_shift(2),t=r.read_shift(2),n=b7(r);return{r:e,c:t,ixfe:n[0],rknum:n[1]}}function p$(r,e){for(var t=r.l+e-2,n=r.read_shift(2),s=r.read_shift(2),i=[];r.l<t;)i.push(b7(r));if(r.l!==t)throw new Error("MulRK read error");var a=r.read_shift(2);if(i.length!=a-s+1)throw new Error("MulRK length mismatch");return{r:n,c:s,C:a,rkrec:i}}function m$(r,e){for(var t=r.l+e-2,n=r.read_shift(2),s=r.read_shift(2),i=[];r.l<t;)i.push(r.read_shift(2));if(r.l!==t)throw new Error("MulBlank read error");var a=r.read_shift(2);if(i.length!=a-s+1)throw new Error("MulBlank length mismatch");return{r:n,c:s,C:a,ixfe:i}}function g$(r,e,t,n){var s={},i=r.read_shift(4),a=r.read_shift(4),o=r.read_shift(4),l=r.read_shift(2);return s.patternType=dU[o>>26],n.cellStyles&&(s.alc=i&7,s.fWrap=i>>3&1,s.alcV=i>>4&7,s.fJustLast=i>>7&1,s.trot=i>>8&255,s.cIndent=i>>16&15,s.fShrinkToFit=i>>20&1,s.iReadOrder=i>>22&2,s.fAtrNum=i>>26&1,s.fAtrFnt=i>>27&1,s.fAtrAlc=i>>28&1,s.fAtrBdr=i>>29&1,s.fAtrPat=i>>30&1,s.fAtrProt=i>>31&1,s.dgLeft=a&15,s.dgRight=a>>4&15,s.dgTop=a>>8&15,s.dgBottom=a>>12&15,s.icvLeft=a>>16&127,s.icvRight=a>>23&127,s.grbitDiag=a>>30&3,s.icvTop=o&127,s.icvBottom=o>>7&127,s.icvDiag=o>>14&127,s.dgDiag=o>>21&15,s.icvFore=l&127,s.icvBack=l>>7&127,s.fsxButton=l>>14&1),s}function v$(r,e,t){var n={};return n.ifnt=r.read_shift(2),n.numFmtId=r.read_shift(2),n.flags=r.read_shift(2),n.fStyle=n.flags>>2&1,e-=6,n.data=g$(r,e,n.fStyle,t),n}function y$(r){r.l+=4;var e=[r.read_shift(2),r.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function mS(r,e,t){var n=Qo(r);(t.biff==2||e==9)&&++r.l;var s=OU(r);return n.val=s,n.t=s===!0||s===!1?"b":"e",n}function b$(r,e,t){t.biffguess&&t.biff==2&&(t.biff=5);var n=Qo(r),s=ii(r);return n.val=s,n}var gS=VU;function w$(r,e,t){var n=r.l+e,s=r.read_shift(2),i=r.read_shift(2);if(t.sbcch=i,i==1025||i==14849)return[i,s];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var a=uh(r,i),o=[];n>r.l;)o.push(qp(r));return[i,s,a,o]}function vS(r,e,t){var n=r.read_shift(2),s,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return t.sbcch===14849&&(s=zU(r,e-2,t)),i.body=s||r.read_shift(e-2),typeof s=="string"&&(i.Name=s),i}var x$=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function yS(r,e,t){var n=r.l+e,s=r.read_shift(2),i=r.read_shift(1),a=r.read_shift(1),o=r.read_shift(t&&t.biff==2?1:2),l=0;(!t||t.biff>=5)&&(t.biff!=5&&(r.l+=2),l=r.read_shift(2),t.biff==5&&(r.l+=2),r.l+=4);var c=uh(r,a,t);s&32&&(c=x$[c.charCodeAt(0)]);var u=n-r.l;t&&t.biff==2&&--u;var d=n==r.l||o===0||!(u>0)?[]:rq(r,u,t,o);return{chKey:i,Name:c,itab:l,rgce:d}}function _7(r,e,t){if(t.biff<8)return _$(r,e,t);for(var n=[],s=r.l+e,i=r.read_shift(t.biff>8?4:2);i--!==0;)n.push(HU(r,t.biff>8?12:6,t));if(r.l!=s)throw new Error("Bad ExternSheet: "+r.l+" != "+s);return n}function _$(r,e,t){r[r.l+1]==3&&r[r.l]++;var n=zp(r,e,t);return n.charCodeAt(0)==3?n.slice(1):n}function S$(r,e,t){if(t.biff<8){r.l+=e;return}var n=r.read_shift(2),s=r.read_shift(2),i=uh(r,n,t),a=uh(r,s,t);return[i,a]}function E$(r,e,t){var n=w7(r);r.l++;var s=r.read_shift(1);return e-=8,[nq(r,e,t),s,n]}function bS(r,e,t){var n=qU(r);switch(t.biff){case 2:r.l++,e-=7;break;case 3:case 4:r.l+=2,e-=8;break;default:r.l+=6,e-=12}return[n,eq(r,e,t)]}function k$(r){var e=r.read_shift(4)!==0,t=r.read_shift(4)!==0,n=r.read_shift(4);return[e,t,n]}function A$(r,e,t){if(!(t.biff<8)){var n=r.read_shift(2),s=r.read_shift(2),i=r.read_shift(2),a=r.read_shift(2),o=Eh(r,0,t);return t.biff<8&&r.read_shift(1),[{r:n,c:s},o,a,i]}}function T$(r,e,t){return A$(r,e,t)}function C$(r,e){for(var t=[],n=r.read_shift(2);n--;)t.push(H2(r));return t}function N$(r,e,t){if(t&&t.biff<8)return R$(r,e,t);var n=x7(r),s=XU(r,e-22,n[1]);return{cmo:n,ft:s}}var D$={8:function(r,e){var t=r.l+e;r.l+=10;var n=r.read_shift(2);r.l+=4,r.l+=2,r.l+=2,r.l+=2,r.l+=4;var s=r.read_shift(1);return r.l+=s,r.l=t,{fmt:n}}};function R$(r,e,t){r.l+=4;var n=r.read_shift(2),s=r.read_shift(2),i=r.read_shift(2);r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=6,e-=36;var a=[];return a.push((D$[n]||ui)(r,e,t)),{cmo:[s,n,i],ft:a}}function I$(r,e,t){var n=r.l,s="";try{r.l+=4;var i=(t.lastobj||{cmo:[0,0]}).cmo[1],a;[0,5,7,11,12,14].indexOf(i)==-1?r.l+=6:a=FU(r,6,t);var o=r.read_shift(2);r.read_shift(2),ts(r,2);var l=r.read_shift(2);r.l+=l;for(var c=1;c<r.lens.length-1;++c){if(r.l-n!=r.lens[c])throw new Error("TxO: bad continue record");var u=r[r.l],d=uh(r,r.lens[c+1]-r.lens[c]-1);if(s+=d,s.length>=(u?o:2*o))break}if(s.length!==o&&s.length!==o*2)throw new Error("cchText: "+o+" != "+s.length);return r.l=n+e,{t:s}}catch{return r.l=n+e,{t:s}}}function P$(r,e){var t=H2(r);r.l+=16;var n=UU(r,e-24);return[t,n]}function O$(r,e){r.read_shift(2);var t=H2(r),n=r.read_shift((e-10)/2,"dbcs-cont");return n=n.replace(Ei,""),[t,n]}function M$(r){var e=[0,0],t;return t=r.read_shift(2),e[0]=lS[t]||t,t=r.read_shift(2),e[1]=lS[t]||t,e}function F$(r){for(var e=r.read_shift(2),t=[];e-- >0;)t.push(y7(r));return t}function L$(r){for(var e=r.read_shift(2),t=[];e-- >0;)t.push(y7(r));return t}function j$(r){r.l+=2;var e={cxfs:0,crc:0};return e.cxfs=r.read_shift(2),e.crc=r.read_shift(4),e}function S7(r,e,t){if(!t.cellStyles)return ui(r,e);var n=t&&t.biff>=12?4:2,s=r.read_shift(n),i=r.read_shift(n),a=r.read_shift(n),o=r.read_shift(n),l=r.read_shift(2);n==2&&(r.l+=2);var c={s,e:i,w:a,ixfe:o,flags:l};return(t.biff>=5||!t.biff)&&(c.level=l>>8&7),c}function B$(r,e){var t={};return e<32||(r.l+=16,t.header=ii(r),t.footer=ii(r),r.l+=2),t}function U$(r,e,t){var n={area:!1};if(t.biff!=5)return r.l+=e,n;var s=r.read_shift(1);return r.l+=3,s&16&&(n.area=!0),n}var $$=Qo,V$=g7,H$=qp;function z$(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(4),s={fmt:e,env:t,len:n,data:r.slice(r.l,r.l+n)};return r.l+=n,s}function q$(r,e,t){t.biffguess&&t.biff==5&&(t.biff=2);var n=Qo(r);++r.l;var s=Eh(r,e-7,t);return n.t="str",n.val=s,n}function W$(r){var e=Qo(r);++r.l;var t=ii(r);return e.t="n",e.val=t,e}function G$(r){var e=Qo(r);++r.l;var t=r.read_shift(2);return e.t="n",e.val=t,e}function K$(r){var e=r.read_shift(1);return e===0?(r.l++,""):r.read_shift(e,"sbcs-cont")}function X$(r,e){r.l+=6,r.l+=2,r.l+=1,r.l+=3,r.l+=1,r.l+=e-13}function Y$(r,e,t){var n=r.l+e,s=Qo(r),i=r.read_shift(2),a=uh(r,i,t);return r.l=n,s.t="str",s.val=a,s}var J$=[2,3,48,49,131,139,140,245],wS=function(){var r={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=q5({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(o,l){var c=[],u=su(1);switch(l.type){case"base64":u=so(la(o));break;case"binary":u=so(o);break;case"buffer":case"array":u=o;break}Ms(u,0);var d=u.read_shift(1),h=!!(d&136),f=!1,m=!1;switch(d){case 2:break;case 3:break;case 48:f=!0,h=!0;break;case 49:f=!0,h=!0;break;case 131:break;case 139:break;case 140:m=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+d.toString(16))}var g=0,p=521;d==2&&(g=u.read_shift(2)),u.l+=3,d!=2&&(g=u.read_shift(4)),g>1048576&&(g=1e6),d!=2&&(p=u.read_shift(2));var v=u.read_shift(2),y=l.codepage||1252;d!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(y=r[u[u.l]]),u.l+=1,u.l+=2),m&&(u.l+=36);for(var b=[],E={},N=Math.min(u.length,d==2?521:p-10-(f?264:0)),j=m?32:11;u.l<N&&u[u.l]!=13;)switch(E={},E.name=Nw.utils.decode(y,u.slice(u.l,u.l+j)).replace(/[\u0000\r\n].*$/g,""),u.l+=j,E.type=String.fromCharCode(u.read_shift(1)),d!=2&&!m&&(E.offset=u.read_shift(4)),E.len=u.read_shift(1),d==2&&(E.offset=u.read_shift(2)),E.dec=u.read_shift(1),E.name.length&&b.push(E),d!=2&&(u.l+=m?13:14),E.type){case"B":(!f||E.len!=8)&&l.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+E.type)}if(u[u.l]!==13&&(u.l=p-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=p;var D=0,C=0;for(c[0]=[],C=0;C!=b.length;++C)c[0][C]=b[C].name;for(;g-- >0;){if(u[u.l]===42){u.l+=v;continue}for(++u.l,c[++D]=[],C=0,C=0;C!=b.length;++C){var I=u.slice(u.l,u.l+b[C].len);u.l+=b[C].len,Ms(I,0);var V=Nw.utils.decode(y,I);switch(b[C].type){case"C":V.trim().length&&(c[D][C]=V.replace(/\s+$/,""));break;case"D":V.length===8?c[D][C]=new Date(+V.slice(0,4),+V.slice(4,6)-1,+V.slice(6,8)):c[D][C]=V;break;case"F":c[D][C]=parseFloat(V.trim());break;case"+":case"I":c[D][C]=m?I.read_shift(-4,"i")^2147483648:I.read_shift(4,"i");break;case"L":switch(V.trim().toUpperCase()){case"Y":case"T":c[D][C]=!0;break;case"N":case"F":c[D][C]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+V+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+d.toString(16));c[D][C]="##MEMO##"+(m?parseInt(V.trim(),10):I.read_shift(4));break;case"N":V=V.replace(/\u0000/g,"").trim(),V&&V!="."&&(c[D][C]=+V||0);break;case"@":c[D][C]=new Date(I.read_shift(-8,"f")-621356832e5);break;case"T":c[D][C]=new Date((I.read_shift(4)-2440588)*864e5+I.read_shift(4));break;case"Y":c[D][C]=I.read_shift(4,"i")/1e4+I.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[D][C]=-I.read_shift(-8,"f");break;case"B":if(f&&b[C].len==8){c[D][C]=I.read_shift(8,"f");break}case"G":case"P":I.l+=b[C].len;break;case"0":if(b[C].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[C].type)}}}if(d!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=b,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=xd(t(o,c),c);return u["!cols"]=c.DBF.map(function(d){return{wch:d.len,DBF:d}}),delete c.DBF,u}function s(o,l){try{return wu(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,l){var c=l||{};if(+c.codepage>=0&&io(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=Dw(),d=Bw(o,{header:1,raw:!0,cellDates:!0}),h=d[0],f=d.slice(1),m=o["!cols"]||[],g=0,p=0,v=0,y=1;for(g=0;g<h.length;++g){if(((m[g]||{}).DBF||{}).name){h[g]=m[g].DBF.name,++v;continue}if(h[g]!=null){if(++v,typeof h[g]=="number"&&(h[g]=h[g].toString(10)),typeof h[g]!="string")throw new Error("DBF Invalid column name "+h[g]+" |"+typeof h[g]+"|");if(h.indexOf(h[g])!==g){for(p=0;p<1024;++p)if(h.indexOf(h[g]+"_"+p)==-1){h[g]+="_"+p;break}}}}var b=Bn(o["!ref"]),E=[],N=[],j=[];for(g=0;g<=b.e.c-b.s.c;++g){var D="",C="",I=0,V=[];for(p=0;p<f.length;++p)f[p][g]!=null&&V.push(f[p][g]);if(V.length==0||h[g]==null){E[g]="?";continue}for(p=0;p<V.length;++p){switch(typeof V[p]){case"number":C="B";break;case"string":C="C";break;case"boolean":C="L";break;case"object":C=V[p]instanceof Date?"D":"C";break;default:C="C"}I=Math.max(I,String(V[p]).length),D=D&&D!=C?"C":C}I>250&&(I=250),C=((m[g]||{}).DBF||{}).type,C=="C"&&m[g].DBF.len>I&&(I=m[g].DBF.len),D=="B"&&C=="N"&&(D="N",j[g]=m[g].DBF.dec,I=m[g].DBF.len),N[g]=D=="C"||C=="N"?I:i[D]||0,y+=N[g],E[g]=D}var B=u.next(32);for(B.write_shift(4,318902576),B.write_shift(4,f.length),B.write_shift(2,296+32*v),B.write_shift(2,y),g=0;g<4;++g)B.write_shift(4,0);for(B.write_shift(4,0|(+e[_C]||3)<<8),g=0,p=0;g<h.length;++g)if(h[g]!=null){var P=u.next(32),k=(h[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);P.write_shift(1,k,"sbcs"),P.write_shift(1,E[g]=="?"?"C":E[g],"sbcs"),P.write_shift(4,p),P.write_shift(1,N[g]||i[E[g]]||0),P.write_shift(1,j[g]||0),P.write_shift(1,2),P.write_shift(4,0),P.write_shift(1,0),P.write_shift(4,0),P.write_shift(4,0),p+=N[g]||i[E[g]]||0}var M=u.next(264);for(M.write_shift(4,13),g=0;g<65;++g)M.write_shift(4,0);for(g=0;g<f.length;++g){var A=u.next(y);for(A.write_shift(1,0),p=0;p<h.length;++p)if(h[p]!=null)switch(E[p]){case"L":A.write_shift(1,f[g][p]==null?63:f[g][p]?84:70);break;case"B":A.write_shift(8,f[g][p]||0,"f");break;case"N":var w="0";for(typeof f[g][p]=="number"&&(w=f[g][p].toFixed(j[p]||0)),v=0;v<N[p]-w.length;++v)A.write_shift(1,32);A.write_shift(1,w,"sbcs");break;case"D":f[g][p]?(A.write_shift(4,("0000"+f[g][p].getFullYear()).slice(-4),"sbcs"),A.write_shift(2,("00"+(f[g][p].getMonth()+1)).slice(-2),"sbcs"),A.write_shift(2,("00"+f[g][p].getDate()).slice(-2),"sbcs")):A.write_shift(8,"00000000","sbcs");break;case"C":var S=String(f[g][p]!=null?f[g][p]:"").slice(0,N[p]);for(A.write_shift(1,S,"sbcs"),v=0;v<N[p]-S.length;++v)A.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:s,to_sheet:n,from_sheet:a}}(),Q$=function(){var r={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Xo(r).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(h,f){var m=r[f];return typeof m=="number"?F6(m):m},n=function(h,f,m){var g=f.charCodeAt(0)-32<<4|m.charCodeAt(0)-48;return g==59?h:F6(g)};r["|"]=254;function s(h,f){switch(f.type){case"base64":return i(la(h),f);case"binary":return i(h,f);case"buffer":return i(Ur&&Buffer.isBuffer(h)?h.toString("binary"):wh(h),f);case"array":return i(ch(h),f)}throw new Error("Unrecognized type "+f.type)}function i(h,f){var m=h.split(/[\n\r]+/),g=-1,p=-1,v=0,y=0,b=[],E=[],N=null,j={},D=[],C=[],I=[],V=0,B;for(+f.codepage>=0&&io(+f.codepage);v!==m.length;++v){V=0;var P=m[v].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,t),k=P.replace(/;;/g,"\0").split(";").map(function(Y){return Y.replace(/\u0000/g,";")}),M=k[0],A;if(P.length>0)switch(M){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":k[1].charAt(0)=="P"&&E.push(P.slice(3).replace(/;;/g,";"));break;case"C":var w=!1,S=!1,_=!1,x=!1,R=-1,W=-1;for(y=1;y<k.length;++y)switch(k[y].charAt(0)){case"A":break;case"X":p=parseInt(k[y].slice(1))-1,S=!0;break;case"Y":for(g=parseInt(k[y].slice(1))-1,S||(p=0),B=b.length;B<=g;++B)b[B]=[];break;case"K":A=k[y].slice(1),A.charAt(0)==='"'?A=A.slice(1,A.length-1):A==="TRUE"?A=!0:A==="FALSE"?A=!1:isNaN(fo(A))?isNaN(ed(A).getDate())||(A=As(A)):(A=fo(A),N!==null&&bd(N)&&(A=V2(A))),w=!0;break;case"E":x=!0;var T=Pf(k[y].slice(1),{r:g,c:p});b[g][p]=[b[g][p],T];break;case"S":_=!0,b[g][p]=[b[g][p],"S5S"];break;case"G":break;case"R":R=parseInt(k[y].slice(1))-1;break;case"C":W=parseInt(k[y].slice(1))-1;break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+P)}if(w&&(b[g][p]&&b[g][p].length==2?b[g][p][0]=A:b[g][p]=A,N=null),_){if(x)throw new Error("SYLK shared formula cannot have own formula");var z=R>-1&&b[R][W];if(!z||!z[1])throw new Error("SYLK shared formula cannot find base");b[g][p][1]=P7(z[1],{r:g-R,c:p-W})}break;case"F":var q=0;for(y=1;y<k.length;++y)switch(k[y].charAt(0)){case"X":p=parseInt(k[y].slice(1))-1,++q;break;case"Y":for(g=parseInt(k[y].slice(1))-1,B=b.length;B<=g;++B)b[B]=[];break;case"M":V=parseInt(k[y].slice(1))/20;break;case"F":break;case"G":break;case"P":N=E[parseInt(k[y].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(I=k[y].slice(1).split(" "),B=parseInt(I[0],10);B<=parseInt(I[1],10);++B)V=parseInt(I[2],10),C[B-1]=V===0?{hidden:!0}:{wch:V},td(C[B-1]);break;case"C":p=parseInt(k[y].slice(1))-1,C[p]||(C[p]={});break;case"R":g=parseInt(k[y].slice(1))-1,D[g]||(D[g]={}),V>0?(D[g].hpt=V,D[g].hpx=wp(V)):V===0&&(D[g].hidden=!0);break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+P)}q<1&&(N=null);break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+P)}}return D.length>0&&(j["!rows"]=D),C.length>0&&(j["!cols"]=C),f&&f.sheetRows&&(b=b.slice(0,f.sheetRows)),[b,j]}function a(h,f){var m=s(h,f),g=m[0],p=m[1],v=xd(g,f);return Xo(p).forEach(function(y){v[y]=p[y]}),v}function o(h,f){return wu(a(h,f),f)}function l(h,f,m,g){var p="C;Y"+(m+1)+";X"+(g+1)+";K";switch(h.t){case"n":p+=h.v||0,h.f&&!h.F&&(p+=";E"+jH(h.f,{r:m,c:g}));break;case"b":p+=h.v?"TRUE":"FALSE";break;case"e":p+=h.w||h.v;break;case"d":p+='"'+(h.w||h.v)+'"';break;case"s":p+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return p}function c(h,f){f.forEach(function(m,g){var p="F;W"+(g+1)+" "+(g+1)+" ";m.hidden?p+="0":(typeof m.width=="number"&&!m.wpx&&(m.wpx=L1(m.width)),typeof m.wpx=="number"&&!m.wch&&(m.wch=j1(m.wpx)),typeof m.wch=="number"&&(p+=Math.round(m.wch))),p.charAt(p.length-1)!=" "&&h.push(p)})}function u(h,f){f.forEach(function(m,g){var p="F;";m.hidden?p+="M0;":m.hpt?p+="M"+20*m.hpt+";":m.hpx&&(p+="M"+20*D7(m.hpx)+";"),p.length>2&&h.push(p+"R"+(g+1))})}function d(h,f){var m=["ID;PWXL;N;E"],g=[],p=Bn(h["!ref"]),v,y=Array.isArray(h),b=`\r
`;m.push("P;PGeneral"),m.push("F;P0;DG0G8;M255"),h["!cols"]&&c(m,h["!cols"]),h["!rows"]&&u(m,h["!rows"]),m.push("B;Y"+(p.e.r-p.s.r+1)+";X"+(p.e.c-p.s.c+1)+";D"+[p.s.c,p.s.r,p.e.c,p.e.r].join(" "));for(var E=p.s.r;E<=p.e.r;++E)for(var N=p.s.c;N<=p.e.c;++N){var j=Er({r:E,c:N});v=y?(h[E]||[])[N]:h[j],!(!v||v.v==null&&(!v.f||v.F))&&g.push(l(v,h,E,N))}return m.join(b)+b+g.join(b)+b+"E"+b}return{to_workbook:o,to_sheet:a,from_sheet:d}}(),Z$=function(){function r(i,a){switch(a.type){case"base64":return e(la(i),a);case"binary":return e(i,a);case"buffer":return e(Ur&&Buffer.isBuffer(i)?i.toString("binary"):wh(i),a);case"array":return e(ch(i),a)}throw new Error("Unrecognized type "+a.type)}function e(i,a){for(var o=i.split(`
`),l=-1,c=-1,u=0,d=[];u!==o.length;++u){if(o[u].trim()==="BOT"){d[++l]=[],c=0;continue}if(!(l<0)){var h=o[u].trim().split(","),f=h[0],m=h[1];++u;for(var g=o[u]||"";(g.match(/["]/g)||[]).length&1&&u<o.length-1;)g+=`
`+o[++u];switch(g=g.trim(),+f){case-1:if(g==="BOT"){d[++l]=[],c=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?d[l][c]=!0:g==="FALSE"?d[l][c]=!1:isNaN(fo(m))?isNaN(ed(m).getDate())?d[l][c]=m:d[l][c]=As(m):d[l][c]=fo(m),++c;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),d[l][c++]=g!==""?g:null;break}if(g==="EOD")break}}return a&&a.sheetRows&&(d=d.slice(0,a.sheetRows)),d}function t(i,a){return xd(r(i,a),a)}function n(i,a){return wu(t(i,a),a)}var s=function(){var i=function(l,c,u,d,h){l.push(c),l.push(u+","+d),l.push('"'+h.replace(/"/g,'""')+'"')},a=function(l,c,u,d){l.push(c+","+u),l.push(c==1?'"'+d.replace(/"/g,'""')+'"':d)};return function(l){var c=[],u=Bn(l["!ref"]),d,h=Array.isArray(l);i(c,"TABLE",0,1,"sheetjs"),i(c,"VECTORS",0,u.e.r-u.s.r+1,""),i(c,"TUPLES",0,u.e.c-u.s.c+1,""),i(c,"DATA",0,0,"");for(var f=u.s.r;f<=u.e.r;++f){a(c,-1,0,"BOT");for(var m=u.s.c;m<=u.e.c;++m){var g=Er({r:f,c:m});if(d=h?(l[f]||[])[m]:l[g],!d){a(c,1,0,"");continue}switch(d.t){case"n":var p=d.w;!p&&d.v!=null&&(p=d.v),p==null?d.f&&!d.F?a(c,1,0,"="+d.f):a(c,1,0,""):a(c,0,p,"V");break;case"b":a(c,0,d.v?1:0,d.v?"TRUE":"FALSE");break;case"s":a(c,1,0,isNaN(d.v)?d.v:'="'+d.v+'"');break;case"d":d.w||(d.w=Pa(d.z||Nr[14],ki(As(d.v)))),a(c,0,d.w,"V");break;default:a(c,1,0,"")}}}a(c,-1,0,"EOD");var v=`\r
`,y=c.join(v);return y}}();return{to_workbook:n,to_sheet:t,from_sheet:s}}(),eV=function(){function r(d){return d.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(d){return d.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(d,h){for(var f=d.split(`
`),m=-1,g=-1,p=0,v=[];p!==f.length;++p){var y=f[p].trim().split(":");if(y[0]==="cell"){var b=_i(y[1]);if(v.length<=b.r)for(m=v.length;m<=b.r;++m)v[m]||(v[m]=[]);switch(m=b.r,g=b.c,y[2]){case"t":v[m][g]=r(y[3]);break;case"v":v[m][g]=+y[3];break;case"vtf":var E=y[y.length-1];case"vtc":switch(y[3]){case"nl":v[m][g]=!!+y[4];break;default:v[m][g]=+y[4];break}y[2]=="vtf"&&(v[m][g]=[v[m][g],E])}}}return h&&h.sheetRows&&(v=v.slice(0,h.sheetRows)),v}function n(d,h){return xd(t(d,h),h)}function s(d,h){return wu(n(d,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(d){if(!d||!d["!ref"])return"";for(var h=[],f=[],m,g="",p=wd(d["!ref"]),v=Array.isArray(d),y=p.s.r;y<=p.e.r;++y)for(var b=p.s.c;b<=p.e.c;++b)if(g=Er({r:y,c:b}),m=v?(d[y]||[])[b]:d[g],!(!m||m.v==null||m.t==="z")){switch(f=["cell",g,"t"],m.t){case"s":case"str":f.push(e(m.v));break;case"n":m.f?(f[2]="vtf",f[3]="n",f[4]=m.v,f[5]=e(m.f)):(f[2]="v",f[3]=m.v);break;case"b":f[2]="vt"+(m.f?"f":"c"),f[3]="nl",f[4]=m.v?"1":"0",f[5]=e(m.f||(m.v?"TRUE":"FALSE"));break;case"d":var E=ki(As(m.v));f[2]="vtc",f[3]="nd",f[4]=""+E,f[5]=m.w||Pa(m.z||Nr[14],E);break;case"e":continue}h.push(f.join(":"))}return h.push("sheet:c:"+(p.e.c-p.s.c+1)+":r:"+(p.e.r-p.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(d){return[i,a,o,a,c(d),l].join(`
`)}return{to_workbook:s,to_sheet:n,from_sheet:u}}(),yp=function(){function r(u,d,h,f,m){m.raw?d[h][f]=u:u===""||(u==="TRUE"?d[h][f]=!0:u==="FALSE"?d[h][f]=!1:isNaN(fo(u))?isNaN(ed(u).getDate())?d[h][f]=u:d[h][f]=As(u):d[h][f]=fo(u))}function e(u,d){var h=d||{},f=[];if(!u||u.length===0)return f;for(var m=u.split(/[\r\n]/),g=m.length-1;g>=0&&m[g].length===0;)--g;for(var p=10,v=0,y=0;y<=g;++y)v=m[y].indexOf(" "),v==-1?v=m[y].length:v++,p=Math.max(p,v);for(y=0;y<=g;++y){f[y]=[];var b=0;for(r(m[y].slice(0,p).trim(),f,y,b,h),b=1;b<=(m[y].length-p)/10+1;++b)r(m[y].slice(p+(b-1)*10,p+b*10).trim(),f,y,b,h)}return h.sheetRows&&(f=f.slice(0,h.sheetRows)),f}var t={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function s(u){for(var d={},h=!1,f=0,m=0;f<u.length;++f)(m=u.charCodeAt(f))==34?h=!h:!h&&m in t&&(d[m]=(d[m]||0)+1);m=[];for(f in d)Object.prototype.hasOwnProperty.call(d,f)&&m.push([d[f],f]);if(!m.length){d=n;for(f in d)Object.prototype.hasOwnProperty.call(d,f)&&m.push([d[f],f])}return m.sort(function(g,p){return g[0]-p[0]||n[g[1]]-n[p[1]]}),t[m.pop()[1]]||44}function i(u,d){var h=d||{},f="",m=h.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(f=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(f=u.charAt(4),u=u.slice(6)):f=s(u.slice(0,1024)):h&&h.FS?f=h.FS:f=s(u.slice(0,1024));var p=0,v=0,y=0,b=0,E=0,N=f.charCodeAt(0),j=!1,D=0,C=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var I=h.dateNF!=null?hB(h.dateNF):null;function V(){var B=u.slice(b,E),P={};if(B.charAt(0)=='"'&&B.charAt(B.length-1)=='"'&&(B=B.slice(1,-1).replace(/""/g,'"')),B.length===0)P.t="z";else if(h.raw)P.t="s",P.v=B;else if(B.trim().length===0)P.t="s",P.v=B;else if(B.charCodeAt(0)==61)B.charCodeAt(1)==34&&B.charCodeAt(B.length-1)==34?(P.t="s",P.v=B.slice(2,-1).replace(/""/g,'"')):UH(B)?(P.t="n",P.f=B.slice(1)):(P.t="s",P.v=B);else if(B=="TRUE")P.t="b",P.v=!0;else if(B=="FALSE")P.t="b",P.v=!1;else if(!isNaN(y=fo(B)))P.t="n",h.cellText!==!1&&(P.w=B),P.v=y;else if(!isNaN(ed(B).getDate())||I&&B.match(I)){P.z=h.dateNF||Nr[14];var k=0;I&&B.match(I)&&(B=fB(B,h.dateNF,B.match(I)||[]),k=1),h.cellDates?(P.t="d",P.v=As(B,k)):(P.t="n",P.v=ki(As(B,k))),h.cellText!==!1&&(P.w=Pa(P.z,P.v instanceof Date?ki(P.v):P.v)),h.cellNF||delete P.z}else P.t="s",P.v=B;if(P.t=="z"||(h.dense?(m[p]||(m[p]=[]),m[p][v]=P):m[Er({c:v,r:p})]=P),b=E+1,C=u.charCodeAt(b),g.e.c<v&&(g.e.c=v),g.e.r<p&&(g.e.r=p),D==N)++v;else if(v=0,++p,h.sheetRows&&h.sheetRows<=p)return!0}e:for(;E<u.length;++E)switch(D=u.charCodeAt(E)){case 34:C===34&&(j=!j);break;case N:case 10:case 13:if(!j&&V())break e;break}return E-b>0&&V(),m["!ref"]=Hr(g),m}function a(u,d){return!(d&&d.PRN)||d.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,d):xd(e(u,d),d)}function o(u,d){var h="",f=d.type=="string"?[0,0,0,0]:u_(u,d);switch(d.type){case"base64":h=la(u);break;case"binary":h=u;break;case"buffer":d.codepage==65001?h=u.toString("utf8"):(d.codepage,h=Ur&&Buffer.isBuffer(u)?u.toString("binary"):wh(u));break;case"array":h=ch(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+d.type)}return f[0]==239&&f[1]==187&&f[2]==191?h=vn(h.slice(3)):d.type!="string"&&d.type!="buffer"&&d.codepage==65001?h=vn(h):d.type=="binary",h.slice(0,19)=="socialcalc:version:"?eV.to_sheet(d.type=="string"?h:vn(h),d):a(h,d)}function l(u,d){return wu(o(u,d),d)}function c(u){for(var d=[],h=Bn(u["!ref"]),f,m=Array.isArray(u),g=h.s.r;g<=h.e.r;++g){for(var p=[],v=h.s.c;v<=h.e.c;++v){var y=Er({r:g,c:v});if(f=m?(u[g]||[])[v]:u[y],!f||f.v==null){p.push("          ");continue}for(var b=(f.w||(Rl(f),f.w)||"").slice(0,10);b.length<10;)b+=" ";p.push(b+(v===0?" ":""))}d.push(p.join(""))}return d.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}();function tV(r,e){var t=e||{},n=!!t.WTF;t.WTF=!0;try{var s=Q$.to_workbook(r,t);return t.WTF=n,s}catch(i){if(t.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return yp.to_workbook(r,e)}}var L0=function(){function r(T,z,q){if(T){Ms(T,T.l||0);for(var Y=q.Enum||R;T.l<T.length;){var U=T.read_shift(2),Q=Y[U]||Y[65535],F=T.read_shift(2),O=T.l+F,K=Q.f&&Q.f(T,F,q);if(T.l=O,z(K,Q,U))return}}}function e(T,z){switch(z.type){case"base64":return t(so(la(T)),z);case"binary":return t(so(T),z);case"buffer":case"array":return t(T,z)}throw"Unsupported type "+z.type}function t(T,z){if(!T)return T;var q=z||{},Y=q.dense?[]:{},U="Sheet1",Q="",F=0,O={},K=[],ne=[],ee={s:{r:0,c:0},e:{r:0,c:0}},ie=q.sheetRows||0;if(T[2]==0&&(T[3]==8||T[3]==9)&&T.length>=16&&T[14]==5&&T[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(T[2]==2)q.Enum=R,r(T,function(se,ge,de){switch(de){case 0:q.vers=se,se>=4096&&(q.qpro=!0);break;case 6:ee=se;break;case 204:se&&(Q=se);break;case 222:Q=se;break;case 15:case 51:q.qpro||(se[1].v=se[1].v.slice(1));case 13:case 14:case 16:de==14&&(se[2]&112)==112&&(se[2]&15)>1&&(se[2]&15)<15&&(se[1].z=q.dateNF||Nr[14],q.cellDates&&(se[1].t="d",se[1].v=V2(se[1].v))),q.qpro&&se[3]>F&&(Y["!ref"]=Hr(ee),O[U]=Y,K.push(U),Y=q.dense?[]:{},ee={s:{r:0,c:0},e:{r:0,c:0}},F=se[3],U=Q||"Sheet"+(F+1),Q="");var Te=q.dense?(Y[se[0].r]||[])[se[0].c]:Y[Er(se[0])];if(Te){Te.t=se[1].t,Te.v=se[1].v,se[1].z!=null&&(Te.z=se[1].z),se[1].f!=null&&(Te.f=se[1].f);break}q.dense?(Y[se[0].r]||(Y[se[0].r]=[]),Y[se[0].r][se[0].c]=se[1]):Y[Er(se[0])]=se[1];break}},q);else if(T[2]==26||T[2]==14)q.Enum=W,T[2]==14&&(q.qpro=!0,T.l=0),r(T,function(se,ge,de){switch(de){case 204:U=se;break;case 22:se[1].v=se[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(se[3]>F&&(Y["!ref"]=Hr(ee),O[U]=Y,K.push(U),Y=q.dense?[]:{},ee={s:{r:0,c:0},e:{r:0,c:0}},F=se[3],U="Sheet"+(F+1)),ie>0&&se[0].r>=ie)break;q.dense?(Y[se[0].r]||(Y[se[0].r]=[]),Y[se[0].r][se[0].c]=se[1]):Y[Er(se[0])]=se[1],ee.e.c<se[0].c&&(ee.e.c=se[0].c),ee.e.r<se[0].r&&(ee.e.r=se[0].r);break;case 27:se[14e3]&&(ne[se[14e3][0]]=se[14e3][1]);break;case 1537:ne[se[0]]=se[1],se[0]==F&&(U=se[1]);break}},q);else throw new Error("Unrecognized LOTUS BOF "+T[2]);if(Y["!ref"]=Hr(ee),O[Q||U]=Y,K.push(Q||U),!ne.length)return{SheetNames:K,Sheets:O};for(var he={},ce=[],te=0;te<ne.length;++te)O[K[te]]?(ce.push(ne[te]||K[te]),he[ne[te]]=O[ne[te]]||O[K[te]]):(ce.push(ne[te]),he[ne[te]]={"!ref":"A1"});return{SheetNames:ce,Sheets:he}}function n(T,z){var q=z||{};if(+q.codepage>=0&&io(+q.codepage),q.type=="string")throw new Error("Cannot write WK1 to JS string");var Y=Dw(),U=Bn(T["!ref"]),Q=Array.isArray(T),F=[];Ga(Y,0,i(1030)),Ga(Y,6,l(U));for(var O=Math.min(U.e.r,8191),K=U.s.r;K<=O;++K)for(var ne=Us(K),ee=U.s.c;ee<=U.e.c;++ee){K===U.s.r&&(F[ee]=ds(ee));var ie=F[ee]+ne,he=Q?(T[K]||[])[ee]:T[ie];if(!(!he||he.t=="z"))if(he.t=="n")(he.v|0)==he.v&&he.v>=-32768&&he.v<=32767?Ga(Y,13,f(K,ee,he.v)):Ga(Y,14,g(K,ee,he.v));else{var ce=Rl(he);Ga(Y,15,d(K,ee,ce.slice(0,239)))}}return Ga(Y,1),Y.end()}function s(T,z){var q=z||{};if(+q.codepage>=0&&io(+q.codepage),q.type=="string")throw new Error("Cannot write WK3 to JS string");var Y=Dw();Ga(Y,0,a(T));for(var U=0,Q=0;U<T.SheetNames.length;++U)(T.Sheets[T.SheetNames[U]]||{})["!ref"]&&Ga(Y,27,x(T.SheetNames[U],Q++));var F=0;for(U=0;U<T.SheetNames.length;++U){var O=T.Sheets[T.SheetNames[U]];if(!(!O||!O["!ref"])){for(var K=Bn(O["!ref"]),ne=Array.isArray(O),ee=[],ie=Math.min(K.e.r,8191),he=K.s.r;he<=ie;++he)for(var ce=Us(he),te=K.s.c;te<=K.e.c;++te){he===K.s.r&&(ee[te]=ds(te));var se=ee[te]+ce,ge=ne?(O[he]||[])[te]:O[se];if(!(!ge||ge.t=="z"))if(ge.t=="n")Ga(Y,23,V(he,te,F,ge.v));else{var de=Rl(ge);Ga(Y,22,D(he,te,F,de.slice(0,239)))}}++F}}return Ga(Y,1),Y.end()}function i(T){var z=cs(2);return z.write_shift(2,T),z}function a(T){var z=cs(26);z.write_shift(2,4096),z.write_shift(2,4),z.write_shift(4,0);for(var q=0,Y=0,U=0,Q=0;Q<T.SheetNames.length;++Q){var F=T.SheetNames[Q],O=T.Sheets[F];if(!(!O||!O["!ref"])){++U;var K=wd(O["!ref"]);q<K.e.r&&(q=K.e.r),Y<K.e.c&&(Y=K.e.c)}}return q>8191&&(q=8191),z.write_shift(2,q),z.write_shift(1,U),z.write_shift(1,Y),z.write_shift(2,0),z.write_shift(2,0),z.write_shift(1,1),z.write_shift(1,2),z.write_shift(4,0),z.write_shift(4,0),z}function o(T,z,q){var Y={s:{c:0,r:0},e:{c:0,r:0}};return z==8&&q.qpro?(Y.s.c=T.read_shift(1),T.l++,Y.s.r=T.read_shift(2),Y.e.c=T.read_shift(1),T.l++,Y.e.r=T.read_shift(2),Y):(Y.s.c=T.read_shift(2),Y.s.r=T.read_shift(2),z==12&&q.qpro&&(T.l+=2),Y.e.c=T.read_shift(2),Y.e.r=T.read_shift(2),z==12&&q.qpro&&(T.l+=2),Y.s.c==65535&&(Y.s.c=Y.e.c=Y.s.r=Y.e.r=0),Y)}function l(T){var z=cs(8);return z.write_shift(2,T.s.c),z.write_shift(2,T.s.r),z.write_shift(2,T.e.c),z.write_shift(2,T.e.r),z}function c(T,z,q){var Y=[{c:0,r:0},{t:"n",v:0},0,0];return q.qpro&&q.vers!=20768?(Y[0].c=T.read_shift(1),Y[3]=T.read_shift(1),Y[0].r=T.read_shift(2),T.l+=2):(Y[2]=T.read_shift(1),Y[0].c=T.read_shift(2),Y[0].r=T.read_shift(2)),Y}function u(T,z,q){var Y=T.l+z,U=c(T,z,q);if(U[1].t="s",q.vers==20768){T.l++;var Q=T.read_shift(1);return U[1].v=T.read_shift(Q,"utf8"),U}return q.qpro&&T.l++,U[1].v=T.read_shift(Y-T.l,"cstr"),U}function d(T,z,q){var Y=cs(7+q.length);Y.write_shift(1,255),Y.write_shift(2,z),Y.write_shift(2,T),Y.write_shift(1,39);for(var U=0;U<Y.length;++U){var Q=q.charCodeAt(U);Y.write_shift(1,Q>=128?95:Q)}return Y.write_shift(1,0),Y}function h(T,z,q){var Y=c(T,z,q);return Y[1].v=T.read_shift(2,"i"),Y}function f(T,z,q){var Y=cs(7);return Y.write_shift(1,255),Y.write_shift(2,z),Y.write_shift(2,T),Y.write_shift(2,q,"i"),Y}function m(T,z,q){var Y=c(T,z,q);return Y[1].v=T.read_shift(8,"f"),Y}function g(T,z,q){var Y=cs(13);return Y.write_shift(1,255),Y.write_shift(2,z),Y.write_shift(2,T),Y.write_shift(8,q,"f"),Y}function p(T,z,q){var Y=T.l+z,U=c(T,z,q);if(U[1].v=T.read_shift(8,"f"),q.qpro)T.l=Y;else{var Q=T.read_shift(2);E(T.slice(T.l,T.l+Q),U),T.l+=Q}return U}function v(T,z,q){var Y=z&32768;return z&=-32769,z=(Y?T:0)+(z>=8192?z-16384:z),(Y?"":"$")+(q?ds(z):Us(z))}var y={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function E(T,z){Ms(T,0);for(var q=[],Y=0,U="",Q="",F="",O="";T.l<T.length;){var K=T[T.l++];switch(K){case 0:q.push(T.read_shift(8,"f"));break;case 1:Q=v(z[0].c,T.read_shift(2),!0),U=v(z[0].r,T.read_shift(2),!1),q.push(Q+U);break;case 2:{var ne=v(z[0].c,T.read_shift(2),!0),ee=v(z[0].r,T.read_shift(2),!1);Q=v(z[0].c,T.read_shift(2),!0),U=v(z[0].r,T.read_shift(2),!1),q.push(ne+ee+":"+Q+U)}break;case 3:if(T.l<T.length){console.error("WK1 premature formula end");return}break;case 4:q.push("("+q.pop()+")");break;case 5:q.push(T.read_shift(2));break;case 6:{for(var ie="";K=T[T.l++];)ie+=String.fromCharCode(K);q.push('"'+ie.replace(/"/g,'""')+'"')}break;case 8:q.push("-"+q.pop());break;case 23:q.push("+"+q.pop());break;case 22:q.push("NOT("+q.pop()+")");break;case 20:case 21:O=q.pop(),F=q.pop(),q.push(["AND","OR"][K-20]+"("+F+","+O+")");break;default:if(K<32&&b[K])O=q.pop(),F=q.pop(),q.push(F+b[K]+O);else if(y[K]){if(Y=y[K][1],Y==69&&(Y=T[T.l++]),Y>q.length){console.error("WK1 bad formula parse 0x"+K.toString(16)+":|"+q.join("|")+"|");return}var he=q.slice(-Y);q.length-=Y,q.push(y[K][0]+"("+he.join(",")+")")}else return K<=7?console.error("WK1 invalid opcode "+K.toString(16)):K<=24?console.error("WK1 unsupported op "+K.toString(16)):K<=30?console.error("WK1 invalid opcode "+K.toString(16)):K<=115?console.error("WK1 unsupported function opcode "+K.toString(16)):console.error("WK1 unrecognized opcode "+K.toString(16))}}q.length==1?z[1].f=""+q[0]:console.error("WK1 bad formula parse |"+q.join("|")+"|")}function N(T){var z=[{c:0,r:0},{t:"n",v:0},0];return z[0].r=T.read_shift(2),z[3]=T[T.l++],z[0].c=T[T.l++],z}function j(T,z){var q=N(T);return q[1].t="s",q[1].v=T.read_shift(z-4,"cstr"),q}function D(T,z,q,Y){var U=cs(6+Y.length);U.write_shift(2,T),U.write_shift(1,q),U.write_shift(1,z),U.write_shift(1,39);for(var Q=0;Q<Y.length;++Q){var F=Y.charCodeAt(Q);U.write_shift(1,F>=128?95:F)}return U.write_shift(1,0),U}function C(T,z){var q=N(T);q[1].v=T.read_shift(2);var Y=q[1].v>>1;if(q[1].v&1)switch(Y&7){case 0:Y=(Y>>3)*5e3;break;case 1:Y=(Y>>3)*500;break;case 2:Y=(Y>>3)/20;break;case 3:Y=(Y>>3)/200;break;case 4:Y=(Y>>3)/2e3;break;case 5:Y=(Y>>3)/2e4;break;case 6:Y=(Y>>3)/16;break;case 7:Y=(Y>>3)/64;break}return q[1].v=Y,q}function I(T,z){var q=N(T),Y=T.read_shift(4),U=T.read_shift(4),Q=T.read_shift(2);if(Q==65535)return Y===0&&U===3221225472?(q[1].t="e",q[1].v=15):Y===0&&U===3489660928?(q[1].t="e",q[1].v=42):q[1].v=0,q;var F=Q&32768;return Q=(Q&32767)-16446,q[1].v=(1-F*2)*(U*Math.pow(2,Q+32)+Y*Math.pow(2,Q)),q}function V(T,z,q,Y){var U=cs(14);if(U.write_shift(2,T),U.write_shift(1,q),U.write_shift(1,z),Y==0)return U.write_shift(4,0),U.write_shift(4,0),U.write_shift(2,65535),U;var Q=0,F=0,O=0,K=0;return Y<0&&(Q=1,Y=-Y),F=Math.log2(Y)|0,Y/=Math.pow(2,F-31),K=Y>>>0,K&2147483648||(Y/=2,++F,K=Y>>>0),Y-=K,K|=2147483648,K>>>=0,Y*=Math.pow(2,32),O=Y>>>0,U.write_shift(4,O),U.write_shift(4,K),F+=16383+(Q?32768:0),U.write_shift(2,F),U}function B(T,z){var q=I(T);return T.l+=z-14,q}function P(T,z){var q=N(T),Y=T.read_shift(4);return q[1].v=Y>>6,q}function k(T,z){var q=N(T),Y=T.read_shift(8,"f");return q[1].v=Y,q}function M(T,z){var q=k(T);return T.l+=z-10,q}function A(T,z){return T[T.l+z-1]==0?T.read_shift(z,"cstr"):""}function w(T,z){var q=T[T.l++];q>z-1&&(q=z-1);for(var Y="";Y.length<q;)Y+=String.fromCharCode(T[T.l++]);return Y}function S(T,z,q){if(!(!q.qpro||z<21)){var Y=T.read_shift(1);T.l+=17,T.l+=1,T.l+=2;var U=T.read_shift(z-21,"cstr");return[Y,U]}}function _(T,z){for(var q={},Y=T.l+z;T.l<Y;){var U=T.read_shift(2);if(U==14e3){for(q[U]=[0,""],q[U][0]=T.read_shift(2);T[T.l];)q[U][1]+=String.fromCharCode(T[T.l]),T.l++;T.l++}}return q}function x(T,z){var q=cs(5+T.length);q.write_shift(2,14e3),q.write_shift(2,z);for(var Y=0;Y<T.length;++Y){var U=T.charCodeAt(Y);q[q.l++]=U>127?95:U}return q[q.l++]=0,q}var R={0:{n:"BOF",f:ts},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:m},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:p},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:A},222:{n:"SHEETNAMELP",f:w},65535:{n:""}},W={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:j},23:{n:"NUMBER17",f:I},24:{n:"NUMBER18",f:C},25:{n:"FORMULA19",f:B},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:_},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:P},38:{n:"??"},39:{n:"NUMBER27",f:k},40:{n:"FORMULA28",f:M},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:A},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:S},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:s,to_workbook:e}}();function rV(r){var e={},t=r.match(fi),n=0,s=!1;if(t)for(;n!=t.length;++n){var i=vr(t[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;e.cp=U5[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=i.val;break;case"<sz":e.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":i.rgb&&(e.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(i[0].charCodeAt(1)!==47&&!s)throw new Error("Unrecognized rich format "+i[0])}}return e}var nV=function(){var r=gp("t"),e=gp("rPr");function t(i){var a=i.match(r);if(!a)return{t:"s",v:""};var o={t:"s",v:Gr(a[1])},l=i.match(e);return l&&(o.s=rV(l[1])),o}var n=/<(?:\w+:)?r>/g,s=/<\/(?:\w+:)?r>/;return function(a){return a.replace(n,"").split(s).map(t).filter(function(o){return o.v})}}(),sV=function(){var e=/(\r\n|\n)/g;function t(s,i,a){var o=[];s.u&&o.push("text-decoration: underline;"),s.uval&&o.push("text-underline-style:"+s.uval+";"),s.sz&&o.push("font-size:"+s.sz+"pt;"),s.outline&&o.push("text-effect: outline;"),s.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),s.b&&(i.push("<b>"),a.push("</b>")),s.i&&(i.push("<i>"),a.push("</i>")),s.strike&&(i.push("<s>"),a.push("</s>"));var l=s.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(i.push("<"+l+">"),a.push("</"+l+">")),a.push("</span>"),s}function n(s){var i=[[],s.v,[]];return s.v?(s.s&&t(s.s,i[0],i[2]),i[0].join("")+i[1].replace(e,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}}(),iV=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,aV=/<(?:\w+:)?r>/,oV=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function n_(r,e){var t=e?e.cellHTML:!0,n={};return r?(r.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Gr(vn(r.slice(r.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=vn(r),t&&(n.h=G5(n.t))):r.match(aV)&&(n.r=vn(r),n.t=Gr(vn((r.replace(oV,"").match(iV)||[]).join("").replace(fi,""))),t&&(n.h=sV(nV(n.r)))),n):{t:""}}var lV=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,cV=/<(?:\w+:)?(?:si|sstItem)>/g,uV=/<\/(?:\w+:)?(?:si|sstItem)>/;function hV(r,e){var t=[],n="";if(!r)return t;var s=r.match(lV);if(s){n=s[2].replace(cV,"").split(uV);for(var i=0;i!=n.length;++i){var a=n_(n[i].trim(),e);a!=null&&(t[t.length]=a)}s=vr(s[1]),t.Count=s.count,t.Unique=s.uniqueCount}return t}function fV(r){return[r.read_shift(4),r.read_shift(4)]}function dV(r,e){var t=[],n=!1;return Vl(r,function(i,a,o){switch(o){case 159:t.Count=i[0],t.Unique=i[1];break;case 19:t.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(a.T,!n||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),t}function E7(r){for(var e=[],t=r.split(""),n=0;n<t.length;++n)e[n]=t[n].charCodeAt(0);return e}function El(r,e){var t={};return t.Major=r.read_shift(2),t.Minor=r.read_shift(2),e>=4&&(r.l+=e-4),t}function pV(r){var e={};return e.id=r.read_shift(0,"lpp4"),e.R=El(r,4),e.U=El(r,4),e.W=El(r,4),e}function mV(r){for(var e=r.read_shift(4),t=r.l+e-4,n={},s=r.read_shift(4),i=[];s-- >0;)i.push({t:r.read_shift(4),v:r.read_shift(0,"lpp4")});if(n.name=r.read_shift(0,"lpp4"),n.comps=i,r.l!=t)throw new Error("Bad DataSpaceMapEntry: "+r.l+" != "+t);return n}function gV(r){var e=[];r.l+=4;for(var t=r.read_shift(4);t-- >0;)e.push(mV(r));return e}function vV(r){var e=[];r.l+=4;for(var t=r.read_shift(4);t-- >0;)e.push(r.read_shift(0,"lpp4"));return e}function yV(r){var e={};return r.read_shift(4),r.l+=4,e.id=r.read_shift(0,"lpp4"),e.name=r.read_shift(0,"lpp4"),e.R=El(r,4),e.U=El(r,4),e.W=El(r,4),e}function bV(r){var e=yV(r);if(e.ename=r.read_shift(0,"8lpp4"),e.blksz=r.read_shift(4),e.cmode=r.read_shift(4),r.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function k7(r,e){var t=r.l+e,n={};n.Flags=r.read_shift(4)&63,r.l+=4,n.AlgID=r.read_shift(4);var s=!1;switch(n.AlgID){case 26126:case 26127:case 26128:s=n.Flags==36;break;case 26625:s=n.Flags==4;break;case 0:s=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!s)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=r.read_shift(4),n.KeySize=r.read_shift(4),n.ProviderType=r.read_shift(4),r.l+=8,n.CSPName=r.read_shift(t-r.l>>1,"utf16le"),r.l=t,n}function A7(r,e){var t={},n=r.l+e;return r.l+=4,t.Salt=r.slice(r.l,r.l+16),r.l+=16,t.Verifier=r.slice(r.l,r.l+16),r.l+=16,r.read_shift(4),t.VerifierHash=r.slice(r.l,n),r.l=n,t}function wV(r){var e=El(r);switch(e.Minor){case 2:return[e.Minor,xV(r)];case 3:return[e.Minor,_V()];case 4:return[e.Minor,SV(r)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function xV(r){var e=r.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var t=r.read_shift(4),n=k7(r,t),s=A7(r,r.length-r.l);return{t:"Std",h:n,v:s}}function _V(){throw new Error("File is password-protected: ECMA-376 Extensible")}function SV(r){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];r.l+=4;var t=r.read_shift(r.length-r.l,"utf8"),n={};return t.replace(fi,function(i){var a=vr(i);switch(Jo(a[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){n[o]=a[o]});break;case"<dataIntegrity":n.encryptedHmacKey=a.encryptedHmacKey,n.encryptedHmacValue=a.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=a.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(a);break;default:throw a[0]}}),n}function EV(r,e){var t={},n=t.EncryptionVersionInfo=El(r,4);if(e-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);t.Flags=r.read_shift(4),e-=4;var s=r.read_shift(4);return e-=4,t.EncryptionHeader=k7(r,s),e-=s,t.EncryptionVerifier=A7(r,e),t}function kV(r){var e={},t=e.EncryptionVersionInfo=El(r,4);if(t.Major!=1||t.Minor!=1)throw"unrecognized version code "+t.Major+" : "+t.Minor;return e.Salt=r.read_shift(16),e.EncryptedVerifier=r.read_shift(16),e.EncryptedVerifierHash=r.read_shift(16),e}function AV(r){var e=0,t,n=E7(r),s=n.length+1,i,a,o,l,c;for(t=su(s),t[0]=n.length,i=1;i!=s;++i)t[i]=n[i-1];for(i=s-1;i>=0;--i)a=t[i],o=e&16384?1:0,l=e<<1&32767,c=o|l,e=c^a;return e^52811}var T7=function(){var r=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],t=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(a){return(a/2|a*128)&255},s=function(a,o){return n(a^o)},i=function(a){for(var o=e[a.length-1],l=104,c=a.length-1;c>=0;--c)for(var u=a[c],d=0;d!=7;++d)u&64&&(o^=t[l]),u*=2,--l;return o};return function(a){for(var o=E7(a),l=i(o),c=o.length,u=su(16),d=0;d!=16;++d)u[d]=0;var h,f,m;for((c&1)===1&&(h=l>>8,u[c]=s(r[0],h),--c,h=l&255,f=o[o.length-1],u[c]=s(f,h));c>0;)--c,h=l>>8,u[c]=s(o[c],h),--c,h=l&255,u[c]=s(o[c],h);for(c=15,m=15-o.length;m>0;)h=l>>8,u[c]=s(r[m],h),--c,--m,h=l&255,u[c]=s(o[c],h),--c,--m;return u}}(),TV=function(r,e,t,n,s){s||(s=e),n||(n=T7(r));var i,a;for(i=0;i!=e.length;++i)a=e[i],a^=n[t],a=(a>>5|a<<3)&255,s[i]=a,++t;return[s,t,n]},CV=function(r){var e=0,t=T7(r);return function(n){var s=TV("",n,e,t);return e=s[1],s[0]}};function NV(r,e,t,n){var s={key:ts(r),verificationBytes:ts(r)};return t.password&&(s.verifier=AV(t.password)),n.valid=s.verificationBytes===s.verifier,n.valid&&(n.insitu=CV(t.password)),s}function DV(r,e,t){var n=t||{};return n.Info=r.read_shift(2),r.l-=2,n.Info===1?n.Data=kV(r):n.Data=EV(r,e),n}function RV(r,e,t){var n={Type:t.biff>=8?r.read_shift(2):0};return n.Type?DV(r,e-2,n):NV(r,t.biff>=8?e:e-2,t,n),n}var IV=function(){function r(s,i){switch(i.type){case"base64":return e(la(s),i);case"binary":return e(s,i);case"buffer":return e(Ur&&Buffer.isBuffer(s)?s.toString("binary"):wh(s),i);case"array":return e(ch(s),i)}throw new Error("Unrecognized type "+i.type)}function e(s,i){var a=i||{},o=a.dense?[]:{},l=s.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,d){Array.isArray(o)&&(o[d]=[]);for(var h=/\\\w+\b/g,f=0,m,g=-1;m=h.exec(u);){switch(m[0]){case"\\cell":var p=u.slice(f,h.lastIndex-m[0].length);if(p[0]==" "&&(p=p.slice(1)),++g,p.length){var v={v:p,t:"s"};Array.isArray(o)?o[d][g]=v:o[Er({r:d,c:g})]=v}break}f=h.lastIndex}g>c.e.c&&(c.e.c=g)}),o["!ref"]=Hr(c),o}function t(s,i){return wu(r(s,i),i)}function n(s){for(var i=["{\\rtf1\\ansi"],a=Bn(s["!ref"]),o,l=Array.isArray(s),c=a.s.r;c<=a.e.r;++c){i.push("\\trowd\\trautofit1");for(var u=a.s.c;u<=a.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=a.s.c;u<=a.e.c;++u){var d=Er({r:c,c:u});o=l?(s[c]||[])[u]:s[d],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(Rl(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:t,to_sheet:r,from_sheet:n}}();function PV(r){var e=r.slice(r[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function bp(r){for(var e=0,t=1;e!=3;++e)t=t*256+(r[e]>255?255:r[e]<0?0:r[e]);return t.toString(16).toUpperCase().slice(1)}function OV(r){var e=r[0]/255,t=r[1]/255,n=r[2]/255,s=Math.max(e,t,n),i=Math.min(e,t,n),a=s-i;if(a===0)return[0,0,e];var o=0,l=0,c=s+i;switch(l=a/(c>1?2-c:c),s){case e:o=((t-n)/a+6)%6;break;case t:o=(n-e)/a+2;break;case n:o=(e-t)/a+4;break}return[o/6,l,c/2]}function MV(r){var e=r[0],t=r[1],n=r[2],s=t*2*(n<.5?n:1-n),i=n-s/2,a=[i,i,i],o=6*e,l;if(t!==0)switch(o|0){case 0:case 6:l=s*o,a[0]+=s,a[1]+=l;break;case 1:l=s*(2-o),a[0]+=l,a[1]+=s;break;case 2:l=s*(o-2),a[1]+=s,a[2]+=l;break;case 3:l=s*(4-o),a[1]+=l,a[2]+=s;break;case 4:l=s*(o-4),a[2]+=s,a[0]+=l;break;case 5:l=s*(6-o),a[2]+=l,a[0]+=s;break}for(var c=0;c!=3;++c)a[c]=Math.round(a[c]*255);return a}function F1(r,e){if(e===0)return r;var t=OV(PV(r));return e<0?t[2]=t[2]*(1+e):t[2]=1-(1-t[2])*(1-e),bp(MV(t))}var C7=6,FV=15,LV=1,xi=C7;function L1(r){return Math.floor((r+Math.round(128/xi)/256)*xi)}function j1(r){return Math.floor((r-5)/xi*100+.5)/100}function Ow(r){return Math.round((r*xi+5)/xi*256)/256}function Ry(r){return Ow(j1(L1(r)))}function s_(r){var e=Math.abs(r-Ry(r)),t=xi;if(e>.005)for(xi=LV;xi<FV;++xi)Math.abs(r-Ry(r))<=e&&(e=Math.abs(r-Ry(r)),t=xi);xi=t}function td(r){r.width?(r.wpx=L1(r.width),r.wch=j1(r.wpx),r.MDW=xi):r.wpx?(r.wch=j1(r.wpx),r.width=Ow(r.wch),r.MDW=xi):typeof r.wch=="number"&&(r.width=Ow(r.wch),r.wpx=L1(r.width),r.MDW=xi),r.customWidth&&delete r.customWidth}var jV=96,N7=jV;function D7(r){return r*96/N7}function wp(r){return r*N7/96}var BV={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function UV(r,e,t,n){e.Borders=[];var s={},i=!1;(r[0].match(fi)||[]).forEach(function(a){var o=vr(a);switch(Jo(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":s={},o.diagonalUp&&(s.diagonalUp=En(o.diagonalUp)),o.diagonalDown&&(s.diagonalDown=En(o.diagonalDown)),e.Borders.push(s);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function $V(r,e,t,n){e.Fills=[];var s={},i=!1;(r[0].match(fi)||[]).forEach(function(a){var o=vr(a);switch(Jo(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":s={},e.Fills.push(s);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(s),s={};break;case"<patternFill":case"<patternFill>":o.patternType&&(s.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":s.bgColor||(s.bgColor={}),o.indexed&&(s.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(s.bgColor.theme=parseInt(o.theme,10)),o.tint&&(s.bgColor.tint=parseFloat(o.tint)),o.rgb&&(s.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":s.fgColor||(s.fgColor={}),o.theme&&(s.fgColor.theme=parseInt(o.theme,10)),o.tint&&(s.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(s.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function VV(r,e,t,n){e.Fonts=[];var s={},i=!1;(r[0].match(fi)||[]).forEach(function(a){var o=vr(a);switch(Jo(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(s),s={};break;case"<name":o.val&&(s.name=vn(o.val));break;case"<name/>":case"</name>":break;case"<b":s.bold=o.val?En(o.val):1;break;case"<b/>":s.bold=1;break;case"<i":s.italic=o.val?En(o.val):1;break;case"<i/>":s.italic=1;break;case"<u":switch(o.val){case"none":s.underline=0;break;case"single":s.underline=1;break;case"double":s.underline=2;break;case"singleAccounting":s.underline=33;break;case"doubleAccounting":s.underline=34;break}break;case"<u/>":s.underline=1;break;case"<strike":s.strike=o.val?En(o.val):1;break;case"<strike/>":s.strike=1;break;case"<outline":s.outline=o.val?En(o.val):1;break;case"<outline/>":s.outline=1;break;case"<shadow":s.shadow=o.val?En(o.val):1;break;case"<shadow/>":s.shadow=1;break;case"<condense":s.condense=o.val?En(o.val):1;break;case"<condense/>":s.condense=1;break;case"<extend":s.extend=o.val?En(o.val):1;break;case"<extend/>":s.extend=1;break;case"<sz":o.val&&(s.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(s.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(s.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(s.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=U5[parseInt(o.val,10)];break;case"<color":if(s.color||(s.color={}),o.auto&&(s.color.auto=En(o.auto)),o.rgb)s.color.rgb=o.rgb.slice(-6);else if(o.indexed){s.color.index=parseInt(o.indexed,10);var l=Zu[s.color.index];s.color.index==81&&(l=Zu[1]),l||(l=Zu[1]),s.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(s.color.theme=parseInt(o.theme,10),o.tint&&(s.color.tint=parseFloat(o.tint)),o.theme&&t.themeElements&&t.themeElements.clrScheme&&(s.color.rgb=F1(t.themeElements.clrScheme[s.color.theme].rgb,s.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function HV(r,e,t){e.NumberFmt=[];for(var n=Xo(Nr),s=0;s<n.length;++s)e.NumberFmt[n[s]]=Nr[n[s]];var i=r[0].match(fi);if(i)for(s=0;s<i.length;++s){var a=vr(i[s]);switch(Jo(a[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Gr(vn(a.formatCode)),l=parseInt(a.numFmtId,10);if(e.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&e.NumberFmt[l]!=null;--l);e.NumberFmt[l]=o}Qu(o,l)}}break;case"</numFmt>":break;default:if(t.WTF)throw new Error("unrecognized "+a[0]+" in numFmts")}}}var ag=["numFmtId","fillId","fontId","borderId","xfId"],og=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function zV(r,e,t){e.CellXf=[];var n,s=!1;(r[0].match(fi)||[]).forEach(function(i){var a=vr(i),o=0;switch(Jo(a[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=a,delete n[0],o=0;o<ag.length;++o)n[ag[o]]&&(n[ag[o]]=parseInt(n[ag[o]],10));for(o=0;o<og.length;++o)n[og[o]]&&(n[og[o]]=En(n[og[o]]));if(e.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[n.numFmtId]==e.NumberFmt[o]){n.numFmtId=o;break}}e.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};a.vertical&&(l.vertical=a.vertical),a.horizontal&&(l.horizontal=a.horizontal),a.textRotation!=null&&(l.textRotation=a.textRotation),a.indent&&(l.indent=a.indent),a.wrapText&&(l.wrapText=En(a.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(t&&t.WTF&&!s)throw new Error("unrecognized "+a[0]+" in cellXfs")}})}var qV=function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,t=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,s=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var d;return(d=o.match(e))&&HV(d,u,c),(d=o.match(s))&&VV(d,u,l,c),(d=o.match(n))&&$V(d,u,l,c),(d=o.match(i))&&UV(d,u,l,c),(d=o.match(t))&&zV(d,u,c),u}}();function WV(r,e){var t=r.read_shift(2),n=li(r);return[t,n]}function GV(r,e,t){var n={};n.sz=r.read_shift(2)/20;var s=nU(r);s.fItalic&&(n.italic=1),s.fCondense&&(n.condense=1),s.fExtend&&(n.extend=1),s.fShadow&&(n.shadow=1),s.fOutline&&(n.outline=1),s.fStrikeout&&(n.strike=1);var i=r.read_shift(2);switch(i===700&&(n.bold=1),r.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var a=r.read_shift(1);a!=0&&(n.underline=a);var o=r.read_shift(1);o>0&&(n.family=o);var l=r.read_shift(1);switch(l>0&&(n.charset=l),r.l++,n.color=rU(r),r.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=li(r),n}var KV=ui;function XV(r,e){var t=r.l+e,n=r.read_shift(2),s=r.read_shift(2);return r.l=t,{ixfe:n,numFmtId:s}}var YV=ui;function JV(r,e,t){var n={};n.NumberFmt=[];for(var s in Nr)n.NumberFmt[s]=Nr[s];n.CellXf=[],n.Fonts=[];var i=[],a=!1;return Vl(r,function(l,c,u){switch(u){case 44:n.NumberFmt[l[0]]=l[1],Qu(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(l.color.rgb=F1(e.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:i.push(u),a=!0;break;case 38:i.pop(),a=!1;break;default:if(c.T>0)i.push(u);else if(c.T<0)i.pop();else if(!a||t.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}var QV=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function ZV(r,e,t){e.themeElements.clrScheme=[];var n={};(r[0].match(fi)||[]).forEach(function(s){var i=vr(s);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(e.themeElements.clrScheme[QV.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(t&&t.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function eH(){}function tH(){}var rH=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,nH=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,sH=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function iH(r,e,t){e.themeElements={};var n;[["clrScheme",rH,ZV],["fontScheme",nH,eH],["fmtScheme",sH,tH]].forEach(function(s){if(!(n=r.match(s[1])))throw new Error(s[0]+" not found in themeElements");s[2](n,e,t)})}var aH=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function R7(r,e){(!r||r.length===0)&&(r=oH());var t,n={};if(!(t=r.match(aH)))throw new Error("themeElements not found in theme");return iH(t[0],n,e),n.raw=r,n}function oH(r,e){var t=[VC];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',t[t.length]='<a:font script="Hang" typeface="맑은 고딕"/>',t[t.length]='<a:font script="Hans" typeface="宋体"/>',t[t.length]='<a:font script="Hant" typeface="新細明體"/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',t[t.length]='<a:font script="Hang" typeface="맑은 고딕"/>',t[t.length]='<a:font script="Hans" typeface="宋体"/>',t[t.length]='<a:font script="Hant" typeface="新細明體"/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function lH(r,e,t){var n=r.l+e,s=r.read_shift(4);if(s!==124226){if(!t.cellStyles){r.l=n;return}var i=r.slice(r.l);r.l=n;var a;try{a=$C(i,{type:"array"})}catch{return}var o=ra(a,"theme/theme/theme1.xml",!0);if(o)return R7(o,t)}}function cH(r){return r.read_shift(4)}function uH(r){var e={};switch(e.xclrType=r.read_shift(2),e.nTintShade=r.read_shift(2),e.xclrType){case 0:r.l+=4;break;case 1:e.xclrValue=hH(r,4);break;case 2:e.xclrValue=v7(r);break;case 3:e.xclrValue=cH(r);break;case 4:r.l+=4;break}return r.l+=8,e}function hH(r,e){return ui(r,e)}function fH(r,e){return ui(r,e)}function dH(r){var e=r.read_shift(2),t=r.read_shift(2)-4,n=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=uH(r);break;case 6:n[1]=fH(r,t);break;case 14:case 15:n[1]=r.read_shift(t===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+t)}return n}function pH(r,e){var t=r.l+e;r.l+=2;var n=r.read_shift(2);r.l+=2;for(var s=r.read_shift(2),i=[];s-- >0;)i.push(dH(r,t-r.l));return{ixfe:n,ext:i}}function mH(r,e){e.forEach(function(t){switch(t[0]){}})}function gH(r,e){return{flags:r.read_shift(4),version:r.read_shift(4),name:li(r)}}function vH(r){for(var e=[],t=r.read_shift(4);t-- >0;)e.push([r.read_shift(4),r.read_shift(4)]);return e}function yH(r){return r.l+=4,r.read_shift(4)!=0}function bH(r,e,t){var n={Types:[],Cell:[],Value:[]},s=t||{},i=[],a=!1,o=2;return Vl(r,function(l,c,u){switch(u){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(d){o==1?n.Cell.push({type:n.Types[d[0]-1].name,index:d[1]}):o==0&&n.Value.push({type:n.Types[d[0]-1].name,index:d[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:i.push(u),a=!0;break;case 36:i.pop(),a=!1;break;default:if(!c.T){if(!a||s.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function wH(r,e,t){var n={Types:[],Cell:[],Value:[]};if(!r)return n;var s=!1,i=2,a;return r.replace(fi,function(o){var l=vr(o);switch(Jo(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<n.Types.length;++c)n.Types[c].name==l.name&&(a=n.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):i==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+l.i);break;default:if(!s&&t.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function xH(r){var e=[];if(!r)return e;var t=1;return(r.match(fi)||[]).forEach(function(n){var s=vr(n);switch(s[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete s[0],s.i?t=s.i:s.i=t,e.push(s);break}}),e}function _H(r){var e={};e.i=r.read_shift(4);var t={};t.r=r.read_shift(4),t.c=r.read_shift(4),e.r=Er(t);var n=r.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}function SH(r,e,t){var n=[];return Vl(r,function(i,a,o){switch(o){case 63:n.push(i);break;default:if(!a.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function EH(r,e,t,n){if(!r)return r;var s=n||{},i=!1;Vl(r,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!l.T){if(!i||s.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},s)}function kH(r,e){if(!r)return"??";var t=(r.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][t].Target}function xS(r,e,t,n){var s=Array.isArray(r),i;e.forEach(function(a){var o=_i(a.ref);if(s?(r[o.r]||(r[o.r]=[]),i=r[o.r][o.c]):i=r[a.ref],!i){i={t:"z"},s?r[o.r][o.c]=i:r[a.ref]=i;var l=Bn(r["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=Hr(l);c!==r["!ref"]&&(r["!ref"]=c)}i.c||(i.c=[]);var u={a:a.author,t:a.t,r:a.r,T:t};a.h&&(u.h=a.h);for(var d=i.c.length-1;d>=0;--d){if(!t&&i.c[d].T)return;t&&!i.c[d].T&&i.c.splice(d,1)}if(t&&n){for(d=0;d<n.length;++d)if(u.a==n[d].id){u.a=n[d].name||u.a;break}}i.c.push(u)})}function AH(r,e){if(r.match(/<(?:\w+:)?comments *\/>/))return[];var t=[],n=[],s=r.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);s&&s[1]&&s[1].split(/<\/\w*:?author>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&t.push(o[1])}});var i=r.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=vr(o[0]),c={author:l.authorId&&t[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=_i(l.ref);if(!(e.sheetRows&&e.sheetRows<=u.r)){var d=a.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!d&&!!d[1]&&n_(d[1])||{r:"",t:"",h:""};c.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),c.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(c.h=h.h),n.push(c)}}}}),n}function TH(r,e){var t=[],n=!1,s={},i=0;return r.replace(fi,function(o,l){var c=vr(o);switch(Jo(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":s={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":s.t!=null&&t.push(s);break;case"<text>":case"<text":i=l+o.length;break;case"</text>":s.t=r.slice(i,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),t}function CH(r,e){var t=[],n=!1;return r.replace(fi,function(i){var a=vr(i);switch(Jo(a[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":t.push({name:a.displayname,id:a.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return i}),t}function NH(r){var e={};e.iauthor=r.read_shift(4);var t=_h(r);return e.rfx=t.s,e.ref=Er(t.s),r.l+=16,e}var DH=li;function RH(r,e){var t=[],n=[],s={},i=!1;return Vl(r,function(o,l,c){switch(c){case 632:n.push(o);break;case 635:s=o;break;case 637:s.t=o.t,s.h=o.h,s.r=o.r;break;case 636:if(s.author=n[s.iauthor],delete s.iauthor,e.sheetRows&&s.rfx&&e.sheetRows<=s.rfx.r)break;s.t||(s.t=""),delete s.rfx,t.push(s);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!i||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),t}var IH="application/vnd.ms-office.vbaProject";function PH(r){var e=Vr.utils.cfb_new({root:"R"});return r.FullPaths.forEach(function(t,n){if(!(t.slice(-1)==="/"||!t.match(/_VBA_PROJECT_CUR/))){var s=t.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Vr.utils.cfb_add(e,s,r.FileIndex[n].content)}}),Vr.write(e)}function OH(){return{"!type":"dialog"}}function MH(){return{"!type":"dialog"}}function FH(){return{"!type":"macro"}}function LH(){return{"!type":"macro"}}var Pf=function(){var r=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(n,s,i,a){var o=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var c=i.length>0?parseInt(i,10)|0:0,u=a.length>0?parseInt(a,10)|0:0;return o?u+=e.c:--u,l?c+=e.r:--c,s+(o?"":"$")+ds(u)+(l?"":"$")+Us(c)}return function(s,i){return e=i,s.replace(r,t)}}(),I7=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,jH=function(){return function(e,t){return e.replace(I7,function(n,s,i,a,o,l){var c=J5(a)-(i?0:t.c),u=Y5(l)-(o?0:t.r),d=u==0?"":o?u+1:"["+u+"]",h=c==0?"":i?c+1:"["+c+"]";return s+"R"+d+"C"+h})}}();function P7(r,e){return r.replace(I7,function(t,n,s,i,a,o){return n+(s=="$"?s+i:ds(J5(i)+e.c))+(a=="$"?a+o:Us(Y5(o)+e.r))})}function BH(r,e,t){var n=wd(e),s=n.s,i=_i(t),a={r:i.r-s.r,c:i.c-s.c};return P7(r,a)}function UH(r){return r.length!=1}function _S(r){return r.replace(/_xlfn\./g,"")}function Qn(r){r.l+=1}function iu(r,e){var t=r.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function O7(r,e,t){var n=2;if(t){if(t.biff>=2&&t.biff<=5)return M7(r);t.biff==12&&(n=4)}var s=r.read_shift(n),i=r.read_shift(n),a=iu(r),o=iu(r);return{s:{r:s,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function M7(r){var e=iu(r),t=iu(r),n=r.read_shift(1),s=r.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:t[0],c:s,cRel:t[1],rRel:t[2]}}}function $H(r,e,t){if(t.biff<8)return M7(r);var n=r.read_shift(t.biff==12?4:2),s=r.read_shift(t.biff==12?4:2),i=iu(r),a=iu(r);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:a[0],cRel:a[1],rRel:a[2]}}}function F7(r,e,t){if(t&&t.biff>=2&&t.biff<=5)return VH(r);var n=r.read_shift(t&&t.biff==12?4:2),s=iu(r);return{r:n,c:s[0],cRel:s[1],rRel:s[2]}}function VH(r){var e=iu(r),t=r.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function HH(r){var e=r.read_shift(2),t=r.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function zH(r,e,t){var n=t&&t.biff?t.biff:8;if(n>=2&&n<=5)return qH(r);var s=r.read_shift(n>=12?4:2),i=r.read_shift(2),a=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;s>524287;)s-=1048576;if(a==1)for(;i>8191;)i=i-16384;return{r:s,c:i,cRel:a,rRel:o}}function qH(r){var e=r.read_shift(2),t=r.read_shift(1),n=(e&32768)>>15,s=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),s==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:s,rRel:n}}function WH(r,e,t){var n=(r[r.l++]&96)>>5,s=O7(r,t.biff>=2&&t.biff<=5?6:8,t);return[n,s]}function GH(r,e,t){var n=(r[r.l++]&96)>>5,s=r.read_shift(2,"i"),i=8;if(t)switch(t.biff){case 5:r.l+=12,i=6;break;case 12:i=12;break}var a=O7(r,i,t);return[n,s,a]}function KH(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t&&t.biff>8?12:t.biff<8?6:8,[n]}function XH(r,e,t){var n=(r[r.l++]&96)>>5,s=r.read_shift(2),i=8;if(t)switch(t.biff){case 5:r.l+=12,i=6;break;case 12:i=12;break}return r.l+=i,[n,s]}function YH(r,e,t){var n=(r[r.l++]&96)>>5,s=$H(r,e-1,t);return[n,s]}function JH(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t.biff==2?6:t.biff==12?14:7,[n]}function SS(r){var e=r[r.l+1]&1,t=1;return r.l+=4,[e,t]}function QH(r,e,t){r.l+=2;for(var n=r.read_shift(t&&t.biff==2?1:2),s=[],i=0;i<=n;++i)s.push(r.read_shift(t&&t.biff==2?1:2));return s}function ZH(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function ez(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function tz(r){var e=r[r.l+1]&255?1:0;return r.l+=2,[e,r.read_shift(2)]}function rz(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=t&&t.biff==2?3:4,[n]}function L7(r){var e=r.read_shift(1),t=r.read_shift(1);return[e,t]}function nz(r){return r.read_shift(2),L7(r)}function sz(r){return r.read_shift(2),L7(r)}function iz(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var s=F7(r,0,t);return[n,s]}function az(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var s=zH(r,0,t);return[n,s]}function oz(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var s=r.read_shift(2);t&&t.biff==5&&(r.l+=12);var i=F7(r,0,t);return[n,s,i]}function lz(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var s=r.read_shift(t&&t.biff<=3?1:2);return[cq[s],U7[s],n]}function cz(r,e,t){var n=r[r.l++],s=r.read_shift(1),i=t&&t.biff<=3?[n==88?-1:0,r.read_shift(1)]:uz(r);return[s,(i[0]===0?U7:lq)[i[1]]]}function uz(r){return[r[r.l+1]>>7,r.read_shift(2)&32767]}function hz(r,e,t){r.l+=t&&t.biff==2?3:4}function fz(r,e,t){if(r.l++,t&&t.biff==12)return[r.read_shift(4,"i"),0];var n=r.read_shift(2),s=r.read_shift(t&&t.biff==2?1:2);return[n,s]}function dz(r){return r.l++,Sh[r.read_shift(1)]}function pz(r){return r.l++,r.read_shift(2)}function mz(r){return r.l++,r.read_shift(1)!==0}function gz(r){return r.l++,ii(r)}function vz(r,e,t){return r.l++,zp(r,e-1,t)}function yz(r,e){var t=[r.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=Hn(r,1)?"TRUE":"FALSE",e!=12&&(r.l+=7);break;case 37:case 16:t[1]=Sh[r[r.l]],r.l+=e==12?4:8;break;case 0:r.l+=8;break;case 1:t[1]=ii(r);break;case 2:t[1]=Eh(r,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function bz(r,e,t){for(var n=r.read_shift(t.biff==12?4:2),s=[],i=0;i!=n;++i)s.push((t.biff==12?_h:H2)(r));return s}function wz(r,e,t){var n=0,s=0;t.biff==12?(n=r.read_shift(4),s=r.read_shift(4)):(s=1+r.read_shift(1),n=1+r.read_shift(2)),t.biff>=2&&t.biff<8&&(--n,--s==0&&(s=256));for(var i=0,a=[];i!=n&&(a[i]=[]);++i)for(var o=0;o!=s;++o)a[i][o]=yz(r,t.biff);return a}function xz(r,e,t){var n=r.read_shift(1)>>>5&3,s=!t||t.biff>=8?4:2,i=r.read_shift(s);switch(t.biff){case 2:r.l+=5;break;case 3:case 4:r.l+=8;break;case 5:r.l+=12;break}return[n,0,i]}function _z(r,e,t){if(t.biff==5)return Sz(r);var n=r.read_shift(1)>>>5&3,s=r.read_shift(2),i=r.read_shift(4);return[n,s,i]}function Sz(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2,"i");r.l+=8;var n=r.read_shift(2);return r.l+=12,[e,t,n]}function Ez(r,e,t){var n=r.read_shift(1)>>>5&3;r.l+=t&&t.biff==2?3:4;var s=r.read_shift(t&&t.biff==2?1:2);return[n,s]}function kz(r,e,t){var n=r.read_shift(1)>>>5&3,s=r.read_shift(t&&t.biff==2?1:2);return[n,s]}function Az(r,e,t){var n=r.read_shift(1)>>>5&3;return r.l+=4,t.biff<8&&r.l--,t.biff==12&&(r.l+=2),[n]}function Tz(r,e,t){var n=(r[r.l++]&96)>>5,s=r.read_shift(2),i=4;if(t)switch(t.biff){case 5:i=15;break;case 12:i=6;break}return r.l+=i,[n,s]}var Cz=ui,Nz=ui,Dz=ui;function Wp(r,e,t){return r.l+=2,[HH(r)]}function i_(r){return r.l+=6,[]}var Rz=Wp,Iz=i_,Pz=i_,Oz=Wp;function j7(r){return r.l+=2,[ts(r),r.read_shift(2)&1]}var Mz=Wp,Fz=j7,Lz=i_,jz=Wp,Bz=Wp,Uz=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function $z(r){r.l+=2;var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(4),s=r.read_shift(2),i=r.read_shift(2),a=Uz[t>>2&31];return{ixti:e,coltype:t&3,rt:a,idx:n,c:s,C:i}}function Vz(r){return r.l+=2,[r.read_shift(4)]}function Hz(r,e,t){return r.l+=5,r.l+=2,r.l+=t.biff==2?1:4,["PTGSHEET"]}function zz(r,e,t){return r.l+=t.biff==2?4:5,["PTGENDSHEET"]}function qz(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function Wz(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function Gz(r){return r.l+=4,[0,0]}var ES={1:{n:"PtgExp",f:fz},2:{n:"PtgTbl",f:Dz},3:{n:"PtgAdd",f:Qn},4:{n:"PtgSub",f:Qn},5:{n:"PtgMul",f:Qn},6:{n:"PtgDiv",f:Qn},7:{n:"PtgPower",f:Qn},8:{n:"PtgConcat",f:Qn},9:{n:"PtgLt",f:Qn},10:{n:"PtgLe",f:Qn},11:{n:"PtgEq",f:Qn},12:{n:"PtgGe",f:Qn},13:{n:"PtgGt",f:Qn},14:{n:"PtgNe",f:Qn},15:{n:"PtgIsect",f:Qn},16:{n:"PtgUnion",f:Qn},17:{n:"PtgRange",f:Qn},18:{n:"PtgUplus",f:Qn},19:{n:"PtgUminus",f:Qn},20:{n:"PtgPercent",f:Qn},21:{n:"PtgParen",f:Qn},22:{n:"PtgMissArg",f:Qn},23:{n:"PtgStr",f:vz},26:{n:"PtgSheet",f:Hz},27:{n:"PtgEndSheet",f:zz},28:{n:"PtgErr",f:dz},29:{n:"PtgBool",f:mz},30:{n:"PtgInt",f:pz},31:{n:"PtgNum",f:gz},32:{n:"PtgArray",f:JH},33:{n:"PtgFunc",f:lz},34:{n:"PtgFuncVar",f:cz},35:{n:"PtgName",f:xz},36:{n:"PtgRef",f:iz},37:{n:"PtgArea",f:WH},38:{n:"PtgMemArea",f:Ez},39:{n:"PtgMemErr",f:Cz},40:{n:"PtgMemNoMem",f:Nz},41:{n:"PtgMemFunc",f:kz},42:{n:"PtgRefErr",f:Az},43:{n:"PtgAreaErr",f:KH},44:{n:"PtgRefN",f:az},45:{n:"PtgAreaN",f:YH},46:{n:"PtgMemAreaN",f:qz},47:{n:"PtgMemNoMemN",f:Wz},57:{n:"PtgNameX",f:_z},58:{n:"PtgRef3d",f:oz},59:{n:"PtgArea3d",f:GH},60:{n:"PtgRefErr3d",f:Tz},61:{n:"PtgAreaErr3d",f:XH},255:{}},Kz={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Xz={1:{n:"PtgElfLel",f:j7},2:{n:"PtgElfRw",f:jz},3:{n:"PtgElfCol",f:Rz},6:{n:"PtgElfRwV",f:Bz},7:{n:"PtgElfColV",f:Oz},10:{n:"PtgElfRadical",f:Mz},11:{n:"PtgElfRadicalS",f:Lz},13:{n:"PtgElfColS",f:Iz},15:{n:"PtgElfColSV",f:Pz},16:{n:"PtgElfRadicalLel",f:Fz},25:{n:"PtgList",f:$z},29:{n:"PtgSxName",f:Vz},255:{}},Yz={0:{n:"PtgAttrNoop",f:Gz},1:{n:"PtgAttrSemi",f:rz},2:{n:"PtgAttrIf",f:ez},4:{n:"PtgAttrChoose",f:QH},8:{n:"PtgAttrGoto",f:ZH},16:{n:"PtgAttrSum",f:hz},32:{n:"PtgAttrBaxcel",f:SS},33:{n:"PtgAttrBaxcel",f:SS},64:{n:"PtgAttrSpace",f:nz},65:{n:"PtgAttrSpaceSemi",f:sz},128:{n:"PtgAttrIfError",f:tz},255:{}};function Gp(r,e,t,n){if(n.biff<8)return ui(r,e);for(var s=r.l+e,i=[],a=0;a!==t.length;++a)switch(t[a][0]){case"PtgArray":t[a][1]=wz(r,0,n),i.push(t[a][1]);break;case"PtgMemArea":t[a][2]=bz(r,t[a][1],n),i.push(t[a][2]);break;case"PtgExp":n&&n.biff==12&&(t[a][1][1]=r.read_shift(4),i.push(t[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[a][0]}return e=s-r.l,e!==0&&i.push(ui(r,e)),i}function Kp(r,e,t){for(var n=r.l+e,s,i,a=[];n!=r.l;)e=n-r.l,i=r[r.l],s=ES[i]||ES[Kz[i]],(i===24||i===25)&&(s=(i===24?Xz:Yz)[r[r.l+1]]),!s||!s.f?ui(r,e):a.push([s.n,s.f(r,e,t)]);return a}function Jz(r){for(var e=[],t=0;t<r.length;++t){for(var n=r[t],s=[],i=0;i<n.length;++i){var a=n[i];if(a)switch(a[0]){case 2:s.push('"'+a[1].replace(/"/g,'""')+'"');break;default:s.push(a[1])}else s.push("")}e.push(s.join(","))}return e.join(";")}var Qz={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Zz(r,e){if(!r&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(r)?"'"+r+"'":r}function B7(r,e,t){if(!r)return"SH33TJSERR0";if(t.biff>8&&(!r.XTI||!r.XTI[e]))return r.SheetNames[e];if(!r.XTI)return"SH33TJSERR6";var n=r.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":r.XTI[e-1];if(!n)return"SH33TJSERR1";var s="";if(t.biff>8)switch(r[n[0]][0]){case 357:return s=n[1]==-1?"#REF":r.SheetNames[n[1]],n[1]==n[2]?s:s+":"+r.SheetNames[n[2]];case 358:return t.SID!=null?r.SheetNames[t.SID]:"SH33TJSSAME"+r[n[0]][0];case 355:default:return"SH33TJSSRC"+r[n[0]][0]}switch(r[n[0]][0][0]){case 1025:return s=n[1]==-1?"#REF":r.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?s:s+":"+r.SheetNames[n[2]];case 14849:return r[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return r[n[0]][0][3]?(s=n[1]==-1?"#REF":r[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?s:s+":"+r[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function kS(r,e,t){var n=B7(r,e,t);return n=="#REF"?n:Zz(n,t)}function ri(r,e,t,n,s){var i=s&&s.biff||8,a={s:{c:0,r:0}},o=[],l,c,u,d=0,h=0,f,m="";if(!r[0]||!r[0][0])return"";for(var g=-1,p="",v=0,y=r[0].length;v<y;++v){var b=r[0][v];switch(b[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),g>=0){switch(r[0][g][1][0]){case 0:p=Ln(" ",r[0][g][1][1]);break;case 1:p=Ln("\r",r[0][g][1][1]);break;default:if(p="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][g][1][0])}c=c+p,g=-1}o.push(c+Qz[b[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=P0(b[1][1],a,s),o.push(O0(u,i));break;case"PtgRefN":u=t?P0(b[1][1],t,s):b[1][1],o.push(O0(u,i));break;case"PtgRef3d":d=b[1][1],u=P0(b[1][2],a,s),m=kS(n,d,s),o.push(m+"!"+O0(u,i));break;case"PtgFunc":case"PtgFuncVar":var E=b[1][0],N=b[1][1];E||(E=0),E&=127;var j=E==0?[]:o.slice(-E);o.length-=E,N==="User"&&(N=j.shift()),o.push(N+"("+j.join(",")+")");break;case"PtgBool":o.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(b[1]);break;case"PtgNum":o.push(String(b[1]));break;case"PtgStr":o.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(b[1]);break;case"PtgAreaN":f=iS(b[1][1],t?{s:t}:a,s),o.push(Ny(f,s));break;case"PtgArea":f=iS(b[1][1],a,s),o.push(Ny(f,s));break;case"PtgArea3d":d=b[1][1],f=b[1][2],m=kS(n,d,s),o.push(m+"!"+Ny(f,s));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=b[1][2];var D=(n.names||[])[h-1]||(n[0]||[])[h],C=D?D.Name:"SH33TJSNAME"+String(h);C&&C.slice(0,6)=="_xlfn."&&!s.xlfn&&(C=C.slice(6)),o.push(C);break;case"PtgNameX":var I=b[1][1];h=b[1][2];var V;if(s.biff<=5)I<0&&(I=-I),n[I]&&(V=n[I][h]);else{var B="";if(((n[I]||[])[0]||[])[0]==14849||(((n[I]||[])[0]||[])[0]==1025?n[I][h]&&n[I][h].itab>0&&(B=n.SheetNames[n[I][h].itab-1]+"!"):B=n.SheetNames[h-1]+"!"),n[I]&&n[I][h])B+=n[I][h].Name;else if(n[0]&&n[0][h])B+=n[0][h].Name;else{var P=(B7(n,I,s)||"").split(";;");P[h-1]?B=P[h-1]:B+="SH33TJSERRX"}o.push(B);break}V||(V={Name:"SH33TJSERRY"}),o.push(V.Name);break;case"PtgParen":var k="(",M=")";if(g>=0){switch(p="",r[0][g][1][0]){case 2:k=Ln(" ",r[0][g][1][1])+k;break;case 3:k=Ln("\r",r[0][g][1][1])+k;break;case 4:M=Ln(" ",r[0][g][1][1])+M;break;case 5:M=Ln("\r",r[0][g][1][1])+M;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][g][1][0])}g=-1}o.push(k+o.pop()+M);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:b[1][1],r:b[1][0]};var A={c:t.c,r:t.r};if(n.sharedf[Er(u)]){var w=n.sharedf[Er(u)];o.push(ri(w,a,A,n,s))}else{var S=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(ri(c[1],a,A,n,s)),S=!0;break}S||o.push(b[1])}break;case"PtgArray":o.push("{"+Jz(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=v;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var _=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&g>=0&&_.indexOf(r[0][v][0])==-1){b=r[0][g];var x=!0;switch(b[1][0]){case 4:x=!1;case 0:p=Ln(" ",b[1][1]);break;case 5:x=!1;case 1:p=Ln("\r",b[1][1]);break;default:if(p="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}o.push((x?p:"")+o.pop()+(x?"":p)),g=-1}}if(o.length>1&&s.WTF)throw new Error("bad formula stack");return o[0]}function eq(r,e,t){var n=r.l+e,s=t.biff==2?1:2,i,a=r.read_shift(s);if(a==65535)return[[],ui(r,e-2)];var o=Kp(r,a,t);return e!==a+s&&(i=Gp(r,e-a-s,o,t)),r.l=n,[o,i]}function tq(r,e,t){var n=r.l+e,s=t.biff==2?1:2,i,a=r.read_shift(s);if(a==65535)return[[],ui(r,e-2)];var o=Kp(r,a,t);return e!==a+s&&(i=Gp(r,e-a-s,o,t)),r.l=n,[o,i]}function rq(r,e,t,n){var s=r.l+e,i=Kp(r,n,t),a;return s!==r.l&&(a=Gp(r,s-r.l,i,t)),[i,a]}function nq(r,e,t){var n=r.l+e,s,i=r.read_shift(2),a=Kp(r,i,t);return i==65535?[[],ui(r,e-2)]:(e!==i+2&&(s=Gp(r,n-i-2,a,t)),[a,s])}function sq(r){var e;if(yl(r,r.l+6)!==65535)return[ii(r),"n"];switch(r[r.l]){case 0:return r.l+=8,["String","s"];case 1:return e=r[r.l+2]===1,r.l+=8,[e,"b"];case 2:return e=r[r.l+2],r.l+=8,[e,"e"];case 3:return r.l+=8,["","s"]}return[]}function Iy(r,e,t){var n=r.l+e,s=Qo(r);t.biff==2&&++r.l;var i=sq(r),a=r.read_shift(1);t.biff!=2&&(r.read_shift(1),t.biff>=5&&r.read_shift(4));var o=tq(r,n-r.l,t);return{cell:s,val:i[0],formula:o,shared:a>>3&1,tt:i[1]}}function z2(r,e,t){var n=r.read_shift(4),s=Kp(r,n,t),i=r.read_shift(4),a=i>0?Gp(r,i,s,t):null;return[s,a]}var iq=z2,q2=z2,aq=z2,oq=z2,lq={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},U7={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},cq={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function AS(r){return r.slice(0,3)=="of:"&&(r=r.slice(3)),r.charCodeAt(0)==61&&(r=r.slice(1),r.charCodeAt(0)==61&&(r=r.slice(1))),r=r.replace(/COM\.MICROSOFT\./g,""),r=r.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,t){return t.replace(/\./g,"")}),r=r.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),r.replace(/[;~]/g,",").replace(/\|/g,";")}function Py(r){var e=r.split(":"),t=e[0].split(".")[0];return[t,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var j0={},Of={};function B0(r,e){if(r){var t=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(t=[1,1,1,1,.5,.5]),r.left==null&&(r.left=t[0]),r.right==null&&(r.right=t[1]),r.top==null&&(r.top=t[2]),r.bottom==null&&(r.bottom=t[3]),r.header==null&&(r.header=t[4]),r.footer==null&&(r.footer=t[5])}}function $7(r,e,t,n,s,i){try{n.cellNF&&(r.z=Nr[e])}catch(o){if(n.WTF)throw o}if(!(r.t==="z"&&!n.cellStyles)){if(r.t==="d"&&typeof r.v=="string"&&(r.v=As(r.v)),(!n||n.cellText!==!1)&&r.t!=="z")try{if(Nr[e]==null&&Qu(uB[e]||"General",e),r.t==="e")r.w=r.w||Sh[r.v];else if(e===0)if(r.t==="n")(r.v|0)===r.v?r.w=r.v.toString(10):r.w=mp(r.v);else if(r.t==="d"){var a=ki(r.v);(a|0)===a?r.w=a.toString(10):r.w=mp(a)}else{if(r.v===void 0)return"";r.w=lh(r.v,Of)}else r.t==="d"?r.w=Pa(e,ki(r.v),Of):r.w=Pa(e,r.v,Of)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&t!=null)try{r.s=i.Fills[t],r.s.fgColor&&r.s.fgColor.theme&&!r.s.fgColor.rgb&&(r.s.fgColor.rgb=F1(s.themeElements.clrScheme[r.s.fgColor.theme].rgb,r.s.fgColor.tint||0),n.WTF&&(r.s.fgColor.raw_rgb=s.themeElements.clrScheme[r.s.fgColor.theme].rgb)),r.s.bgColor&&r.s.bgColor.theme&&(r.s.bgColor.rgb=F1(s.themeElements.clrScheme[r.s.bgColor.theme].rgb,r.s.bgColor.tint||0),n.WTF&&(r.s.bgColor.raw_rgb=s.themeElements.clrScheme[r.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&i.Fills)throw o}}}function uq(r,e){var t=Bn(e);t.s.r<=t.e.r&&t.s.c<=t.e.c&&t.s.r>=0&&t.s.c>=0&&(r["!ref"]=Hr(t))}var hq=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,fq=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,dq=/<(?:\w:)?hyperlink [^>]*>/mg,pq=/"(\w*:\w*)"/,mq=/<(?:\w:)?col\b[^>]*[\/]?>/g,gq=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,vq=/<(?:\w:)?pageMargins[^>]*\/>/g,V7=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,yq=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,bq=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function wq(r,e,t,n,s,i,a){if(!r)return r;n||(n={"!id":{}});var o=e.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",d=r.match(fq);d?(c=r.slice(0,d.index),u=r.slice(d.index+d[0].length)):c=u=r;var h=c.match(V7);h?a_(h[0],o,s,t):(h=c.match(yq))&&xq(h[0],h[1]||"",o,s,t);var f=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(f>0){var m=c.slice(f,f+50).match(pq);m&&uq(o,m[1])}var g=c.match(bq);g&&g[1]&&Tq(g[1],s);var p=[];if(e.cellStyles){var v=c.match(mq);v&&Eq(p,v)}d&&Cq(d[1],o,e,l,i,a);var y=u.match(gq);y&&(o["!autofilter"]=kq(y[0]));var b=[],E=u.match(hq);if(E)for(f=0;f!=E.length;++f)b[f]=Bn(E[f].slice(E[f].indexOf('"')+1));var N=u.match(dq);N&&_q(o,N,n);var j=u.match(vq);if(j&&(o["!margins"]=Sq(vr(j[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=Hr(l)),e.sheetRows>0&&o["!ref"]){var D=Bn(o["!ref"]);e.sheetRows<=+D.e.r&&(D.e.r=e.sheetRows-1,D.e.r>l.e.r&&(D.e.r=l.e.r),D.e.r<D.s.r&&(D.s.r=D.e.r),D.e.c>l.e.c&&(D.e.c=l.e.c),D.e.c<D.s.c&&(D.s.c=D.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Hr(D))}return p.length>0&&(o["!cols"]=p),b.length>0&&(o["!merges"]=b),o}function a_(r,e,t,n){var s=vr(r);t.Sheets[n]||(t.Sheets[n]={}),s.codeName&&(t.Sheets[n].CodeName=Gr(vn(s.codeName)))}function xq(r,e,t,n,s){a_(r.slice(0,r.indexOf(">")),t,n,s)}function _q(r,e,t){for(var n=Array.isArray(r),s=0;s!=e.length;++s){var i=vr(vn(e[s]),!0);if(!i.ref)return;var a=((t||{})["!id"]||[])[i.id];a?(i.Target=a.Target,i.location&&(i.Target+="#"+Gr(i.location))):(i.Target="#"+Gr(i.location),a={Target:i.Target,TargetMode:"Internal"}),i.Rel=a,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=Bn(i.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=Er({c,r:l});n?(r[l]||(r[l]=[]),r[l][c]||(r[l][c]={t:"z",v:void 0}),r[l][c].l=i):(r[u]||(r[u]={t:"z",v:void 0}),r[u].l=i)}}}function Sq(r){var e={};return["left","right","top","bottom","header","footer"].forEach(function(t){r[t]&&(e[t]=parseFloat(r[t]))}),e}function Eq(r,e){for(var t=!1,n=0;n!=e.length;++n){var s=vr(e[n],!0);s.hidden&&(s.hidden=En(s.hidden));var i=parseInt(s.min,10)-1,a=parseInt(s.max,10)-1;for(s.outlineLevel&&(s.level=+s.outlineLevel||0),delete s.min,delete s.max,s.width=+s.width,!t&&s.width&&(t=!0,s_(s.width)),td(s);i<=a;)r[i++]=Bs(s)}}function kq(r){var e={ref:(r.match(/ref="([^"]*)"/)||[])[1]};return e}var Aq=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Tq(r,e){e.Views||(e.Views=[{}]),(r.match(Aq)||[]).forEach(function(t,n){var s=vr(t);e.Views[n]||(e.Views[n]={}),+s.zoomScale&&(e.Views[n].zoom=+s.zoomScale),En(s.rightToLeft)&&(e.Views[n].RTL=!0)})}var Cq=function(){var r=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,t=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,s=/ref=["']([^"']*)["']/,i=gp("v"),a=gp("f");return function(l,c,u,d,h,f){for(var m=0,g="",p=[],v=[],y=0,b=0,E=0,N="",j,D,C=0,I=0,V,B,P=0,k=0,M=Array.isArray(f.CellXf),A,w=[],S=[],_=Array.isArray(c),x=[],R={},W=!1,T=!!u.sheetStubs,z=l.split(e),q=0,Y=z.length;q!=Y;++q){g=z[q].trim();var U=g.length;if(U!==0){var Q=0;e:for(m=0;m<U;++m)switch(g[m]){case">":if(g[m-1]!="/"){++m;break e}if(u&&u.cellStyles){if(D=vr(g.slice(Q,m),!0),C=D.r!=null?parseInt(D.r,10):C+1,I=-1,u.sheetRows&&u.sheetRows<C)continue;R={},W=!1,D.ht&&(W=!0,R.hpt=parseFloat(D.ht),R.hpx=wp(R.hpt)),D.hidden=="1"&&(W=!0,R.hidden=!0),D.outlineLevel!=null&&(W=!0,R.level=+D.outlineLevel),W&&(x[C-1]=R)}break;case"<":Q=m;break}if(Q>=m)break;if(D=vr(g.slice(Q,m),!0),C=D.r!=null?parseInt(D.r,10):C+1,I=-1,!(u.sheetRows&&u.sheetRows<C)){d.s.r>C-1&&(d.s.r=C-1),d.e.r<C-1&&(d.e.r=C-1),u&&u.cellStyles&&(R={},W=!1,D.ht&&(W=!0,R.hpt=parseFloat(D.ht),R.hpx=wp(R.hpt)),D.hidden=="1"&&(W=!0,R.hidden=!0),D.outlineLevel!=null&&(W=!0,R.level=+D.outlineLevel),W&&(x[C-1]=R)),p=g.slice(m).split(r);for(var F=0;F!=p.length&&p[F].trim().charAt(0)=="<";++F);for(p=p.slice(F),m=0;m!=p.length;++m)if(g=p[m].trim(),g.length!==0){if(v=g.match(t),y=m,b=0,E=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,v!=null&&v.length===2){for(y=0,N=v[1],b=0;b!=N.length&&!((E=N.charCodeAt(b)-64)<1||E>26);++b)y=26*y+E;--y,I=y}else++I;for(b=0;b!=g.length&&g.charCodeAt(b)!==62;++b);if(++b,D=vr(g.slice(0,b),!0),D.r||(D.r=Er({r:C-1,c:I})),N=g.slice(b),j={t:""},(v=N.match(i))!=null&&v[1]!==""&&(j.v=Gr(v[1])),u.cellFormula){if((v=N.match(a))!=null&&v[1]!==""){if(j.f=Gr(vn(v[1])).replace(/\r\n/g,`
`),u.xlfn||(j.f=_S(j.f)),v[0].indexOf('t="array"')>-1)j.F=(N.match(s)||[])[1],j.F.indexOf(":")>-1&&w.push([Bn(j.F),j.F]);else if(v[0].indexOf('t="shared"')>-1){B=vr(v[0]);var O=Gr(vn(v[1]));u.xlfn||(O=_S(O)),S[parseInt(B.si,10)]=[B,O,D.r]}}else(v=N.match(/<f[^>]*\/>/))&&(B=vr(v[0]),S[B.si]&&(j.f=BH(S[B.si][1],S[B.si][2],D.r)));var K=_i(D.r);for(b=0;b<w.length;++b)K.r>=w[b][0].s.r&&K.r<=w[b][0].e.r&&K.c>=w[b][0].s.c&&K.c<=w[b][0].e.c&&(j.F=w[b][1])}if(D.t==null&&j.v===void 0)if(j.f||j.F)j.v=0,j.t="n";else if(T)j.t="z";else continue;else j.t=D.t||"n";switch(d.s.c>I&&(d.s.c=I),d.e.c<I&&(d.e.c=I),j.t){case"n":if(j.v==""||j.v==null){if(!T)continue;j.t="z"}else j.v=parseFloat(j.v);break;case"s":if(typeof j.v>"u"){if(!T)continue;j.t="z"}else V=j0[parseInt(j.v,10)],j.v=V.t,j.r=V.r,u.cellHTML&&(j.h=V.h);break;case"str":j.t="s",j.v=j.v!=null?vn(j.v):"",u.cellHTML&&(j.h=G5(j.v));break;case"inlineStr":v=N.match(n),j.t="s",v!=null&&(V=n_(v[1]))?(j.v=V.t,u.cellHTML&&(j.h=V.h)):j.v="";break;case"b":j.v=En(j.v);break;case"d":u.cellDates?j.v=As(j.v,1):(j.v=ki(As(j.v,1)),j.t="n");break;case"e":(!u||u.cellText!==!1)&&(j.w=j.v),j.v=c7[j.v];break}if(P=k=0,A=null,M&&D.s!==void 0&&(A=f.CellXf[D.s],A!=null&&(A.numFmtId!=null&&(P=A.numFmtId),u.cellStyles&&A.fillId!=null&&(k=A.fillId))),$7(j,P,k,u,h,f),u.cellDates&&M&&j.t=="n"&&bd(Nr[P])&&(j.t="d",j.v=V2(j.v)),D.cm&&u.xlmeta){var ne=(u.xlmeta.Cell||[])[+D.cm-1];ne&&ne.type=="XLDAPR"&&(j.D=!0)}if(_){var ee=_i(D.r);c[ee.r]||(c[ee.r]=[]),c[ee.r][ee.c]=j}else c[D.r]=j}}}}x.length>0&&(c["!rows"]=x)}}();function Nq(r,e){var t={},n=r.l+e;t.r=r.read_shift(4),r.l+=4;var s=r.read_shift(2);r.l+=1;var i=r.read_shift(1);return r.l=n,i&7&&(t.level=i&7),i&16&&(t.hidden=!0),i&32&&(t.hpt=s/20),t}var Dq=_h;function Rq(){}function Iq(r,e){var t={},n=r[r.l];return++r.l,t.above=!(n&64),t.left=!(n&128),r.l+=18,t.name=eU(r),t}function Pq(r){var e=Ma(r);return[e]}function Oq(r){var e=xh(r);return[e]}function Mq(r){var e=Ma(r),t=r.read_shift(1);return[e,t,"b"]}function Fq(r){var e=xh(r),t=r.read_shift(1);return[e,t,"b"]}function Lq(r){var e=Ma(r),t=r.read_shift(1);return[e,t,"e"]}function jq(r){var e=xh(r),t=r.read_shift(1);return[e,t,"e"]}function Bq(r){var e=Ma(r),t=r.read_shift(4);return[e,t,"s"]}function Uq(r){var e=xh(r),t=r.read_shift(4);return[e,t,"s"]}function $q(r){var e=Ma(r),t=ii(r);return[e,t,"n"]}function H7(r){var e=xh(r),t=ii(r);return[e,t,"n"]}function Vq(r){var e=Ma(r),t=e_(r);return[e,t,"n"]}function Hq(r){var e=xh(r),t=e_(r);return[e,t,"n"]}function zq(r){var e=Ma(r),t=Q5(r);return[e,t,"is"]}function qq(r){var e=Ma(r),t=li(r);return[e,t,"str"]}function Wq(r){var e=xh(r),t=li(r);return[e,t,"str"]}function Gq(r,e,t){var n=r.l+e,s=Ma(r);s.r=t["!row"];var i=r.read_shift(1),a=[s,i,"b"];if(t.cellFormula){r.l+=2;var o=q2(r,n-r.l,t);a[3]=ri(o,null,s,t.supbooks,t)}else r.l=n;return a}function Kq(r,e,t){var n=r.l+e,s=Ma(r);s.r=t["!row"];var i=r.read_shift(1),a=[s,i,"e"];if(t.cellFormula){r.l+=2;var o=q2(r,n-r.l,t);a[3]=ri(o,null,s,t.supbooks,t)}else r.l=n;return a}function Xq(r,e,t){var n=r.l+e,s=Ma(r);s.r=t["!row"];var i=ii(r),a=[s,i,"n"];if(t.cellFormula){r.l+=2;var o=q2(r,n-r.l,t);a[3]=ri(o,null,s,t.supbooks,t)}else r.l=n;return a}function Yq(r,e,t){var n=r.l+e,s=Ma(r);s.r=t["!row"];var i=li(r),a=[s,i,"str"];if(t.cellFormula){r.l+=2;var o=q2(r,n-r.l,t);a[3]=ri(o,null,s,t.supbooks,t)}else r.l=n;return a}var Jq=_h;function Qq(r,e){var t=r.l+e,n=_h(r),s=Z5(r),i=li(r),a=li(r),o=li(r);r.l=t;var l={rfx:n,relId:s,loc:i,display:o};return a&&(l.Tooltip=a),l}function Zq(){}function eW(r,e,t){var n=r.l+e,s=a7(r),i=r.read_shift(1),a=[s];if(a[2]=i,t.cellFormula){var o=iq(r,n-r.l,t);a[1]=o}else r.l=n;return a}function tW(r,e,t){var n=r.l+e,s=_h(r),i=[s];if(t.cellFormula){var a=oq(r,n-r.l,t);i[1]=a,r.l=n}else r.l=n;return i}var rW=["left","right","top","bottom","header","footer"];function nW(r){var e={};return rW.forEach(function(t){e[t]=ii(r)}),e}function sW(r){var e=r.read_shift(2);return r.l+=28,{RTL:e&32}}function iW(){}function aW(){}function oW(r,e,t,n,s,i,a){if(!r)return r;var o=e||{};n||(n={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},d=!1,h=!1,f,m,g,p,v,y,b,E,N,j=[];o.biff=12,o["!row"]=0;var D=0,C=!1,I=[],V={},B=o.supbooks||s.supbooks||[[]];if(B.sharedf=V,B.arrayf=I,B.SheetNames=s.SheetNames||s.Sheets.map(function(_){return _.name}),!o.supbooks&&(o.supbooks=B,s.Names))for(var P=0;P<s.Names.length;++P)B[0][P+1]=s.Names[P];var k=[],M=[],A=!1;B1[16]={n:"BrtShortReal",f:H7};var w;if(Vl(r,function(x,R,W){if(!h)switch(W){case 148:c=x;break;case 0:f=x,o.sheetRows&&o.sheetRows<=f.r&&(h=!0),E=Us(p=f.r),o["!row"]=f.r,(x.hidden||x.hpt||x.level!=null)&&(x.hpt&&(x.hpx=wp(x.hpt)),M[x.r]=x);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(m={t:x[2]},x[2]){case"n":m.v=x[1];break;case"s":b=j0[x[1]],m.v=b.t,m.r=b.r;break;case"b":m.v=!!x[1];break;case"e":m.v=x[1],o.cellText!==!1&&(m.w=Sh[m.v]);break;case"str":m.t="s",m.v=x[1];break;case"is":m.t="s",m.v=x[1].t;break}if((g=a.CellXf[x[0].iStyleRef])&&$7(m,g.numFmtId,null,o,i,a),v=x[0].c==-1?v+1:x[0].c,o.dense?(l[p]||(l[p]=[]),l[p][v]=m):l[ds(v)+E]=m,o.cellFormula){for(C=!1,D=0;D<I.length;++D){var T=I[D];f.r>=T[0].s.r&&f.r<=T[0].e.r&&v>=T[0].s.c&&v<=T[0].e.c&&(m.F=Hr(T[0]),C=!0)}!C&&x.length>3&&(m.f=x[3])}if(u.s.r>f.r&&(u.s.r=f.r),u.s.c>v&&(u.s.c=v),u.e.r<f.r&&(u.e.r=f.r),u.e.c<v&&(u.e.c=v),o.cellDates&&g&&m.t=="n"&&bd(Nr[g.numFmtId])){var z=Ku(m.v);z&&(m.t="d",m.v=new Date(z.y,z.m-1,z.d,z.H,z.M,z.S,z.u))}w&&(w.type=="XLDAPR"&&(m.D=!0),w=void 0);break;case 1:case 12:if(!o.sheetStubs||d)break;m={t:"z",v:void 0},v=x[0].c==-1?v+1:x[0].c,o.dense?(l[p]||(l[p]=[]),l[p][v]=m):l[ds(v)+E]=m,u.s.r>f.r&&(u.s.r=f.r),u.s.c>v&&(u.s.c=v),u.e.r<f.r&&(u.e.r=f.r),u.e.c<v&&(u.e.c=v),w&&(w.type=="XLDAPR"&&(m.D=!0),w=void 0);break;case 176:j.push(x);break;case 49:w=((o.xlmeta||{}).Cell||[])[x-1];break;case 494:var q=n["!id"][x.relId];for(q?(x.Target=q.Target,x.loc&&(x.Target+="#"+x.loc),x.Rel=q):x.relId==""&&(x.Target="#"+x.loc),p=x.rfx.s.r;p<=x.rfx.e.r;++p)for(v=x.rfx.s.c;v<=x.rfx.e.c;++v)o.dense?(l[p]||(l[p]=[]),l[p][v]||(l[p][v]={t:"z",v:void 0}),l[p][v].l=x):(y=Er({c:v,r:p}),l[y]||(l[y]={t:"z",v:void 0}),l[y].l=x);break;case 426:if(!o.cellFormula)break;I.push(x),N=o.dense?l[p][v]:l[ds(v)+E],N.f=ri(x[1],u,{r:f.r,c:v},B,o),N.F=Hr(x[0]);break;case 427:if(!o.cellFormula)break;V[Er(x[0].s)]=x[1],N=o.dense?l[p][v]:l[ds(v)+E],N.f=ri(x[1],u,{r:f.r,c:v},B,o);break;case 60:if(!o.cellStyles)break;for(;x.e>=x.s;)k[x.e--]={width:x.w/256,hidden:!!(x.flags&1),level:x.level},A||(A=!0,s_(x.w/256)),td(k[x.e+1]);break;case 161:l["!autofilter"]={ref:Hr(x)};break;case 476:l["!margins"]=x;break;case 147:s.Sheets[t]||(s.Sheets[t]={}),x.name&&(s.Sheets[t].CodeName=x.name),(x.above||x.left)&&(l["!outline"]={above:x.above,left:x.left});break;case 137:s.Views||(s.Views=[{}]),s.Views[0]||(s.Views[0]={}),x.RTL&&(s.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:d=!0;break;case 36:d=!1;break;case 37:d=!0;break;case 38:d=!1;break;default:if(!R.T){if(!d||o.WTF)throw new Error("Unexpected record 0x"+W.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=Hr(c||u)),o.sheetRows&&l["!ref"]){var S=Bn(l["!ref"]);o.sheetRows<=+S.e.r&&(S.e.r=o.sheetRows-1,S.e.r>u.e.r&&(S.e.r=u.e.r),S.e.r<S.s.r&&(S.s.r=S.e.r),S.e.c>u.e.c&&(S.e.c=u.e.c),S.e.c<S.s.c&&(S.s.c=S.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Hr(S))}return j.length>0&&(l["!merges"]=j),k.length>0&&(l["!cols"]=k),M.length>0&&(l["!rows"]=M),l}function lW(r){var e=[],t=r.match(/^<c:numCache>/),n;(r.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var a=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);a&&(e[+a[1]]=t?+a[2]:a[2])});var s=Gr((r.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(r.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[e,s,n]}function cW(r,e,t,n,s,i){var a=i||{"!type":"chart"};if(!r)return i;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(r.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(d){var h=lW(d);u.s.r=u.s.c=0,u.e.c=o,c=ds(o),h[0].forEach(function(f,m){a[c+Us(m)]={t:"n",v:f,z:h[1]},l=m}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(a["!ref"]=Hr(u)),a}function uW(r,e,t,n,s){if(!r)return r;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},a,o=r.match(V7);return o&&a_(o[0],i,s,t),(a=r.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=a[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function hW(r,e){r.l+=10;var t=li(r);return{name:t}}function fW(r,e,t,n,s){if(!r)return r;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},a=!1;return Vl(r,function(l,c,u){switch(u){case 550:i["!rel"]=l;break;case 651:s.Sheets[t]||(s.Sheets[t]={}),l.name&&(s.Sheets[t].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!a||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},e),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var z7=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],dW=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],pW=[],mW=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function TS(r,e){for(var t=0;t!=r.length;++t)for(var n=r[t],s=0;s!=e.length;++s){var i=e[s];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=En(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function CS(r,e){for(var t=0;t!=e.length;++t){var n=e[t];if(r[n[0]]==null)r[n[0]]=n[1];else switch(n[2]){case"bool":typeof r[n[0]]=="string"&&(r[n[0]]=En(r[n[0]]));break;case"int":typeof r[n[0]]=="string"&&(r[n[0]]=parseInt(r[n[0]],10));break}}}function q7(r){CS(r.WBProps,z7),CS(r.CalcPr,mW),TS(r.WBView,dW),TS(r.Sheets,pW),Of.date1904=En(r.WBProps.date1904)}var gW="][*?/\\".split("");function vW(r,e){if(r.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return gW.forEach(function(n){if(r.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}var yW=/<\w+:workbook/;function bW(r,e){if(!r)throw new Error("Could not find file");var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,s="xmlns",i={},a=0;if(r.replace(fi,function(l,c){var u=vr(l);switch(Jo(u[0])){case"<?xml":break;case"<workbook":l.match(yW)&&(s="xmlns"+l.match(/<(\w+):/)[1]),t.xmlns=u[s];break;case"</workbook>":break;case"<fileVersion":delete u[0],t.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":z7.forEach(function(d){if(u[d[0]]!=null)switch(d[2]){case"bool":t.WBProps[d[0]]=En(u[d[0]]);break;case"int":t.WBProps[d[0]]=parseInt(u[d[0]],10);break;default:t.WBProps[d[0]]=u[d[0]]}}),u.codeName&&(t.WBProps.CodeName=vn(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],t.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=Gr(vn(u.name)),delete u[0],t.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=vn(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),En(u.hidden||"0")&&(i.Hidden=!0),a=c+l.length;break;case"</definedName>":i.Ref=Gr(vn(r.slice(a,c))),t.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],t.CalcPr=u;break;case"<calcPr/>":delete u[0],t.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&e.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),LB.indexOf(t.xmlns)===-1)throw new Error("Unknown Namespace: "+t.xmlns);return q7(t),t}function wW(r,e){var t={};return t.Hidden=r.read_shift(4),t.iTabID=r.read_shift(4),t.strRelID=Rw(r),t.name=li(r),t}function xW(r,e){var t={},n=r.read_shift(4);t.defaultThemeVersion=r.read_shift(4);var s=e>8?li(r):"";return s.length>0&&(t.CodeName=s),t.autoCompressPictures=!!(n&65536),t.backupFile=!!(n&64),t.checkCompatibility=!!(n&4096),t.date1904=!!(n&1),t.filterPrivacy=!!(n&8),t.hidePivotFieldList=!!(n&1024),t.promptedSolutions=!!(n&16),t.publishItems=!!(n&2048),t.refreshAllConnections=!!(n&262144),t.saveExternalLinkValues=!!(n&128),t.showBorderUnselectedTables=!!(n&4),t.showInkAnnotation=!!(n&32),t.showObjects=["all","placeholders","none"][n>>13&3],t.showPivotChartFilter=!!(n&32768),t.updateLinks=["userSet","never","always"][n>>8&3],t}function _W(r,e){var t={};return r.read_shift(4),t.ArchID=r.read_shift(4),r.l+=e-8,t}function SW(r,e,t){var n=r.l+e;r.l+=4,r.l+=1;var s=r.read_shift(4),i=tU(r),a=aq(r,0,t),o=Z5(r);r.l=n;var l={Name:i,Ptg:a};return s<268435455&&(l.Sheet=s),o&&(l.Comment=o),l}function EW(r,e){var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],s=!1;e||(e={}),e.biff=12;var i=[],a=[[]];return a.SheetNames=[],a.XTI=[],B1[16]={n:"BrtFRTArchID$",f:_W},Vl(r,function(l,c,u){switch(u){case 156:a.SheetNames.push(l.name),t.Sheets.push(l);break;case 153:t.WBProps=l;break;case 39:l.Sheet!=null&&(e.SID=l.Sheet),l.Ref=ri(l.Ptg,null,null,a,e),delete e.SID,delete l.Ptg,i.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:a[0].length?a.push([u,l]):a[0]=[u,l],a[a.length-1].XTI=[];break;case 362:a.length===0&&(a[0]=[],a[0].XTI=[]),a[a.length-1].XTI=a[a.length-1].XTI.concat(l),a.XTI=a.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),s=!0;break;case 36:n.pop(),s=!1;break;case 37:n.push(u),s=!0;break;case 38:n.pop(),s=!1;break;case 16:break;default:if(!c.T){if(!s||e.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},e),q7(t),t.Names=i,t.supbooks=a,t}function kW(r,e,t){return e.slice(-4)===".bin"?EW(r,t):bW(r,t)}function AW(r,e,t,n,s,i,a,o){return e.slice(-4)===".bin"?oW(r,n,t,s,i,a,o):wq(r,n,t,s,i,a,o)}function TW(r,e,t,n,s,i,a,o){return e.slice(-4)===".bin"?fW(r,n,t,s,i):uW(r,n,t,s,i)}function CW(r,e,t,n,s,i,a,o){return e.slice(-4)===".bin"?FH():LH()}function NW(r,e,t,n,s,i,a,o){return e.slice(-4)===".bin"?OH():MH()}function DW(r,e,t,n){return e.slice(-4)===".bin"?JV(r,t,n):qV(r,t,n)}function RW(r,e,t){return R7(r,t)}function IW(r,e,t){return e.slice(-4)===".bin"?dV(r,t):hV(r,t)}function PW(r,e,t){return e.slice(-4)===".bin"?RH(r,t):AH(r,t)}function OW(r,e,t){return e.slice(-4)===".bin"?SH(r):xH(r)}function MW(r,e,t,n){return t.slice(-4)===".bin"?EH(r,e,t,n):void 0}function FW(r,e,t){return e.slice(-4)===".bin"?bH(r,e,t):wH(r,e,t)}var W7=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,G7=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Wa(r,e){var t=r.split(/\s+/),n=[];if(n[0]=t[0],t.length===1)return n;var s=r.match(W7),i,a,o,l;if(s)for(l=0;l!=s.length;++l)i=s[l].match(G7),(a=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(a+1),n[o]=i[2].slice(1,i[2].length-1));return n}function LW(r){var e=r.split(/\s+/),t={};if(e.length===1)return t;var n=r.match(W7),s,i,a,o;if(n)for(o=0;o!=n.length;++o)s=n[o].match(G7),(i=s[1].indexOf(":"))===-1?t[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?a="xmlns"+s[1].slice(6):a=s[1].slice(i+1),t[a]=s[2].slice(1,s[2].length-1));return t}var U0;function jW(r,e){var t=U0[r]||Gr(r);return t==="General"?lh(e):Pa(t,e)}function BW(r,e,t,n){var s=n;switch((t[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":s=En(n);break;case"i2":case"int":s=parseInt(n,10);break;case"r4":case"float":s=parseFloat(n);break;case"date":case"dateTime.tz":s=As(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+t[0])}r[Gr(e)]=s}function UW(r,e,t){if(r.t!=="z"){if(!t||t.cellText!==!1)try{r.t==="e"?r.w=r.w||Sh[r.v]:e==="General"?r.t==="n"?(r.v|0)===r.v?r.w=r.v.toString(10):r.w=mp(r.v):r.w=lh(r.v):r.w=jW(e||"General",r.v)}catch(i){if(t.WTF)throw i}try{var n=U0[e]||e||"General";if(t.cellNF&&(r.z=n),t.cellDates&&r.t=="n"&&bd(n)){var s=Ku(r.v);s&&(r.t="d",r.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}catch(i){if(t.WTF)throw i}}}function $W(r,e,t){if(t.cellStyles&&e.Interior){var n=e.Interior;n.Pattern&&(n.patternType=BV[n.Pattern]||n.Pattern)}r[e.ID]=e}function VW(r,e,t,n,s,i,a,o,l,c){var u="General",d=n.StyleID,h={};c=c||{};var f=[],m=0;for(d===void 0&&o&&(d=o.StyleID),d===void 0&&a&&(d=a.StyleID);i[d]!==void 0&&(i[d].nf&&(u=i[d].nf),i[d].Interior&&f.push(i[d].Interior),!!i[d].Parent);)d=i[d].Parent;switch(t.Type){case"Boolean":n.t="b",n.v=En(r);break;case"String":n.t="s",n.r=Y6(Gr(r)),n.v=r.indexOf("<")>-1?Gr(e||r).replace(/<.*?>/g,""):n.r;break;case"DateTime":r.slice(-1)!="Z"&&(r+="Z"),n.v=(As(r)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Gr(r):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+r),n.t||(n.t="n");break;case"Error":n.t="e",n.v=c7[r],c.cellText!==!1&&(n.w=r);break;default:r==""&&e==""?n.t="z":(n.t="s",n.v=Y6(e||r));break}if(UW(n,u,c),c.cellFormula!==!1)if(n.Formula){var g=Gr(n.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),n.f=Pf(g,s),delete n.Formula,n.ArrayRange=="RC"?n.F=Pf("RC:RC",s):n.ArrayRange&&(n.F=Pf(n.ArrayRange,s),l.push([Bn(n.F),n.F]))}else for(m=0;m<l.length;++m)s.r>=l[m][0].s.r&&s.r<=l[m][0].e.r&&s.c>=l[m][0].s.c&&s.c<=l[m][0].e.c&&(n.F=l[m][1]);c.cellStyles&&(f.forEach(function(p){!h.patternType&&p.patternType&&(h.patternType=p.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function HW(r){r.t=r.v||"",r.t=r.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),r.v=r.w=r.ixfe=void 0}function Oy(r,e){var t=e||{};MC();var n=u0(K5(r));(t.type=="binary"||t.type=="array"||t.type=="base64")&&(n=vn(n));var s=n.slice(0,1024).toLowerCase(),i=!1;if(s=s.replace(/".*?"/g,""),(s.indexOf(">")&1023)>Math.min(s.indexOf(",")&1023,s.indexOf(";")&1023)){var a=Bs(t);return a.type="string",yp.to_workbook(n,a)}if(s.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(ge){s.indexOf("<"+ge)>=0&&(i=!0)}),i)return QW(n,t);U0={"General Number":"General","General Date":Nr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Nr[15],"Short Date":Nr[14],"Long Time":Nr[19],"Medium Time":Nr[18],"Short Time":Nr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Nr[2],Standard:Nr[4],Percent:Nr[10],Scientific:Nr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},d=[],h=t.dense?[]:{},f="",m={},g={},p=Wa('<Data ss:Type="String">'),v=0,y=0,b=0,E={s:{r:2e6,c:2e6},e:{r:0,c:0}},N={},j={},D="",C=0,I=[],V={},B={},P=0,k=[],M=[],A={},w=[],S,_=!1,x=[],R=[],W={},T=0,z=0,q={Sheets:[],WBProps:{date1904:!1}},Y={};vp.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var U="";o=vp.exec(n);)switch(o[3]=(U=o[3]).toLowerCase()){case"data":if(U=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?VW(n.slice(v,o.index),D,p,l[l.length-1][0]=="comment"?A:m,{c:y,r:b},N,w[y],g,x,t):(D="",p=Wa(o[0]),v=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(M.length>0&&(m.c=M),(!t.sheetRows||t.sheetRows>b)&&m.v!==void 0&&(t.dense?(h[b]||(h[b]=[]),h[b][y]=m):h[ds(y)+Us(b)]=m),m.HRef&&(m.l={Target:Gr(m.HRef)},m.HRefScreenTip&&(m.l.Tooltip=m.HRefScreenTip),delete m.HRef,delete m.HRefScreenTip),(m.MergeAcross||m.MergeDown)&&(T=y+(parseInt(m.MergeAcross,10)|0),z=b+(parseInt(m.MergeDown,10)|0),I.push({s:{c:y,r:b},e:{c:T,r:z}})),!t.sheetStubs)m.MergeAcross?y=T+1:++y;else if(m.MergeAcross||m.MergeDown){for(var Q=y;Q<=T;++Q)for(var F=b;F<=z;++F)(Q>y||F>b)&&(t.dense?(h[F]||(h[F]=[]),h[F][Q]={t:"z"}):h[ds(Q)+Us(F)]={t:"z"});y=T+1}else++y;else m=LW(o[0]),m.Index&&(y=+m.Index-1),y<E.s.c&&(E.s.c=y),y>E.e.c&&(E.e.c=y),o[0].slice(-2)==="/>"&&++y,M=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(b<E.s.r&&(E.s.r=b),b>E.e.r&&(E.e.r=b),o[0].slice(-2)==="/>"&&(g=Wa(o[0]),g.Index&&(b=+g.Index-1)),y=0,++b):(g=Wa(o[0]),g.Index&&(b=+g.Index-1),W={},(g.AutoFitHeight=="0"||g.Height)&&(W.hpx=parseInt(g.Height,10),W.hpt=D7(W.hpx),R[b]=W),g.Hidden=="1"&&(W.hidden=!0,R[b]=W));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));d.push(f),E.s.r<=E.e.r&&E.s.c<=E.e.c&&(h["!ref"]=Hr(E),t.sheetRows&&t.sheetRows<=E.e.r&&(h["!fullref"]=h["!ref"],E.e.r=t.sheetRows-1,h["!ref"]=Hr(E))),I.length&&(h["!merges"]=I),w.length>0&&(h["!cols"]=w),R.length>0&&(h["!rows"]=R),u[f]=h}else E={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=y=0,l.push([o[3],!1]),c=Wa(o[0]),f=Gr(c.Name),h=t.dense?[]:{},I=[],x=[],R=[],Y={name:f,Hidden:0},q.Sheets.push(Y);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),w=[],_=!1}break;case"style":o[1]==="/"?$W(N,j,t):j=Wa(o[0]);break;case"numberformat":j.nf=Gr(Wa(o[0]).Format||"General"),U0[j.nf]&&(j.nf=U0[j.nf]);for(var O=0;O!=392&&Nr[O]!=j.nf;++O);if(O==392){for(O=57;O!=392;++O)if(Nr[O]==null){Qu(j.nf,O);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(S=Wa(o[0]),S.Hidden&&(S.hidden=!0,delete S.Hidden),S.Width&&(S.wpx=parseInt(S.Width,10)),!_&&S.wpx>10){_=!0,xi=C7;for(var K=0;K<w.length;++K)w[K]&&td(w[K])}_&&td(S),w[S.Index-1||w.length]=S;for(var ne=0;ne<+S.Span;++ne)w[w.length]=Bs(S);break;case"namedrange":if(o[1]==="/")break;q.Names||(q.Names=[]);var ee=vr(o[0]),ie={Name:ee.Name,Ref:Pf(ee.RefersTo.slice(1),{r:0,c:0})};q.Sheets.length>0&&(ie.Sheet=q.Sheets.length-1),q.Names.push(ie);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?D+=n.slice(C,o.index):C=o.index+o[0].length;break;case"interior":if(!t.cellStyles)break;j.Interior=Wa(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?AU(V,U,n.slice(P,o.index)):P=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));HW(A),M.push(A)}else l.push([o[3],!1]),c=Wa(o[0]),A={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var he=Wa(o[0]);h["!autofilter"]={ref:Pf(he.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return OS(n,t);var ce=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:ce=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:ce=!1}break;case"excelworkbook":switch(o[3]){case"date1904":q.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:ce=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:ce=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(P,o.index)){case"SheetHidden":Y.Hidden=1;break;case"SheetVeryHidden":Y.Hidden=2;break}else P=o.index+o[0].length;break;case"header":h["!margins"]||B0(h["!margins"]={},"xlml"),isNaN(+vr(o[0]).Margin)||(h["!margins"].header=+vr(o[0]).Margin);break;case"footer":h["!margins"]||B0(h["!margins"]={},"xlml"),isNaN(+vr(o[0]).Margin)||(h["!margins"].footer=+vr(o[0]).Margin);break;case"pagemargins":var te=vr(o[0]);h["!margins"]||B0(h["!margins"]={},"xlml"),isNaN(+te.Top)||(h["!margins"].top=+te.Top),isNaN(+te.Left)||(h["!margins"].left=+te.Left),isNaN(+te.Right)||(h["!margins"].right=+te.Right),isNaN(+te.Bottom)||(h["!margins"].bottom=+te.Bottom);break;case"displayrighttoleft":q.Views||(q.Views=[]),q.Views[0]||(q.Views[0]={}),q.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:ce=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:ce=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:ce=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:ce=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:ce=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:ce=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:ce=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:ce=!1}break;case"smarttags":break;default:ce=!1;break}if(ce||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?BW(B,U,k,n.slice(P,o.index)):(k=o,P=o.index+o[0].length);break}if(t.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var se={};return!t.bookSheets&&!t.bookProps&&(se.Sheets=u),se.SheetNames=d,se.Workbook=q,se.SSF=Bs(Nr),se.Props=V,se.Custprops=B,se}function Mw(r,e){switch(c_(e=e||{}),e.type||"base64"){case"base64":return Oy(la(r),e);case"binary":case"buffer":case"file":return Oy(r,e);case"array":return Oy(wh(r),e)}}function zW(r){var e={},t=r.content;if(t.l=28,e.AnsiUserType=t.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=sU(t),t.length-t.l<=4)return e;var n=t.read_shift(4);if(n==0||n>40||(t.l-=4,e.Reserved1=t.read_shift(0,"lpstr-ansi"),t.length-t.l<=4)||(n=t.read_shift(4),n!==1907505652)||(e.UnicodeClipboardFormat=iU(t),n=t.read_shift(4),n==0||n>40))return e;t.l-=4,e.Reserved2=t.read_shift(0,"lpwstr")}var qW=[60,1084,2066,2165,2175];function WW(r,e,t,n,s){var i=n,a=[],o=t.slice(t.l,t.l+i);if(s&&s.enc&&s.enc.insitu&&o.length>0)switch(r){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:s.enc.insitu(o)}a.push(o),t.l+=i;for(var l=yl(t,t.l),c=Fw[l],u=0;c!=null&&qW.indexOf(l)>-1;)i=yl(t,t.l+2),u=t.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=t.slice(u,t.l+4+i),a.push(o),t.l+=4+i,c=Fw[l=yl(t,t.l)];var d=Nc(a);Ms(d,0);var h=0;d.lens=[];for(var f=0;f<a.length;++f)d.lens.push(h),h+=a[f].length;if(d.length<n)throw"XLS Record 0x"+r.toString(16)+" Truncated: "+d.length+" < "+n;return e.f(d,d.length,s)}function To(r,e,t){if(r.t!=="z"&&r.XF){var n=0;try{n=r.z||r.XF.numFmtId||0,e.cellNF&&(r.z=Nr[n])}catch(i){if(e.WTF)throw i}if(!e||e.cellText!==!1)try{r.t==="e"?r.w=r.w||Sh[r.v]:n===0||n=="General"?r.t==="n"?(r.v|0)===r.v?r.w=r.v.toString(10):r.w=mp(r.v):r.w=lh(r.v):r.w=Pa(n,r.v,{date1904:!!t,dateNF:e&&e.dateNF})}catch(i){if(e.WTF)throw i}if(e.cellDates&&n&&r.t=="n"&&bd(Nr[n]||String(n))){var s=Ku(r.v);s&&(r.t="d",r.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}}function lg(r,e,t){return{v:r,ixfe:e,t}}function GW(r,e){var t={opts:{}},n={},s=e.dense?[]:{},i={},a={},o=null,l=[],c="",u={},d,h="",f,m,g,p,v={},y=[],b,E,N=[],j=[],D={Sheets:[],WBProps:{date1904:!1},Views:[{}]},C={},I=function(Ve){return Ve<8?Zu[Ve]:Ve<64&&j[Ve-8]||Zu[Ve]},V=function(Ve,ze,Ke){var be=ze.XF.data;if(!(!be||!be.patternType||!Ke||!Ke.cellStyles)){ze.s={},ze.s.patternType=be.patternType;var Be;(Be=bp(I(be.icvFore)))&&(ze.s.fgColor={rgb:Be}),(Be=bp(I(be.icvBack)))&&(ze.s.bgColor={rgb:Be})}},B=function(Ve,ze,Ke){if(!(W>1)&&!(Ke.sheetRows&&Ve.r>=Ke.sheetRows)){if(Ke.cellStyles&&ze.XF&&ze.XF.data&&V(Ve,ze,Ke),delete ze.ixfe,delete ze.XF,d=Ve,h=Er(Ve),(!a||!a.s||!a.e)&&(a={s:{r:0,c:0},e:{r:0,c:0}}),Ve.r<a.s.r&&(a.s.r=Ve.r),Ve.c<a.s.c&&(a.s.c=Ve.c),Ve.r+1>a.e.r&&(a.e.r=Ve.r+1),Ve.c+1>a.e.c&&(a.e.c=Ve.c+1),Ke.cellFormula&&ze.f){for(var be=0;be<y.length;++be)if(!(y[be][0].s.c>Ve.c||y[be][0].s.r>Ve.r)&&!(y[be][0].e.c<Ve.c||y[be][0].e.r<Ve.r)){ze.F=Hr(y[be][0]),(y[be][0].s.c!=Ve.c||y[be][0].s.r!=Ve.r)&&delete ze.f,ze.f&&(ze.f=""+ri(y[be][1],a,Ve,x,P));break}}Ke.dense?(s[Ve.r]||(s[Ve.r]=[]),s[Ve.r][Ve.c]=ze):s[h]=ze}},P={enc:!1,sbcch:0,snames:[],sharedf:v,arrayf:y,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(P.password=e.password);var k,M=[],A=[],w=[],S=[],_=!1,x=[];x.SheetNames=P.snames,x.sharedf=P.sharedf,x.arrayf=P.arrayf,x.names=[],x.XTI=[];var R=0,W=0,T=0,z=[],q=[],Y;P.codepage=1200,io(1200);for(var U=!1;r.l<r.length-1;){var Q=r.l,F=r.read_shift(2);if(F===0&&R===10)break;var O=r.l===r.length?0:r.read_shift(2),K=Fw[F];if(K&&K.f){if(e.bookSheets&&R===133&&F!==133)break;if(R=F,K.r===2||K.r==12){var ne=r.read_shift(2);if(O-=2,!P.enc&&ne!==F&&((ne&255)<<8|ne>>8)!==F)throw new Error("rt mismatch: "+ne+"!="+F);K.r==12&&(r.l+=10,O-=10)}var ee={};if(F===10?ee=K.f(r,O,P):ee=WW(F,K,r,O,P),W==0&&[9,521,1033,2057].indexOf(R)===-1)continue;switch(F){case 34:t.opts.Date1904=D.WBProps.date1904=ee;break;case 134:t.opts.WriteProtect=!0;break;case 47:if(P.enc||(r.l=0),P.enc=ee,!e.password)throw new Error("File is password-protected");if(ee.valid==null)throw new Error("Encryption scheme unsupported");if(!ee.valid)throw new Error("Password is incorrect");break;case 92:P.lastuser=ee;break;case 66:var ie=Number(ee);switch(ie){case 21010:ie=1200;break;case 32768:ie=1e4;break;case 32769:ie=1252;break}io(P.codepage=ie),U=!0;break;case 317:P.rrtabid=ee;break;case 25:P.winlocked=ee;break;case 439:t.opts.RefreshAll=ee;break;case 12:t.opts.CalcCount=ee;break;case 16:t.opts.CalcDelta=ee;break;case 17:t.opts.CalcIter=ee;break;case 13:t.opts.CalcMode=ee;break;case 14:t.opts.CalcPrecision=ee;break;case 95:t.opts.CalcSaveRecalc=ee;break;case 15:P.CalcRefMode=ee;break;case 2211:t.opts.FullCalc=ee;break;case 129:ee.fDialog&&(s["!type"]="dialog"),ee.fBelow||((s["!outline"]||(s["!outline"]={})).above=!0),ee.fRight||((s["!outline"]||(s["!outline"]={})).left=!0);break;case 224:N.push(ee);break;case 430:x.push([ee]),x[x.length-1].XTI=[];break;case 35:case 547:x[x.length-1].push(ee);break;case 24:case 536:Y={Name:ee.Name,Ref:ri(ee.rgce,a,null,x,P)},ee.itab>0&&(Y.Sheet=ee.itab-1),x.names.push(Y),x[0]||(x[0]=[],x[0].XTI=[]),x[x.length-1].push(ee),ee.Name=="_xlnm._FilterDatabase"&&ee.itab>0&&ee.rgce&&ee.rgce[0]&&ee.rgce[0][0]&&ee.rgce[0][0][0]=="PtgArea3d"&&(q[ee.itab-1]={ref:Hr(ee.rgce[0][0][1][2])});break;case 22:P.ExternCount=ee;break;case 23:x.length==0&&(x[0]=[],x[0].XTI=[]),x[x.length-1].XTI=x[x.length-1].XTI.concat(ee),x.XTI=x.XTI.concat(ee);break;case 2196:if(P.biff<8)break;Y!=null&&(Y.Comment=ee[1]);break;case 18:s["!protect"]=ee;break;case 19:ee!==0&&P.WTF&&console.error("Password verifier: "+ee);break;case 133:i[ee.pos]=ee,P.snames.push(ee.name);break;case 10:{if(--W)break;if(a.e){if(a.e.r>0&&a.e.c>0){if(a.e.r--,a.e.c--,s["!ref"]=Hr(a),e.sheetRows&&e.sheetRows<=a.e.r){var he=a.e.r;a.e.r=e.sheetRows-1,s["!fullref"]=s["!ref"],s["!ref"]=Hr(a),a.e.r=he}a.e.r++,a.e.c++}M.length>0&&(s["!merges"]=M),A.length>0&&(s["!objects"]=A),w.length>0&&(s["!cols"]=w),S.length>0&&(s["!rows"]=S),D.Sheets.push(C)}c===""?u=s:n[c]=s,s=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(P.biff===8&&(P.biff={9:2,521:3,1033:4}[F]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[ee.BIFFVer]||8),P.biffguess=ee.BIFFVer==0,ee.BIFFVer==0&&ee.dt==4096&&(P.biff=5,U=!0,io(P.codepage=28591)),P.biff==8&&ee.BIFFVer==0&&ee.dt==16&&(P.biff=2),W++)break;if(s=e.dense?[]:{},P.biff<8&&!U&&(U=!0,io(P.codepage=e.codepage||1252)),P.biff<5||ee.BIFFVer==0&&ee.dt==4096){c===""&&(c="Sheet1"),a={s:{r:0,c:0},e:{r:0,c:0}};var ce={pos:r.l-O,name:c};i[ce.pos]=ce,P.snames.push(c)}else c=(i[Q]||{name:""}).name;ee.dt==32&&(s["!type"]="chart"),ee.dt==64&&(s["!type"]="macro"),M=[],A=[],P.arrayf=y=[],w=[],S=[],_=!1,C={Hidden:(i[Q]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:s["!type"]=="chart"&&(e.dense?(s[ee.r]||[])[ee.c]:s[Er({c:ee.c,r:ee.r})])&&++ee.c,b={ixfe:ee.ixfe,XF:N[ee.ixfe]||{},v:ee.val,t:"n"},T>0&&(b.z=z[b.ixfe>>8&63]),To(b,e,t.opts.Date1904),B({c:ee.c,r:ee.r},b,e);break;case 5:case 517:b={ixfe:ee.ixfe,XF:N[ee.ixfe],v:ee.val,t:ee.t},T>0&&(b.z=z[b.ixfe>>8&63]),To(b,e,t.opts.Date1904),B({c:ee.c,r:ee.r},b,e);break;case 638:b={ixfe:ee.ixfe,XF:N[ee.ixfe],v:ee.rknum,t:"n"},T>0&&(b.z=z[b.ixfe>>8&63]),To(b,e,t.opts.Date1904),B({c:ee.c,r:ee.r},b,e);break;case 189:for(var te=ee.c;te<=ee.C;++te){var se=ee.rkrec[te-ee.c][0];b={ixfe:se,XF:N[se],v:ee.rkrec[te-ee.c][1],t:"n"},T>0&&(b.z=z[b.ixfe>>8&63]),To(b,e,t.opts.Date1904),B({c:te,r:ee.r},b,e)}break;case 6:case 518:case 1030:{if(ee.val=="String"){o=ee;break}if(b=lg(ee.val,ee.cell.ixfe,ee.tt),b.XF=N[b.ixfe],e.cellFormula){var ge=ee.formula;if(ge&&ge[0]&&ge[0][0]&&ge[0][0][0]=="PtgExp"){var de=ge[0][0][1][0],Te=ge[0][0][1][1],De=Er({r:de,c:Te});v[De]?b.f=""+ri(ee.formula,a,ee.cell,x,P):b.F=((e.dense?(s[de]||[])[Te]:s[De])||{}).F}else b.f=""+ri(ee.formula,a,ee.cell,x,P)}T>0&&(b.z=z[b.ixfe>>8&63]),To(b,e,t.opts.Date1904),B(ee.cell,b,e),o=ee}break;case 7:case 519:if(o)o.val=ee,b=lg(ee,o.cell.ixfe,"s"),b.XF=N[b.ixfe],e.cellFormula&&(b.f=""+ri(o.formula,a,o.cell,x,P)),T>0&&(b.z=z[b.ixfe>>8&63]),To(b,e,t.opts.Date1904),B(o.cell,b,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{y.push(ee);var _e=Er(ee[0].s);if(f=e.dense?(s[ee[0].s.r]||[])[ee[0].s.c]:s[_e],e.cellFormula&&f){if(!o||!_e||!f)break;f.f=""+ri(ee[1],a,ee[0],x,P),f.F=Hr(ee[0])}}break;case 1212:{if(!e.cellFormula)break;if(h){if(!o)break;v[Er(o.cell)]=ee[0],f=e.dense?(s[o.cell.r]||[])[o.cell.c]:s[Er(o.cell)],(f||{}).f=""+ri(ee[0],a,d,x,P)}}break;case 253:b=lg(l[ee.isst].t,ee.ixfe,"s"),l[ee.isst].h&&(b.h=l[ee.isst].h),b.XF=N[b.ixfe],T>0&&(b.z=z[b.ixfe>>8&63]),To(b,e,t.opts.Date1904),B({c:ee.c,r:ee.r},b,e);break;case 513:e.sheetStubs&&(b={ixfe:ee.ixfe,XF:N[ee.ixfe],t:"z"},T>0&&(b.z=z[b.ixfe>>8&63]),To(b,e,t.opts.Date1904),B({c:ee.c,r:ee.r},b,e));break;case 190:if(e.sheetStubs)for(var fe=ee.c;fe<=ee.C;++fe){var ae=ee.ixfe[fe-ee.c];b={ixfe:ae,XF:N[ae],t:"z"},T>0&&(b.z=z[b.ixfe>>8&63]),To(b,e,t.opts.Date1904),B({c:fe,r:ee.r},b,e)}break;case 214:case 516:case 4:b=lg(ee.val,ee.ixfe,"s"),b.XF=N[b.ixfe],T>0&&(b.z=z[b.ixfe>>8&63]),To(b,e,t.opts.Date1904),B({c:ee.c,r:ee.r},b,e);break;case 0:case 512:W===1&&(a=ee);break;case 252:l=ee;break;case 1054:if(P.biff==4){z[T++]=ee[1];for(var ve=0;ve<T+163&&Nr[ve]!=ee[1];++ve);ve>=163&&Qu(ee[1],T+163)}else Qu(ee[1],ee[0]);break;case 30:{z[T++]=ee;for(var Ee=0;Ee<T+163&&Nr[Ee]!=ee;++Ee);Ee>=163&&Qu(ee,T+163)}break;case 229:M=M.concat(ee);break;case 93:A[ee.cmo[0]]=P.lastobj=ee;break;case 438:P.lastobj.TxO=ee;break;case 127:P.lastobj.ImData=ee;break;case 440:for(p=ee[0].s.r;p<=ee[0].e.r;++p)for(g=ee[0].s.c;g<=ee[0].e.c;++g)f=e.dense?(s[p]||[])[g]:s[Er({c:g,r:p})],f&&(f.l=ee[1]);break;case 2048:for(p=ee[0].s.r;p<=ee[0].e.r;++p)for(g=ee[0].s.c;g<=ee[0].e.c;++g)f=e.dense?(s[p]||[])[g]:s[Er({c:g,r:p})],f&&f.l&&(f.l.Tooltip=ee[1]);break;case 28:{if(P.biff<=5&&P.biff>=2)break;f=e.dense?(s[ee[0].r]||[])[ee[0].c]:s[Er(ee[0])];var Fe=A[ee[2]];f||(e.dense?(s[ee[0].r]||(s[ee[0].r]=[]),f=s[ee[0].r][ee[0].c]={t:"z"}):f=s[Er(ee[0])]={t:"z"},a.e.r=Math.max(a.e.r,ee[0].r),a.s.r=Math.min(a.s.r,ee[0].r),a.e.c=Math.max(a.e.c,ee[0].c),a.s.c=Math.min(a.s.c,ee[0].c)),f.c||(f.c=[]),m={a:ee[1],t:Fe.TxO.t},f.c.push(m)}break;case 2173:mH(N[ee.ixfe],ee.ext);break;case 125:{if(!P.cellStyles)break;for(;ee.e>=ee.s;)w[ee.e--]={width:ee.w/256,level:ee.level||0,hidden:!!(ee.flags&1)},_||(_=!0,s_(ee.w/256)),td(w[ee.e+1])}break;case 520:{var Ue={};ee.level!=null&&(S[ee.r]=Ue,Ue.level=ee.level),ee.hidden&&(S[ee.r]=Ue,Ue.hidden=!0),ee.hpt&&(S[ee.r]=Ue,Ue.hpt=ee.hpt,Ue.hpx=wp(ee.hpt))}break;case 38:case 39:case 40:case 41:s["!margins"]||B0(s["!margins"]={}),s["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[F]]=ee;break;case 161:s["!margins"]||B0(s["!margins"]={}),s["!margins"].header=ee.header,s["!margins"].footer=ee.footer;break;case 574:ee.RTL&&(D.Views[0].RTL=!0);break;case 146:j=ee;break;case 2198:k=ee;break;case 140:E=ee;break;case 442:c?C.CodeName=ee||C.name:D.WBProps.CodeName=ee||"ThisWorkbook";break}}else K||console.error("Missing Info for XLS Record 0x"+F.toString(16)),r.l+=O}return t.SheetNames=Xo(i).sort(function(Ge,Ve){return Number(Ge)-Number(Ve)}).map(function(Ge){return i[Ge].name}),e.bookSheets||(t.Sheets=n),!t.SheetNames.length&&u["!ref"]?(t.SheetNames.push("Sheet1"),t.Sheets&&(t.Sheets.Sheet1=u)):t.Preamble=u,t.Sheets&&q.forEach(function(Ge,Ve){t.Sheets[t.SheetNames[Ve]]["!autofilter"]=Ge}),t.Strings=l,t.SSF=Bs(Nr),P.enc&&(t.Encryption=P.enc),k&&(t.Themes=k),t.Metadata={},E!==void 0&&(t.Metadata.Country=E),x.names.length>0&&(D.Names=x.names),t.Workbook=D,t}var NS={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function KW(r,e,t){var n=Vr.find(r,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var s=fS(n,hU,NS.DSI);for(var i in s)e[i]=s[i]}catch(c){if(t.WTF)throw c}var a=Vr.find(r,"/!SummaryInformation");if(a&&a.size>0)try{var o=fS(a,fU,NS.SI);for(var l in o)e[l]==null&&(e[l]=o[l])}catch(c){if(t.WTF)throw c}e.HeadingPairs&&e.TitlesOfParts&&(h7(e.HeadingPairs,e.TitlesOfParts,e,t),delete e.HeadingPairs,delete e.TitlesOfParts)}function K7(r,e){e||(e={}),c_(e),SC(),e.codepage&&$5(e.codepage);var t,n;if(r.FullPaths){if(Vr.find(r,"/encryption"))throw new Error("File is password-protected");t=Vr.find(r,"!CompObj"),n=Vr.find(r,"/Workbook")||Vr.find(r,"/Book")}else{switch(e.type){case"base64":r=so(la(r));break;case"binary":r=so(r);break;case"buffer":break;case"array":Array.isArray(r)||(r=Array.prototype.slice.call(r));break}Ms(r,0),n={content:r}}var s,i;if(t&&zW(t),e.bookProps&&!e.bookSheets)s={};else{var a=Ur?"buffer":"array";if(n&&n.content)s=GW(n.content,e);else if((i=Vr.find(r,"PerfectOffice_MAIN"))&&i.content)s=L0.to_workbook(i.content,(e.type=a,e));else if((i=Vr.find(r,"NativeContent_MAIN"))&&i.content)s=L0.to_workbook(i.content,(e.type=a,e));else throw(i=Vr.find(r,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&r.FullPaths&&Vr.find(r,"/_VBA_PROJECT_CUR/VBA/dir")&&(s.vbaraw=PH(r))}var o={};return r.FullPaths&&KW(r,o,e),s.Props=s.Custprops=o,e.bookFiles&&(s.cfb=r),s}var B1={0:{f:Nq},1:{f:Pq},2:{f:Vq},3:{f:Lq},4:{f:Mq},5:{f:$q},6:{f:qq},7:{f:Bq},8:{f:Yq},9:{f:Xq},10:{f:Gq},11:{f:Kq},12:{f:Oq},13:{f:Hq},14:{f:jq},15:{f:Fq},16:{f:H7},17:{f:Wq},18:{f:Uq},19:{f:Q5},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:SW},40:{},42:{},43:{f:GV},44:{f:WV},45:{f:KV},46:{f:YV},47:{f:XV},48:{},49:{f:JB},50:{},51:{f:vH},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:S7},62:{f:zq},63:{f:_H},64:{f:iW},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ui,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:sW},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Iq},148:{f:Dq,p:16},151:{f:Zq},152:{},153:{f:xW},154:{},155:{},156:{f:wW},157:{},158:{},159:{T:1,f:fV},160:{T:-1},161:{T:1,f:_h},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Jq},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:gH},336:{T:-1},337:{f:yH,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Rw},357:{},358:{},359:{},360:{T:1},361:{},362:{f:_7},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:eW},427:{f:tW},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:nW},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Rq},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Qq},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Rw},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:DH},633:{T:1},634:{T:-1},635:{T:1,f:NH},636:{T:-1},637:{f:ZB},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:hW},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:aW},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},Fw={6:{f:Iy},10:{f:mc},12:{f:ts},13:{f:ts},14:{f:Hn},15:{f:Hn},16:{f:ii},17:{f:Hn},18:{f:Hn},19:{f:ts},20:{f:gS},21:{f:gS},23:{f:_7},24:{f:yS},25:{f:Hn},26:{},27:{},28:{f:T$},29:{},34:{f:Hn},35:{f:vS},38:{f:ii},39:{f:ii},40:{f:ii},41:{f:ii},42:{f:Hn},43:{f:Hn},47:{f:RV},49:{f:l$},51:{f:ts},60:{},61:{f:i$},64:{f:Hn},65:{f:o$},66:{f:ts},77:{},80:{},81:{},82:{},85:{f:ts},89:{},90:{},91:{},92:{f:JU},93:{f:N$},94:{},95:{f:Hn},96:{},97:{},99:{f:Hn},125:{f:S7},128:{f:y$},129:{f:QU},130:{f:ts},131:{f:Hn},132:{f:Hn},133:{f:ZU},134:{},140:{f:M$},141:{f:ts},144:{},146:{f:L$},151:{},152:{},153:{},154:{},155:{},156:{f:ts},157:{},158:{},160:{f:V$},161:{f:B$},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:p$},190:{f:m$},193:{f:mc},197:{},198:{},199:{},200:{},201:{},202:{f:Hn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ts},220:{},221:{f:Hn},222:{},224:{f:v$},225:{f:YU},226:{f:mc},227:{},229:{f:C$},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:e$},253:{f:c$},255:{f:t$},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:g7},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Hn},353:{f:mc},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:w$},431:{f:Hn},432:{},433:{},434:{},437:{},438:{f:I$},439:{f:Hn},440:{f:P$},441:{},442:{f:qp},443:{},444:{f:ts},445:{},446:{},448:{f:mc},449:{f:s$,r:2},450:{f:mc},512:{f:pS},513:{f:$$},515:{f:b$},516:{f:u$},517:{f:mS},519:{f:H$},520:{f:r$},523:{},545:{f:bS},549:{f:dS},566:{},574:{f:a$},638:{f:d$},659:{},1048:{},1054:{f:h$},1084:{},1212:{f:E$},2048:{f:O$},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:ig},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:mc},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:j$,r:12},2173:{f:pH,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Hn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:S$,r:12},2197:{},2198:{f:lH,r:12},2199:{},2200:{},2201:{},2202:{f:k$,r:12},2203:{f:mc},2204:{},2205:{},2206:{},2207:{},2211:{f:n$},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ts},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:U$},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:F$},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:pS},1:{},2:{f:G$},3:{f:W$},4:{f:q$},5:{f:mS},7:{f:K$},8:{},9:{f:ig},11:{},22:{f:ts},30:{f:f$},31:{},32:{},33:{f:bS},36:{},37:{f:dS},50:{f:X$},62:{},52:{},67:{},68:{f:ts},69:{},86:{},126:{},127:{f:z$},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Y$},223:{},234:{},354:{},421:{},518:{f:Iy},521:{f:ig},536:{f:yS},547:{f:vS},561:{},579:{},1030:{f:Iy},1033:{f:ig},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Ga(r,e,t,n){var s=e;if(!isNaN(s)){var i=(t||[]).length||0,a=r.next(4);a.write_shift(2,s),a.write_shift(2,i),i>0&&n7(t)&&r.push(t)}}function DS(r,e){var t=e||{},n=t.dense?[]:{};r=r.replace(/<!--.*?-->/g,"");var s=r.match(/<table/i);if(!s)throw new Error("Invalid HTML: could not find <table>");var i=r.match(/<\/table/i),a=s.index,o=i&&i.index||r.length,l=bB(r.slice(a,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,d=0,h=0,f={s:{r:1e7,c:1e7},e:{r:0,c:0}},m=[];for(a=0;a<l.length;++a){var g=l[a].trim(),p=g.slice(0,3).toLowerCase();if(p=="<tr"){if(++c,t.sheetRows&&t.sheetRows<=c){--c;break}u=0;continue}if(!(p!="<td"&&p!="<th")){var v=g.split(/<\/t[dh]>/i);for(o=0;o<v.length;++o){var y=v[o].trim();if(y.match(/<t[dh]/i)){for(var b=y,E=0;b.charAt(0)=="<"&&(E=b.indexOf(">"))>-1;)b=b.slice(E+1);for(var N=0;N<m.length;++N){var j=m[N];j.s.c==u&&j.s.r<c&&c<=j.e.r&&(u=j.e.c+1,N=-1)}var D=vr(y.slice(0,y.indexOf(">")));h=D.colspan?+D.colspan:1,((d=+D.rowspan)>1||h>1)&&m.push({s:{r:c,c:u},e:{r:c+(d||1)-1,c:u+h-1}});var C=D.t||D["data-t"]||"";if(!b.length){u+=h;continue}if(b=zC(b),f.s.r>c&&(f.s.r=c),f.e.r<c&&(f.e.r=c),f.s.c>u&&(f.s.c=u),f.e.c<u&&(f.e.c=u),!b.length){u+=h;continue}var I={t:"s",v:b};t.raw||!b.trim().length||C=="s"||(b==="TRUE"?I={t:"b",v:!0}:b==="FALSE"?I={t:"b",v:!1}:isNaN(fo(b))?isNaN(ed(b).getDate())||(I={t:"d",v:As(b)},t.cellDates||(I={t:"n",v:ki(I.v)}),I.z=t.dateNF||Nr[14]):I={t:"n",v:fo(b)}),t.dense?(n[c]||(n[c]=[]),n[c][u]=I):n[Er({r:c,c:u})]=I,u+=h}}}}return n["!ref"]=Hr(f),m.length&&(n["!merges"]=m),n}function XW(r,e,t,n){for(var s=r["!merges"]||[],i=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,l=0,c=0;c<s.length;++c)if(!(s[c].s.r>t||s[c].s.c>a)&&!(s[c].e.r<t||s[c].e.c<a)){if(s[c].s.r<t||s[c].s.c<a){o=-1;break}o=s[c].e.r-s[c].s.r+1,l=s[c].e.c-s[c].s.c+1;break}if(!(o<0)){var u=Er({r:t,c:a}),d=n.dense?(r[t]||[])[a]:r[u],h=d&&d.v!=null&&(d.h||G5(d.w||(Rl(d),d.w)||""))||"",f={};o>1&&(f.rowspan=o),l>1&&(f.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":d&&(f["data-t"]=d&&d.t||"z",d.v!=null&&(f["data-v"]=d.v),d.z!=null&&(f["data-z"]=d.z),d.l&&(d.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+d.l.Target+'">'+h+"</a>")),f.id=(n.id||"sjs")+"-"+u,i.push(MB("td",h,f))}}var m="<tr>";return m+i.join("")+"</tr>"}var YW='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',JW="</body></html>";function QW(r,e){var t=r.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!t||t.length==0)throw new Error("Invalid HTML: could not find <table>");if(t.length==1)return wu(DS(t[0],e),e);var n=h_();return t.forEach(function(s,i){f_(n,DS(s,e),"Sheet"+(i+1))}),n}function ZW(r,e,t){var n=[];return n.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function eG(r,e){var t=e||{},n=t.header!=null?t.header:YW,s=t.footer!=null?t.footer:JW,i=[n],a=wd(r["!ref"]);t.dense=Array.isArray(r),i.push(ZW(r,a,t));for(var o=a.s.r;o<=a.e.r;++o)i.push(XW(r,a,o,t));return i.push("</table>"+s),i.join("")}function X7(r,e,t){var n=t||{},s=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var a=typeof n.origin=="string"?_i(n.origin):n.origin;s=a.r,i=a.c}var o=e.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:s,c:i}};if(r["!ref"]){var u=wd(r["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),s==-1&&(c.e.r=s=u.e.r+1)}var d=[],h=0,f=r["!rows"]||(r["!rows"]=[]),m=0,g=0,p=0,v=0,y=0,b=0;for(r["!cols"]||(r["!cols"]=[]);m<o.length&&g<l;++m){var E=o[m];if(RS(E)){if(n.display)continue;f[g]={hidden:!0}}var N=E.children;for(p=v=0;p<N.length;++p){var j=N[p];if(!(n.display&&RS(j))){var D=j.hasAttribute("data-v")?j.getAttribute("data-v"):j.hasAttribute("v")?j.getAttribute("v"):zC(j.innerHTML),C=j.getAttribute("data-z")||j.getAttribute("z");for(h=0;h<d.length;++h){var I=d[h];I.s.c==v+i&&I.s.r<g+s&&g+s<=I.e.r&&(v=I.e.c+1-i,h=-1)}b=+j.getAttribute("colspan")||1,((y=+j.getAttribute("rowspan")||1)>1||b>1)&&d.push({s:{r:g+s,c:v+i},e:{r:g+s+(y||1)-1,c:v+i+(b||1)-1}});var V={t:"s",v:D},B=j.getAttribute("data-t")||j.getAttribute("t")||"";D!=null&&(D.length==0?V.t=B||"z":n.raw||D.trim().length==0||B=="s"||(D==="TRUE"?V={t:"b",v:!0}:D==="FALSE"?V={t:"b",v:!1}:isNaN(fo(D))?isNaN(ed(D).getDate())||(V={t:"d",v:As(D)},n.cellDates||(V={t:"n",v:ki(V.v)}),V.z=n.dateNF||Nr[14]):V={t:"n",v:fo(D)})),V.z===void 0&&C!=null&&(V.z=C);var P="",k=j.getElementsByTagName("A");if(k&&k.length)for(var M=0;M<k.length&&!(k[M].hasAttribute("href")&&(P=k[M].getAttribute("href"),P.charAt(0)!="#"));++M);P&&P.charAt(0)!="#"&&(V.l={Target:P}),n.dense?(r[g+s]||(r[g+s]=[]),r[g+s][v+i]=V):r[Er({c:v+i,r:g+s})]=V,c.e.c<v+i&&(c.e.c=v+i),v+=b}}++g}return d.length&&(r["!merges"]=(r["!merges"]||[]).concat(d)),c.e.r=Math.max(c.e.r,g-1+s),r["!ref"]=Hr(c),g>=l&&(r["!fullref"]=Hr((c.e.r=o.length-m+g-1+s,c))),r}function Y7(r,e){var t=e||{},n=t.dense?[]:{};return X7(n,r,e)}function tG(r,e){return wu(Y7(r,e),e)}function RS(r){var e="",t=rG(r);return t&&(e=t(r).getPropertyValue("display")),e||(e=r.style&&r.style.display),e==="none"}function rG(r){return r.ownerDocument.defaultView&&typeof r.ownerDocument.defaultView.getComputedStyle=="function"?r.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function nG(r){var e=r.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,s){return Array(parseInt(s,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),t=Gr(e.replace(/<[^>]*>/g,""));return[t]}var IS={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function J7(r,e){var t=e||{},n=K5(r),s=[],i,a,o={name:""},l="",c=0,u,d,h={},f=[],m=t.dense?[]:{},g,p,v={value:""},y="",b=0,E=[],N=-1,j=-1,D={s:{r:1e6,c:1e7},e:{r:0,c:0}},C=0,I={},V=[],B={},P=0,k=0,M=[],A=1,w=1,S=[],_={Names:[]},x={},R=["",""],W=[],T={},z="",q=0,Y=!1,U=!1,Q=0;for(vp.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=vp.exec(n);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"工作表":g[1]==="/"?(D.e.c>=D.s.c&&D.e.r>=D.s.r?m["!ref"]=Hr(D):m["!ref"]="A1:A1",t.sheetRows>0&&t.sheetRows<=D.e.r&&(m["!fullref"]=m["!ref"],D.e.r=t.sheetRows-1,m["!ref"]=Hr(D)),V.length&&(m["!merges"]=V),M.length&&(m["!rows"]=M),u.name=u.名称||u.name,typeof JSON<"u"&&JSON.stringify(u),f.push(u.name),h[u.name]=m,U=!1):g[0].charAt(g[0].length-2)!=="/"&&(u=vr(g[0],!1),N=j=-1,D.s.r=D.s.c=1e7,D.e.r=D.e.c=0,m=t.dense?[]:{},V=[],M=[],U=!0);break;case"table-row-group":g[1]==="/"?--C:++C;break;case"table-row":case"行":if(g[1]==="/"){N+=A,A=1;break}if(d=vr(g[0],!1),d.行号?N=d.行号-1:N==-1&&(N=0),A=+d["number-rows-repeated"]||1,A<10)for(Q=0;Q<A;++Q)C>0&&(M[N+Q]={level:C});j=-1;break;case"covered-table-cell":g[1]!=="/"&&++j,t.sheetStubs&&(t.dense?(m[N]||(m[N]=[]),m[N][j]={t:"z"}):m[Er({r:N,c:j})]={t:"z"}),y="",E=[];break;case"table-cell":case"数据":if(g[0].charAt(g[0].length-2)==="/")++j,v=vr(g[0],!1),w=parseInt(v["number-columns-repeated"]||"1",10),p={t:"z",v:null},v.formula&&t.cellFormula!=!1&&(p.f=AS(Gr(v.formula))),(v.数据类型||v["value-type"])=="string"&&(p.t="s",p.v=Gr(v["string-value"]||""),t.dense?(m[N]||(m[N]=[]),m[N][j]=p):m[Er({r:N,c:j})]=p),j+=w-1;else if(g[1]!=="/"){++j,y="",b=0,E=[],w=1;var F=A?N+A-1:N;if(j>D.e.c&&(D.e.c=j),j<D.s.c&&(D.s.c=j),N<D.s.r&&(D.s.r=N),F>D.e.r&&(D.e.r=F),v=vr(g[0],!1),W=[],T={},p={t:v.数据类型||v["value-type"],v:null},t.cellFormula)if(v.formula&&(v.formula=Gr(v.formula)),v["number-matrix-columns-spanned"]&&v["number-matrix-rows-spanned"]&&(P=parseInt(v["number-matrix-rows-spanned"],10)||0,k=parseInt(v["number-matrix-columns-spanned"],10)||0,B={s:{r:N,c:j},e:{r:N+P-1,c:j+k-1}},p.F=Hr(B),S.push([B,p.F])),v.formula)p.f=AS(v.formula);else for(Q=0;Q<S.length;++Q)N>=S[Q][0].s.r&&N<=S[Q][0].e.r&&j>=S[Q][0].s.c&&j<=S[Q][0].e.c&&(p.F=S[Q][1]);switch((v["number-columns-spanned"]||v["number-rows-spanned"])&&(P=parseInt(v["number-rows-spanned"],10)||0,k=parseInt(v["number-columns-spanned"],10)||0,B={s:{r:N,c:j},e:{r:N+P-1,c:j+k-1}},V.push(B)),v["number-columns-repeated"]&&(w=parseInt(v["number-columns-repeated"],10)),p.t){case"boolean":p.t="b",p.v=En(v["boolean-value"]);break;case"float":p.t="n",p.v=parseFloat(v.value);break;case"percentage":p.t="n",p.v=parseFloat(v.value);break;case"currency":p.t="n",p.v=parseFloat(v.value);break;case"date":p.t="d",p.v=As(v["date-value"]),t.cellDates||(p.t="n",p.v=ki(p.v)),p.z="m/d/yy";break;case"time":p.t="n",p.v=gB(v["time-value"])/86400,t.cellDates&&(p.t="d",p.v=V2(p.v)),p.z="HH:MM:SS";break;case"number":p.t="n",p.v=parseFloat(v.数据数值);break;default:if(p.t==="string"||p.t==="text"||!p.t)p.t="s",v["string-value"]!=null&&(y=Gr(v["string-value"]),E=[]);else throw new Error("Unsupported value type "+p.t)}}else{if(Y=!1,p.t==="s"&&(p.v=y||"",E.length&&(p.R=E),Y=b==0),x.Target&&(p.l=x),W.length>0&&(p.c=W,W=[]),y&&t.cellText!==!1&&(p.w=y),Y&&(p.t="z",delete p.v),(!Y||t.sheetStubs)&&!(t.sheetRows&&t.sheetRows<=N))for(var O=0;O<A;++O){if(w=parseInt(v["number-columns-repeated"]||"1",10),t.dense)for(m[N+O]||(m[N+O]=[]),m[N+O][j]=O==0?p:Bs(p);--w>0;)m[N+O][j+w]=Bs(p);else for(m[Er({r:N+O,c:j})]=p;--w>0;)m[Er({r:N+O,c:j+w})]=Bs(p);D.e.c<=j&&(D.e.c=j)}w=parseInt(v["number-columns-repeated"]||"1",10),j+=w-1,w=0,p={},y="",E=[]}x={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((i=s.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&s.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((i=s.pop())[0]!==g[3])throw"Bad state: "+i;T.t=y,E.length&&(T.R=E),T.a=z,W.push(T)}else g[0].charAt(g[0].length-2)!=="/"&&s.push([g[3],!1]);z="",q=0,y="",b=0,E=[];break;case"creator":g[1]==="/"?z=n.slice(q,g.index):q=g.index+g[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((i=s.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&s.push([g[3],!1]);y="",b=0,E=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(I[o.name]=l,(i=s.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&(l="",o=vr(g[0],!1),s.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(s[s.length-1][0]){case"time-style":case"date-style":a=vr(g[0],!1),l+=IS[g[3]][a.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(s[s.length-1][0]){case"time-style":case"date-style":a=vr(g[0],!1),l+=IS[g[3]][a.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(s[s.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(c,g.index);break}else c=g.index+g[0].length;break;case"named-range":a=vr(g[0],!1),R=Py(a["cell-range-address"]);var K={Name:a.name,Ref:R[0]+"!"+R[1]};U&&(K.Sheet=f.length),_.Names.push(K);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(s[s.length-1][0])>-1)break;if(g[1]==="/"&&(!v||!v["string-value"])){var ne=nG(n.slice(b,g.index));y=(y.length>0?y+`
`:"")+ne[0]}else vr(g[0],!1),b=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{R=Py(vr(g[0])["target-range-address"]),h[R[0]]["!autofilter"]={ref:R[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(x=vr(g[0],!1),!x.href)break;x.Target=Gr(x.href),delete x.href,x.Target.charAt(0)=="#"&&x.Target.indexOf(".")>-1?(R=Py(x.Target.slice(1)),x.Target="#"+R[0]+"!"+R[1]):x.Target.match(/^\.\.[\\\/]/)&&(x.Target=x.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(t.WTF)throw new Error(g)}}var ee={Sheets:h,SheetNames:f,Workbook:_};return t.bookSheets&&delete ee.Sheets,ee}function PS(r,e){e=e||{},Ea(r,"META-INF/manifest.xml")&&bU(es(r,"META-INF/manifest.xml"),e);var t=ra(r,"content.xml");if(!t)throw new Error("Missing content.xml in ODS / UOF file");var n=J7(vn(t),e);return Ea(r,"meta.xml")&&(n.Props=u7(es(r,"meta.xml"))),n}function OS(r,e){return J7(r,e)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function o_(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function Lw(r){return typeof TextDecoder<"u"?new TextDecoder().decode(r):vn(wh(r))}function jw(r){var e=r.reduce(function(s,i){return s+i.length},0),t=new Uint8Array(e),n=0;return r.forEach(function(s){t.set(s,n),n+=s.length}),t}function MS(r){return r-=r>>1&1431655765,r=(r&858993459)+(r>>2&858993459),(r+(r>>4)&252645135)*16843009>>>24}function sG(r,e){for(var t=(r[e+15]&127)<<7|r[e+14]>>1,n=r[e+14]&1,s=e+13;s>=e;--s)n=n*256+r[s];return(r[e+15]&128?-n:n)*Math.pow(10,t-6176)}function xp(r,e){var t=e?e[0]:0,n=r[t]&127;e:if(r[t++]>=128&&(n|=(r[t]&127)<<7,r[t++]<128||(n|=(r[t]&127)<<14,r[t++]<128)||(n|=(r[t]&127)<<21,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,28),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,35),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,42),++t,r[t++]<128)))break e;return e&&(e[0]=t),n}function ps(r){var e=0,t=r[e]&127;e:if(r[e++]>=128){if(t|=(r[e]&127)<<7,r[e++]<128||(t|=(r[e]&127)<<14,r[e++]<128)||(t|=(r[e]&127)<<21,r[e++]<128))break e;t|=(r[e]&127)<<28}return t}function oi(r){for(var e=[],t=[0];t[0]<r.length;){var n=t[0],s=xp(r,t),i=s&7;s=Math.floor(s/8);var a=0,o;if(s==0)break;switch(i){case 0:{for(var l=t[0];r[t[0]++]>=128;);o=r.slice(l,t[0])}break;case 5:a=4,o=r.slice(t[0],t[0]+a),t[0]+=a;break;case 1:a=8,o=r.slice(t[0],t[0]+a),t[0]+=a;break;case 2:a=xp(r,t),o=r.slice(t[0],t[0]+a),t[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(n))}var c={data:o,type:i};e[s]==null?e[s]=[c]:e[s].push(c)}return e}function l_(r,e){return(r==null?void 0:r.map(function(t){return e(t.data)}))||[]}function iG(r){for(var e,t=[],n=[0];n[0]<r.length;){var s=xp(r,n),i=oi(r.slice(n[0],n[0]+s));n[0]+=s;var a={id:ps(i[1][0].data),messages:[]};i[2].forEach(function(o){var l=oi(o.data),c=ps(l[3][0].data);a.messages.push({meta:l,data:r.slice(n[0],n[0]+c)}),n[0]+=c}),(e=i[3])!=null&&e[0]&&(a.merge=ps(i[3][0].data)>>>0>0),t.push(a)}return t}function aG(r,e){if(r!=0)throw new Error("Unexpected Snappy chunk type ".concat(r));for(var t=[0],n=xp(e,t),s=[];t[0]<e.length;){var i=e[t[0]]&3;if(i==0){var a=e[t[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[t[0]],o>1&&(a|=e[t[0]+1]<<8),o>2&&(a|=e[t[0]+2]<<16),o>3&&(a|=e[t[0]+3]<<24),a>>>=0,a++,t[0]+=o}s.push(e.slice(t[0],t[0]+a)),t[0]+=a;continue}else{var l=0,c=0;if(i==1?(c=(e[t[0]]>>2&7)+4,l=(e[t[0]++]&224)<<3,l|=e[t[0]++]):(c=(e[t[0]++]>>2)+1,i==2?(l=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(l=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),s=[jw(s)],l==0)throw new Error("Invalid offset 0");if(l>s[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(s.push(s[0].slice(-l)),c-=l;c>=s[s.length-1].length;)s.push(s[s.length-1]),c-=s[s.length-1].length;s.push(s[0].slice(-l,-l+c))}}var u=jw(s);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function oG(r){for(var e=[],t=0;t<r.length;){var n=r[t++],s=r[t]|r[t+1]<<8|r[t+2]<<16;t+=3,e.push(aG(n,r.slice(t,t+s))),t+=s}if(t!==r.length)throw new Error("data is not a valid framed stream!");return jw(e)}function lG(r,e,t,n){var s=o_(r),i=s.getUint32(4,!0),a=(n>1?12:8)+MS(i&(n>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);i&512&&(o=s.getUint32(a,!0),a+=4),a+=MS(i&(n>1?12288:4096))*4,i&16&&(l=s.getUint32(a,!0),a+=4),i&32&&(c=s.getFloat64(a,!0),a+=8),i&64&&(u.setTime(u.getTime()+s.getFloat64(a,!0)*1e3),a+=8);var d;switch(r[2]){case 0:break;case 2:d={t:"n",v:c};break;case 3:d={t:"s",v:e[l]};break;case 5:d={t:"d",v:u};break;case 6:d={t:"b",v:c>0};break;case 7:d={t:"n",v:c/86400};break;case 8:d={t:"e",v:0};break;case 9:if(o>-1)d={t:"s",v:t[o]};else if(l>-1)d={t:"s",v:e[l]};else if(!isNaN(c))d={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(r.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(r.slice(0,4)))}return d}function cG(r,e,t){var n=o_(r),s=n.getUint32(8,!0),i=12,a=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);s&1&&(l=sG(r,i),i+=16),s&2&&(c=n.getFloat64(i,!0),i+=8),s&4&&(u.setTime(u.getTime()+n.getFloat64(i,!0)*1e3),i+=8),s&8&&(o=n.getUint32(i,!0),i+=4),s&16&&(a=n.getUint32(i,!0),i+=4);var d;switch(r[1]){case 0:break;case 2:d={t:"n",v:l};break;case 3:d={t:"s",v:e[o]};break;case 5:d={t:"d",v:u};break;case 6:d={t:"b",v:c>0};break;case 7:d={t:"n",v:c/86400};break;case 8:d={t:"e",v:0};break;case 9:if(a>-1)d={t:"s",v:t[a]};else throw new Error("Unsupported cell type ".concat(r[1]," : ").concat(s&31," : ").concat(r.slice(0,4)));break;case 10:d={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(r[1]," : ").concat(s&31," : ").concat(r.slice(0,4)))}return d}function uG(r,e,t){switch(r[0]){case 0:case 1:case 2:case 3:return lG(r,e,t,r[0]);case 5:return cG(r,e,t);default:throw new Error("Unsupported payload version ".concat(r[0]))}}function Yc(r){var e=oi(r);return xp(e[1][0].data)}function FS(r,e){var t=oi(e.data),n=ps(t[1][0].data),s=t[3],i=[];return(s||[]).forEach(function(a){var o=oi(a.data),l=ps(o[1][0].data)>>>0;switch(n){case 1:i[l]=Lw(o[3][0].data);break;case 8:{var c=r[Yc(o[9][0].data)][0],u=oi(c.data),d=r[Yc(u[1][0].data)][0],h=ps(d.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var f=oi(d.data);i[l]=f[3].map(function(m){return Lw(m.data)}).join("")}break}}),i}function hG(r,e){var t,n,s,i,a,o,l,c,u,d,h,f,m,g,p=oi(r),v=ps(p[1][0].data)>>>0,y=ps(p[2][0].data)>>>0,b=((n=(t=p[8])==null?void 0:t[0])==null?void 0:n.data)&&ps(p[8][0].data)>0||!1,E,N;if((i=(s=p[7])==null?void 0:s[0])!=null&&i.data&&e!=0)E=(o=(a=p[7])==null?void 0:a[0])==null?void 0:o.data,N=(c=(l=p[6])==null?void 0:l[0])==null?void 0:c.data;else if((d=(u=p[4])==null?void 0:u[0])!=null&&d.data&&e!=1)E=(f=(h=p[4])==null?void 0:h[0])==null?void 0:f.data,N=(g=(m=p[3])==null?void 0:m[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var j=b?4:1,D=o_(E),C=[],I=0;I<E.length/2;++I){var V=D.getUint16(I*2,!0);V<65535&&C.push([I,V])}if(C.length!=y)throw"Expected ".concat(y," cells, found ").concat(C.length);var B=[];for(I=0;I<C.length-1;++I)B[C[I][0]]=N.subarray(C[I][1]*j,C[I+1][1]*j);return C.length>=1&&(B[C[C.length-1][0]]=N.subarray(C[C.length-1][1]*j)),{R:v,cells:B}}function fG(r,e){var t,n=oi(e.data),s=(t=n==null?void 0:n[7])!=null&&t[0]?ps(n[7][0].data)>>>0>0?1:0:-1,i=l_(n[5],function(a){return hG(a,s)});return{nrows:ps(n[4][0].data)>>>0,data:i.reduce(function(a,o){return a[o.R]||(a[o.R]=[]),o.cells.forEach(function(l,c){if(a[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));a[o.R][c]=l}),a},[])}}function dG(r,e,t){var n,s=oi(e.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(ps(s[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(s[6][0].data));if(i.e.c=(ps(s[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(s[7][0].data));t["!ref"]=Hr(i);var a=oi(s[4][0].data),o=FS(r,r[Yc(a[4][0].data)][0]),l=(n=a[17])!=null&&n[0]?FS(r,r[Yc(a[17][0].data)][0]):[],c=oi(a[3][0].data),u=0;c[1].forEach(function(d){var h=oi(d.data),f=r[Yc(h[2][0].data)][0],m=ps(f.meta[1][0].data);if(m!=6002)throw new Error("6001 unexpected reference to ".concat(m));var g=fG(r,f);g.data.forEach(function(p,v){p.forEach(function(y,b){var E=Er({r:u+v,c:b}),N=uG(y,o,l);N&&(t[E]=N)})}),u+=g.nrows})}function pG(r,e){var t=oi(e.data),n={"!ref":"A1"},s=r[Yc(t[2][0].data)],i=ps(s[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return dG(r,s[0],n),n}function mG(r,e){var t,n=oi(e.data),s={name:(t=n[1])!=null&&t[0]?Lw(n[1][0].data):"",sheets:[]},i=l_(n[2],Yc);return i.forEach(function(a){r[a].forEach(function(o){var l=ps(o.meta[1][0].data);l==6e3&&s.sheets.push(pG(r,o))})}),s}function gG(r,e){var t=h_(),n=oi(e.data),s=l_(n[1],Yc);if(s.forEach(function(i){r[i].forEach(function(a){var o=ps(a.meta[1][0].data);if(o==2){var l=mG(r,a);l.sheets.forEach(function(c,u){f_(t,c,u==0?l.name:l.name+"_"+u,!0)})}})}),t.SheetNames.length==0)throw new Error("Empty NUMBERS file");return t}function My(r){var e,t,n,s,i={},a=[];if(r.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),r.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=oG(l.content)}catch(d){return console.log("?? "+l.content.length+" "+(d.message||d))}var u;try{u=iG(c)}catch(d){return console.log("## "+(d.message||d))}u.forEach(function(d){i[d.id]=d.messages,a.push(d.id)})}}),!a.length)throw new Error("File has no messages");var o=((s=(n=(t=(e=i==null?void 0:i[1])==null?void 0:e[0])==null?void 0:t.meta)==null?void 0:n[1])==null?void 0:s[0].data)&&ps(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||a.forEach(function(l){i[l].forEach(function(c){var u=ps(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return gG(i,o)}function vG(r){return function(t){for(var n=0;n!=r.length;++n){var s=r[n];t[s[0]]===void 0&&(t[s[0]]=s[1]),s[2]==="n"&&(t[s[0]]=Number(t[s[0]]))}}}function c_(r){vG([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(r)}function yG(r){return Sf.WS.indexOf(r)>-1?"sheet":r==Sf.CS?"chart":r==Sf.DS?"dialog":r==Sf.MS?"macro":r&&r.length?r:"sheet"}function bG(r,e){if(!r)return 0;try{r=e.map(function(n){return n.id||(n.id=n.strRelID),[n.name,r["!id"][n.id].Target,yG(r["!id"][n.id].Type)]})}catch{return null}return!r||r.length===0?null:r}function wG(r,e,t,n,s,i,a,o,l,c,u,d){try{i[n]=M0(ra(r,t,!0),e);var h=es(r,e),f;switch(o){case"sheet":f=AW(h,e,s,l,i[n],c,u,d);break;case"chart":if(f=TW(h,e,s,l,i[n],c,u,d),!f||!f["!drawel"])break;var m=f0(f["!drawel"].Target,e),g=Iw(m),p=kH(ra(r,m,!0),M0(ra(r,g,!0),m)),v=f0(p,m),y=Iw(v);f=cW(ra(r,v,!0),v,l,M0(ra(r,y,!0),v),c,f);break;case"macro":f=CW(h,e,s,l,i[n],c,u,d);break;case"dialog":f=NW(h,e,s,l,i[n],c,u,d);break;default:throw new Error("Unrecognized sheet type "+o)}a[n]=f;var b=[];i&&i[n]&&Xo(i[n]).forEach(function(E){var N="";if(i[n][E].Type==Sf.CMNT){N=f0(i[n][E].Target,e);var j=PW(es(r,N,!0),N,l);if(!j||!j.length)return;xS(f,j,!1)}i[n][E].Type==Sf.TCMNT&&(N=f0(i[n][E].Target,e),b=b.concat(TH(es(r,N,!0),l)))}),b&&b.length&&xS(f,b,!0,l.people||[])}catch(E){if(l.WTF)throw E}}function _a(r){return r.charAt(0)=="/"?r.slice(1):r}function xG(r,e){if(MC(),e=e||{},c_(e),Ea(r,"META-INF/manifest.xml")||Ea(r,"objectdata.xml"))return PS(r,e);if(Ea(r,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof My<"u"){if(r.FileIndex)return My(r);var t=Vr.utils.cfb_new();return K6(r).forEach(function(M){_B(t,M,xB(r,M))}),My(t)}throw new Error("Unsupported NUMBERS file")}if(!Ea(r,"[Content_Types].xml"))throw Ea(r,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Ea(r,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=K6(r),s=vU(ra(r,"[Content_Types].xml")),i=!1,a,o;if(s.workbooks.length===0&&(o="xl/workbook.xml",es(r,o,!0)&&s.workbooks.push(o)),s.workbooks.length===0){if(o="xl/workbook.bin",!es(r,o,!0))throw new Error("Could not find workbook");s.workbooks.push(o),i=!0}s.workbooks[0].slice(-3)=="bin"&&(i=!0);var l={},c={};if(!e.bookSheets&&!e.bookProps){if(j0=[],s.sst)try{j0=IW(es(r,_a(s.sst)),s.sst,e)}catch(M){if(e.WTF)throw M}e.cellStyles&&s.themes.length&&(l=RW(ra(r,s.themes[0].replace(/^\//,""),!0)||"",s.themes[0],e)),s.style&&(c=DW(es(r,_a(s.style)),s.style,l,e))}s.links.map(function(M){try{var A=M0(ra(r,Iw(_a(M))),M);return MW(es(r,_a(M)),A,M,e)}catch{}});var u=kW(es(r,_a(s.workbooks[0])),s.workbooks[0],e),d={},h="";s.coreprops.length&&(h=es(r,_a(s.coreprops[0]),!0),h&&(d=u7(h)),s.extprops.length!==0&&(h=es(r,_a(s.extprops[0]),!0),h&&_U(h,d,e)));var f={};(!e.bookSheets||e.bookProps)&&s.custprops.length!==0&&(h=ra(r,_a(s.custprops[0]),!0),h&&(f=EU(h,e)));var m={};if((e.bookSheets||e.bookProps)&&(u.Sheets?a=u.Sheets.map(function(A){return A.name}):d.Worksheets&&d.SheetNames.length>0&&(a=d.SheetNames),e.bookProps&&(m.Props=d,m.Custprops=f),e.bookSheets&&typeof a<"u"&&(m.SheetNames=a),e.bookSheets?m.SheetNames:e.bookProps))return m;a={};var g={};e.bookDeps&&s.calcchain&&(g=OW(es(r,_a(s.calcchain)),s.calcchain));var p=0,v={},y,b;{var E=u.Sheets;d.Worksheets=E.length,d.SheetNames=[];for(var N=0;N!=E.length;++N)d.SheetNames[N]=E[N].name}var j=i?"bin":"xml",D=s.workbooks[0].lastIndexOf("/"),C=(s.workbooks[0].slice(0,D+1)+"_rels/"+s.workbooks[0].slice(D+1)+".rels").replace(/^\//,"");Ea(r,C)||(C="xl/_rels/workbook."+j+".rels");var I=M0(ra(r,C,!0),C.replace(/_rels.*/,"s5s"));(s.metadata||[]).length>=1&&(e.xlmeta=FW(es(r,_a(s.metadata[0])),s.metadata[0],e)),(s.people||[]).length>=1&&(e.people=CH(es(r,_a(s.people[0])),e)),I&&(I=bG(I,u.Sheets));var V=es(r,"xl/worksheets/sheet.xml",!0)?1:0;e:for(p=0;p!=d.Worksheets;++p){var B="sheet";if(I&&I[p]?(y="xl/"+I[p][1].replace(/[\/]?xl\//,""),Ea(r,y)||(y=I[p][1]),Ea(r,y)||(y=C.replace(/_rels\/.*$/,"")+I[p][1]),B=I[p][2]):(y="xl/worksheets/sheet"+(p+1-V)+"."+j,y=y.replace(/sheet0\./,"sheet.")),b=y.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(p!=e.sheets)continue e;break;case"string":if(d.SheetNames[p].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var P=!1,k=0;k!=e.sheets.length;++k)typeof e.sheets[k]=="number"&&e.sheets[k]==p&&(P=1),typeof e.sheets[k]=="string"&&e.sheets[k].toLowerCase()==d.SheetNames[p].toLowerCase()&&(P=1);if(!P)continue e}}wG(r,y,b,d.SheetNames[p],p,v,a,B,e,u,l,c)}return m={Directory:s,Workbook:u,Props:d,Custprops:f,Deps:g,Sheets:a,SheetNames:d.SheetNames,Strings:j0,Styles:c,Themes:l,SSF:Bs(Nr)},e&&e.bookFiles&&(r.files?(m.keys=n,m.files=r.files):(m.keys=[],m.files={},r.FullPaths.forEach(function(M,A){M=M.replace(/^Root Entry[\/]/,""),m.keys.push(M),m.files[M]=r.FileIndex[A]}))),e&&e.bookVBA&&(s.vba.length>0?m.vbaraw=es(r,_a(s.vba[0]),!0):s.defaults&&s.defaults.bin===IH&&(m.vbaraw=es(r,"xl/vbaProject.bin",!0))),m}function _G(r,e){var t=e||{},n="Workbook",s=Vr.find(r,n);try{if(n="/!DataSpaces/Version",s=Vr.find(r,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(pV(s.content),n="/!DataSpaces/DataSpaceMap",s=Vr.find(r,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=gV(s.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",s=Vr.find(r,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=vV(s.content);if(a.length!=1||a[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",s=Vr.find(r,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);bV(s.content)}catch{}if(n="/EncryptionInfo",s=Vr.find(r,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=wV(s.content);if(n="/EncryptedPackage",s=Vr.find(r,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],s.content,t.password||"",t);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],s.content,t.password||"",t);throw new Error("File is password-protected")}function u_(r,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];case"base64":t=la(r.slice(0,12));break;case"binary":t=r;break;case"array":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function SG(r,e){return Vr.find(r,"EncryptedPackage")?_G(r,e):K7(r,e)}function EG(r,e){var t,n=r,s=e||{};return s.type||(s.type=Ur&&Buffer.isBuffer(r)?"buffer":"base64"),t=$C(n,s),xG(t,s)}function Q7(r,e){var t=0;e:for(;t<r.length;)switch(r.charCodeAt(t)){case 10:case 13:case 32:++t;break;case 60:return Mw(r.slice(t),e);default:break e}return yp.to_workbook(r,e)}function kG(r,e){var t="",n=u_(r,e);switch(e.type){case"base64":t=la(r);break;case"binary":t=r;break;case"buffer":t=r.toString("binary");break;case"array":t=ch(r);break;default:throw new Error("Unrecognized type "+e.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(t=vn(t)),e.type="binary",Q7(t,e)}function AG(r,e){var t=r;return e.type=="base64"&&(t=la(t)),t=Nw.utils.decode(1200,t.slice(2),"str"),e.type="binary",Q7(t,e)}function TG(r){return r.match(/[^\x00-\x7F]/)?d0(r):r}function Fy(r,e,t,n){return n?(t.type="string",yp.to_workbook(r,t)):yp.to_workbook(e,t)}function _p(r,e){SC();var t=e||{};if(typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer)return _p(new Uint8Array(r),(t=Bs(t),t.type="array",t));typeof Uint8Array<"u"&&r instanceof Uint8Array&&!t.type&&(t.type=typeof Deno<"u"?"buffer":"array");var n=r,s=[0,0,0,0],i=!1;if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),Of={},t.dateNF&&(Of.dateNF=t.dateNF),t.type||(t.type=Ur&&Buffer.isBuffer(r)?"buffer":"base64"),t.type=="file"&&(t.type=Ur?"buffer":"binary",n=pB(r),typeof Uint8Array<"u"&&!Ur&&(t.type="array")),t.type=="string"&&(i=!0,t.type="binary",t.codepage=65001,n=TG(r)),t.type=="array"&&typeof Uint8Array<"u"&&r instanceof Uint8Array&&typeof ArrayBuffer<"u"){var a=new ArrayBuffer(3),o=new Uint8Array(a);if(o.foo="bar",!o.foo)return t=Bs(t),t.type="array",_p(V5(n),t)}switch((s=u_(n,t))[0]){case 208:if(s[1]===207&&s[2]===17&&s[3]===224&&s[4]===161&&s[5]===177&&s[6]===26&&s[7]===225)return SG(Vr.read(n,t),t);break;case 9:if(s[1]<=8)return K7(n,t);break;case 60:return Mw(n,t);case 73:if(s[1]===73&&s[2]===42&&s[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(s[1]===68)return tV(n,t);break;case 84:if(s[1]===65&&s[2]===66&&s[3]===76)return Z$.to_workbook(n,t);break;case 80:return s[1]===75&&s[2]<9&&s[3]<9?EG(n,t):Fy(r,n,t,i);case 239:return s[3]===60?Mw(n,t):Fy(r,n,t,i);case 255:if(s[1]===254)return AG(n,t);if(s[1]===0&&s[2]===2&&s[3]===0)return L0.to_workbook(n,t);break;case 0:if(s[1]===0&&(s[2]>=2&&s[3]===0||s[2]===0&&(s[3]===8||s[3]===9)))return L0.to_workbook(n,t);break;case 3:case 131:case 139:case 140:return wS.to_workbook(n,t);case 123:if(s[1]===92&&s[2]===114&&s[3]===116)return IV.to_workbook(n,t);break;case 10:case 13:case 32:return kG(n,t);case 137:if(s[1]===80&&s[2]===78&&s[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return J$.indexOf(s[0])>-1&&s[2]<=12&&s[3]<=31?wS.to_workbook(n,t):Fy(r,n,t,i)}function CG(r,e,t,n,s,i,a,o){var l=Us(t),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),d=!0,h=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:t,enumerable:!1})}catch{h.__rowNum__=t}else h.__rowNum__=t;if(!a||r[t])for(var f=e.s.c;f<=e.e.c;++f){var m=a?r[t][f]:r[n[f]+l];if(m===void 0||m.t===void 0){if(c===void 0)continue;i[f]!=null&&(h[i[f]]=c);continue}var g=m.v;switch(m.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+m.t)}if(i[f]!=null){if(g==null)if(m.t=="e"&&g===null)h[i[f]]=null;else if(c!==void 0)h[i[f]]=c;else if(u&&g===null)h[i[f]]=null;else continue;else h[i[f]]=u&&(m.t!=="n"||m.t==="n"&&o.rawNumbers!==!1)?g:Rl(m,g,o);g!=null&&(d=!1)}}return{row:h,isempty:d}}function Bw(r,e){if(r==null||r["!ref"]==null)return[];var t={t:"n",v:0},n=0,s=1,i=[],a=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=e||{},u=c.range!=null?c.range:r["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof u){case"string":l=Bn(u);break;case"number":l=Bn(r["!ref"]),l.s.r=u;break;default:l=u}n>0&&(s=0);var d=Us(l.s.r),h=[],f=[],m=0,g=0,p=Array.isArray(r),v=l.s.r,y=0,b={};p&&!r[v]&&(r[v]=[]);var E=c.skipHidden&&r["!cols"]||[],N=c.skipHidden&&r["!rows"]||[];for(y=l.s.c;y<=l.e.c;++y)if(!(E[y]||{}).hidden)switch(h[y]=ds(y),t=p?r[v][y]:r[h[y]+d],n){case 1:i[y]=y-l.s.c;break;case 2:i[y]=h[y];break;case 3:i[y]=c.header[y-l.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),o=a=Rl(t,null,c),g=b[a]||0,!g)b[a]=1;else{do o=a+"_"+g++;while(b[o]);b[a]=g,b[o]=1}i[y]=o}for(v=l.s.r+s;v<=l.e.r;++v)if(!(N[v]||{}).hidden){var j=CG(r,l,v,h,n,i,p,c);(j.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(f[m++]=j.row)}return f.length=m,f}var LS=/"/g;function NG(r,e,t,n,s,i,a,o){for(var l=!0,c=[],u="",d=Us(t),h=e.s.c;h<=e.e.c;++h)if(n[h]){var f=o.dense?(r[t]||[])[h]:r[n[h]+d];if(f==null)u="";else if(f.v!=null){l=!1,u=""+(o.rawNumbers&&f.t=="n"?f.v:Rl(f,null,o));for(var m=0,g=0;m!==u.length;++m)if((g=u.charCodeAt(m))===s||g===i||g===34||o.forceQuotes){u='"'+u.replace(LS,'""')+'"';break}u=="ID"&&(u='"ID"')}else f.f!=null&&!f.F?(l=!1,u="="+f.f,u.indexOf(",")>=0&&(u='"'+u.replace(LS,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(a)}function Z7(r,e){var t=[],n=e??{};if(r==null||r["!ref"]==null)return"";var s=Bn(r["!ref"]),i=n.FS!==void 0?n.FS:",",a=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((i=="|"?"\\|":i)+"+$"),u="",d=[];n.dense=Array.isArray(r);for(var h=n.skipHidden&&r["!cols"]||[],f=n.skipHidden&&r["!rows"]||[],m=s.s.c;m<=s.e.c;++m)(h[m]||{}).hidden||(d[m]=ds(m));for(var g=0,p=s.s.r;p<=s.e.r;++p)(f[p]||{}).hidden||(u=NG(r,s,p,d,a,l,i,n),u!=null&&(n.strip&&(u=u.replace(c,"")),(u||n.blankrows!==!1)&&t.push((g++?o:"")+u)));return delete n.dense,t.join("")}function DG(r,e){e||(e={}),e.FS="	",e.RS=`
`;var t=Z7(r,e);return t}function RG(r){var e="",t,n="";if(r==null||r["!ref"]==null)return[];var s=Bn(r["!ref"]),i="",a=[],o,l=[],c=Array.isArray(r);for(o=s.s.c;o<=s.e.c;++o)a[o]=ds(o);for(var u=s.s.r;u<=s.e.r;++u)for(i=Us(u),o=s.s.c;o<=s.e.c;++o)if(e=a[o]+i,t=c?(r[u]||[])[o]:r[e],n="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;n=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)n=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)n=""+t.v;else if(t.t=="b")n=t.v?"TRUE":"FALSE";else if(t.w!==void 0)n="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?n="'"+t.v:n=""+t.v}}l[l.length]=e+"="+n}return l}function e9(r,e,t){var n=t||{},s=+!n.skipHeader,i=r||{},a=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?_i(n.origin):n.origin;a=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:a+e.length-1+s}};if(i["!ref"]){var d=Bn(i["!ref"]);u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),a==-1&&(a=d.e.r+1,u.e.r=a+e.length-1+s)}else a==-1&&(a=0,u.e.r=e.length-1+s);var h=n.header||[],f=0;e.forEach(function(g,p){Xo(g).forEach(function(v){(f=h.indexOf(v))==-1&&(h[f=h.length]=v);var y=g[v],b="z",E="",N=Er({c:o+f,r:a+p+s});c=Sp(i,N),y&&typeof y=="object"&&!(y instanceof Date)?i[N]=y:(typeof y=="number"?b="n":typeof y=="boolean"?b="b":typeof y=="string"?b="s":y instanceof Date?(b="d",n.cellDates||(b="n",y=ki(y)),E=n.dateNF||Nr[14]):y===null&&n.nullError&&(b="e",y=0),c?(c.t=b,c.v=y,delete c.w,delete c.R,E&&(c.z=E)):i[N]=c={t:b,v:y},E&&(c.z=E))})}),u.e.c=Math.max(u.e.c,o+h.length-1);var m=Us(a);if(s)for(f=0;f<h.length;++f)i[ds(f+o)+m]={t:"s",v:h[f]};return i["!ref"]=Hr(u),i}function IG(r,e){return e9(null,r,e)}function Sp(r,e,t){if(typeof e=="string"){if(Array.isArray(r)){var n=_i(e);return r[n.r]||(r[n.r]=[]),r[n.r][n.c]||(r[n.r][n.c]={t:"z"})}return r[e]||(r[e]={t:"z"})}return typeof e!="number"?Sp(r,Er(e)):Sp(r,Er({r:e,c:t||0}))}function PG(r,e){if(typeof e=="number"){if(e>=0&&r.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=r.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function h_(){return{SheetNames:[],Sheets:{}}}function f_(r,e,t,n){var s=1;if(!t)for(;s<=65535&&r.SheetNames.indexOf(t="Sheet"+s)!=-1;++s,t=void 0);if(!t||r.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&r.SheetNames.indexOf(t)>=0){var i=t.match(/(^.*?)(\d+)$/);s=i&&+i[2]||0;var a=i&&i[1]||t;for(++s;s<=65535&&r.SheetNames.indexOf(t=a+s)!=-1;++s);}if(vW(t),r.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return r.SheetNames.push(t),r.Sheets[t]=e,t}function OG(r,e,t){r.Workbook||(r.Workbook={}),r.Workbook.Sheets||(r.Workbook.Sheets=[]);var n=PG(r,e);switch(r.Workbook.Sheets[n]||(r.Workbook.Sheets[n]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}r.Workbook.Sheets[n].Hidden=t}function MG(r,e){return r.z=e,r}function t9(r,e,t){return e?(r.l={Target:e},t&&(r.l.Tooltip=t)):delete r.l,r}function FG(r,e,t){return t9(r,"#"+e,t)}function LG(r,e,t){r.c||(r.c=[]),r.c.push({t:e,a:t||"SheetJS"})}function jG(r,e,t,n){for(var s=typeof e!="string"?e:Bn(e),i=typeof e=="string"?e:Hr(e),a=s.s.r;a<=s.e.r;++a)for(var o=s.s.c;o<=s.e.c;++o){var l=Sp(r,a,o);l.t="n",l.F=i,delete l.v,a==s.s.r&&o==s.s.c&&(l.f=t,n&&(l.D=!0))}return r}var kc={encode_col:ds,encode_row:Us,encode_cell:Er,encode_range:Hr,decode_col:J5,decode_row:Y5,split_cell:YB,decode_cell:_i,decode_range:wd,format_cell:Rl,sheet_add_aoa:i7,sheet_add_json:e9,sheet_add_dom:X7,aoa_to_sheet:xd,json_to_sheet:IG,table_to_sheet:Y7,table_to_book:tG,sheet_to_csv:Z7,sheet_to_txt:DG,sheet_to_json:Bw,sheet_to_html:eG,sheet_to_formulae:RG,sheet_to_row_object_array:Bw,sheet_get_cell:Sp,book_new:h_,book_append_sheet:f_,book_set_sheet_visibility:OG,cell_set_number_format:MG,cell_set_hyperlink:t9,cell_set_internal_link:FG,cell_add_comment:LG,sheet_set_array_formula:jG,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function r9({onDataUploaded:r,icon:e="⬆️",showIcon:t=!0,isUploaded:n=!1,formatConfig:s=null}){const[i,a]=Ae.useState(null),o=d=>{if(!d)return null;const h=d.toString().trim(),f=h.match(/\d+([A-Za-z]{2})\d+/);return f?f[1]:Tw.includes(h)?h:null},l=(d,h)=>{const f={},m={Lagna:"Lg",Sun:"Su",Moon:"Mo",Mars:"Ma",Mercury:"Me",Jupiter:"Ju",Venus:"Ve",Saturn:"Sa",Rahu:"Ra",Ketu:"Ke",Kethu:"Ke",KETU:"Ke",KETHU:"Ke",ketu:"Ke",kethu:"Ke","Bhava Lagna":"Lg","Hora Lagna":"Lg","Ghati Lagna":"Lg","Vighati Lagna":"Lg","Varnada Lagna":"Lg","Sree Lagna":"Lg","Pranapada Lagna":"Lg","Indu Lagna":"Lg"},g=[];for(let y=1;y<=h.e.c;y++){const b=d[kc.encode_cell({r:0,c:y})];if(b&&b.v){let E=b.v.toString().trim();E=E.replace(/\s*\([^)]*\)/,""),g[y]=E}}let p=2,v=Math.min(19,h.e.r);s&&s.rowRange?(p=s.rowRange.start-1,v=Math.min(s.rowRange.end-1,h.e.r),console.log(`🔧 [ExcelUpload] Using custom row range: Excel rows ${s.rowRange.start}-${s.rowRange.end} (0-based: ${p}-${v})`)):console.log(`🔧 [ExcelUpload] Using default row range: Excel rows 3-20 (0-based: ${p}-${v})`),console.log("🔍 [ExcelUpload] Processing planet rows...");for(let y=p;y<=v;y++){const b=d[kc.encode_cell({r:y,c:0})];if(!b||!b.v)continue;const E=b.v.toString().trim();console.log(`🔍 [ExcelUpload] Found planet name: "${E}" at row ${y+1}`);let N=m[E];if(!N){const D=Object.keys(m).find(C=>C.toLowerCase()===E.toLowerCase());D&&(N=m[D],console.log(`🔍 [ExcelUpload] Found case-insensitive match: "${D}" -> "${N}"`))}if(console.log(`🔍 [ExcelUpload] Mapped to short code: "${N}"`),!N){console.warn(`❌ [ExcelUpload] Unknown planet: "${E}"`),console.warn("❌ [ExcelUpload] Available mappings:",Object.keys(m));continue}if(!["Lg","Su","Mo","Ma","Me","Ju","Ve","Sa","Ra","Ke"].includes(N)){console.log(`🔍 [ExcelUpload] Skipping additional planet: "${E}" (${N}) - not in main 10`);continue}if(N==="Lg"&&f[N]){console.log(`🔍 [ExcelUpload] Skipping duplicate Lagna: "${E}"`);continue}f[N]={},console.log(`✅ [ExcelUpload] Created data structure for planet: "${N}"`);for(let D=1;D<=h.e.c;D++){const C=d[kc.encode_cell({r:y,c:D})];if(C&&C.v){const I=o(C.v),V=g[D];I&&V&&(f[N][V]=I)}}}return console.log("🔍 [ExcelUpload] Final processed data structure:"),console.log("  - Total planets processed:",Object.keys(f).length),console.log("  - Planet keys:",Object.keys(f)),console.log("  - Ketu data check:",f.Ke?"EXISTS":"MISSING"),f.Ke&&console.log("  - Ketu divisions:",Object.keys(f.Ke)),f},c=(d,h)=>{let f=0;const m=["Lagna","Sun","Moon","Mars","Mercury","Jupiter","Venus","Saturn","Rahu","Ketu"],g=[];let p=2,v=Math.min(10,h.e.r);s&&s.rowRange?(p=s.rowRange.start-1,v=Math.min(s.rowRange.end-1,h.e.r),console.log(`🔧 [ExcelUpload] Using custom validation range: Excel rows ${s.rowRange.start}-${Math.min(s.rowRange.end,h.e.r+1)} (0-based: ${p}-${v})`)):console.log(`🔧 [ExcelUpload] Using default validation range: Excel rows 3-11 (0-based: ${p}-${v})`);for(let E=p;E<=v;E++){const N=d[kc.encode_cell({r:E,c:0})];if(N&&N.v){const j=N.v.toString().trim();m.includes(j)&&g.push({row:E,name:j})}}let y=9;if(s&&s.expectedPlanets&&(y=s.expectedPlanets),g.length<y){const E=g.map(j=>j.name),N=m.filter(j=>!E.includes(j));if(console.warn(`⚠️ [ExcelUpload] Expected ${y} planets, found ${g.length}. Missing: ${N.join(", ")}`),console.warn(`⚠️ [ExcelUpload] Found planets: ${E.join(", ")}`),g.length<8)throw new Error(`Invalid viboothi format. Expected at least 8 planets, found ${g.length}. Missing: ${N.join(", ")}`)}g.forEach(({row:E,name:N})=>{let j=0;for(let D=1;D<=Math.min(24,h.e.c);D++){const C=d[kc.encode_cell({r:E,c:D})];C&&C.v!==null&&C.v!==void 0&&C.v.toString().trim()!==""&&(j++,f++)}j<20&&console.warn(`Warning: ${N} has only ${j} divisions (expected ~24)`)});const b=Math.max(180,g.length*20);if(f<b)throw new Error(`Insufficient viboothi data. Expected ~${g.length*24} cells (${g.length} planets × 24 divisions), found ${f} cells.`);return console.log(`✅ Viboothi format validated: ${f} data cells across ${g.length} planets`),f},u=d=>{try{a(null);const h=d.target.files[0];if(!h)return;const f=new FileReader;f.onload=m=>{try{const g=new Uint8Array(m.target.result),p=_p(g,{type:"array"}),v=p.Sheets[p.SheetNames[0]],y=kc.decode_range(v["!ref"]);c(v,y);const b=l(v,y);r(b,h.name),d.target.value=null}catch(g){console.error("Excel processing error:",g),a(g.message)}},f.readAsArrayBuffer(h)}catch(h){console.error("File upload error:",h),a(h.message)}};return G.jsxs("label",{className:"cursor-pointer inline-flex items-center",children:[G.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:u,className:"hidden"}),G.jsx("span",{className:`inline-block p-1 rounded hover:bg-gray-100 ${n?"text-green-600":"text-blue-600"}`,title:n?"View uploaded data":"Upload Excel file",children:G.jsx("span",{className:"text-xl",children:e})}),i&&G.jsx("span",{className:"ml-2 text-xs text-red-600",children:i})]})}function cg(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var n9={exports:{}};/*! ExcelJS 19-10-2023 */(function(r,e){(function(t){r.exports=t()})(function(){return function t(n,s,i){function a(c,u){if(!s[c]){if(!n[c]){var d=typeof cg=="function"&&cg;if(!u&&d)return d(c,!0);if(o)return o(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var f=s[c]={exports:{}};n[c][0].call(f.exports,function(m){return a(n[c][1][m]||m)},f,f.exports,t,n,s,i)}return s[c].exports}for(var o=typeof cg=="function"&&cg,l=0;l<i.length;l++)a(i[l]);return a}({1:[function(t,n,s){const i=t("fs"),a=t("fast-csv"),o=t("dayjs/plugin/customParseFormat"),l=t("dayjs/plugin/utc"),c=t("dayjs").extend(o).extend(l),u=t("../utils/stream-buf"),{fs:{exists:d}}=t("../utils/utils"),h={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};n.exports=class{constructor(f){this.workbook=f,this.worksheet=null}async readFile(f,m){if(m=m||{},!await d(f))throw new Error("File not found: "+f);const g=i.createReadStream(f),p=await this.read(g,m);return g.close(),p}read(f,m){return m=m||{},new Promise((g,p)=>{const v=this.workbook.addWorksheet(m.sheetName),y=m.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],b=m.map||function(N){if(N==="")return null;const j=Number(N);if(!Number.isNaN(j)&&j!==1/0)return j;const D=y.reduce((I,V)=>{if(I)return I;const B=c(N,V,!0);return B.isValid()?B:null},null);if(D)return new Date(D.valueOf());const C=h[N];return C!==void 0?C:N},E=a.parse(m.parserOptions).on("data",N=>{v.addRow(N.map(b))}).on("end",()=>{E.emit("worksheet",v)});E.on("worksheet",g).on("error",p),f.pipe(E)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(f,m){return new Promise((g,p)=>{m=m||{};const v=this.workbook.getWorksheet(m.sheetName||m.sheetId),y=a.format(m.formatterOptions);f.on("finish",()=>{g()}),y.on("error",p),y.pipe(f);const{dateFormat:b,dateUTC:E}=m,N=m.map||(C=>{if(C){if(C.text||C.hyperlink)return C.hyperlink||C.text||"";if(C.formula||C.result)return C.result||"";if(C instanceof Date)return b?E?c.utc(C).format(b):c(C).format(b):E?c.utc(C).format():c(C).format();if(C.error)return C.error;if(typeof C=="object")return JSON.stringify(C)}return C}),j=m.includeEmptyRows===void 0||m.includeEmptyRows;let D=1;v&&v.eachRow((C,I)=>{if(j)for(;D++<I-1;)y.write([]);const{values:V}=C;V.shift(),y.write(V.map(N)),D=I}),y.end()})}writeFile(f,m){const g={encoding:(m=m||{}).encoding||"utf8"},p=i.createWriteStream(f,g);return this.write(p,m)}async writeBuffer(f){const m=new u;return await this.write(m,f),m.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(t,n,s){const i=t("../utils/col-cache");class a{constructor(l,c){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=l,c)if(typeof c=="string"){const d=i.decodeAddress(c);this.nativeCol=d.col+u,this.nativeColOff=0,this.nativeRow=d.row+u,this.nativeRowOff=0}else c.nativeCol!==void 0?(this.nativeCol=c.nativeCol||0,this.nativeColOff=c.nativeColOff||0,this.nativeRow=c.nativeRow||0,this.nativeRowOff=c.nativeRowOff||0):c.col!==void 0?(this.col=c.col+u,this.row=c.row+u):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(l){return l instanceof a||l==null?l:new a(l)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(l){this.nativeCol=Math.floor(l),this.nativeColOff=Math.floor((l-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(l){this.nativeRow=Math.floor(l),this.nativeRowOff=Math.floor((l-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(l){this.nativeCol=l.nativeCol,this.nativeColOff=l.nativeColOff,this.nativeRow=l.nativeRow,this.nativeRowOff=l.nativeRowOff}}n.exports=a},{"../utils/col-cache":19}],3:[function(t,n,s){const i=t("../utils/col-cache"),a=t("../utils/under-dash"),o=t("./enums"),{slideFormula:l}=t("../utils/shared-formula"),c=t("./note");class u{constructor(f,m,g){if(!f||!m)throw new Error("A Cell needs a Row");this._row=f,this._column=m,i.validateAddress(g),this._address=g,this._value=d.create(u.Types.Null,this),this.style=this._mergeStyle(f.style,m.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(f){this.style.numFmt=f}get font(){return this.style.font}set font(f){this.style.font=f}get alignment(){return this.style.alignment}set alignment(f){this.style.alignment=f}get border(){return this.style.border}set border(f){this.style.border=f}get fill(){return this.style.fill}set fill(f){this.style.fill=f}get protection(){return this.style.protection}set protection(f){this.style.protection=f}_mergeStyle(f,m,g){const p=f&&f.numFmt||m&&m.numFmt;p&&(g.numFmt=p);const v=f&&f.font||m&&m.font;v&&(g.font=v);const y=f&&f.alignment||m&&m.alignment;y&&(g.alignment=y);const b=f&&f.border||m&&m.border;b&&(g.border=b);const E=f&&f.fill||m&&m.fill;E&&(g.fill=E);const N=f&&f.protection||m&&m.protection;return N&&(g.protection=N),g}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===u.Types.Merge}merge(f,m){this._value.release(),this._value=d.create(u.Types.Merge,this,f),m||(this.style=f.style)}unmerge(){this.type===u.Types.Merge&&(this._value.release(),this._value=d.create(u.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(f){return this._value.type===u.Types.Merge&&this._value.isMergedTo(f)}get master(){return this.type===u.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===u.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(f){this.type!==u.Types.Merge?(this._value.release(),this._value=d.create(d.getType(f),this,f)):this._value.master.value=f}get note(){return this._comment&&this._comment.note}set note(f){this._comment=new c(f)}get text(){return this._value.toString()}get html(){return a.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(f){this.type===u.Types.String&&(this._value=d.create(u.Types.Hyperlink,this,{text:this._value.value,hyperlink:f}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:f}=this._row;return{sheetName:f.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(f){this.names=[f]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(f){const{definedNames:m}=this.workbook;m.removeAllNames(this.fullAddress),f.forEach(g=>{m.addEx(this.fullAddress,g)})}addName(f){this.workbook.definedNames.addEx(this.fullAddress,f)}removeName(f){this.workbook.definedNames.removeEx(this.fullAddress,f)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(f){this._dataValidations.add(this.address,f)}get model(){const{model:f}=this._value;return f.style=this.style,this._comment&&(f.comment=this._comment.model),f}set model(f){if(this._value.release(),this._value=d.create(f.type,this),this._value.model=f,f.comment)switch(f.comment.type){case"note":this._comment=c.fromModel(f.comment)}f.style?this.style=f.style:this.style={}}}u.Types=o.ValueType;const d={getType:h=>h==null?u.Types.Null:h instanceof String||typeof h=="string"?u.Types.String:typeof h=="number"?u.Types.Number:typeof h=="boolean"?u.Types.Boolean:h instanceof Date?u.Types.Date:h.text&&h.hyperlink?u.Types.Hyperlink:h.formula||h.sharedFormula?u.Types.Formula:h.richText?u.Types.RichText:h.sharedString?u.Types.SharedString:h.error?u.Types.Error:u.Types.JSON,types:[{t:u.Types.Null,f:class{constructor(h){this.model={address:h.address,type:u.Types.Null}}get value(){return null}set value(h){}get type(){return u.Types.Null}get effectiveType(){return u.Types.Null}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){}toString(){return""}}},{t:u.Types.Number,f:class{constructor(h,f){this.model={address:h.address,type:u.Types.Number,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Number}get effectiveType(){return u.Types.Number}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.String,f:class{constructor(h,f){this.model={address:h.address,type:u.Types.String,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:u.Types.Date,f:class{constructor(h,f){this.model={address:h.address,type:u.Types.Date,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Date}get effectiveType(){return u.Types.Date}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Hyperlink,f:class{constructor(h,f){this.model={address:h.address,type:u.Types.Hyperlink,text:f?f.text:void 0,hyperlink:f?f.hyperlink:void 0},f&&f.tooltip&&(this.model.tooltip=f.tooltip)}get value(){const h={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(h.tooltip=this.model.tooltip),h}set value(h){this.model={text:h.text,hyperlink:h.hyperlink},h.tooltip&&(this.model.tooltip=h.tooltip)}get text(){return this.model.text}set text(h){this.model.text=h}get hyperlink(){return this.model.hyperlink}set hyperlink(h){this.model.hyperlink=h}get type(){return u.Types.Hyperlink}get effectiveType(){return u.Types.Hyperlink}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:u.Types.Formula,f:class{constructor(h,f){this.cell=h,this.model={address:h.address,type:u.Types.Formula,shareType:f?f.shareType:void 0,ref:f?f.ref:void 0,formula:f?f.formula:void 0,sharedFormula:f?f.sharedFormula:void 0,result:f?f.result:void 0}}_copyModel(h){const f={},m=g=>{const p=h[g];p&&(f[g]=p)};return m("formula"),m("result"),m("ref"),m("shareType"),m("sharedFormula"),f}get value(){return this._copyModel(this.model)}set value(h){this.model=this._copyModel(h)}validate(h){switch(d.getType(h)){case u.Types.Null:case u.Types.String:case u.Types.Number:case u.Types.Date:break;case u.Types.Hyperlink:case u.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(h){this.model.formula=h}get formulaType(){return this.model.formula?o.FormulaType.Master:this.model.sharedFormula?o.FormulaType.Shared:o.FormulaType.None}get result(){return this.model.result}set result(h){this.model.result=h}get type(){return u.Types.Formula}get effectiveType(){const h=this.model.result;return h==null?o.ValueType.Null:h instanceof String||typeof h=="string"?o.ValueType.String:typeof h=="number"?o.ValueType.Number:h instanceof Date?o.ValueType.Date:h.text&&h.hyperlink?o.ValueType.Hyperlink:h.formula?o.ValueType.Formula:o.ValueType.Null}get address(){return this.model.address}set address(h){this.model.address=h}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:h}=this.cell,f=h.findCell(this.model.sharedFormula);this._translatedFormula=f&&l(f.formula,f.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:u.Types.Merge,f:class{constructor(h,f){this.model={address:h.address,type:u.Types.Merge,master:f?f.address:void 0},this._master=f,f&&f.addMergeRef()}get value(){return this._master.value}set value(h){h instanceof u?(this._master&&this._master.releaseMergeRef(),h.addMergeRef(),this._master=h):this._master.value=h}isMergedTo(h){return h===this._master}get master(){return this._master}get type(){return u.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:u.Types.JSON,f:class{constructor(h,f){this.model={address:h.address,type:u.Types.String,value:JSON.stringify(f),rawValue:f}}get value(){return this.model.rawValue}set value(h){this.model.rawValue=h,this.model.value=JSON.stringify(h)}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:u.Types.SharedString,f:class{constructor(h,f){this.model={address:h.address,type:u.Types.SharedString,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.SharedString}get effectiveType(){return u.Types.SharedString}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.RichText,f:class{constructor(h,f){this.model={address:h.address,type:u.Types.String,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}toString(){return this.model.value.richText.map(h=>h.text).join("")}get type(){return u.Types.RichText}get effectiveType(){return u.Types.RichText}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:u.Types.Boolean,f:class{constructor(h,f){this.model={address:h.address,type:u.Types.Boolean,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Boolean}get effectiveType(){return u.Types.Boolean}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Error,f:class{constructor(h,f){this.model={address:h.address,type:u.Types.Error,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Error}get effectiveType(){return u.Types.Error}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((h,f)=>(h[f.t]=f.f,h),[]),create(h,f,m){const g=this.types[h];if(!g)throw new Error("Could not create Value of type "+h);return new g(f,m)}};n.exports=u},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(t,n,s){const i=t("../utils/under-dash"),a=t("./enums"),o=t("../utils/col-cache");class l{constructor(u,d,h){this._worksheet=u,this._number=d,h!==!1&&(this.defn=h)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return o.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(u){u?(this.key=u.key,this.width=u.width!==void 0?u.width:9,this.outlineLevel=u.outlineLevel,u.style?this.style=u.style:this.style={},this.header=u.header,this._hidden=!!u.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(u){u!==void 0?(this._header=u,this.headers.forEach((d,h)=>{this._worksheet.getCell(h+1,this.number).value=d})):this._header=void 0}get key(){return this._key}set key(u){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=u,u&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(u){this._hidden=u}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(u){this._outlineLevel=u}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(u){return this.width===u.width&&this.hidden===u.hidden&&this.outlineLevel===u.outlineLevel&&i.isEqual(this.style,u.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const u=this.style;return!u||!(u.font||u.numFmt||u.alignment||u.border||u.fill||u.protection)}get headerCount(){return this.headers.length}eachCell(u,d){const h=this.number;d||(d=u,u=null),this._worksheet.eachRow(u,(f,m)=>{d(f.getCell(h),m)})}get values(){const u=[];return this.eachCell((d,h)=>{d&&d.type!==a.ValueType.Null&&(u[h]=d.value)}),u}set values(u){if(!u)return;const d=this.number;let h=0;u.hasOwnProperty("0")&&(h=1),u.forEach((f,m)=>{this._worksheet.getCell(m+h,d).value=f})}_applyStyle(u,d){return this.style[u]=d,this.eachCell(h=>{h[u]=d}),d}get numFmt(){return this.style.numFmt}set numFmt(u){this._applyStyle("numFmt",u)}get font(){return this.style.font}set font(u){this._applyStyle("font",u)}get alignment(){return this.style.alignment}set alignment(u){this._applyStyle("alignment",u)}get protection(){return this.style.protection}set protection(u){this._applyStyle("protection",u)}get border(){return this.style.border}set border(u){this._applyStyle("border",u)}get fill(){return this.style.fill}set fill(u){this._applyStyle("fill",u)}static toModel(u){const d=[];let h=null;return u&&u.forEach((f,m)=>{f.isDefault?h&&(h=null):h&&f.equivalentTo(h)?h.max=m+1:(h={min:m+1,max:m+1,width:f.width!==void 0?f.width:9,style:f.style,isCustomWidth:f.isCustomWidth,hidden:f.hidden,outlineLevel:f.outlineLevel,collapsed:f.collapsed},d.push(h))}),d.length?d:void 0}static fromModel(u,d){const h=[];let f=1,m=0;for(d=(d=d||[]).sort(function(g,p){return g.min-p.min});m<d.length;){const g=d[m++];for(;f<g.min;)h.push(new l(u,f++));for(;f<=g.max;)h.push(new l(u,f++,g))}return h.length?h:null}}n.exports=l},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(t,n,s){n.exports=class{constructor(i){this.model=i||{}}add(i,a){return this.model[i]=a}find(i){return this.model[i]}remove(i){this.model[i]=void 0}}},{}],6:[function(t,n,s){const i=t("../utils/under-dash"),a=t("../utils/col-cache"),o=t("../utils/cell-matrix"),l=t("./range"),c=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;n.exports=class{constructor(){this.matrixMap={}}getMatrix(u){return this.matrixMap[u]||(this.matrixMap[u]=new o)}add(u,d){const h=a.decodeEx(u);this.addEx(h,d)}addEx(u,d){const h=this.getMatrix(d);if(u.top)for(let f=u.left;f<=u.right;f++)for(let m=u.top;m<=u.bottom;m++){const g={sheetName:u.sheetName,address:a.n2l(f)+m,row:m,col:f};h.addCellEx(g)}else h.addCellEx(u)}remove(u,d){const h=a.decodeEx(u);this.removeEx(h,d)}removeEx(u,d){this.getMatrix(d).removeCellEx(u)}removeAllNames(u){i.each(this.matrixMap,d=>{d.removeCellEx(u)})}forEach(u){i.each(this.matrixMap,(d,h)=>{d.forEach(f=>{u(h,f)})})}getNames(u){return this.getNamesEx(a.decodeEx(u))}getNamesEx(u){return i.map(this.matrixMap,(d,h)=>d.findCellEx(u)&&h).filter(Boolean)}_explore(u,d){d.mark=!1;const{sheetName:h}=d,f=new l(d.row,d.col,d.row,d.col,h);let m,g;function p(y,b){const E=u.findCellAt(h,y,d.col);return!(!E||!E.mark)&&(f[b]=y,E.mark=!1,!0)}for(g=d.row-1;p(g,"top");g--);for(g=d.row+1;p(g,"bottom");g++);function v(y,b){const E=[];for(g=f.top;g<=f.bottom;g++){const N=u.findCellAt(h,g,y);if(!N||!N.mark)return!1;E.push(N)}f[b]=y;for(let N=0;N<E.length;N++)E[N].mark=!1;return!0}for(m=d.col-1;v(m,"left");m--);for(m=d.col+1;v(m,"right");m++);return f}getRanges(u,d){return(d=d||this.matrixMap[u])?(d.forEach(h=>{h.mark=!0}),{name:u,ranges:d.map(h=>h.mark&&this._explore(d,h)).filter(Boolean).map(h=>h.$shortRange)}):{name:u,ranges:[]}}normaliseMatrix(u,d){u.forEachInSheet(d,(h,f,m)=>{h&&(h.row===f&&h.col===m||(h.row=f,h.col=m,h.address=a.n2l(m)+f))})}spliceRows(u,d,h,f){i.each(this.matrixMap,m=>{m.spliceRows(u,d,h,f),this.normaliseMatrix(m,u)})}spliceColumns(u,d,h,f){i.each(this.matrixMap,m=>{m.spliceColumns(u,d,h,f),this.normaliseMatrix(m,u)})}get model(){return i.map(this.matrixMap,(u,d)=>this.getRanges(d,u)).filter(u=>u.ranges.length)}set model(u){const d=this.matrixMap={};u.forEach(h=>{const f=d[h.name]=new o;h.ranges.forEach(m=>{c.test(m.split("!").pop()||"")&&f.addCell(m)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(t,n,s){n.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(t,n,s){const i=t("../utils/col-cache"),a=t("./anchor");n.exports=class{constructor(o,l){this.worksheet=o,this.model=l}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(o){let{type:l,imageId:c,range:u,hyperlinks:d}=o;if(this.type=l,this.imageId=c,l==="image")if(typeof u=="string"){const h=i.decode(u);this.range={tl:new a(this.worksheet,{col:h.left,row:h.top},-1),br:new a(this.worksheet,{col:h.right,row:h.bottom},0),editAs:"oneCell"}}else this.range={tl:new a(this.worksheet,u.tl,0),br:u.br&&new a(this.worksheet,u.br,0),ext:u.ext,editAs:u.editAs,hyperlinks:d||u.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(t,n,s){const i=t("../utils/under-dash");class a{constructor(l){this.note=l}get model(){let l=null;switch(typeof this.note){case"string":l={type:"note",note:{texts:[{text:this.note}]}};break;default:l={type:"note",note:this.note}}return i.deepMerge({},a.DEFAULT_CONFIGS,l)}set model(l){const{note:c}=l,{texts:u}=c;u.length===1&&Object.keys(u[0]).length===1?this.note=u[0].text:this.note=c}static fromModel(l){const c=new a;return c.model=l,c}}a.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},n.exports=a},{"../utils/under-dash":26}],10:[function(t,n,s){const i=t("../utils/col-cache");class a{constructor(){this.decode(arguments)}setTLBR(l,c,u,d,h){if(arguments.length<4){const f=i.decodeAddress(l),m=i.decodeAddress(c);this.model={top:Math.min(f.row,m.row),left:Math.min(f.col,m.col),bottom:Math.max(f.row,m.row),right:Math.max(f.col,m.col),sheetName:u},this.setTLBR(f.row,f.col,m.row,m.col,h)}else this.model={top:Math.min(l,u),left:Math.min(c,d),bottom:Math.max(l,u),right:Math.max(c,d),sheetName:h}}decode(l){switch(l.length){case 5:this.setTLBR(l[0],l[1],l[2],l[3],l[4]);break;case 4:this.setTLBR(l[0],l[1],l[2],l[3]);break;case 3:this.setTLBR(l[0],l[1],l[2]);break;case 2:this.setTLBR(l[0],l[1]);break;case 1:{const c=l[0];if(c instanceof a)this.model={top:c.model.top,left:c.model.left,bottom:c.model.bottom,right:c.model.right,sheetName:c.sheetName};else if(c instanceof Array)this.decode(c);else if(c.top&&c.left&&c.bottom&&c.right)this.model={top:c.top,left:c.left,bottom:c.bottom,right:c.right,sheetName:c.sheetName};else{const u=i.decodeEx(c);u.top?this.model={top:u.top,left:u.left,bottom:u.bottom,right:u.right,sheetName:u.sheetName}:this.model={top:u.row,left:u.col,bottom:u.row,right:u.col,sheetName:u.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+l.length)}}get top(){return this.model.top||1}set top(l){this.model.top=l}get left(){return this.model.left||1}set left(l){this.model.left=l}get bottom(){return this.model.bottom||1}set bottom(l){this.model.bottom=l}get right(){return this.model.right||1}set right(l){this.model.right=l}get sheetName(){return this.model.sheetName}set sheetName(l){this.model.sheetName=l}get _serialisedSheetName(){const{sheetName:l}=this.model;return l?/^[a-zA-Z0-9]*$/.test(l)?l+"!":`'${l}'!`:""}expand(l,c,u,d){(!this.model.top||l<this.top)&&(this.top=l),(!this.model.left||c<this.left)&&(this.left=c),(!this.model.bottom||u>this.bottom)&&(this.bottom=u),(!this.model.right||d>this.right)&&(this.right=d)}expandRow(l){if(l){const{dimensions:c,number:u}=l;c&&this.expand(u,c.min,u,c.max)}}expandToAddress(l){const c=i.decodeEx(l);this.expand(c.row,c.col,c.row,c.col)}get tl(){return i.n2l(this.left)+this.top}get $t$l(){return`$${i.n2l(this.left)}$${this.top}`}get br(){return i.n2l(this.right)+this.bottom}get $b$r(){return`$${i.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&!(l.bottom<this.top)&&!(l.top>this.bottom)&&!(l.right<this.left)&&!(l.left>this.right)}contains(l){const c=i.decodeEx(l);return this.containsEx(c)}containsEx(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&l.row>=this.top&&l.row<=this.bottom&&l.col>=this.left&&l.col<=this.right}forEachAddress(l){for(let c=this.left;c<=this.right;c++)for(let u=this.top;u<=this.bottom;u++)l(i.encodeAddress(u,c),u,c)}}n.exports=a},{"../utils/col-cache":19}],11:[function(t,n,s){const i=t("../utils/under-dash"),a=t("./enums"),o=t("../utils/col-cache"),l=t("./cell");n.exports=class{constructor(c,u){this._worksheet=c,this._number=u,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(c){return this._cells[c-1]}getCellEx(c){let u=this._cells[c.col-1];if(!u){const d=this._worksheet.getColumn(c.col);u=new l(this,d,c.address),this._cells[c.col-1]=u}return u}getCell(c){if(typeof c=="string"){const u=this._worksheet.getColumnKey(c);c=u?u.number:o.l2n(c)}return this._cells[c-1]||this.getCellEx({address:o.encodeAddress(this._number,c),row:this._number,col:c})}splice(c,u){const d=c+u;for(var h=arguments.length,f=new Array(h>2?h-2:0),m=2;m<h;m++)f[m-2]=arguments[m];const g=f.length-u,p=this._cells.length;let v,y,b;if(g<0)for(v=c+f.length;v<=p;v++)b=this._cells[v-1],y=this._cells[v-g-1],y?(b=this.getCell(v),b.value=y.value,b.style=y.style,b._comment=y._comment):b&&(b.value=null,b.style={},b._comment=void 0);else if(g>0)for(v=p;v>=d;v--)y=this._cells[v-1],y?(b=this.getCell(v+g),b.value=y.value,b.style=y.style,b._comment=y._comment):this._cells[v+g-1]=void 0;for(v=0;v<f.length;v++)b=this.getCell(c+v),b.value=f[v],b.style={},b._comment=void 0}eachCell(c,u){if(u||(u=c,c=null),c&&c.includeEmpty){const d=this._cells.length;for(let h=1;h<=d;h++)u(this.getCell(h),h)}else this._cells.forEach((d,h)=>{d&&d.type!==a.ValueType.Null&&u(d,h+1)})}addPageBreak(c,u){const d=this._worksheet,h=Math.max(0,c-1)||0,f=Math.max(0,u-1)||16838,m={id:this._number,max:f,man:1};h&&(m.min=h),d.rowBreaks.push(m)}get values(){const c=[];return this._cells.forEach(u=>{u&&u.type!==a.ValueType.Null&&(c[u.col]=u.value)}),c}set values(c){if(this._cells=[],c)if(c instanceof Array){let u=0;c.hasOwnProperty("0")&&(u=1),c.forEach((d,h)=>{d!==void 0&&(this.getCellEx({address:o.encodeAddress(this._number,h+u),row:this._number,col:h+u}).value=d)})}else this._worksheet.eachColumnKey((u,d)=>{c[d]!==void 0&&(this.getCellEx({address:o.encodeAddress(this._number,u.number),row:this._number,col:u.number}).value=c[d])})}get hasValues(){return i.some(this._cells,c=>c&&c.type!==a.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let c=0;return this.eachCell(()=>{c++}),c}get dimensions(){let c=0,u=0;return this._cells.forEach(d=>{d&&d.type!==a.ValueType.Null&&((!c||c>d.col)&&(c=d.col),u<d.col&&(u=d.col))}),c>0?{min:c,max:u}:null}_applyStyle(c,u){return this.style[c]=u,this._cells.forEach(d=>{d&&(d[c]=u)}),u}get numFmt(){return this.style.numFmt}set numFmt(c){this._applyStyle("numFmt",c)}get font(){return this.style.font}set font(c){this._applyStyle("font",c)}get alignment(){return this.style.alignment}set alignment(c){this._applyStyle("alignment",c)}get protection(){return this.style.protection}set protection(c){this._applyStyle("protection",c)}get border(){return this.style.border}set border(c){this._applyStyle("border",c)}get fill(){return this.style.fill}set fill(c){this._applyStyle("fill",c)}get hidden(){return!!this._hidden}set hidden(c){this._hidden=c}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(c){this._outlineLevel=c}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const c=[];let u=0,d=0;return this._cells.forEach(h=>{if(h){const f=h.model;f&&((!u||u>h.col)&&(u=h.col),d<h.col&&(d=h.col),c.push(f))}}),this.height||c.length?{cells:c,number:this.number,min:u,max:d,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(c){if(c.number!==this._number)throw new Error("Invalid row number in model");let u;this._cells=[],c.cells.forEach(d=>{switch(d.type){case l.Types.Merge:break;default:{let h;if(d.address)h=o.decodeAddress(d.address);else if(u){const{row:f}=u,m=u.col+1;h={row:f,col:m,address:o.encodeAddress(f,m),$col$row:`$${o.n2l(m)}$${f}`}}u=h,this.getCellEx(h).model=d;break}}}),c.height?this.height=c.height:delete this.height,this.hidden=c.hidden,this.outlineLevel=c.outlineLevel||0,this.style=c.style&&JSON.parse(JSON.stringify(c.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(t,n,s){const i=t("../utils/col-cache");class a{constructor(l,c,u){this.table=l,this.column=c,this.index=u}_set(l,c){this.table.cacheState(),this.column[l]=c}get name(){return this.column.name}set name(l){this._set("name",l)}get filterButton(){return this.column.filterButton}set filterButton(l){this.column.filterButton=l}get style(){return this.column.style}set style(l){this.column.style=l}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(l){this._set("totalsRowLabel",l)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(l){this._set("totalsRowFunction",l)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(l){this._set("totalsRowResult",l)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(l){this._set("totalsRowFormula",l)}}n.exports=class{constructor(o,l){this.worksheet=o,l&&(this.table=l,this.validate(),this.store())}getFormula(o){switch(o.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${o.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${o.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${o.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${o.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${o.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${o.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${o.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${o.name}])`;case"custom":return o.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+o.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:o}=this,l=(g,p,v)=>{g[p]===void 0&&(g[p]=v)};l(o,"headerRow",!0),l(o,"totalsRow",!1),l(o,"style",{}),l(o.style,"theme","TableStyleMedium2"),l(o.style,"showFirstColumn",!1),l(o.style,"showLastColumn",!1),l(o.style,"showRowStripes",!1),l(o.style,"showColumnStripes",!1);const c=(g,p)=>{if(!g)throw new Error(p)};c(o.ref,"Table must have ref"),c(o.columns,"Table must have column definitions"),c(o.rows,"Table must have row definitions"),o.tl=i.decodeAddress(o.ref);const{row:u,col:d}=o.tl;c(u>0,"Table must be on valid row"),c(d>0,"Table must be on valid col");const{width:h,filterHeight:f,tableHeight:m}=this;o.autoFilterRef=i.encode(u,d,u+f-1,d+h-1),o.tableRef=i.encode(u,d,u+m-1,d+h-1),o.columns.forEach((g,p)=>{c(g.name,`Column ${p} must have a name`),p===0?l(g,"totalsRowLabel","Total"):(l(g,"totalsRowFunction","none"),g.totalsRowFormula=this.getFormula(g))})}store(){const o=(f,m)=>{m&&Object.keys(m).forEach(g=>{f[g]=m[g]})},{worksheet:l,table:c}=this,{row:u,col:d}=c.tl;let h=0;if(c.headerRow){const f=l.getRow(u+h++);c.columns.forEach((m,g)=>{const{style:p,name:v}=m,y=f.getCell(d+g);y.value=v,o(y,p)})}if(c.rows.forEach(f=>{const m=l.getRow(u+h++);f.forEach((g,p)=>{const v=m.getCell(d+p);v.value=g,o(v,c.columns[p].style)})}),c.totalsRow){const f=l.getRow(u+h++);c.columns.forEach((m,g)=>{const p=f.getCell(d+g);if(g===0)p.value=m.totalsRowLabel;else{const v=this.getFormula(m);p.value=v?{formula:m.totalsRowFormula,result:m.totalsRowResult}:null}o(p,m.style)})}}load(o){const{table:l}=this,{row:c,col:u}=l.tl;let d=0;if(l.headerRow){const h=o.getRow(c+d++);l.columns.forEach((f,m)=>{h.getCell(u+m).value=f.name})}if(l.rows.forEach(h=>{const f=o.getRow(c+d++);h.forEach((m,g)=>{f.getCell(u+g).value=m})}),l.totalsRow){const h=o.getRow(c+d++);l.columns.forEach((f,m)=>{const g=h.getCell(u+m);m===0?g.value=f.totalsRowLabel:this.getFormula(f)&&(g.value={formula:f.totalsRowFormula,result:f.totalsRowResult})})}}get model(){return this.table}set model(o){this.table=o}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const o=i.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let l=0;l<this._cache.tableHeight;l++){const c=this.worksheet.getRow(o.row+l);for(let u=0;u<this._cache.width;u++)c.getCell(o.col+u).value=null}else{for(let l=this.tableHeight;l<this._cache.tableHeight;l++){const c=this.worksheet.getRow(o.row+l);for(let u=0;u<this._cache.width;u++)c.getCell(o.col+u).value=null}for(let l=0;l<this.tableHeight;l++){const c=this.worksheet.getRow(o.row+l);for(let u=this.width;u<this._cache.width;u++)c.getCell(o.col+u).value=null}}this.store()}addRow(o,l){this.cacheState(),l===void 0?this.table.rows.push(o):this.table.rows.splice(l,0,o)}removeRows(o){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(o,l)}getColumn(o){const l=this.table.columns[o];return new a(this,l,o)}addColumn(o,l,c){this.cacheState(),c===void 0?(this.table.columns.push(o),this.table.rows.forEach((u,d)=>{u.push(l[d])})):(this.table.columns.splice(c,0,o),this.table.rows.forEach((u,d)=>{u.splice(c,0,l[d])}))}removeColumns(o){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(o,l),this.table.rows.forEach(c=>{c.splice(o,l)})}_assign(o,l,c){this.cacheState(),o[l]=c}get ref(){return this.table.ref}set ref(o){this._assign(this.table,"ref",o)}get name(){return this.table.name}set name(o){this.table.name=o}get displayName(){return this.table.displyName||this.table.name}set displayNamename(o){this.table.displayName=o}get headerRow(){return this.table.headerRow}set headerRow(o){this._assign(this.table,"headerRow",o)}get totalsRow(){return this.table.totalsRow}set totalsRow(o){this._assign(this.table,"totalsRow",o)}get theme(){return this.table.style.name}set theme(o){this.table.style.name=o}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(o){this.table.style.showFirstColumn=o}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(o){this.table.style.showLastColumn=o}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(o){this.table.style.showRowStripes=o}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(o){this.table.style.showColumnStripes=o}}},{"../utils/col-cache":19}],13:[function(t,n,s){const i=t("./worksheet"),a=t("./defined-names"),o=t("../xlsx/xlsx"),l=t("../csv/csv");n.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new a}get xlsx(){return this._xlsx||(this._xlsx=new o(this)),this._xlsx}get csv(){return this._csv||(this._csv=new l(this)),this._csv}get nextId(){for(let c=1;c<this._worksheets.length;c++)if(!this._worksheets[c])return c;return this._worksheets.length||1}addWorksheet(c,u){const d=this.nextId;u&&(typeof u=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),u={properties:{tabColor:{argb:u}}}):(u.argb||u.theme||u.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),u={properties:{tabColor:u}}));const h=this._worksheets.reduce((g,p)=>(p&&p.orderNo)>g?p.orderNo:g,0),f=Object.assign({},u,{id:d,name:c,orderNo:h+1,workbook:this}),m=new i(f);return this._worksheets[d]=m,m}removeWorksheetEx(c){delete this._worksheets[c.id]}removeWorksheet(c){const u=this.getWorksheet(c);u&&u.destroy()}getWorksheet(c){return c===void 0?this._worksheets.find(Boolean):typeof c=="number"?this._worksheets[c]:typeof c=="string"?this._worksheets.find(u=>u&&u.name===c):void 0}get worksheets(){return this._worksheets.slice(1).sort((c,u)=>c.orderNo-u.orderNo).filter(Boolean)}eachSheet(c){this.worksheets.forEach(u=>{c(u,u.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(c){const u=this.media.length;return this.media.push(Object.assign({},c,{type:"image"})),u}getImage(c){return this.media[c]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(c=>c.model),sheets:this.worksheets.map(c=>c.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(c){this.creator=c.creator,this.lastModifiedBy=c.lastModifiedBy,this.lastPrinted=c.lastPrinted,this.created=c.created,this.modified=c.modified,this.company=c.company,this.manager=c.manager,this.title=c.title,this.subject=c.subject,this.keywords=c.keywords,this.category=c.category,this.description=c.description,this.language=c.language,this.revision=c.revision,this.contentStatus=c.contentStatus,this.properties=c.properties,this.calcProperties=c.calcProperties,this._worksheets=[],c.worksheets.forEach(u=>{const{id:d,name:h,state:f}=u,m=c.sheets&&c.sheets.findIndex(g=>g.id===d);(this._worksheets[d]=new i({id:d,name:h,orderNo:m,state:f,workbook:this})).model=u}),this._definedNames.model=c.definedNames,this.views=c.views,this._themes=c.themes,this.media=c.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(t,n,s){const i=t("../utils/under-dash"),a=t("../utils/col-cache"),o=t("./range"),l=t("./row"),c=t("./column"),u=t("./enums"),d=t("./image"),h=t("./table"),f=t("./data-validations"),m=t("../utils/encryptor"),{copyStyle:g}=t("../utils/copy-style");n.exports=class{constructor(p){p=p||{},this._workbook=p.workbook,this.id=p.id,this.orderNo=p.orderNo,this.name=p.name,this.state=p.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},p.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!p.pageSetup||!p.pageSetup.fitToWidth&&!p.pageSetup.fitToHeight||p.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},p.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},p.headerFooter),this.dataValidations=new f,this.views=p.views||[],this.autoFilter=p.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(p){if(p===void 0&&(p="sheet"+this.id),this._name!==p){if(typeof p!="string")throw new Error("The name has to be a string.");if(p==="")throw new Error("The name can't be empty.");if(p==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(p))throw new Error(`Worksheet name ${p} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(p))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+p);if(p&&p.length>31&&(console.warn(`Worksheet name ${p} exceeds 31 chars. This will be truncated`),p=p.substring(0,31)),this._workbook._worksheets.find(v=>v&&v.name.toLowerCase()===p.toLowerCase()))throw new Error("Worksheet name already exists: "+p);this._name=p}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const p=new o;return this._rows.forEach(v=>{if(v){const y=v.dimensions;y&&p.expand(v.number,y.min,v.number,y.max)}}),p}get columns(){return this._columns}set columns(p){this._headerRowCount=p.reduce((b,E)=>{const N=(E.header?1:E.headers&&E.headers.length)||0;return Math.max(b,N)},0);let v=1;const y=this._columns=[];p.forEach(b=>{const E=new c(this,v++,!1);y.push(E),E.defn=b})}getColumnKey(p){return this._keys[p]}setColumnKey(p,v){this._keys[p]=v}deleteColumnKey(p){delete this._keys[p]}eachColumnKey(p){i.each(this._keys,p)}getColumn(p){if(typeof p=="string"){const v=this._keys[p];if(v)return v;p=a.l2n(p)}if(this._columns||(this._columns=[]),p>this._columns.length){let v=this._columns.length+1;for(;v<=p;)this._columns.push(new c(this,v++))}return this._columns[p-1]}spliceColumns(p,v){const y=this._rows.length;for(var b=arguments.length,E=new Array(b>2?b-2:0),N=2;N<b;N++)E[N-2]=arguments[N];if(E.length>0)for(let I=0;I<y;I++){const V=[p,v];E.forEach(P=>{V.push(P[I]||null)});const B=this.getRow(I+1);B.splice.apply(B,V)}else this._rows.forEach(I=>{I&&I.splice(p,v)});const j=E.length-v,D=p+v,C=this._columns.length;if(j<0)for(let I=p+E.length;I<=C;I++)this.getColumn(I).defn=this.getColumn(I-j).defn;else if(j>0)for(let I=C;I>=D;I--)this.getColumn(I+j).defn=this.getColumn(I).defn;for(let I=p;I<p+E.length;I++)this.getColumn(I).defn=null;this.workbook.definedNames.spliceColumns(this.name,p,v,E.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let p=0;return this.eachRow(v=>{p=Math.max(p,v.cellCount)}),p}get actualColumnCount(){const p=[];let v=0;return this.eachRow(y=>{y.eachCell(b=>{let{col:E}=b;p[E]||(p[E]=!0,v++)})}),v}_commitRow(){}get _lastRowNumber(){const p=this._rows;let v=p.length;for(;v>0&&p[v-1]===void 0;)v--;return v}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(p){return this._rows[p-1]}findRows(p,v){return this._rows.slice(p-1,p-1+v)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let p=0;return this.eachRow(()=>{p++}),p}getRow(p){let v=this._rows[p-1];return v||(v=this._rows[p-1]=new l(this,p)),v}getRows(p,v){if(v<1)return;const y=[];for(let b=p;b<p+v;b++)y.push(this.getRow(b));return y}addRow(p){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const y=this._nextRow,b=this.getRow(y);return b.values=p,this._setStyleOption(y,v[0]==="i"?v:"n"),b}addRows(p){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const y=[];return p.forEach(b=>{y.push(this.addRow(b,v))}),y}insertRow(p,v){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(p,0,v),this._setStyleOption(p,y),this.getRow(p)}insertRows(p,v){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(p,0,...v),y!=="n")for(let b=0;b<v.length;b++)y[0]==="o"&&this.findRow(v.length+p+b)!==void 0?this._copyStyle(v.length+p+b,p+b,y[1]==="+"):y[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p+b,y[1]==="+");return this.getRows(p,v.length)}_setStyleOption(p){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";v[0]==="o"&&this.findRow(p+1)!==void 0?this._copyStyle(p+1,p,v[1]==="+"):v[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p,v[1]==="+")}_copyStyle(p,v){let y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const b=this.getRow(p),E=this.getRow(v);E.style=g(b.style),b.eachCell({includeEmpty:y},(N,j)=>{E.getCell(j).style=g(N.style)}),E.height=b.height}duplicateRow(p,v){let y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const b=this._rows[p-1],E=new Array(v).fill(b.values);this.spliceRows(p+1,y?0:v,...E);for(let N=0;N<v;N++){const j=this._rows[p+N];j.style=b.style,j.height=b.height,b.eachCell({includeEmpty:!0},(D,C)=>{j.getCell(C).style=D.style})}}spliceRows(p,v){const y=p+v;for(var b=arguments.length,E=new Array(b>2?b-2:0),N=2;N<b;N++)E[N-2]=arguments[N];const j=E.length,D=j-v,C=this._rows.length;let I,V;if(D<0)for(p===C&&(this._rows[C-1]=void 0),I=y;I<=C;I++)if(V=this._rows[I-1],V){const B=this.getRow(I+D);B.values=V.values,B.style=V.style,B.height=V.height,V.eachCell({includeEmpty:!0},(P,k)=>{B.getCell(k).style=P.style}),this._rows[I-1]=void 0}else this._rows[I+D-1]=void 0;else if(D>0)for(I=C;I>=y;I--)if(V=this._rows[I-1],V){const B=this.getRow(I+D);B.values=V.values,B.style=V.style,B.height=V.height,V.eachCell({includeEmpty:!0},(P,k)=>{if(B.getCell(k).style=P.style,P._value.constructor.name==="MergeValue"){const M=this.getRow(P._row._number+j).getCell(k),A=P._value._master,w=this.getRow(A._row._number+j).getCell(A._column._number);M.merge(w)}})}else this._rows[I+D-1]=void 0;for(I=0;I<j;I++){const B=this.getRow(p+I);B.style={},B.values=E[I]}this.workbook.definedNames.spliceRows(this.name,p,v,j)}eachRow(p,v){if(v||(v=p,p=void 0),p&&p.includeEmpty){const y=this._rows.length;for(let b=1;b<=y;b++)v(this.getRow(b),b)}else this._rows.forEach(y=>{y&&y.hasValues&&v(y,y.number)})}getSheetValues(){const p=[];return this._rows.forEach(v=>{v&&(p[v.number]=v.values)}),p}findCell(p,v){const y=a.getAddress(p,v),b=this._rows[y.row-1];return b?b.findCell(y.col):void 0}getCell(p,v){const y=a.getAddress(p,v);return this.getRow(y.row).getCellEx(y)}mergeCells(){for(var p=arguments.length,v=new Array(p),y=0;y<p;y++)v[y]=arguments[y];const b=new o(v);this._mergeCellsInternal(b)}mergeCellsWithoutStyle(){for(var p=arguments.length,v=new Array(p),y=0;y<p;y++)v[y]=arguments[y];const b=new o(v);this._mergeCellsInternal(b,!0)}_mergeCellsInternal(p,v){i.each(this._merges,b=>{if(b.intersects(p))throw new Error("Cannot merge already merged cells")});const y=this.getCell(p.top,p.left);for(let b=p.top;b<=p.bottom;b++)for(let E=p.left;E<=p.right;E++)(b>p.top||E>p.left)&&this.getCell(b,E).merge(y,v);this._merges[y.address]=p}_unMergeMaster(p){const v=this._merges[p.address];if(v){for(let y=v.top;y<=v.bottom;y++)for(let b=v.left;b<=v.right;b++)this.getCell(y,b).unmerge();delete this._merges[p.address]}}get hasMerges(){return i.some(this._merges,Boolean)}unMergeCells(){for(var p=arguments.length,v=new Array(p),y=0;y<p;y++)v[y]=arguments[y];const b=new o(v);for(let E=b.top;E<=b.bottom;E++)for(let N=b.left;N<=b.right;N++){const j=this.findCell(E,N);j&&(j.type===u.ValueType.Merge?this._unMergeMaster(j.master):this._merges[j.address]&&this._unMergeMaster(j))}}fillFormula(p,v,y){let b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const E=a.decode(p),{top:N,left:j,bottom:D,right:C}=E,I=C-j+1,V=a.encodeAddress(N,j),B=b==="shared";let P;P=typeof y=="function"?y:Array.isArray(y)?Array.isArray(y[0])?(M,A)=>y[M-N][A-j]:(M,A)=>y[(M-N)*I+(A-j)]:()=>{};let k=!0;for(let M=N;M<=D;M++)for(let A=j;A<=C;A++)k?(this.getCell(M,A).value={shareType:b,formula:v,ref:p,result:P(M,A)},k=!1):this.getCell(M,A).value=B?{sharedFormula:V,result:P(M,A)}:P(M,A)}addImage(p,v){const y={type:"image",imageId:p,range:v};this._media.push(new d(this,y))}getImages(){return this._media.filter(p=>p.type==="image")}addBackgroundImage(p){const v={type:"background",imageId:p};this._media.push(new d(this,v))}getBackgroundImageId(){const p=this._media.find(v=>v.type==="background");return p&&p.imageId}protect(p,v){return new Promise(y=>{this.sheetProtection={sheet:!0},v&&"spinCount"in v&&(v.spinCount=Number.isFinite(v.spinCount)?Math.round(Math.max(0,v.spinCount)):1e5),p&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=m.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=v&&"spinCount"in v?v.spinCount:1e5,this.sheetProtection.hashValue=m.convertPasswordToHash(p,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),v&&(this.sheetProtection=Object.assign(this.sheetProtection,v),!p&&"spinCount"in v&&delete this.sheetProtection.spinCount),y()})}unprotect(){this.sheetProtection=null}addTable(p){const v=new h(this,p);return this.tables[p.name]=v,v}getTable(p){return this.tables[p]}removeTable(p){delete this.tables[p]}getTables(){return Object.values(this.tables)}addConditionalFormatting(p){this.conditionalFormattings.push(p)}removeConditionalFormatting(p){typeof p=="number"?this.conditionalFormattings.splice(p,1):this.conditionalFormattings=p instanceof Function?this.conditionalFormattings.filter(p):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(p){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=p}get model(){const p={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(b=>b.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(b=>b.model),conditionalFormattings:this.conditionalFormattings};p.cols=c.toModel(this.columns);const v=p.rows=[],y=p.dimensions=new o;return this._rows.forEach(b=>{const E=b&&b.model;E&&(y.expand(E.number,E.min,E.number,E.max),v.push(E))}),p.merges=[],i.each(this._merges,b=>{p.merges.push(b.range)}),p}_parseRows(p){this._rows=[],p.rows.forEach(v=>{const y=new l(this,v.number);this._rows[y.number-1]=y,y.model=v})}_parseMergeCells(p){i.each(p.mergeCells,v=>{this.mergeCellsWithoutStyle(v)})}set model(p){this.name=p.name,this._columns=c.fromModel(this,p.cols),this._parseRows(p),this._parseMergeCells(p),this.dataValidations=new f(p.dataValidations),this.properties=p.properties,this.pageSetup=p.pageSetup,this.headerFooter=p.headerFooter,this.views=p.views,this.autoFilter=p.autoFilter,this._media=p.media.map(v=>new d(this,v)),this.sheetProtection=p.sheetProtection,this.tables=p.tables.reduce((v,y)=>{const b=new h;return b.model=y,v[y.name]=b,v},{}),this.conditionalFormattings=p.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(t,n,s){t("core-js/modules/es.promise"),t("core-js/modules/es.promise.finally"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.values"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.async-iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.find"),t("core-js/modules/es.string.from-code-point"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.number.is-nan"),t("regenerator-runtime/runtime");const i={Workbook:t("./doc/workbook")},a=t("./doc/enums");Object.keys(a).forEach(o=>{i[o]=a[o]}),n.exports=i},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(t,n,s){const i=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");s.bufferToString=function(a){return typeof a=="string"?a:i?i.decode(a):a.toString()}},{}],17:[function(t,n,s){const i=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:a}=t("buffer");s.stringToBuffer=function(o){return typeof o!="string"?o:i?a.from(i.encode(o).buffer):a.from(o)}},{buffer:220}],18:[function(t,n,s){const i=t("./under-dash"),a=t("./col-cache");n.exports=class{constructor(o){this.template=o,this.sheets={}}addCell(o){this.addCellEx(a.decodeEx(o))}getCell(o){return this.findCellEx(a.decodeEx(o),!0)}findCell(o){return this.findCellEx(a.decodeEx(o),!1)}findCellAt(o,l,c){const u=this.sheets[o],d=u&&u[l];return d&&d[c]}addCellEx(o){if(o.top)for(let l=o.top;l<=o.bottom;l++)for(let c=o.left;c<=o.right;c++)this.getCellAt(o.sheetName,l,c);else this.findCellEx(o,!0)}getCellEx(o){return this.findCellEx(o,!0)}findCellEx(o,l){const c=this.findSheet(o,l),u=this.findSheetRow(c,o,l);return this.findRowCell(u,o,l)}getCellAt(o,l,c){const u=this.sheets[o]||(this.sheets[o]=[]),d=u[l]||(u[l]=[]);return d[c]||(d[c]={sheetName:o,address:a.n2l(c)+l,row:l,col:c})}removeCellEx(o){const l=this.findSheet(o);if(!l)return;const c=this.findSheetRow(l,o);c&&delete c[o.col]}forEachInSheet(o,l){const c=this.sheets[o];c&&c.forEach((u,d)=>{u&&u.forEach((h,f)=>{h&&l(h,d,f)})})}forEach(o){i.each(this.sheets,(l,c)=>{this.forEachInSheet(c,o)})}map(o){const l=[];return this.forEach(c=>{l.push(o(c))}),l}findSheet(o,l){const c=o.sheetName;return this.sheets[c]?this.sheets[c]:l?this.sheets[c]=[]:void 0}findSheetRow(o,l,c){const{row:u}=l;return o&&o[u]?o[u]:c?o[u]=[]:void 0}findRowCell(o,l,c){const{col:u}=l;return o&&o[u]?o[u]:c?o[u]=this.template?Object.assign(l,JSON.parse(JSON.stringify(this.template))):l:void 0}spliceRows(o,l,c,u){const d=this.sheets[o];if(d){const h=[];for(let f=0;f<u;f++)h.push([]);d.splice(l,c,...h)}}spliceColumns(o,l,c,u){const d=this.sheets[o];if(d){const h=[];for(let f=0;f<u;f++)h.push(null);i.each(d,f=>{f.splice(l,c,...h)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(t,n,s){const i=/^[A-Z]+\d+$/,a={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:o=>o<=26?1:o<=676?2:3,_fill(o){let l,c,u,d,h,f=1;if(o>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&o>=1){for(;f<=26;)l=this._dictionary[f-1],this._n2l[f]=l,this._l2n[l]=f,f++;this._l2nFill=1}if(this._l2nFill<2&&o>=2){for(f=27;f<=702;)c=f-27,u=c%26,d=Math.floor(c/26),l=this._dictionary[d]+this._dictionary[u],this._n2l[f]=l,this._l2n[l]=f,f++;this._l2nFill=2}if(this._l2nFill<3&&o>=3){for(f=703;f<=16384;)c=f-703,u=c%26,d=Math.floor(c/26)%26,h=Math.floor(c/676),l=this._dictionary[h]+this._dictionary[d]+this._dictionary[u],this._n2l[f]=l,this._l2n[l]=f,f++;this._l2nFill=3}},l2n(o){if(this._l2n[o]||this._fill(o.length),!this._l2n[o])throw new Error("Out of bounds. Invalid column letter: "+o);return this._l2n[o]},n2l(o){if(o<1||o>16384)throw new Error(o+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[o]||this._fill(this._level(o)),this._n2l[o]},_hash:{},validateAddress(o){if(!i.test(o))throw new Error("Invalid Address: "+o);return!0},decodeAddress(o){const l=o.length<5&&this._hash[o];if(l)return l;let c=!1,u="",d=0,h=!1,f="",m=0;for(let p,v=0;v<o.length;v++)if(p=o.charCodeAt(v),!h&&p>=65&&p<=90)c=!0,u+=o[v],d=26*d+p-64;else if(p>=48&&p<=57)h=!0,f+=o[v],m=10*m+p-48;else if(h&&c&&p!==36)break;if(c){if(d>16384)throw new Error("Out of bounds. Invalid column letter: "+u)}else d=void 0;h||(m=void 0);const g={address:o=u+f,col:d,row:m,$col$row:`$${u}$${f}`};return d<=100&&m<=100&&(this._hash[o]=g,this._hash[g.$col$row]=g),g},getAddress(o,l){if(l){const c=this.n2l(l)+o;return this.decodeAddress(c)}return this.decodeAddress(o)},decode(o){const l=o.split(":");if(l.length===2){const c=this.decodeAddress(l[0]),u=this.decodeAddress(l[1]),d={top:Math.min(c.row,u.row),left:Math.min(c.col,u.col),bottom:Math.max(c.row,u.row),right:Math.max(c.col,u.col)};return d.tl=this.n2l(d.left)+d.top,d.br=this.n2l(d.right)+d.bottom,d.dimensions=`${d.tl}:${d.br}`,d}return this.decodeAddress(o)},decodeEx(o){const l=o.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),c=l[1]||l[2],u=l[3],d=u.split(":");if(d.length>1){let f=this.decodeAddress(d[0]),m=this.decodeAddress(d[1]);const g=Math.min(f.row,m.row),p=Math.min(f.col,m.col),v=Math.max(f.row,m.row),y=Math.max(f.col,m.col);return f=this.n2l(p)+g,m=this.n2l(y)+v,{top:g,left:p,bottom:v,right:y,sheetName:c,tl:{address:f,col:p,row:g,$col$row:`$${this.n2l(p)}$${g}`,sheetName:c},br:{address:m,col:y,row:v,$col$row:`$${this.n2l(y)}$${v}`,sheetName:c},dimensions:`${f}:${m}`}}if(u.startsWith("#"))return c?{sheetName:c,error:u}:{error:u};const h=this.decodeAddress(u);return c?{sheetName:c,...h}:h},encodeAddress:(o,l)=>a.n2l(l)+o,encode(){switch(arguments.length){case 2:return a.encodeAddress(arguments[0],arguments[1]);case 4:return`${a.encodeAddress(arguments[0],arguments[1])}:${a.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(o,l){const[c,u,,d,h]=o,[f,m]=l;return f>=c&&f<=d&&m>=u&&m<=h}};n.exports=a},{}],20:[function(t,n,s){const i=(o,l)=>({...o,...l.reduce((c,u)=>(o[u]&&(c[u]={...o[u]}),c),{})}),a=function(o,l,c){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];o[c]&&(l[c]=i(o[c],u))};s.copyStyle=o=>{if(!o)return o;if(l=o,Object.keys(l).length===0)return{};var l;const c={...o};return a(o,c,"font",["color"]),a(o,c,"alignment"),a(o,c,"protection"),o.border&&(a(o,c,"border"),a(o.border,c.border,"top",["color"]),a(o.border,c.border,"left",["color"]),a(o.border,c.border,"bottom",["color"]),a(o.border,c.border,"right",["color"]),a(o.border,c.border,"diagonal",["color"])),o.fill&&(a(o,c,"fill",["fgColor","bgColor","center"]),o.fill.stops&&(c.fill.stops=o.fill.stops.map(u=>i(u,["color"])))),c}},{}],21:[function(t,n,s){(function(i){(function(){const a=t("crypto"),o={hash(l){const c=a.createHash(l);for(var u=arguments.length,d=new Array(u>1?u-1:0),h=1;h<u;h++)d[h-1]=arguments[h];return c.update(i.concat(d)),c.digest()},convertPasswordToHash(l,c,u,d){if(c=c.toLowerCase(),a.getHashes().indexOf(c)<0)throw new Error(`Hash algorithm '${c}' not supported!`);const h=i.from(l,"utf16le");let f=this.hash(c,i.from(u,"base64"),h);for(let m=0;m<d;m++){const g=i.alloc(4);g.writeUInt32LE(m,0),f=this.hash(c,f,g)}return f.toString("base64")},randomBytes:l=>a.randomBytes(l)};n.exports=o}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(t,n,s){const{SaxesParser:i}=t("saxes"),{PassThrough:a}=t("readable-stream"),{bufferToString:o}=t("./browser-buffer-decode");n.exports=async function*(l){l.pipe&&!l[Symbol.asyncIterator]&&(l=l.pipe(new a));const c=new i;let u;c.on("error",h=>{u=h});let d=[];c.on("opentag",h=>d.push({eventType:"opentag",value:h})),c.on("text",h=>d.push({eventType:"text",value:h})),c.on("closetag",h=>d.push({eventType:"closetag",value:h}));for await(const h of l){if(c.write(o(h)),u)throw u;yield d,d=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(t,n,s){const i=t("./col-cache"),a=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,o=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;n.exports={slideFormula:function(l,c,u){const d=i.decode(c),h=i.decode(u);return l.replace(a,(f,m,g,p,v)=>{if(v)return f;const y=o.exec(p);if(y){const b=y[1],E=y[2].toUpperCase(),N=y[3],j=y[4];if(E.length>3||E.length===3&&E>"XFD")return f;let D=i.l2n(E),C=parseInt(j,10);return b||(D+=h.col-d.col),N||(C+=h.row-d.row),(m||"")+(b||"")+i.n2l(D)+(N||"")+C}return f})}}},{"./col-cache":19}],24:[function(t,n,s){(function(i,a){(function(){const o=t("readable-stream"),l=t("./utils"),c=t("./string-buf");class u{constructor(p,v){this._data=p,this._encoding=v}get length(){return this.toBuffer().length}copy(p,v,y,b){return this.toBuffer().copy(p,v,y,b)}toBuffer(){return this._buffer||(this._buffer=a.from(this._data,this._encoding)),this._buffer}}class d{constructor(p){this._data=p}get length(){return this._data.length}copy(p,v,y,b){return this._data._buf.copy(p,v,y,b)}toBuffer(){return this._data.toBuffer()}}class h{constructor(p){this._data=p}get length(){return this._data.length}copy(p,v,y,b){this._data.copy(p,v,y,b)}toBuffer(){return this._data}}class f{constructor(p){this.size=p,this.buffer=a.alloc(p),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const p=a.alloc(this.iWrite-this.iRead);return this.buffer.copy(p,0,this.iRead,this.iWrite),p}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(p){let v;return p===0?null:p===void 0||p>=this.length?(v=this.toBuffer(),this.iRead=this.iWrite,v):(v=a.alloc(p),this.buffer.copy(v,0,this.iRead,p),this.iRead+=p,v)}write(p,v,y){const b=Math.min(y,this.size-this.iWrite);return p.copy(this.buffer,this.iWrite,v,v+b),this.iWrite+=b,b}}const m=function(g){g=g||{},this.bufSize=g.bufSize||1048576,this.buffers=[],this.batch=g.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};l.inherits(m,o.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return a.concat(this.buffers.map(g=>g.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const p=this.buffers[this.buffers.length-1];if(!p.full)return p}const g=new f(this.bufSize);return this.buffers.push(g),g},async _pipe(g){await Promise.all(this.pipes.map(function(p){return new Promise(v=>{p.write(g.toBuffer(),()=>{v()})})}))},_writeToBuffers(g){let p=0;const v=g.length;for(;p<v;)p+=this._getWritableBuffer().write(g,p,v-p)},async write(g,p,v){let y;if(p instanceof Function&&(v=p,p="utf8"),v=v||l.nop,g instanceof c)y=new d(g);else if(g instanceof a)y=new h(g);else{if(!(typeof g=="string"||g instanceof String||g instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");y=new u(g,p)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(y);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(y),i.nextTick(v)):(await this._pipe(y),v());else this.paused||this.emit("data",y.toBuffer()),this._writeToBuffers(y),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(g,p,v){const y=b=>{b?v(b):(this._flush(),this.pipes.forEach(E=>{E.end()}),this.emit("finish"))};g?this.write(g,p,y):y()},read(g){let p;if(g){for(p=[];g&&this.buffers.length&&!this.buffers[0].eod;){const v=this.buffers[0],y=v.read(g);g-=y.length,p.push(y),v.eod&&v.full&&this.buffers.shift()}return a.concat(p)}return p=this.buffers.map(v=>v.toBuffer()).filter(Boolean),this.buffers=[],a.concat(p)},setEncoding(g){this.encoding=g},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(g){this.pipes.push(g),!this.paused&&this.buffers.length&&this.end()},unpipe(g){this.pipes=this.pipes.filter(p=>p!==g)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),n.exports=m}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(t,n,s){(function(i){(function(){n.exports=class{constructor(a){this._buf=i.alloc(a&&a.size||16384),this._encoding=a&&a.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=i.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(a){a=a||0,this._buffer=void 0,this._inPos=a}_grow(a){let o=2*this._buf.length;for(;o<a;)o*=2;const l=i.alloc(o);this._buf.copy(l,0),this._buf=l}addText(a){this._buffer=void 0;let o=this._inPos+this._buf.write(a,this._inPos,this._encoding);for(;o>=this._buf.length-4;)this._grow(this._inPos+a.length),o=this._inPos+this._buf.write(a,this._inPos,this._encoding);this._inPos=o}addStringBuf(a){a.length&&(this._buffer=void 0,this.length+a.length>this.capacity&&this._grow(this.length+a.length),a._buf.copy(this._buf,this._inPos,0,a.length),this._inPos+=a.length)}}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],26:[function(t,n,s){const{toString:i}=Object.prototype,a=/["&<>]/,o={each:function(l,c){l&&(Array.isArray(l)?l.forEach(c):Object.keys(l).forEach(u=>{c(l[u],u)}))},some:function(l,c){return!!l&&(Array.isArray(l)?l.some(c):Object.keys(l).some(u=>c(l[u],u)))},every:function(l,c){return!l||(Array.isArray(l)?l.every(c):Object.keys(l).every(u=>c(l[u],u)))},map:function(l,c){return l?Array.isArray(l)?l.map(c):Object.keys(l).map(u=>c(l[u],u)):[]},keyBy:(l,c)=>l.reduce((u,d)=>(u[d[c]]=d,u),{}),isEqual:function(l,c){const u=typeof l,d=typeof c,h=Array.isArray(l),f=Array.isArray(c);let m;if(u!==d)return!1;switch(typeof l){case"object":if(h||f)return!(!h||!f)&&l.length===c.length&&l.every((g,p)=>{const v=c[p];return o.isEqual(g,v)});if(l===null||c===null)return l===c;if(m=Object.keys(l),Object.keys(c).length!==m.length)return!1;for(const g of m)if(!c.hasOwnProperty(g))return!1;return o.every(l,(g,p)=>{const v=c[p];return o.isEqual(g,v)});default:return l===c}},escapeHtml(l){const c=a.exec(l);if(!c)return l;let u="",d="",h=0,f=c.index;for(;f<l.length;f++){switch(l.charAt(f)){case'"':d="&quot;";break;case"&":d="&amp;";break;case"'":d="&apos;";break;case"<":d="&lt;";break;case">":d="&gt;";break;default:continue}h!==f&&(u+=l.substring(h,f)),h=f+1,u+=d}return h!==f?u+l.substring(h,f):u},strcmp:(l,c)=>l<c?-1:l>c?1:0,isUndefined:l=>i.call(l)==="[object Undefined]",isObject:l=>i.call(l)==="[object Object]",deepMerge(){const l=arguments[0]||{},{length:c}=arguments;let u,d,h;function f(m,g){u=l[g],h=Array.isArray(m),o.isObject(m)||h?(h?(h=!1,d=u&&Array.isArray(u)?u:[]):d=u&&o.isObject(u)?u:{},l[g]=o.deepMerge(d,m)):o.isUndefined(m)||(l[g]=m)}for(let m=0;m<c;m++)o.each(arguments[m],f);return l}};n.exports=o},{}],27:[function(t,n,s){(function(i,a){(function(){const o=t("fs"),l=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,c={nop(){},promiseImmediate:u=>new Promise(d=>{i.setImmediate?a(()=>{d(u)}):setTimeout(()=>{d(u)},1)}),inherits:function(u,d,h,f){u.super_=d,f||(f=h,h=null),h&&Object.keys(h).forEach(g=>{Object.defineProperty(u,g,Object.getOwnPropertyDescriptor(h,g))});const m={constructor:{value:u,enumerable:!1,writable:!1,configurable:!0}};f&&Object.keys(f).forEach(g=>{m[g]=Object.getOwnPropertyDescriptor(f,g)}),u.prototype=Object.create(d.prototype,m)},dateToExcel:(u,d)=>25569+u.getTime()/864e5-(d?1462:0),excelToDate(u,d){const h=Math.round(24*(u-25569+(d?1462:0))*3600*1e3);return new Date(h)},parsePath(u){const d=u.lastIndexOf("/");return{path:u.substring(0,d),name:u.substring(d+1)}},getRelsPath(u){const d=c.parsePath(u);return`${d.path}/_rels/${d.name}.rels`},xmlEncode(u){const d=l.exec(u);if(!d)return u;let h="",f="",m=0,g=d.index;for(;g<u.length;g++){const p=u.charCodeAt(g);switch(p){case 34:f="&quot;";break;case 38:f="&amp;";break;case 39:f="&apos;";break;case 60:f="&lt;";break;case 62:f="&gt;";break;case 127:f="";break;default:if(p<=31&&(p<=8||p>=11&&p!==13)){f="";break}continue}m!==g&&(h+=u.substring(m,g)),m=g+1,f&&(h+=f)}return m!==g?h+u.substring(m,g):h},xmlDecode:u=>u.replace(/&([a-z]*);/g,d=>{switch(d){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return d}}),validInt(u){const d=parseInt(u,10);return Number.isNaN(d)?0:d},isDateFmt(u){return u?(u=(u=u.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:u=>new Promise(d=>{o.access(u,o.constants.F_OK,h=>{d(!h)})})},toIsoDateString:u=>u.toIsoString().subsstr(0,10),parseBoolean:u=>u===!0||u==="true"||u===1||u==="1"};n.exports=c}).call(this)}).call(this,typeof gr<"u"?gr:typeof self<"u"?self:typeof window<"u"?window:{},t("timers").setImmediate)},{fs:216,timers:523}],28:[function(t,n,s){const i=t("./under-dash"),a=t("./utils");function o(u,d,h){u.push(` ${d}="${a.xmlEncode(h.toString())}"`)}function l(u,d){if(d){const h=[];i.each(d,(f,m)=>{f!==void 0&&o(h,m,f)}),u.push(h.join(""))}}class c{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(d){const h=this._xml;h.push("<?xml"),l(h,d),h.push(`?>
`)}openNode(d,h){const f=this.tos,m=this._xml;f&&this.open&&m.push(">"),this._stack.push(d),m.push("<"),m.push(d),l(m,h),this.leaf=!0,this.open=!0}addAttribute(d,h){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");h!==void 0&&o(this._xml,d,h)}addAttributes(d){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");l(this._xml,d)}writeText(d){const h=this._xml;this.open&&(h.push(">"),this.open=!1),this.leaf=!1,h.push(a.xmlEncode(d.toString()))}writeXml(d){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(d)}closeNode(){const d=this._stack.pop(),h=this._xml;this.leaf?h.push("/>"):(h.push("</"),h.push(d),h.push(">")),this.open=!1,this.leaf=!1}leafNode(d,h,f){this.openNode(d,h),f!==void 0&&this.writeText(f),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const d=this._rollbacks.pop();this._xml.length>d.xml&&this._xml.splice(d.xml,this._xml.length-d.xml),this._stack.length>d.stack&&this._stack.splice(d.stack,this._stack.length-d.stack),this.leaf=d.leaf,this.open=d.open}get xml(){return this.closeAll(),this._xml.join("")}}c.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},n.exports=c},{"./under-dash":26,"./utils":27}],29:[function(t,n,s){(function(i){(function(){const a=t("events"),o=t("jszip"),l=t("./stream-buf"),{stringToBuffer:c}=t("./browser-buffer-encode");class u extends a.EventEmitter{constructor(h){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},h),this.zip=new o,this.stream=new l}append(h,f){f.hasOwnProperty("base64")&&f.base64?this.zip.file(f.name,h,{base64:!0}):(i.browser&&typeof h=="string"&&(h=c(h)),this.zip.file(f.name,h))}async finalize(){const h=await this.zip.generateAsync(this.options);this.stream.end(h),this.emit("finish")}read(h){return this.stream.read(h)}setEncoding(h){return this.stream.setEncoding(h)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(h,f){return this.stream.pipe(h,f)}unpipe(h){return this.stream.unpipe(h)}unshift(h){return this.stream.unshift(h)}wrap(h){return this.stream.wrap(h)}}n.exports={ZipWriter:u}}).call(this)}).call(this,t("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(t,n,s){n.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},28:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy"年"m"月"d"日"',"zh-cn":'yyyy"年"m"月"d"日"',"ja-jp":'yyyy"年"m"月"d"日"',"ko-kr":'yyyy"년" mm"월" dd"일"'},32:{"zh-tw":'hh"時"mm"分"',"zh-cn":'h"时"mm"分"',"ja-jp":'h"時"mm"分"',"ko-kr":'h"시" mm"분"'},33:{"zh-tw":'hh"時"mm"分"ss"秒"',"zh-cn":'h"时"mm"分"ss"秒"',"ja-jp":'h"時"mm"分"ss"秒"',"ko-kr":'h"시" mm"분" ss"초"'},34:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'上午/下午 h"时"mm"分"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'上午/下午 h"时"mm"分"ss"秒"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},51:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},52:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'yyyy"年"m"月"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'m"月"d"日"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},55:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'上午/下午 h"时"mm"分"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'上午/下午 h"时"mm"分"ss"秒"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},58:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(t,n,s){n.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(t,n,s){const i=t("../../utils/parse-sax"),a=t("../../utils/xml-stream");class o{prepare(){}render(){}parseOpen(c){}parseText(c){}parseClose(c){}reconcile(c,u){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(c=>{c instanceof o?c.reset():c.xform&&c.xform.reset()})}mergeModel(c){this.model=Object.assign(this.model||{},c)}async parse(c){for await(const u of c)for(const{eventType:d,value:h}of u)if(d==="opentag")this.parseOpen(h);else if(d==="text")this.parseText(h);else if(d==="closetag"&&!this.parseClose(h.name))return this.model;return this.model}async parseStream(c){return this.parse(i(c))}get xml(){return this.toXml(this.model)}toXml(c){const u=new a;return this.render(u,c),u.xml}static toAttribute(c,u){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(c===void 0){if(d)return u}else if(d||c!==u)return c.toString()}static toStringAttribute(c,u){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(c,u,d)}static toStringValue(c,u){return c===void 0?u:c}static toBoolAttribute(c,u){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(c===void 0){if(d)return u}else if(d||c!==u)return c?"1":"0"}static toBoolValue(c,u){return c===void 0?u:c==="1"}static toIntAttribute(c,u){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(c,u,d)}static toIntValue(c,u){return c===void 0?u:parseInt(c,10)}static toFloatAttribute(c,u){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(c,u,d)}static toFloatValue(c,u){return c===void 0?u:parseFloat(c)}}n.exports=o},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(t,n,s){const i=t("../base-xform"),a=t("../../../utils/col-cache");function o(c){try{return a.decodeEx(c),!0}catch{return!1}}function l(c){const u=[];let d=!1,h="";return c.split(",").forEach(f=>{if(!f)return;const m=(f.match(/'/g)||[]).length;if(!m)return void(d?h+=f+",":o(f)&&u.push(f));const g=m%2==0;!d&&g&&o(f)?u.push(f):d&&!g?(d=!1,o(h+f)&&u.push(h+f),h=""):(d=!0,h+=f+",")}),u}n.exports=class extends i{render(c,u){c.openNode("definedName",{name:u.name,localSheetId:u.localSheetId}),c.writeText(u.ranges.join(",")),c.closeNode()}parseOpen(c){switch(c.name){case"definedName":return this._parsedName=c.attributes.name,this._parsedLocalSheetId=c.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(c){this._parsedText.push(c)}parseClose(){return this.model={name:this._parsedName,ranges:l(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(t,n,s){const i=t("../../../utils/utils"),a=t("../base-xform");n.exports=class extends a{render(o,l){o.leafNode("sheet",{sheetId:l.id,name:l.name,state:l.state,"r:id":l.rId})}parseOpen(o){return o.name==="sheet"&&(this.model={name:i.xmlDecode(o.attributes.name),id:parseInt(o.attributes.sheetId,10),state:o.attributes.state,rId:o.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(t,n,s){const i=t("../base-xform");n.exports=class extends i{render(a,o){a.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:o.fullCalcOnLoad?1:void 0})}parseOpen(a){return a.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(t,n,s){const i=t("../base-xform");n.exports=class extends i{render(a,o){a.leafNode("workbookPr",{date1904:o.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(a){return a.name==="workbookPr"&&(this.model={date1904:a.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(t,n,s){const i=t("../base-xform");n.exports=class extends i{render(a,o){const l={xWindow:o.x||0,yWindow:o.y||0,windowWidth:o.width||12e3,windowHeight:o.height||24e3,firstSheet:o.firstSheet,activeTab:o.activeTab};o.visibility&&o.visibility!=="visible"&&(l.visibility=o.visibility),a.leafNode("workbookView",l)}parseOpen(a){if(a.name==="workbookView"){const o=this.model={},l=function(u,d,h){const f=d!==void 0?o[u]=d:h;f!==void 0&&(o[u]=f)},c=function(u,d,h){const f=d!==void 0?o[u]=parseInt(d,10):h;f!==void 0&&(o[u]=f)};return c("x",a.attributes.xWindow,0),c("y",a.attributes.yWindow,0),c("width",a.attributes.windowWidth,25e3),c("height",a.attributes.windowHeight,1e4),l("visibility",a.attributes.visibility,"visible"),c("activeTab",a.attributes.activeTab,void 0),c("firstSheet",a.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(t,n,s){const i=t("../../../utils/under-dash"),a=t("../../../utils/col-cache"),o=t("../../../utils/xml-stream"),l=t("../base-xform"),c=t("../static-xform"),u=t("../list-xform"),d=t("./defined-name-xform"),h=t("./sheet-xform"),f=t("./workbook-view-xform"),m=t("./workbook-properties-xform"),g=t("./workbook-calc-properties-xform");class p extends l{constructor(){super(),this.map={fileVersion:p.STATIC_XFORMS.fileVersion,workbookPr:new m,bookViews:new u({tag:"bookViews",count:!1,childXform:new f}),sheets:new u({tag:"sheets",count:!1,childXform:new h}),definedNames:new u({tag:"definedNames",count:!1,childXform:new d}),calcPr:new g}}prepare(y){y.sheets=y.worksheets;const b=[];let E=0;y.sheets.forEach(N=>{if(N.pageSetup&&N.pageSetup.printArea&&N.pageSetup.printArea.split("&&").forEach(j=>{const D=j.split(":"),C={name:"_xlnm.Print_Area",ranges:[`'${N.name}'!$${D[0]}:$${D[1]}`],localSheetId:E};b.push(C)}),N.pageSetup&&(N.pageSetup.printTitlesRow||N.pageSetup.printTitlesColumn)){const j=[];if(N.pageSetup.printTitlesColumn){const C=N.pageSetup.printTitlesColumn.split(":");j.push(`'${N.name}'!$${C[0]}:$${C[1]}`)}if(N.pageSetup.printTitlesRow){const C=N.pageSetup.printTitlesRow.split(":");j.push(`'${N.name}'!$${C[0]}:$${C[1]}`)}const D={name:"_xlnm.Print_Titles",ranges:j,localSheetId:E};b.push(D)}E++}),b.length&&(y.definedNames=y.definedNames.concat(b)),(y.media||[]).forEach((N,j)=>{N.name=N.type+(j+1)})}render(y,b){y.openXml(o.StdDocAttributes),y.openNode("workbook",p.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(y),this.map.workbookPr.render(y,b.properties),this.map.bookViews.render(y,b.views),this.map.sheets.render(y,b.sheets),this.map.definedNames.render(y,b.definedNames),this.map.calcPr.render(y,b.calcProperties),y.closeNode()}parseOpen(y){if(this.parser)return this.parser.parseOpen(y),!0;switch(y.name){case"workbook":return!0;default:return this.parser=this.map[y.name],this.parser&&this.parser.parseOpen(y),!0}}parseText(y){this.parser&&this.parser.parseText(y)}parseClose(y){if(this.parser)return this.parser.parseClose(y)||(this.parser=void 0),!0;switch(y){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(y){const b=(y.workbookRels||[]).reduce((C,I)=>(C[I.Id]=I,C),{}),E=[];let N,j=0;(y.sheets||[]).forEach(C=>{const I=b[C.rId];I&&(N=y.worksheetHash["xl/"+I.Target.replace(/^(\s|\/xl\/)+/,"")],N&&(N.name=C.name,N.id=C.id,N.state=C.state,E[j++]=N))});const D=[];i.each(y.definedNames,C=>{if(C.name==="_xlnm.Print_Area"){if(N=E[C.localSheetId],N){N.pageSetup||(N.pageSetup={});const I=a.decodeEx(C.ranges[0]);N.pageSetup.printArea=N.pageSetup.printArea?`${N.pageSetup.printArea}&&${I.dimensions}`:I.dimensions}}else if(C.name==="_xlnm.Print_Titles"){if(N=E[C.localSheetId],N){N.pageSetup||(N.pageSetup={});const I=C.ranges.join(","),V=/\$/g,B=/\$\d+:\$\d+/,P=I.match(B);if(P&&P.length){const A=P[0];N.pageSetup.printTitlesRow=A.replace(V,"")}const k=/\$[A-Z]+:\$[A-Z]+/,M=I.match(k);if(M&&M.length){const A=M[0];N.pageSetup.printTitlesColumn=A.replace(V,"")}}}else D.push(C)}),y.definedNames=D,y.media.forEach((C,I)=>{C.index=I})}}p.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},p.STATIC_XFORMS={fileVersion:new c({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},n.exports=p},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(t,n,s){const i=t("../strings/rich-text-xform"),a=t("../../../utils/utils"),o=t("../base-xform"),l=n.exports=function(c){this.model=c};a.inherits(l,o,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new i),this._richTextXform},render(c,u){u=u||this.model,c.openNode("comment",{ref:u.ref,authorId:0}),c.openNode("text"),u&&u.note&&u.note.texts&&u.note.texts.forEach(d=>{this.richTextXform.render(c,d)}),c.closeNode(),c.closeNode()},parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"comment":return this.model={type:"note",note:{texts:[]},...c.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(c),!0;default:return!1}},parseText(c){this.parser&&this.parser.parseText(c)},parseClose(c){switch(c){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(c),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(t,n,s){const i=t("../../../utils/xml-stream"),a=t("../../../utils/utils"),o=t("../base-xform"),l=t("./comment-xform"),c=n.exports=function(){this.map={comment:new l}};a.inherits(c,o,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(u,d){d=d||this.model,u.openXml(i.StdDocAttributes),u.openNode("comments",c.COMMENTS_ATTRIBUTES),u.openNode("authors"),u.leafNode("author",null,"Author"),u.closeNode(),u.openNode("commentList"),d.comments.forEach(h=>{this.map.comment.render(u,h)}),u.closeNode(),u.closeNode()},parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(u),!0;default:return!1}},parseText(u){this.parser&&this.parser.parseText(u)},parseClose(u){switch(u){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(t,n,s){const i=t("../../base-xform");n.exports=class extends i{constructor(a){super(),this._model=a}get tag(){return this._model&&this._model.tag}render(a,o,l){(o===l[2]||this.tag==="x:SizeWithCells"&&o===l[1])&&a.leafNode(this.tag)}parseOpen(a){switch(a.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(t,n,s){const i=t("../../base-xform");n.exports=class extends i{constructor(a){super(),this._model=a}get tag(){return this._model&&this._model.tag}render(a,o){a.leafNode(this.tag,null,o)}parseOpen(a){switch(a.name){case this.tag:return this.text="",!0;default:return!1}}parseText(a){this.text=a}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(t,n,s){const i=t("../base-xform");n.exports=class extends i{get tag(){return"x:Anchor"}getAnchorRect(a){const o=Math.floor(a.left),l=Math.floor(68*(a.left-o)),c=Math.floor(a.top),u=Math.floor(18*(a.top-c)),d=Math.floor(a.right),h=Math.floor(68*(a.right-d)),f=Math.floor(a.bottom);return[o,l,c,u,d,h,f,Math.floor(18*(a.bottom-f))]}getDefaultRect(a){const o=a.col,l=Math.max(a.row-2,0);return[o,6,l,14,o+2,2,l+4,16]}render(a,o){const l=o.anchor?this.getAnchorRect(o.anchor):this.getDefaultRect(o.refAddress);a.leafNode("x:Anchor",null,l.join(", "))}parseOpen(a){switch(a.name){case this.tag:return this.text="",!0;default:return!1}}parseText(a){this.text=a}parseClose(){return!1}}},{"../base-xform":32}],44:[function(t,n,s){const i=t("../base-xform"),a=t("./vml-anchor-xform"),o=t("./style/vml-protection-xform"),l=t("./style/vml-position-xform"),c=["twoCells","oneCells","absolute"];n.exports=class extends i{constructor(){super(),this.map={"x:Anchor":new a,"x:Locked":new o({tag:"x:Locked"}),"x:LockText":new o({tag:"x:LockText"}),"x:SizeWithCells":new l({tag:"x:SizeWithCells"}),"x:MoveWithCells":new l({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(u,d){const{protection:h,editAs:f}=d.note;u.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(u,f,c),this.map["x:SizeWithCells"].render(u,f,c),this.map["x:Anchor"].render(u,d),this.map["x:Locked"].render(u,h.locked),u.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(u,h.lockText),u.leafNode("x:Row",null,d.refAddress.row-1),u.leafNode("x:Column",null,d.refAddress.col-1),u.closeNode()}parseOpen(u){switch(u.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const u=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),d=Object.keys(u).length;this.model.editAs=c[d],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(t,n,s){const i=t("../../../utils/xml-stream"),a=t("../base-xform"),o=t("./vml-shape-xform");class l extends a{constructor(){super(),this.map={"v:shape":new o}}get tag(){return"xml"}render(u,d){u.openXml(i.StdDocAttributes),u.openNode(this.tag,l.DRAWING_ATTRIBUTES),u.openNode("o:shapelayout",{"v:ext":"edit"}),u.leafNode("o:idmap",{"v:ext":"edit",data:1}),u.closeNode(),u.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),u.leafNode("v:stroke",{joinstyle:"miter"}),u.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),u.closeNode(),d.comments.forEach((h,f)=>{this.map["v:shape"].render(u,h,f)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}reconcile(u,d){u.anchors.forEach(h=>{h.br?this.map["xdr:twoCellAnchor"].reconcile(h,d):this.map["xdr:oneCellAnchor"].reconcile(h,d)})}}l.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},n.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(t,n,s){const i=t("../base-xform"),a=t("./vml-textbox-xform"),o=t("./vml-client-data-xform");class l extends i{constructor(){super(),this.map={"v:textbox":new a,"x:ClientData":new o}}get tag(){return"v:shape"}render(u,d,h){u.openNode("v:shape",l.V_SHAPE_ATTRIBUTES(d,h)),u.leafNode("v:fill",{color2:"infoBackground [80]"}),u.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),u.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(u,d),this.map["x:ClientData"].render(u,d),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={margins:{insetmode:u.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}l.V_SHAPE_ATTRIBUTES=(c,u)=>({id:"_x0000_s"+(1025+u),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":c.note.margins&&c.note.margins.insetmode}),n.exports=l},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(t,n,s){const i=t("../base-xform");n.exports=class extends i{get tag(){return"v:textbox"}conversionUnit(a,o,l){return`${parseFloat(a)*o.toFixed(2)}${l}`}reverseConversionUnit(a){return(a||"").split(",").map(o=>Number(parseFloat(this.conversionUnit(parseFloat(o),.1,"")).toFixed(2)))}render(a,o){const l={style:"mso-direction-alt:auto"};if(o&&o.note){let{inset:c}=o.note&&o.note.margins;Array.isArray(c)&&(c=c.map(u=>this.conversionUnit(u,10,"mm")).join(",")),c&&(l.inset=c)}a.openNode("v:textbox",l),a.leafNode("div",{style:"text-align:left"}),a.closeNode()}parseOpen(a){switch(a.name){case this.tag:return this.model={inset:this.reverseConversionUnit(a.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(t,n,s){const i=t("./base-xform");n.exports=class extends i{createNewModel(a){return{}}parseOpen(a){return this.parser=this.parser||this.map[a.name],this.parser?(this.parser.parseOpen(a),!0):a.name===this.tag&&(this.model=this.createNewModel(a),!0)}parseText(a){this.parser&&this.parser.parseText(a)}onParserClose(a,o){this.model[a]=o.model}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.onParserClose(a,this.parser),this.parser=void 0),!0):a!==this.tag}}},{"./base-xform":32}],49:[function(t,n,s){const i=t("../base-xform");n.exports=class extends i{render(a,o){a.openNode("HeadingPairs"),a.openNode("vt:vector",{size:2,baseType:"variant"}),a.openNode("vt:variant"),a.leafNode("vt:lpstr",void 0,"Worksheets"),a.closeNode(),a.openNode("vt:variant"),a.leafNode("vt:i4",void 0,o.length),a.closeNode(),a.closeNode(),a.closeNode()}parseOpen(a){return a.name==="HeadingPairs"}parseText(){}parseClose(a){return a!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(t,n,s){const i=t("../base-xform");n.exports=class extends i{render(a,o){a.openNode("TitlesOfParts"),a.openNode("vt:vector",{size:o.length,baseType:"lpstr"}),o.forEach(l=>{a.leafNode("vt:lpstr",void 0,l.name)}),a.closeNode(),a.closeNode()}parseOpen(a){return a.name==="TitlesOfParts"}parseText(){}parseClose(a){return a!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(t,n,s){const i=t("../../../utils/xml-stream"),a=t("../base-xform"),o=t("../simple/string-xform"),l=t("./app-heading-pairs-xform"),c=t("./app-titles-of-parts-xform");class u extends a{constructor(){super(),this.map={Company:new o({tag:"Company"}),Manager:new o({tag:"Manager"}),HeadingPairs:new l,TitleOfParts:new c}}render(h,f){h.openXml(i.StdDocAttributes),h.openNode("Properties",u.PROPERTY_ATTRIBUTES),h.leafNode("Application",void 0,"Microsoft Excel"),h.leafNode("DocSecurity",void 0,"0"),h.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(h,f.worksheets),this.map.TitleOfParts.render(h,f.worksheets),this.map.Company.render(h,f.company||""),this.map.Manager.render(h,f.manager),h.leafNode("LinksUpToDate",void 0,"false"),h.leafNode("SharedDoc",void 0,"false"),h.leafNode("HyperlinksChanged",void 0,"false"),h.leafNode("AppVersion",void 0,"16.0300"),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"Properties":return!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}u.DateFormat=function(d){return d.toISOString().replace(/[.]\d{3,6}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(t,n,s){const i=t("../../../utils/xml-stream"),a=t("../base-xform");class o extends a{render(c,u){c.openXml(i.StdDocAttributes),c.openNode("Types",o.PROPERTY_ATTRIBUTES);const d={};(u.media||[]).forEach(h=>{if(h.type==="image"){const f=h.extension;d[f]||(d[f]=!0,c.leafNode("Default",{Extension:f,ContentType:"image/"+f}))}}),c.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),c.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),c.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),u.worksheets.forEach(h=>{const f=`/xl/worksheets/sheet${h.id}.xml`;c.leafNode("Override",{PartName:f,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),c.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),c.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),u.sharedStrings&&u.sharedStrings.count&&c.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),u.tables&&u.tables.forEach(h=>{c.leafNode("Override",{PartName:"/xl/tables/"+h.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),u.drawings&&u.drawings.forEach(h=>{c.leafNode("Override",{PartName:`/xl/drawings/${h.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),u.commentRefs&&(c.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),u.commentRefs.forEach(h=>{let{commentName:f}=h;c.leafNode("Override",{PartName:`/xl/${f}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),c.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),c.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),c.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}o.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},n.exports=o},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(t,n,s){const i=t("../../../utils/xml-stream"),a=t("../base-xform"),o=t("../simple/date-xform"),l=t("../simple/string-xform"),c=t("../simple/integer-xform");class u extends a{constructor(){super(),this.map={"dc:creator":new l({tag:"dc:creator"}),"dc:title":new l({tag:"dc:title"}),"dc:subject":new l({tag:"dc:subject"}),"dc:description":new l({tag:"dc:description"}),"dc:identifier":new l({tag:"dc:identifier"}),"dc:language":new l({tag:"dc:language"}),"cp:keywords":new l({tag:"cp:keywords"}),"cp:category":new l({tag:"cp:category"}),"cp:lastModifiedBy":new l({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new o({tag:"cp:lastPrinted",format:u.DateFormat}),"cp:revision":new c({tag:"cp:revision"}),"cp:version":new l({tag:"cp:version"}),"cp:contentStatus":new l({tag:"cp:contentStatus"}),"cp:contentType":new l({tag:"cp:contentType"}),"dcterms:created":new o({tag:"dcterms:created",attrs:u.DateAttrs,format:u.DateFormat}),"dcterms:modified":new o({tag:"dcterms:modified",attrs:u.DateAttrs,format:u.DateFormat})}}render(h,f){h.openXml(i.StdDocAttributes),h.openNode("cp:coreProperties",u.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(h,f.creator),this.map["dc:title"].render(h,f.title),this.map["dc:subject"].render(h,f.subject),this.map["dc:description"].render(h,f.description),this.map["dc:identifier"].render(h,f.identifier),this.map["dc:language"].render(h,f.language),this.map["cp:keywords"].render(h,f.keywords),this.map["cp:category"].render(h,f.category),this.map["cp:lastModifiedBy"].render(h,f.lastModifiedBy),this.map["cp:lastPrinted"].render(h,f.lastPrinted),this.map["cp:revision"].render(h,f.revision),this.map["cp:version"].render(h,f.version),this.map["cp:contentStatus"].render(h,f.contentStatus),this.map["cp:contentType"].render(h,f.contentType),this.map["dcterms:created"].render(h,f.created),this.map["dcterms:modified"].render(h,f.modified),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[h.name],this.parser)return this.parser.parseOpen(h),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(h))}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+h)}}}u.DateFormat=function(d){return d.toISOString().replace(/[.]\d{3}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(t,n,s){const i=t("../base-xform");n.exports=class extends i{render(a,o){a.leafNode("Relationship",o)}parseOpen(a){switch(a.name){case"Relationship":return this.model=a.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(t,n,s){const i=t("../../../utils/xml-stream"),a=t("../base-xform"),o=t("./relationship-xform");class l extends a{constructor(){super(),this.map={Relationship:new o}}render(u,d){d=d||this._values,u.openXml(i.StdDocAttributes),u.openNode("Relationships",l.RELATIONSHIPS_ATTRIBUTES),d.forEach(h=>{this.map.Relationship.render(u,h)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[u.name],this.parser)return this.parser.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(u){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+u)}}}l.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},n.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(t,n,s){const i=t("../base-xform");n.exports=class extends i{parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset(),this.model={range:{editAs:a.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(a){this.parser&&this.parser.parseText(a)}reconcilePicture(a,o){if(a&&a.rId){const l=o.rels[a.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(l){const c=l[1],u=o.mediaIndex[c];return o.media[u]}}}}},{"../base-xform":32}],57:[function(t,n,s){const i=t("../base-xform"),a=t("./blip-xform");n.exports=class extends i{constructor(){super(),this.map={"a:blip":new a}}get tag(){return"xdr:blipFill"}render(o,l){o.openNode(this.tag),this.map["a:blip"].render(o,l),o.openNode("a:stretch"),o.leafNode("a:fillRect"),o.closeNode(),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(){}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(t,n,s){const i=t("../base-xform");n.exports=class extends i{get tag(){return"a:blip"}render(a,o){a.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":o.rId,cstate:"print"})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(t,n,s){const i=t("../base-xform");n.exports=class extends i{get tag(){return"xdr:cNvPicPr"}render(a){a.openNode(this.tag),a.leafNode("a:picLocks",{noChangeAspect:"1"}),a.closeNode()}parseOpen(a){switch(a.name){case this.tag:default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(t,n,s){const i=t("../base-xform"),a=t("./hlink-click-xform"),o=t("./ext-lst-xform");n.exports=class extends i{constructor(){super(),this.map={"a:hlinkClick":new a,"a:extLst":new o}}get tag(){return"xdr:cNvPr"}render(l,c){l.openNode(this.tag,{id:c.index,name:"Picture "+c.index}),this.map["a:hlinkClick"].render(l,c),this.map["a:extLst"].render(l,c),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(t,n,s){const i=t("../base-xform"),a=t("../simple/integer-xform");n.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.map={"xdr:col":new a({tag:"xdr:col",zero:!0}),"xdr:colOff":new a({tag:"xdr:colOff",zero:!0}),"xdr:row":new a({tag:"xdr:row",zero:!0}),"xdr:rowOff":new a({tag:"xdr:rowOff",zero:!0})}}render(o,l){o.openNode(this.tag),this.map["xdr:col"].render(o,l.nativeCol),this.map["xdr:colOff"].render(o,l.nativeColOff),this.map["xdr:row"].render(o,l.nativeRow),this.map["xdr:rowOff"].render(o,l.nativeRowOff),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(t,n,s){const i=t("../../../utils/col-cache"),a=t("../../../utils/xml-stream"),o=t("../base-xform"),l=t("./two-cell-anchor-xform"),c=t("./one-cell-anchor-xform");class u extends o{constructor(){super(),this.map={"xdr:twoCellAnchor":new l,"xdr:oneCellAnchor":new c}}prepare(h){h.anchors.forEach((f,m)=>{f.anchorType=function(g){return(typeof g.range=="string"?i.decode(g.range):g.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(f),this.map[f.anchorType].prepare(f,{index:m})})}get tag(){return"xdr:wsDr"}render(h,f){h.openXml(a.StdDocAttributes),h.openNode(this.tag,u.DRAWING_ATTRIBUTES),f.anchors.forEach(m=>{this.map[m.anchorType].render(h,m)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)}return!0}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(h){case this.tag:return!1;default:return!0}}reconcile(h,f){h.anchors.forEach(m=>{m.br?this.map["xdr:twoCellAnchor"].reconcile(m,f):this.map["xdr:oneCellAnchor"].reconcile(m,f)})}}u.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},n.exports=u},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(t,n,s){const i=t("../base-xform");n.exports=class extends i{get tag(){return"a:extLst"}render(a){a.openNode(this.tag),a.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),a.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),a.closeNode(),a.closeNode()}parseOpen(a){switch(a.name){case this.tag:default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(t,n,s){const i=t("../base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.map={}}render(a,o){a.openNode(this.tag);const l=Math.floor(9525*o.width),c=Math.floor(9525*o.height);a.addAttribute("cx",l),a.addAttribute("cy",c),a.closeNode()}parseOpen(a){return a.name===this.tag&&(this.model={width:parseInt(a.attributes.cx||"0",10)/9525,height:parseInt(a.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(t,n,s){const i=t("../base-xform");n.exports=class extends i{get tag(){return"a:hlinkClick"}render(a,o){o.hyperlinks&&o.hyperlinks.rId&&a.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":o.hyperlinks.rId,tooltip:o.hyperlinks.tooltip})}parseOpen(a){switch(a.name){case this.tag:return this.model={hyperlinks:{rId:a.attributes["r:id"],tooltip:a.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(t,n,s){const i=t("../base-xform"),a=t("./c-nv-pr-xform"),o=t("./c-nv-pic-pr-xform");n.exports=class extends i{constructor(){super(),this.map={"xdr:cNvPr":new a,"xdr:cNvPicPr":new o}}get tag(){return"xdr:nvPicPr"}render(l,c){l.openNode(this.tag),this.map["xdr:cNvPr"].render(l,c),this.map["xdr:cNvPicPr"].render(l,c),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(t,n,s){const i=t("./base-cell-anchor-xform"),a=t("../static-xform"),o=t("./cell-position-xform"),l=t("./ext-xform"),c=t("./pic-xform");n.exports=class extends i{constructor(){super(),this.map={"xdr:from":new o({tag:"xdr:from"}),"xdr:ext":new l({tag:"xdr:ext"}),"xdr:pic":new c,"xdr:clientData":new a({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(u,d){this.map["xdr:pic"].prepare(u.picture,d)}render(u,d){u.openNode(this.tag,{editAs:d.range.editAs||"oneCell"}),this.map["xdr:from"].render(u,d.range.tl),this.map["xdr:ext"].render(u,d.range.ext),this.map["xdr:pic"].render(u,d.picture),this.map["xdr:clientData"].render(u,{}),u.closeNode()}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(u,d){u.medium=this.reconcilePicture(u.picture,d)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(t,n,s){const i=t("../base-xform"),a=t("../static-xform"),o=t("./blip-fill-xform"),l=t("./nv-pic-pr-xform"),c=t("./sp-pr");n.exports=class extends i{constructor(){super(),this.map={"xdr:nvPicPr":new l,"xdr:blipFill":new o,"xdr:spPr":new a(c)}}get tag(){return"xdr:pic"}prepare(u,d){u.index=d.index+1}render(u,d){u.openNode(this.tag),this.map["xdr:nvPicPr"].render(u,d),this.map["xdr:blipFill"].render(u,d),this.map["xdr:spPr"].render(u,d),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(t,n,s){n.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(t,n,s){const i=t("./base-cell-anchor-xform"),a=t("../static-xform"),o=t("./cell-position-xform"),l=t("./pic-xform");n.exports=class extends i{constructor(){super(),this.map={"xdr:from":new o({tag:"xdr:from"}),"xdr:to":new o({tag:"xdr:to"}),"xdr:pic":new l,"xdr:clientData":new a({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(c,u){this.map["xdr:pic"].prepare(c.picture,u)}render(c,u){c.openNode(this.tag,{editAs:u.range.editAs||"oneCell"}),this.map["xdr:from"].render(c,u.range.tl),this.map["xdr:to"].render(c,u.range.br),this.map["xdr:pic"].render(c,u.picture),this.map["xdr:clientData"].render(c,{}),c.closeNode()}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(c,u){c.medium=this.reconcilePicture(c.picture,u)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(t,n,s){const i=t("./base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.always=!!a.always,this.count=a.count,this.empty=a.empty,this.$count=a.$count||"count",this.$=a.$,this.childXform=a.childXform,this.maxItems=a.maxItems}prepare(a,o){const{childXform:l}=this;a&&a.forEach((c,u)=>{o.index=u,l.prepare(c,o)})}render(a,o){if(this.always||o&&o.length){a.openNode(this.tag,this.$),this.count&&a.addAttribute(this.$count,o&&o.length||0);const{childXform:l}=this;(o||[]).forEach((c,u)=>{l.render(a,c,u)}),a.closeNode()}else this.empty&&a.leafNode(this.tag)}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(a)&&(this.parser=this.childXform,!0)}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(a,o){if(a){const{childXform:l}=this;a.forEach(c=>{l.reconcile(c,o)})}}}},{"./base-xform":32}],72:[function(t,n,s){const i=t("../../../utils/col-cache"),a=t("../base-xform");n.exports=class extends a{get tag(){return"autoFilter"}render(o,l){if(l)if(typeof l=="string")o.leafNode("autoFilter",{ref:l});else{const c=function(h){return typeof h=="string"?h:i.getAddress(h.row,h.column).address},u=c(l.from),d=c(l.to);u&&d&&o.leafNode("autoFilter",{ref:`${u}:${d}`})}}parseOpen(o){o.name==="autoFilter"&&(this.model=o.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(t,n,s){const i=t("../../../utils/utils"),a=t("../base-xform"),o=t("../../../doc/range"),l=t("../../../doc/enums"),c=t("../strings/rich-text-xform");function u(d){if(d==null)return l.ValueType.Null;if(d instanceof String||typeof d=="string")return l.ValueType.String;if(typeof d=="number")return l.ValueType.Number;if(typeof d=="boolean")return l.ValueType.Boolean;if(d instanceof Date)return l.ValueType.Date;if(d.text&&d.hyperlink)return l.ValueType.Hyperlink;if(d.formula)return l.ValueType.Formula;if(d.error)return l.ValueType.Error;throw new Error("I could not understand type of value")}n.exports=class extends a{constructor(){super(),this.richTextXForm=new c}get tag(){return"c"}prepare(d,h){const f=h.styles.addStyleModel(d.style||{},function(m){switch(m.type){case l.ValueType.Formula:return u(m.result);default:return m.type}}(d));switch(f&&(d.styleId=f),d.comment&&h.comments.push({...d.comment,ref:d.address}),d.type){case l.ValueType.String:case l.ValueType.RichText:h.sharedStrings&&(d.ssId=h.sharedStrings.add(d.value));break;case l.ValueType.Date:h.date1904&&(d.date1904=!0);break;case l.ValueType.Hyperlink:h.sharedStrings&&d.text!==void 0&&d.text!==null&&(d.ssId=h.sharedStrings.add(d.text)),h.hyperlinks.push({address:d.address,target:d.hyperlink,tooltip:d.tooltip});break;case l.ValueType.Merge:h.merges.add(d);break;case l.ValueType.Formula:if(h.date1904&&(d.date1904=!0),d.shareType==="shared"&&(d.si=h.siFormulae++),d.formula)h.formulae[d.address]=d;else if(d.sharedFormula){const m=h.formulae[d.sharedFormula];if(!m)throw new Error("Shared Formula master must exist above and or left of clone for cell "+d.address);m.si===void 0?(m.shareType="shared",m.si=h.siFormulae++,m.range=new o(m.address,d.address)):m.range&&m.range.expandToAddress(d.address),d.si=m.si}}}renderFormula(d,h){let f=null;switch(h.shareType){case"shared":f={t:"shared",ref:h.ref||h.range.range,si:h.si};break;case"array":f={t:"array",ref:h.ref};break;default:h.si!==void 0&&(f={t:"shared",si:h.si})}switch(u(h.result)){case l.ValueType.Null:d.leafNode("f",f,h.formula);break;case l.ValueType.String:d.addAttribute("t","str"),d.leafNode("f",f,h.formula),d.leafNode("v",null,h.result);break;case l.ValueType.Number:d.leafNode("f",f,h.formula),d.leafNode("v",null,h.result);break;case l.ValueType.Boolean:d.addAttribute("t","b"),d.leafNode("f",f,h.formula),d.leafNode("v",null,h.result?1:0);break;case l.ValueType.Error:d.addAttribute("t","e"),d.leafNode("f",f,h.formula),d.leafNode("v",null,h.result.error);break;case l.ValueType.Date:d.leafNode("f",f,h.formula),d.leafNode("v",null,i.dateToExcel(h.result,h.date1904));break;default:throw new Error("I could not understand type of value")}}render(d,h){if(h.type!==l.ValueType.Null||h.styleId){switch(d.openNode("c"),d.addAttribute("r",h.address),h.styleId&&d.addAttribute("s",h.styleId),h.type){case l.ValueType.Null:break;case l.ValueType.Number:d.leafNode("v",null,h.value);break;case l.ValueType.Boolean:d.addAttribute("t","b"),d.leafNode("v",null,h.value?"1":"0");break;case l.ValueType.Error:d.addAttribute("t","e"),d.leafNode("v",null,h.value.error);break;case l.ValueType.String:case l.ValueType.RichText:h.ssId!==void 0?(d.addAttribute("t","s"),d.leafNode("v",null,h.ssId)):h.value&&h.value.richText?(d.addAttribute("t","inlineStr"),d.openNode("is"),h.value.richText.forEach(f=>{this.richTextXForm.render(d,f)}),d.closeNode("is")):(d.addAttribute("t","str"),d.leafNode("v",null,h.value));break;case l.ValueType.Date:d.leafNode("v",null,i.dateToExcel(h.value,h.date1904));break;case l.ValueType.Hyperlink:h.ssId!==void 0?(d.addAttribute("t","s"),d.leafNode("v",null,h.ssId)):(d.addAttribute("t","str"),d.leafNode("v",null,h.text));break;case l.ValueType.Formula:this.renderFormula(d,h);break;case l.ValueType.Merge:}d.closeNode()}}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"c":return this.model={address:d.attributes.r},this.t=d.attributes.t,d.attributes.s&&(this.model.styleId=parseInt(d.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=d.attributes.si,this.model.shareType=d.attributes.t,this.model.ref=d.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){if(this.parser)this.parser.parseText(d);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+d:d;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+d:d:this.model.value=this.model.value?this.model.value+d:d}}parseClose(d){switch(d){case"c":{const{model:h}=this;if(h.formula||h.shareType)h.type=l.ValueType.Formula,h.value&&(this.t==="str"?h.result=i.xmlDecode(h.value):this.t==="b"?h.result=parseInt(h.value,10)!==0:this.t==="e"?h.result={error:h.value}:h.result=parseFloat(h.value),h.value=void 0);else if(h.value!==void 0)switch(this.t){case"s":h.type=l.ValueType.String,h.value=parseInt(h.value,10);break;case"str":h.type=l.ValueType.String,h.value=i.xmlDecode(h.value);break;case"inlineStr":h.type=l.ValueType.String;break;case"b":h.type=l.ValueType.Boolean,h.value=parseInt(h.value,10)!==0;break;case"e":h.type=l.ValueType.Error,h.value={error:h.value};break;default:h.type=l.ValueType.Number,h.value=parseFloat(h.value)}else h.styleId?h.type=l.ValueType.Null:h.type=l.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(d),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(d),!0)}}reconcile(d,h){const f=d.styleId&&h.styles&&h.styles.getStyleModel(d.styleId);switch(f&&(d.style=f),d.styleId!==void 0&&(d.styleId=void 0),d.type){case l.ValueType.String:typeof d.value=="number"&&h.sharedStrings&&(d.value=h.sharedStrings.getString(d.value)),d.value.richText&&(d.type=l.ValueType.RichText);break;case l.ValueType.Number:f&&i.isDateFmt(f.numFmt)&&(d.type=l.ValueType.Date,d.value=i.excelToDate(d.value,h.date1904));break;case l.ValueType.Formula:d.result!==void 0&&f&&i.isDateFmt(f.numFmt)&&(d.result=i.excelToDate(d.result,h.date1904)),d.shareType==="shared"&&(d.ref?h.formulae[d.si]=d.address:(d.sharedFormula=h.formulae[d.si],delete d.shareType),delete d.si)}const m=h.hyperlinkMap[d.address];m&&(d.type===l.ValueType.Formula?(d.text=d.result,d.result=void 0):(d.text=d.value,d.value=void 0),d.type=l.ValueType.Hyperlink,d.hyperlink=m);const g=h.commentsMap&&h.commentsMap[d.address];g&&(d.comment=g)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(t,n,s){const i=t("../../base-xform");n.exports=class extends i{get tag(){return"x14:cfIcon"}render(a,o){a.leafNode(this.tag,{iconSet:o.iconSet,iconId:o.iconId})}parseOpen(a){let{attributes:o}=a;this.model={iconSet:o.iconSet,iconId:i.toIntValue(o.iconId)}}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],75:[function(t,n,s){const{v4:i}=t("uuid"),a=t("../../base-xform"),o=t("../../composite-xform"),l=t("./databar-ext-xform"),c=t("./icon-set-ext-xform"),u={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class d extends o{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new l,"x14:iconSet":this.iconSetXform=new c}}get tag(){return"x14:cfRule"}static isExt(f){return f.type==="dataBar"?l.isExt(f):!(f.type!=="iconSet"||!f.custom&&!u[f.iconSet])}prepare(f){d.isExt(f)&&(f.x14Id=`{${i()}}`.toUpperCase())}render(f,m){if(d.isExt(m))switch(m.type){case"dataBar":this.renderDataBar(f,m);break;case"iconSet":this.renderIconSet(f,m)}}renderDataBar(f,m){f.openNode(this.tag,{type:"dataBar",id:m.x14Id}),this.databarXform.render(f,m),f.closeNode()}renderIconSet(f,m){f.openNode(this.tag,{type:"iconSet",priority:m.priority,id:m.x14Id||`{${i()}}`}),this.iconSetXform.render(f,m),f.closeNode()}createNewModel(f){let{attributes:m}=f;return{type:m.type,x14Id:m.id,priority:a.toIntValue(m.priority)}}onParserClose(f,m){Object.assign(this.model,m.model)}}n.exports=d},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(t,n,s){const i=t("../../composite-xform"),a=t("./f-ext-xform");n.exports=class extends i{constructor(){super(),this.map={"xm:f":this.fExtXform=new a}}get tag(){return"x14:cfvo"}render(o,l){o.openNode(this.tag,{type:l.type}),l.value!==void 0&&this.fExtXform.render(o,l.value),o.closeNode()}createNewModel(o){return{type:o.attributes.type}}onParserClose(o,l){switch(o){case"xm:f":this.model.value=l.model?parseFloat(l.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(t,n,s){const i=t("../../composite-xform"),a=t("./sqref-ext-xform"),o=t("./cf-rule-ext-xform");n.exports=class extends i{constructor(){super(),this.map={"xm:sqref":this.sqRef=new a,"x14:cfRule":this.cfRule=new o}}get tag(){return"x14:conditionalFormatting"}prepare(l,c){l.rules.forEach(u=>{this.cfRule.prepare(u,c)})}render(l,c){c.rules.some(o.isExt)&&(l.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),c.rules.filter(o.isExt).forEach(u=>this.cfRule.render(l,u)),this.sqRef.render(l,c.ref),l.closeNode())}createNewModel(){return{rules:[]}}onParserClose(l,c){switch(l){case"xm:sqref":this.model.ref=c.model;break;case"x14:cfRule":this.model.rules.push(c.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(t,n,s){const i=t("../../composite-xform"),a=t("./cf-rule-ext-xform"),o=t("./conditional-formatting-ext-xform");n.exports=class extends i{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new o}}get tag(){return"x14:conditionalFormattings"}hasContent(l){return l.hasExtContent===void 0&&(l.hasExtContent=l.some(c=>c.rules.some(a.isExt))),l.hasExtContent}prepare(l,c){l.forEach(u=>{this.cfXform.prepare(u,c)})}render(l,c){this.hasContent(c)&&(l.openNode(this.tag),c.forEach(u=>this.cfXform.render(l,u)),l.closeNode())}createNewModel(){return[]}onParserClose(l,c){this.model.push(c.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(t,n,s){const i=t("../../base-xform"),a=t("../../composite-xform"),o=t("../../style/color-xform"),l=t("./cfvo-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new l,"x14:borderColor":this.borderColorXform=new o("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new o("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new o("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new o("x14:axisColor")}}static isExt(c){return!c.gradient}get tag(){return"x14:dataBar"}render(c,u){c.openNode(this.tag,{minLength:i.toIntAttribute(u.minLength,0,!0),maxLength:i.toIntAttribute(u.maxLength,100,!0),border:i.toBoolAttribute(u.border,!1),gradient:i.toBoolAttribute(u.gradient,!0),negativeBarColorSameAsPositive:i.toBoolAttribute(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolAttribute(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toAttribute(u.axisPosition,"auto"),direction:i.toAttribute(u.direction,"leftToRight")}),u.cfvo.forEach(d=>{this.cfvoXform.render(c,d)}),this.borderColorXform.render(c,u.borderColor),this.negativeBorderColorXform.render(c,u.negativeBorderColor),this.negativeFillColorXform.render(c,u.negativeFillColor),this.axisColorXform.render(c,u.axisColor),c.closeNode()}createNewModel(c){let{attributes:u}=c;return{cfvo:[],minLength:i.toIntValue(u.minLength,0),maxLength:i.toIntValue(u.maxLength,100),border:i.toBoolValue(u.border,!1),gradient:i.toBoolValue(u.gradient,!0),negativeBarColorSameAsPositive:i.toBoolValue(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolValue(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toStringValue(u.axisPosition,"auto"),direction:i.toStringValue(u.direction,"leftToRight")}}onParserClose(c,u){const[,d]=c.split(":");switch(d){case"cfvo":this.model.cfvo.push(u.model);break;default:this.model[d]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(t,n,s){const i=t("../../base-xform");n.exports=class extends i{get tag(){return"xm:f"}render(a,o){a.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(a){this.model+=a}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],81:[function(t,n,s){const i=t("../../base-xform"),a=t("../../composite-xform"),o=t("./cfvo-ext-xform"),l=t("./cf-icon-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new o,"x14:cfIcon":this.cfIconXform=new l}}get tag(){return"x14:iconSet"}render(c,u){c.openNode(this.tag,{iconSet:i.toStringAttribute(u.iconSet),reverse:i.toBoolAttribute(u.reverse,!1),showValue:i.toBoolAttribute(u.showValue,!0),custom:i.toBoolAttribute(u.icons,!1)}),u.cfvo.forEach(d=>{this.cfvoXform.render(c,d)}),u.icons&&u.icons.forEach((d,h)=>{d.iconId=h,this.cfIconXform.render(c,d)}),c.closeNode()}createNewModel(c){let{attributes:u}=c;return{cfvo:[],iconSet:i.toStringValue(u.iconSet,"3TrafficLights"),reverse:i.toBoolValue(u.reverse,!1),showValue:i.toBoolValue(u.showValue,!0)}}onParserClose(c,u){const[,d]=c.split(":");switch(d){case"cfvo":this.model.cfvo.push(u.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(u.model);break;default:this.model[d]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(t,n,s){const i=t("../../base-xform");n.exports=class extends i{get tag(){return"xm:sqref"}render(a,o){a.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(a){this.model+=a}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],83:[function(t,n,s){const i=t("../../base-xform"),a=t("../../composite-xform"),o=t("../../../../doc/range"),l=t("./databar-xform"),c=t("./ext-lst-ref-xform"),u=t("./formula-xform"),d=t("./color-scale-xform"),h=t("./icon-set-xform"),f={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},m=p=>{const{type:v,operator:y}=p;switch(v){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:v};default:return{type:v,operator:y}}};class g extends a{constructor(){super(),this.map={dataBar:this.databarXform=new l,extLst:this.extLstRefXform=new c,formula:this.formulaXform=new u,colorScale:this.colorScaleXform=new d,iconSet:this.iconSetXform=new h}}get tag(){return"cfRule"}static isPrimitive(v){return v.type!=="iconSet"||!v.custom&&!f[v.iconSet]}render(v,y){switch(y.type){case"expression":this.renderExpression(v,y);break;case"cellIs":this.renderCellIs(v,y);break;case"top10":this.renderTop10(v,y);break;case"aboveAverage":this.renderAboveAverage(v,y);break;case"dataBar":this.renderDataBar(v,y);break;case"colorScale":this.renderColorScale(v,y);break;case"iconSet":this.renderIconSet(v,y);break;case"containsText":this.renderText(v,y);break;case"timePeriod":this.renderTimePeriod(v,y)}}renderExpression(v,y){v.openNode(this.tag,{type:"expression",dxfId:y.dxfId,priority:y.priority}),this.formulaXform.render(v,y.formulae[0]),v.closeNode()}renderCellIs(v,y){v.openNode(this.tag,{type:"cellIs",dxfId:y.dxfId,priority:y.priority,operator:y.operator}),y.formulae.forEach(b=>{this.formulaXform.render(v,b)}),v.closeNode()}renderTop10(v,y){v.leafNode(this.tag,{type:"top10",dxfId:y.dxfId,priority:y.priority,percent:i.toBoolAttribute(y.percent,!1),bottom:i.toBoolAttribute(y.bottom,!1),rank:i.toIntValue(y.rank,10,!0)})}renderAboveAverage(v,y){v.leafNode(this.tag,{type:"aboveAverage",dxfId:y.dxfId,priority:y.priority,aboveAverage:i.toBoolAttribute(y.aboveAverage,!0)})}renderDataBar(v,y){v.openNode(this.tag,{type:"dataBar",priority:y.priority}),this.databarXform.render(v,y),this.extLstRefXform.render(v,y),v.closeNode()}renderColorScale(v,y){v.openNode(this.tag,{type:"colorScale",priority:y.priority}),this.colorScaleXform.render(v,y),v.closeNode()}renderIconSet(v,y){g.isPrimitive(y)&&(v.openNode(this.tag,{type:"iconSet",priority:y.priority}),this.iconSetXform.render(v,y),v.closeNode())}renderText(v,y){v.openNode(this.tag,{type:y.operator,dxfId:y.dxfId,priority:y.priority,operator:i.toStringAttribute(y.operator,"containsText")});const b=(E=>{if(E.formulae&&E.formulae[0])return E.formulae[0];const N=new o(E.ref),{tl:j}=N;switch(E.operator){case"containsText":return`NOT(ISERROR(SEARCH("${E.text}",${j})))`;case"containsBlanks":return`LEN(TRIM(${j}))=0`;case"notContainsBlanks":return`LEN(TRIM(${j}))>0`;case"containsErrors":return`ISERROR(${j})`;case"notContainsErrors":return`NOT(ISERROR(${j}))`;default:return}})(y);b&&this.formulaXform.render(v,b),v.closeNode()}renderTimePeriod(v,y){v.openNode(this.tag,{type:"timePeriod",dxfId:y.dxfId,priority:y.priority,timePeriod:y.timePeriod});const b=(E=>{if(E.formulae&&E.formulae[0])return E.formulae[0];const N=new o(E.ref),{tl:j}=N;switch(E.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${j},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${j},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${j},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${j},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${j},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${j},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${j},1)=TODAY()-1`;case"today":return`FLOOR(${j},1)=TODAY()`;case"tomorrow":return`FLOOR(${j},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${j},1)<=6,FLOOR(${j},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${j})=MONTH(EDATE(TODAY(),0-1)),YEAR(${j})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${j})=MONTH(TODAY()),YEAR(${j})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${j})=MONTH(EDATE(TODAY(),0+1)),YEAR(${j})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(y);b&&this.formulaXform.render(v,b),v.closeNode()}createNewModel(v){let{attributes:y}=v;return{...m(y),dxfId:i.toIntValue(y.dxfId),priority:i.toIntValue(y.priority),timePeriod:y.timePeriod,percent:i.toBoolValue(y.percent),bottom:i.toBoolValue(y.bottom),rank:i.toIntValue(y.rank),aboveAverage:i.toBoolValue(y.aboveAverage)}}onParserClose(v,y){switch(v){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,y.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(y.model)}}}n.exports=g},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(t,n,s){const i=t("../../base-xform");n.exports=class extends i{get tag(){return"cfvo"}render(a,o){a.leafNode(this.tag,{type:o.type,val:o.value})}parseOpen(a){this.model={type:a.attributes.type,value:i.toFloatValue(a.attributes.val)}}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],85:[function(t,n,s){const i=t("../../composite-xform"),a=t("../../style/color-xform"),o=t("./cfvo-xform");n.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new o,color:this.colorXform=new a}}get tag(){return"colorScale"}render(l,c){l.openNode(this.tag),c.cfvo.forEach(u=>{this.cfvoXform.render(l,u)}),c.color.forEach(u=>{this.colorXform.render(l,u)}),l.closeNode()}createNewModel(l){return{cfvo:[],color:[]}}onParserClose(l,c){this.model[l].push(c.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(t,n,s){const i=t("../../composite-xform"),a=t("./cf-rule-xform");n.exports=class extends i{constructor(){super(),this.map={cfRule:new a}}get tag(){return"conditionalFormatting"}render(o,l){l.rules.some(a.isPrimitive)&&(o.openNode(this.tag,{sqref:l.ref}),l.rules.forEach(c=>{a.isPrimitive(c)&&(c.ref=l.ref,this.map.cfRule.render(o,c))}),o.closeNode())}createNewModel(o){let{attributes:l}=o;return{ref:l.sqref,rules:[]}}onParserClose(o,l){this.model.rules.push(l.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(t,n,s){const i=t("../../base-xform"),a=t("./conditional-formatting-xform");n.exports=class extends i{constructor(){super(),this.cfXform=new a}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(o,l){let c=o.reduce((u,d)=>Math.max(u,...d.rules.map(h=>h.priority||0)),1);o.forEach(u=>{u.rules.forEach(d=>{d.priority||(d.priority=c++),d.style&&(d.dxfId=l.styles.addDxfStyle(d.style))})})}render(o,l){l.forEach(c=>{this.cfXform.render(o,c)})}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(o),!0;default:return!1}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){return!!this.parser&&(!!this.parser.parseClose(o)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(o,l){o.forEach(c=>{c.rules.forEach(u=>{u.dxfId!==void 0&&(u.style=l.styles.getDxfStyle(u.dxfId),delete u.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(t,n,s){const i=t("../../composite-xform"),a=t("../../style/color-xform"),o=t("./cfvo-xform");n.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new o,color:this.colorXform=new a}}get tag(){return"dataBar"}render(l,c){l.openNode(this.tag),c.cfvo.forEach(u=>{this.cfvoXform.render(l,u)}),this.colorXform.render(l,c.color),l.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(l,c){switch(l){case"cfvo":this.model.cfvo.push(c.model);break;case"color":this.model.color=c.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(t,n,s){const i=t("../../base-xform"),a=t("../../composite-xform");class o extends i{get tag(){return"x14:id"}render(u,d){u.leafNode(this.tag,null,d)}parseOpen(){this.model=""}parseText(u){this.model+=u}parseClose(u){return u!==this.tag}}class l extends a{constructor(){super(),this.map={"x14:id":this.idXform=new o}}get tag(){return"ext"}render(u,d){u.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(u,d.x14Id),u.closeNode()}createNewModel(){return{}}onParserClose(u,d){this.model.x14Id=d.model}}n.exports=class extends a{constructor(){super(),this.map={ext:new l}}get tag(){return"extLst"}render(c,u){c.openNode(this.tag),this.map.ext.render(c,u),c.closeNode()}createNewModel(){return{}}onParserClose(c,u){Object.assign(this.model,u.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(t,n,s){const i=t("../../base-xform");n.exports=class extends i{get tag(){return"formula"}render(a,o){a.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(a){this.model+=a}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],91:[function(t,n,s){const i=t("../../base-xform"),a=t("../../composite-xform"),o=t("./cfvo-xform");n.exports=class extends a{constructor(){super(),this.map={cfvo:this.cfvoXform=new o}}get tag(){return"iconSet"}render(l,c){l.openNode(this.tag,{iconSet:i.toStringAttribute(c.iconSet,"3TrafficLights"),reverse:i.toBoolAttribute(c.reverse,!1),showValue:i.toBoolAttribute(c.showValue,!0)}),c.cfvo.forEach(u=>{this.cfvoXform.render(l,u)}),l.closeNode()}createNewModel(l){let{attributes:c}=l;return{iconSet:i.toStringValue(c.iconSet,"3TrafficLights"),reverse:i.toBoolValue(c.reverse),showValue:i.toBoolValue(c.showValue),cfvo:[]}}onParserClose(l,c){this.model[l].push(c.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(t,n,s){const i=t("../../../utils/utils"),a=t("../base-xform");n.exports=class extends a{get tag(){return"col"}prepare(o,l){const c=l.styles.addStyleModel(o.style||{});c&&(o.styleId=c)}render(o,l){o.openNode("col"),o.addAttribute("min",l.min),o.addAttribute("max",l.max),l.width&&o.addAttribute("width",l.width),l.styleId&&o.addAttribute("style",l.styleId),l.hidden&&o.addAttribute("hidden","1"),l.bestFit&&o.addAttribute("bestFit","1"),l.outlineLevel&&o.addAttribute("outlineLevel",l.outlineLevel),l.collapsed&&o.addAttribute("collapsed","1"),o.addAttribute("customWidth","1"),o.closeNode()}parseOpen(o){if(o.name==="col"){const l=this.model={min:parseInt(o.attributes.min||"0",10),max:parseInt(o.attributes.max||"0",10),width:o.attributes.width===void 0?void 0:parseFloat(o.attributes.width||"0")};return o.attributes.style&&(l.styleId=parseInt(o.attributes.style,10)),i.parseBoolean(o.attributes.hidden)&&(l.hidden=!0),i.parseBoolean(o.attributes.bestFit)&&(l.bestFit=!0),o.attributes.outlineLevel&&(l.outlineLevel=parseInt(o.attributes.outlineLevel,10)),i.parseBoolean(o.attributes.collapsed)&&(l.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(o,l){o.styleId&&(o.style=l.styles.getStyleModel(o.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(t,n,s){const i=t("../../../utils/under-dash"),a=t("../../../utils/utils"),o=t("../../../utils/col-cache"),l=t("../base-xform"),c=t("../../../doc/range");function u(h,f,m,g){const p=f[m];p!==void 0?h[m]=p:g!==void 0&&(h[m]=g)}function d(h,f,m,g){const p=f[m];p!==void 0&&(h[m]=a.parseBoolean(p))}n.exports=class extends l{get tag(){return"dataValidations"}render(h,f){const m=function(g){const p=i.map(g,(b,E)=>({address:E,dataValidation:b,marked:!1})).sort((b,E)=>i.strcmp(b.address,E.address)),v=i.keyBy(p,"address"),y=(b,E,N)=>{for(let j=0;j<E;j++){const D=o.encodeAddress(b.row+j,N);if(!g[D]||!i.isEqual(g[b.address],g[D]))return!1}return!0};return p.map(b=>{if(!b.marked){const E=o.decodeEx(b.address);if(E.dimensions)return v[E.dimensions].marked=!0,{...b.dataValidation,sqref:b.address};let N=1,j=o.encodeAddress(E.row+N,E.col);for(;g[j]&&i.isEqual(b.dataValidation,g[j]);)N++,j=o.encodeAddress(E.row+N,E.col);let D=1;for(;y(E,N,E.col+D);)D++;for(let C=0;C<N;C++)for(let I=0;I<D;I++)j=o.encodeAddress(E.row+C,E.col+I),v[j].marked=!0;if(N>1||D>1){const C=E.row+(N-1),I=E.col+(D-1);return{...b.dataValidation,sqref:`${b.address}:${o.encodeAddress(C,I)}`}}return{...b.dataValidation,sqref:b.address}}return null}).filter(Boolean)}(f);m.length&&(h.openNode("dataValidations",{count:m.length}),m.forEach(g=>{h.openNode("dataValidation"),g.type!=="any"&&(h.addAttribute("type",g.type),g.operator&&g.type!=="list"&&g.operator!=="between"&&h.addAttribute("operator",g.operator),g.allowBlank&&h.addAttribute("allowBlank","1")),g.showInputMessage&&h.addAttribute("showInputMessage","1"),g.promptTitle&&h.addAttribute("promptTitle",g.promptTitle),g.prompt&&h.addAttribute("prompt",g.prompt),g.showErrorMessage&&h.addAttribute("showErrorMessage","1"),g.errorStyle&&h.addAttribute("errorStyle",g.errorStyle),g.errorTitle&&h.addAttribute("errorTitle",g.errorTitle),g.error&&h.addAttribute("error",g.error),h.addAttribute("sqref",g.sqref),(g.formulae||[]).forEach((p,v)=>{h.openNode("formula"+(v+1)),g.type==="date"?h.writeText(a.dateToExcel(new Date(p))):h.writeText(p),h.closeNode()}),h.closeNode()}),h.closeNode())}parseOpen(h){switch(h.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=h.attributes.sqref;const f={type:h.attributes.type||"any",formulae:[]};switch(h.attributes.type&&d(f,h.attributes,"allowBlank"),d(f,h.attributes,"showInputMessage"),d(f,h.attributes,"showErrorMessage"),f.type){case"any":case"list":case"custom":break;default:u(f,h.attributes,"operator","between")}return u(f,h.attributes,"promptTitle"),u(f,h.attributes,"prompt"),u(f,h.attributes,"errorStyle"),u(f,h.attributes,"errorTitle"),u(f,h.attributes,"error"),this._dataValidation=f,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(h){this._formula&&this._formula.push(h)}parseClose(h){switch(h){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(f=>{f.includes(":")?new c(f).forEachAddress(m=>{this.model[m]=this._dataValidation}):this.model[f]=this._dataValidation}),!0;case"formula1":case"formula2":{let f=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":f=parseInt(f,10);break;case"decimal":f=parseFloat(f);break;case"date":f=a.excelToDate(parseFloat(f))}return this._dataValidation.formulae.push(f),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(t,n,s){const i=t("../base-xform");n.exports=class extends i{get tag(){return"dimension"}render(a,o){o&&a.leafNode("dimension",{ref:o})}parseOpen(a){return a.name==="dimension"&&(this.model=a.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(t,n,s){const i=t("../base-xform");n.exports=class extends i{get tag(){return"drawing"}render(a,o){o&&a.leafNode(this.tag,{"r:id":o.rId})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(t,n,s){const i=t("../composite-xform"),a=t("./cf-ext/conditional-formattings-ext-xform");class o extends i{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new a}}get tag(){return"ext"}hasContent(c){return this.conditionalFormattings.hasContent(c.conditionalFormattings)}prepare(c,u){this.conditionalFormattings.prepare(c.conditionalFormattings,u)}render(c,u){c.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(c,u.conditionalFormattings),c.closeNode()}createNewModel(){return{}}onParserClose(c,u){this.model[c]=u.model}}n.exports=class extends i{constructor(){super(),this.map={ext:this.ext=new o}}get tag(){return"extLst"}prepare(l,c){this.ext.prepare(l,c)}hasContent(l){return this.ext.hasContent(l)}render(l,c){this.hasContent(c)&&(l.openNode("extLst"),this.ext.render(l,c),l.closeNode())}createNewModel(){return{}}onParserClose(l,c){Object.assign(this.model,c.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(t,n,s){const i=t("../base-xform");n.exports=class extends i{get tag(){return"headerFooter"}render(a,o){if(o){a.addRollback();let l=!1;a.openNode("headerFooter"),o.differentFirst&&(a.addAttribute("differentFirst","1"),l=!0),o.differentOddEven&&(a.addAttribute("differentOddEven","1"),l=!0),o.oddHeader&&typeof o.oddHeader=="string"&&(a.leafNode("oddHeader",null,o.oddHeader),l=!0),o.oddFooter&&typeof o.oddFooter=="string"&&(a.leafNode("oddFooter",null,o.oddFooter),l=!0),o.evenHeader&&typeof o.evenHeader=="string"&&(a.leafNode("evenHeader",null,o.evenHeader),l=!0),o.evenFooter&&typeof o.evenFooter=="string"&&(a.leafNode("evenFooter",null,o.evenFooter),l=!0),o.firstHeader&&typeof o.firstHeader=="string"&&(a.leafNode("firstHeader",null,o.firstHeader),l=!0),o.firstFooter&&typeof o.firstFooter=="string"&&(a.leafNode("firstFooter",null,o.firstFooter),l=!0),l?(a.closeNode(),a.commit()):a.rollback()}}parseOpen(a){switch(a.name){case"headerFooter":return this.model={},a.attributes.differentFirst&&(this.model.differentFirst=parseInt(a.attributes.differentFirst,0)===1),a.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(a.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(a){switch(this.currentNode){case"oddHeader":this.model.oddHeader=a;break;case"oddFooter":this.model.oddFooter=a;break;case"evenHeader":this.model.evenHeader=a;break;case"evenFooter":this.model.evenFooter=a;break;case"firstHeader":this.model.firstHeader=a;break;case"firstFooter":this.model.firstFooter=a}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(t,n,s){const i=t("../base-xform");n.exports=class extends i{get tag(){return"hyperlink"}render(a,o){this.isInternalLink(o)?a.leafNode("hyperlink",{ref:o.address,"r:id":o.rId,tooltip:o.tooltip,location:o.target}):a.leafNode("hyperlink",{ref:o.address,"r:id":o.rId,tooltip:o.tooltip})}parseOpen(a){return a.name==="hyperlink"&&(this.model={address:a.attributes.ref,rId:a.attributes["r:id"],tooltip:a.attributes.tooltip},a.attributes.location&&(this.model.target=a.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(a){return a.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(a.target)}}},{"../base-xform":32}],99:[function(t,n,s){const i=t("../base-xform");n.exports=class extends i{get tag(){return"mergeCell"}render(a,o){a.leafNode("mergeCell",{ref:o})}parseOpen(a){return a.name==="mergeCell"&&(this.model=a.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(t,n,s){const i=t("../../../utils/under-dash"),a=t("../../../doc/range"),o=t("../../../utils/col-cache"),l=t("../../../doc/enums");n.exports=class{constructor(){this.merges={}}add(c){if(this.merges[c.master])this.merges[c.master].expandToAddress(c.address);else{const u=`${c.master}:${c.address}`;this.merges[c.master]=new a(u)}}get mergeCells(){return i.map(this.merges,c=>c.range)}reconcile(c,u){i.each(c,d=>{const h=o.decode(d);for(let f=h.top;f<=h.bottom;f++){const m=u[f-1];for(let g=h.left;g<=h.right;g++){const p=m.cells[g-1];p?p.type===l.ValueType.Merge&&(p.master=h.tl):m.cells[g]={type:l.ValueType.Null,address:o.encodeAddress(f,g)}}}})}getMasterAddress(c){const u=this.hash[c];return u&&u.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(t,n,s){const i=t("../base-xform"),a=o=>o!==void 0;n.exports=class extends i{get tag(){return"outlinePr"}render(o,l){return!(!l||!a(l.summaryBelow)&&!a(l.summaryRight))&&(o.leafNode(this.tag,{summaryBelow:a(l.summaryBelow)?Number(l.summaryBelow):void 0,summaryRight:a(l.summaryRight)?Number(l.summaryRight):void 0}),!0)}parseOpen(o){return o.name===this.tag&&(this.model={summaryBelow:a(o.attributes.summaryBelow)?!!Number(o.attributes.summaryBelow):void 0,summaryRight:a(o.attributes.summaryRight)?!!Number(o.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(t,n,s){const i=t("../base-xform");n.exports=class extends i{get tag(){return"brk"}render(a,o){a.leafNode("brk",o)}parseOpen(a){return a.name==="brk"&&(this.model=a.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(t,n,s){const i=t("../../../utils/under-dash"),a=t("../base-xform");n.exports=class extends a{get tag(){return"pageMargins"}render(o,l){if(l){const c={left:l.left,right:l.right,top:l.top,bottom:l.bottom,header:l.header,footer:l.footer};i.some(c,u=>u!==void 0)&&o.leafNode(this.tag,c)}}parseOpen(o){switch(o.name){case this.tag:return this.model={left:parseFloat(o.attributes.left||.7),right:parseFloat(o.attributes.right||.7),top:parseFloat(o.attributes.top||.75),bottom:parseFloat(o.attributes.bottom||.75),header:parseFloat(o.attributes.header||.3),footer:parseFloat(o.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(t,n,s){const i=t("../base-xform");n.exports=class extends i{get tag(){return"pageSetUpPr"}render(a,o){return!(!o||!o.fitToPage)&&(a.leafNode(this.tag,{fitToPage:o.fitToPage?"1":void 0}),!0)}parseOpen(a){return a.name===this.tag&&(this.model={fitToPage:a.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(t,n,s){const i=t("../../../utils/under-dash"),a=t("../base-xform");function o(d){return d?"1":void 0}function l(d){switch(d){case"overThenDown":return d;default:return}}function c(d){switch(d){case"atEnd":case"asDisplyed":return d;default:return}}function u(d){switch(d){case"dash":case"blank":case"NA":return d;default:return}}n.exports=class extends a{get tag(){return"pageSetup"}render(d,h){if(h){const f={paperSize:h.paperSize,orientation:h.orientation,horizontalDpi:h.horizontalDpi,verticalDpi:h.verticalDpi,pageOrder:l(h.pageOrder),blackAndWhite:o(h.blackAndWhite),draft:o(h.draft),cellComments:c(h.cellComments),errors:u(h.errors),scale:h.scale,fitToWidth:h.fitToWidth,fitToHeight:h.fitToHeight,firstPageNumber:h.firstPageNumber,useFirstPageNumber:o(h.firstPageNumber),usePrinterDefaults:o(h.usePrinterDefaults),copies:h.copies};i.some(f,m=>m!==void 0)&&d.leafNode(this.tag,f)}}parseOpen(d){switch(d.name){case this.tag:return this.model={paperSize:(h=d.attributes.paperSize,h!==void 0?parseInt(h,10):void 0),orientation:d.attributes.orientation||"portrait",horizontalDpi:parseInt(d.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(d.attributes.verticalDpi||"4294967295",10),pageOrder:d.attributes.pageOrder||"downThenOver",blackAndWhite:d.attributes.blackAndWhite==="1",draft:d.attributes.draft==="1",cellComments:d.attributes.cellComments||"None",errors:d.attributes.errors||"displayed",scale:parseInt(d.attributes.scale||"100",10),fitToWidth:parseInt(d.attributes.fitToWidth||"1",10),fitToHeight:parseInt(d.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(d.attributes.firstPageNumber||"1",10),useFirstPageNumber:d.attributes.useFirstPageNumber==="1",usePrinterDefaults:d.attributes.usePrinterDefaults==="1",copies:parseInt(d.attributes.copies||"1",10)},!0;default:return!1}var h}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(t,n,s){const i=t("../base-xform");n.exports=class extends i{get tag(){return"picture"}render(a,o){o&&a.leafNode(this.tag,{"r:id":o.rId})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(t,n,s){const i=t("../../../utils/under-dash"),a=t("../base-xform");function o(l){return l?"1":void 0}n.exports=class extends a{get tag(){return"printOptions"}render(l,c){if(c){const u={headings:o(c.showRowColHeaders),gridLines:o(c.showGridLines),horizontalCentered:o(c.horizontalCentered),verticalCentered:o(c.verticalCentered)};i.some(u,d=>d!==void 0)&&l.leafNode(this.tag,u)}}parseOpen(l){switch(l.name){case this.tag:return this.model={showRowColHeaders:l.attributes.headings==="1",showGridLines:l.attributes.gridLines==="1",horizontalCentered:l.attributes.horizontalCentered==="1",verticalCentered:l.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(t,n,s){const i=t("./page-breaks-xform"),a=t("../list-xform");n.exports=class extends a{constructor(){super({tag:"rowBreaks",count:!0,childXform:new i})}render(o,l){if(l&&l.length){o.openNode(this.tag,this.$),this.count&&(o.addAttribute(this.$count,l.length),o.addAttribute("manualBreakCount",l.length));const{childXform:c}=this;l.forEach(u=>{c.render(o,u)}),o.closeNode()}else this.empty&&o.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(t,n,s){const i=t("../base-xform"),a=t("../../../utils/utils"),o=t("./cell-xform");n.exports=class extends i{constructor(l){super(),this.maxItems=l&&l.maxItems,this.map={c:new o}}get tag(){return"row"}prepare(l,c){const u=c.styles.addStyleModel(l.style);u&&(l.styleId=u);const d=this.map.c;l.cells.forEach(h=>{d.prepare(h,c)})}render(l,c,u){l.openNode("row"),l.addAttribute("r",c.number),c.height&&(l.addAttribute("ht",c.height),l.addAttribute("customHeight","1")),c.hidden&&l.addAttribute("hidden","1"),c.min>0&&c.max>0&&c.min<=c.max&&l.addAttribute("spans",`${c.min}:${c.max}`),c.styleId&&(l.addAttribute("s",c.styleId),l.addAttribute("customFormat","1")),l.addAttribute("x14ac:dyDescent","0.25"),c.outlineLevel&&l.addAttribute("outlineLevel",c.outlineLevel),c.collapsed&&l.addAttribute("collapsed","1");const d=this.map.c;c.cells.forEach(h=>{d.render(l,h,u)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;if(l.name==="row"){this.numRowsSeen+=1;const c=l.attributes.spans?l.attributes.spans.split(":").map(d=>parseInt(d,10)):[void 0,void 0],u=this.model={number:parseInt(l.attributes.r,10),min:c[0],max:c[1],cells:[]};return l.attributes.s&&(u.styleId=parseInt(l.attributes.s,10)),a.parseBoolean(l.attributes.hidden)&&(u.hidden=!0),a.parseBoolean(l.attributes.bestFit)&&(u.bestFit=!0),l.attributes.ht&&(u.height=parseFloat(l.attributes.ht)),l.attributes.outlineLevel&&(u.outlineLevel=parseInt(l.attributes.outlineLevel,10)),a.parseBoolean(l.attributes.collapsed)&&(u.collapsed=!0),!0}return this.parser=this.map[l.name],!!this.parser&&(this.parser.parseOpen(l),!0)}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(l,c){l.style=l.styleId?c.styles.getStyleModel(l.styleId):{},l.styleId!==void 0&&(l.styleId=void 0);const u=this.map.c;l.cells.forEach(d=>{u.reconcile(d,c)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(t,n,s){const i=t("../../../utils/under-dash"),a=t("../base-xform");n.exports=class extends a{get tag(){return"sheetFormatPr"}render(o,l){if(l){const c={defaultRowHeight:l.defaultRowHeight,outlineLevelRow:l.outlineLevelRow,outlineLevelCol:l.outlineLevelCol,"x14ac:dyDescent":l.dyDescent};l.defaultColWidth&&(c.defaultColWidth=l.defaultColWidth),l.defaultRowHeight&&l.defaultRowHeight===15||(c.customHeight="1"),i.some(c,u=>u!==void 0)&&o.leafNode("sheetFormatPr",c)}}parseOpen(o){return o.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(o.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(o.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(o.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(o.attributes.outlineLevelCol||"0",10)},o.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(o.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(t,n,s){const i=t("../base-xform"),a=t("../style/color-xform"),o=t("./page-setup-properties-xform"),l=t("./outline-properties-xform");n.exports=class extends i{constructor(){super(),this.map={tabColor:new a("tabColor"),pageSetUpPr:new o,outlinePr:new l}}get tag(){return"sheetPr"}render(c,u){if(u){c.addRollback(),c.openNode("sheetPr");let d=!1;d=this.map.tabColor.render(c,u.tabColor)||d,d=this.map.pageSetUpPr.render(c,u.pageSetup)||d,d=this.map.outlinePr.render(c,u.outlineProperties)||d,d?(c.closeNode(),c.commit()):c.rollback()}}parseOpen(c){return this.parser?(this.parser.parseOpen(c),!0):c.name===this.tag?(this.reset(),!0):!!this.map[c.name]&&(this.parser=this.map[c.name],this.parser.parseOpen(c),!0)}parseText(c){return!!this.parser&&(this.parser.parseText(c),!0)}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(t,n,s){const i=t("../../../utils/under-dash"),a=t("../base-xform");function o(c,u){return c?u:void 0}function l(c,u){return c===u||void 0}n.exports=class extends a{get tag(){return"sheetProtection"}render(c,u){if(u){const d={sheet:o(u.sheet,"1"),selectLockedCells:u.selectLockedCells===!1?"1":void 0,selectUnlockedCells:u.selectUnlockedCells===!1?"1":void 0,formatCells:o(u.formatCells,"0"),formatColumns:o(u.formatColumns,"0"),formatRows:o(u.formatRows,"0"),insertColumns:o(u.insertColumns,"0"),insertRows:o(u.insertRows,"0"),insertHyperlinks:o(u.insertHyperlinks,"0"),deleteColumns:o(u.deleteColumns,"0"),deleteRows:o(u.deleteRows,"0"),sort:o(u.sort,"0"),autoFilter:o(u.autoFilter,"0"),pivotTables:o(u.pivotTables,"0")};u.sheet&&(d.algorithmName=u.algorithmName,d.hashValue=u.hashValue,d.saltValue=u.saltValue,d.spinCount=u.spinCount,d.objects=o(u.objects===!1,"1"),d.scenarios=o(u.scenarios===!1,"1")),i.some(d,h=>h!==void 0)&&c.leafNode(this.tag,d)}}parseOpen(c){switch(c.name){case this.tag:return this.model={sheet:l(c.attributes.sheet,"1"),objects:c.attributes.objects!=="1"&&void 0,scenarios:c.attributes.scenarios!=="1"&&void 0,selectLockedCells:c.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:c.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:l(c.attributes.formatCells,"0"),formatColumns:l(c.attributes.formatColumns,"0"),formatRows:l(c.attributes.formatRows,"0"),insertColumns:l(c.attributes.insertColumns,"0"),insertRows:l(c.attributes.insertRows,"0"),insertHyperlinks:l(c.attributes.insertHyperlinks,"0"),deleteColumns:l(c.attributes.deleteColumns,"0"),deleteRows:l(c.attributes.deleteRows,"0"),sort:l(c.attributes.sort,"0"),autoFilter:l(c.attributes.autoFilter,"0"),pivotTables:l(c.attributes.pivotTables,"0")},c.attributes.algorithmName&&(this.model.algorithmName=c.attributes.algorithmName,this.model.hashValue=c.attributes.hashValue,this.model.saltValue=c.attributes.saltValue,this.model.spinCount=parseInt(c.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(t,n,s){const i=t("../../../utils/col-cache"),a=t("../base-xform"),o={frozen:"frozen",frozenSplit:"frozen",split:"split"};n.exports=class extends a{get tag(){return"sheetView"}prepare(l){switch(l.state){case"frozen":case"split":break;default:l.state="normal"}}render(l,c){l.openNode("sheetView",{workbookViewId:c.workbookViewId||0});const u=function(g,p,v){v&&l.addAttribute(g,p)};let d,h,f,m;switch(u("rightToLeft","1",c.rightToLeft===!0),u("tabSelected","1",c.tabSelected),u("showRuler","0",c.showRuler===!1),u("showRowColHeaders","0",c.showRowColHeaders===!1),u("showGridLines","0",c.showGridLines===!1),u("zoomScale",c.zoomScale,c.zoomScale),u("zoomScaleNormal",c.zoomScaleNormal,c.zoomScaleNormal),u("view",c.style,c.style),c.state){case"frozen":h=c.xSplit||0,f=c.ySplit||0,d=c.topLeftCell||i.getAddress(f+1,h+1).address,m=(c.xSplit&&c.ySplit?"bottomRight":c.xSplit&&"topRight")||"bottomLeft",l.leafNode("pane",{xSplit:c.xSplit||void 0,ySplit:c.ySplit||void 0,topLeftCell:d,activePane:m,state:"frozen"}),l.leafNode("selection",{pane:m,activeCell:c.activeCell,sqref:c.activeCell});break;case"split":c.activePane==="topLeft"&&(c.activePane=void 0),l.leafNode("pane",{xSplit:c.xSplit||void 0,ySplit:c.ySplit||void 0,topLeftCell:c.topLeftCell,activePane:c.activePane}),l.leafNode("selection",{pane:c.activePane,activeCell:c.activeCell,sqref:c.activeCell});break;case"normal":c.activeCell&&l.leafNode("selection",{activeCell:c.activeCell,sqref:c.activeCell})}l.closeNode()}parseOpen(l){switch(l.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(l.attributes.workbookViewId,10),rightToLeft:l.attributes.rightToLeft==="1",tabSelected:l.attributes.tabSelected==="1",showRuler:l.attributes.showRuler!=="0",showRowColHeaders:l.attributes.showRowColHeaders!=="0",showGridLines:l.attributes.showGridLines!=="0",zoomScale:parseInt(l.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(l.attributes.zoomScaleNormal||"100",10),style:l.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(l.attributes.xSplit||"0",10),ySplit:parseInt(l.attributes.ySplit||"0",10),topLeftCell:l.attributes.topLeftCell,activePane:l.attributes.activePane||"topLeft",state:l.attributes.state},!0;case"selection":{const c=l.attributes.pane||"topLeft";return this.selections[c]={pane:c,activeCell:l.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(l){let c,u;switch(l){case"sheetView":return this.sheetView&&this.pane?(c=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:o[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(c.activePane=this.pane.activePane),u=this.selections[this.pane.activePane],u&&u.activeCell&&(c.activeCell=u.activeCell),this.sheetView.style&&(c.style=this.sheetView.style)):(c=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},u=this.selections.topLeft,u&&u.activeCell&&(c.activeCell=u.activeCell),this.sheetView.style&&(c.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(t,n,s){const i=t("../base-xform");n.exports=class extends i{get tag(){return"tablePart"}render(a,o){o&&a.leafNode(this.tag,{"r:id":o.rId})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(t,n,s){const i=t("../../../utils/under-dash"),a=t("../../../utils/col-cache"),o=t("../../../utils/xml-stream"),l=t("../../rel-type"),c=t("./merges"),u=t("../base-xform"),d=t("../list-xform"),h=t("./row-xform"),f=t("./col-xform"),m=t("./dimension-xform"),g=t("./hyperlink-xform"),p=t("./merge-cell-xform"),v=t("./data-validations-xform"),y=t("./sheet-properties-xform"),b=t("./sheet-format-properties-xform"),E=t("./sheet-view-xform"),N=t("./sheet-protection-xform"),j=t("./page-margins-xform"),D=t("./page-setup-xform"),C=t("./print-options-xform"),I=t("./auto-filter-xform"),V=t("./picture-xform"),B=t("./drawing-xform"),P=t("./table-part-xform"),k=t("./row-breaks-xform"),M=t("./header-footer-xform"),A=t("./cf/conditional-formattings-xform"),w=t("./ext-lst-xform"),S=(x,R)=>{if(!R||!R.length)return x;if(!x||!x.length)return R;const W={},T={};return x.forEach(z=>{W[z.ref]=z,z.rules.forEach(q=>{const{x14Id:Y}=q;Y&&(T[Y]=q)})}),R.forEach(z=>{z.rules.forEach(q=>{const Y=T[q.x14Id];Y?((U,Q)=>{Object.keys(Q).forEach(F=>{const O=U[F],K=Q[F];O===void 0&&K!==void 0&&(U[F]=K)})})(Y,q):W[z.ref]?W[z.ref].rules.push(q):x.push({ref:z.ref,rules:[q]})})}),x};class _ extends u{constructor(R){super();const{maxRows:W,maxCols:T,ignoreNodes:z}=R||{};this.ignoreNodes=z||[],this.map={sheetPr:new y,dimension:new m,sheetViews:new d({tag:"sheetViews",count:!1,childXform:new E}),sheetFormatPr:new b,cols:new d({tag:"cols",count:!1,childXform:new f}),sheetData:new d({tag:"sheetData",count:!1,empty:!0,childXform:new h({maxItems:T}),maxItems:W}),autoFilter:new I,mergeCells:new d({tag:"mergeCells",count:!0,childXform:new p}),rowBreaks:new k,hyperlinks:new d({tag:"hyperlinks",count:!1,childXform:new g}),pageMargins:new j,dataValidations:new v,pageSetup:new D,headerFooter:new M,printOptions:new C,picture:new V,drawing:new B,sheetProtection:new N,tableParts:new d({tag:"tableParts",count:!0,childXform:new P}),conditionalFormatting:new A,extLst:new w}}prepare(R,W){W.merges=new c,R.hyperlinks=W.hyperlinks=[],R.comments=W.comments=[],W.formulae={},W.siFormulae=0,this.map.cols.prepare(R.cols,W),this.map.sheetData.prepare(R.rows,W),this.map.conditionalFormatting.prepare(R.conditionalFormattings,W),R.mergeCells=W.merges.mergeCells;const T=R.rels=[];function z(U){return"rId"+(U.length+1)}if(R.hyperlinks.forEach(U=>{const Q=z(T);U.rId=Q,T.push({Id:Q,Type:l.Hyperlink,Target:U.target,TargetMode:"External"})}),R.comments.length>0){const U={Id:z(T),Type:l.Comments,Target:`../comments${R.id}.xml`};T.push(U);const Q={Id:z(T),Type:l.VmlDrawing,Target:`../drawings/vmlDrawing${R.id}.vml`};T.push(Q),R.comments.forEach(F=>{F.refAddress=a.decodeAddress(F.ref)}),W.commentRefs.push({commentName:"comments"+R.id,vmlDrawing:"vmlDrawing"+R.id})}const q=[];let Y;R.media.forEach(U=>{if(U.type==="background"){const Q=z(T);Y=W.media[U.imageId],T.push({Id:Q,Type:l.Image,Target:`../media/${Y.name}.${Y.extension}`}),R.background={rId:Q},R.image=W.media[U.imageId]}else if(U.type==="image"){let{drawing:Q}=R;Y=W.media[U.imageId],Q||(Q=R.drawing={rId:z(T),name:"drawing"+ ++W.drawingsCount,anchors:[],rels:[]},W.drawings.push(Q),T.push({Id:Q.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${Q.name}.xml`}));let F=this.preImageId===U.imageId?q[U.imageId]:q[Q.rels.length];F||(F=z(Q.rels),q[Q.rels.length]=F,Q.rels.push({Id:F,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${Y.name}.${Y.extension}`}));const O={picture:{rId:F},range:U.range};if(U.hyperlinks&&U.hyperlinks.hyperlink){const K=z(Q.rels);q[Q.rels.length]=K,O.picture.hyperlinks={tooltip:U.hyperlinks.tooltip,rId:K},Q.rels.push({Id:K,Type:l.Hyperlink,Target:U.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=U.imageId,Q.anchors.push(O)}}),R.tables.forEach(U=>{const Q=z(T);U.rId=Q,T.push({Id:Q,Type:l.Table,Target:"../tables/"+U.target}),U.columns.forEach(F=>{const{style:O}=F;O&&(F.dxfId=W.styles.addDxfStyle(O))})}),this.map.extLst.prepare(R,W)}render(R,W){R.openXml(o.StdDocAttributes),R.openNode("worksheet",_.WORKSHEET_ATTRIBUTES);const T=W.properties?{defaultRowHeight:W.properties.defaultRowHeight,dyDescent:W.properties.dyDescent,outlineLevelCol:W.properties.outlineLevelCol,outlineLevelRow:W.properties.outlineLevelRow}:void 0;W.properties&&W.properties.defaultColWidth&&(T.defaultColWidth=W.properties.defaultColWidth);const z={outlineProperties:W.properties&&W.properties.outlineProperties,tabColor:W.properties&&W.properties.tabColor,pageSetup:W.pageSetup&&W.pageSetup.fitToPage?{fitToPage:W.pageSetup.fitToPage}:void 0},q=W.pageSetup&&W.pageSetup.margins,Y={showRowColHeaders:W.pageSetup&&W.pageSetup.showRowColHeaders,showGridLines:W.pageSetup&&W.pageSetup.showGridLines,horizontalCentered:W.pageSetup&&W.pageSetup.horizontalCentered,verticalCentered:W.pageSetup&&W.pageSetup.verticalCentered},U=W.sheetProtection;this.map.sheetPr.render(R,z),this.map.dimension.render(R,W.dimensions),this.map.sheetViews.render(R,W.views),this.map.sheetFormatPr.render(R,T),this.map.cols.render(R,W.cols),this.map.sheetData.render(R,W.rows),this.map.sheetProtection.render(R,U),this.map.autoFilter.render(R,W.autoFilter),this.map.mergeCells.render(R,W.mergeCells),this.map.conditionalFormatting.render(R,W.conditionalFormattings),this.map.dataValidations.render(R,W.dataValidations),this.map.hyperlinks.render(R,W.hyperlinks),this.map.printOptions.render(R,Y),this.map.pageMargins.render(R,q),this.map.pageSetup.render(R,W.pageSetup),this.map.headerFooter.render(R,W.headerFooter),this.map.rowBreaks.render(R,W.rowBreaks),this.map.drawing.render(R,W.drawing),this.map.picture.render(R,W.background),this.map.tableParts.render(R,W.tables),this.map.extLst.render(R,W),W.rels&&W.rels.forEach(Q=>{Q.Type===l.VmlDrawing&&R.leafNode("legacyDrawing",{"r:id":Q.Id})}),R.closeNode()}parseOpen(R){return this.parser?(this.parser.parseOpen(R),!0):R.name==="worksheet"?(i.each(this.map,W=>{W.reset()}),!0):(this.map[R.name]&&!this.ignoreNodes.includes(R.name)&&(this.parser=this.map[R.name],this.parser.parseOpen(R)),!0)}parseText(R){this.parser&&this.parser.parseText(R)}parseClose(R){if(this.parser)return this.parser.parseClose(R)||(this.parser=void 0),!0;switch(R){case"worksheet":{const W=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(W.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(W.outlineProperties=this.map.sheetPr.model.outlineProperties);const T={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},z=Object.assign(T,this.map.pageSetup.model,this.map.printOptions.model),q=S(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:W,views:this.map.sheetViews.model,pageSetup:z,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:q},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(R,W){const T=(R.relationships||[]).reduce((q,Y)=>{if(q[Y.Id]=Y,Y.Type===l.Comments&&(R.comments=W.comments[Y.Target].comments),Y.Type===l.VmlDrawing&&R.comments&&R.comments.length){const U=W.vmlDrawings[Y.Target].comments;R.comments.forEach((Q,F)=>{Q.note=Object.assign({},Q.note,U[F])})}return q},{});if(W.commentsMap=(R.comments||[]).reduce((q,Y)=>(Y.ref&&(q[Y.ref]=Y),q),{}),W.hyperlinkMap=(R.hyperlinks||[]).reduce((q,Y)=>(Y.rId&&(q[Y.address]=T[Y.rId].Target),q),{}),W.formulae={},R.rows=R.rows&&R.rows.filter(Boolean)||[],R.rows.forEach(q=>{q.cells=q.cells&&q.cells.filter(Boolean)||[]}),this.map.cols.reconcile(R.cols,W),this.map.sheetData.reconcile(R.rows,W),this.map.conditionalFormatting.reconcile(R.conditionalFormattings,W),R.media=[],R.drawing){const q=T[R.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(q){const Y=q[1];W.drawings[Y].anchors.forEach(U=>{if(U.medium){const Q={type:"image",imageId:U.medium.index,range:U.range,hyperlinks:U.picture.hyperlinks};R.media.push(Q)}})}}const z=R.background&&T[R.background.rId];if(z){const q=z.Target.split("/media/")[1],Y=W.mediaIndex&&W.mediaIndex[q];Y!==void 0&&R.media.push({type:"background",imageId:Y})}R.tables=(R.tables||[]).map(q=>{const Y=T[q.rId];return W.tables[Y.Target]}),delete R.relationships,delete R.hyperlinks,delete R.comments}}_.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},n.exports=_},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(t,n,s){const i=t("../base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.attr=a.attr}render(a,o){o&&(a.openNode(this.tag),a.closeNode())}parseOpen(a){a.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(t,n,s){const i=t("../base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.attr=a.attr,this.attrs=a.attrs,this._format=a.format||function(o){try{return Number.isNaN(o.getTime())?"":o.toISOString()}catch{return""}},this._parse=a.parse||function(o){return new Date(o)}}render(a,o){o&&(a.openNode(this.tag),this.attrs&&a.addAttributes(this.attrs),this.attr?a.addAttribute(this.attr,this._format(o)):a.writeText(this._format(o)),a.closeNode())}parseOpen(a){a.name===this.tag&&(this.attr?this.model=this._parse(a.attributes[this.attr]):this.text=[])}parseText(a){this.attr||this.text.push(a)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(t,n,s){const i=t("../base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.attr=a.attr,this.attrs=a.attrs,this.zero=a.zero}render(a,o){(o||this.zero)&&(a.openNode(this.tag),this.attrs&&a.addAttributes(this.attrs),this.attr?a.addAttribute(this.attr,o):a.writeText(o),a.closeNode())}parseOpen(a){return a.name===this.tag&&(this.attr?this.model=parseInt(a.attributes[this.attr],10):this.text=[],!0)}parseText(a){this.attr||this.text.push(a)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(t,n,s){const i=t("../base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.attr=a.attr,this.attrs=a.attrs}render(a,o){o!==void 0&&(a.openNode(this.tag),this.attrs&&a.addAttributes(this.attrs),this.attr?a.addAttribute(this.attr,o):a.writeText(o),a.closeNode())}parseOpen(a){a.name===this.tag&&(this.attr?this.model=a.attributes[this.attr]:this.text=[])}parseText(a){this.attr||this.text.push(a)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(t,n,s){const i=t("./base-xform"),a=t("../../utils/xml-stream");n.exports=class extends i{constructor(o){super(),this._model=o}render(o){if(!this._xml){const l=new a;(function c(u,d){u.openNode(d.tag,d.$),d.c&&d.c.forEach(h=>{c(u,h)}),d.t&&u.writeText(d.t),u.closeNode()})(l,this._model),this._xml=l.xml}o.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(o){switch(o){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(t,n,s){const i=t("./text-xform"),a=t("./rich-text-xform"),o=t("../base-xform");n.exports=class extends o{constructor(){super(),this.map={r:new a,t:new i}}get tag(){return"rPh"}render(l,c){if(l.openNode(this.tag,{sb:c.sb||0,eb:c.eb||0}),c&&c.hasOwnProperty("richText")&&c.richText){const{r:u}=this.map;c.richText.forEach(d=>{u.render(l,d)})}else c&&this.map.t.render(l,c.text);l.closeNode()}parseOpen(l){const{name:c}=l;return this.parser?(this.parser.parseOpen(l),!0):c===this.tag?(this.model={sb:parseInt(l.attributes.sb,10),eb:parseInt(l.attributes.eb,10)},!0):(this.parser=this.map[c],!!this.parser&&(this.parser.parseOpen(l),!0))}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){switch(l){case"r":{let c=this.model.richText;c||(c=this.model.richText=[]),c.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(l){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(t,n,s){const i=t("./text-xform"),a=t("../style/font-xform"),o=t("../base-xform");class l extends o{constructor(u){super(),this.model=u}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new i)}get fontXform(){return this._fontXform||(this._fontXform=new a(l.FONT_OPTIONS))}render(u,d){d=d||this.model,u.openNode("r"),d.font&&this.fontXform.render(u,d.font),this.textXform.render(u,d.text),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(u),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){switch(u){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}}l.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},n.exports=l},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(t,n,s){const i=t("./text-xform"),a=t("./rich-text-xform"),o=t("./phonetic-text-xform"),l=t("../base-xform");n.exports=class extends l{constructor(c){super(),this.model=c,this.map={r:new a,t:new i,rPh:new o}}get tag(){return"si"}render(c,u){c.openNode(this.tag),u&&u.hasOwnProperty("richText")&&u.richText?u.richText.length?u.richText.forEach(d=>{this.map.r.render(c,d)}):this.map.t.render(c,""):u!=null&&this.map.t.render(c,u),c.closeNode()}parseOpen(c){const{name:u}=c;return this.parser?(this.parser.parseOpen(c),!0):u===this.tag?(this.model={},!0):(this.parser=this.map[u],!!this.parser&&(this.parser.parseOpen(c),!0))}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser){if(!this.parser.parseClose(c)){switch(c){case"r":{let u=this.model.richText;u||(u=this.model.richText=[]),u.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(c){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(t,n,s){const i=t("../../../utils/xml-stream"),a=t("../base-xform"),o=t("./shared-string-xform");n.exports=class extends a{constructor(l){super(),this.model=l||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new o)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(l){return this.model.values[l]}add(l){return l.richText?this.addRichText(l):this.addText(l)}addText(l){let c=this.hash[l];return c===void 0&&(c=this.hash[l]=this.model.values.length,this.model.values.push(l)),this.model.count++,c}addRichText(l){const c=this.sharedStringXform.toXml(l);let u=this.rich[c];return u===void 0&&(u=this.rich[c]=this.model.values.length,this.model.values.push(l)),this.model.count++,u}render(l,c){c=c||this._values,l.openXml(i.StdDocAttributes),l.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:c.count,uniqueCount:c.values.length});const u=this.sharedStringXform;c.values.forEach(d=>{u.render(l,d)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(l),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(l){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+l)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(t,n,s){const i=t("../base-xform");n.exports=class extends i{get tag(){return"t"}render(a,o){a.openNode("t"),/^\s|\n|\s$/.test(o)&&a.addAttribute("xml:space","preserve"),a.writeText(o),a.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(a,o)=>String.fromCharCode(parseInt(o,16)))}parseOpen(a){switch(a.name){case"t":return this._text=[],!0;default:return!1}}parseText(a){this._text.push(a)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(t,n,s){const i=t("../../../doc/enums"),a=t("../../../utils/utils"),o=t("../base-xform"),l={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((u,d)=>(u[d]=!0,u),{}),horizontal(u){return this.horizontalValues[u]?u:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((u,d)=>(u[d]=!0,u),{}),vertical(u){return u==="middle"?"center":this.verticalValues[u]?u:void 0},wrapText:u=>!!u||void 0,shrinkToFit:u=>!!u||void 0,textRotation(u){switch(u){case"vertical":return u;default:return(u=a.validInt(u))>=-90&&u<=90?u:void 0}},indent:u=>(u=a.validInt(u),Math.max(0,u)),readingOrder(u){switch(u){case"ltr":return i.ReadingOrder.LeftToRight;case"rtl":return i.ReadingOrder.RightToLeft;default:return}}},c={toXml(u){if(u=l.textRotation(u)){if(u==="vertical")return 255;const d=Math.round(u);if(d>=0&&d<=90)return d;if(d<0&&d>=-90)return 90-d}},toModel(u){const d=a.validInt(u);if(d!==void 0){if(d===255)return"vertical";if(d>=0&&d<=90)return d;if(d>90&&d<=180)return 90-d}}};n.exports=class extends o{get tag(){return"alignment"}render(u,d){u.addRollback(),u.openNode("alignment");let h=!1;function f(m,g){g&&(u.addAttribute(m,g),h=!0)}f("horizontal",l.horizontal(d.horizontal)),f("vertical",l.vertical(d.vertical)),f("wrapText",!!l.wrapText(d.wrapText)&&"1"),f("shrinkToFit",!!l.shrinkToFit(d.shrinkToFit)&&"1"),f("indent",l.indent(d.indent)),f("textRotation",c.toXml(d.textRotation)),f("readingOrder",l.readingOrder(d.readingOrder)),u.closeNode(),h?u.commit():u.rollback()}parseOpen(u){const d={};let h=!1;function f(m,g,p){m&&(d[g]=p,h=!0)}f(u.attributes.horizontal,"horizontal",u.attributes.horizontal),f(u.attributes.vertical,"vertical",u.attributes.vertical==="center"?"middle":u.attributes.vertical),f(u.attributes.wrapText,"wrapText",a.parseBoolean(u.attributes.wrapText)),f(u.attributes.shrinkToFit,"shrinkToFit",a.parseBoolean(u.attributes.shrinkToFit)),f(u.attributes.indent,"indent",parseInt(u.attributes.indent,10)),f(u.attributes.textRotation,"textRotation",c.toModel(u.attributes.textRotation)),f(u.attributes.readingOrder,"readingOrder",u.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=h?d:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(t,n,s){const i=t("../base-xform"),a=t("../../../utils/utils"),o=t("./color-xform");class l extends i{constructor(u){super(),this.name=u,this.map={color:new o}}get tag(){return this.name}render(u,d,h){const f=d&&d.color||h||this.defaultColor;u.openNode(this.name),d&&d.style&&(u.addAttribute("style",d.style),f&&this.map.color.render(u,f)),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.name:{const{style:d}=u.attributes;return this.model=d?{style:d}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):(u===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(u){return l.validStyleValues[u]}}l.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((c,u)=>(c[u]=!0,c),{}),n.exports=class extends i{constructor(){super(),this.map={top:new l("top"),left:new l("left"),bottom:new l("bottom"),right:new l("right"),diagonal:new l("diagonal")}}render(c,u){const{color:d}=u;function h(f,m){f&&!f.color&&u.color&&(f={...f,color:u.color}),m.render(c,f,d)}c.openNode("border"),u.diagonal&&u.diagonal.style&&(u.diagonal.up&&c.addAttribute("diagonalUp","1"),u.diagonal.down&&c.addAttribute("diagonalDown","1")),h(u.left,this.map.left),h(u.right,this.map.right),h(u.top,this.map.top),h(u.bottom,this.map.bottom),h(u.diagonal,this.map.diagonal),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"border":return this.reset(),this.diagonalUp=a.parseBoolean(c.attributes.diagonalUp),this.diagonalDown=a.parseBoolean(c.attributes.diagonalDown),!0;default:return this.parser=this.map[c.name],!!this.parser&&(this.parser.parseOpen(c),!0)}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;if(c==="border"){const u=this.model={},d=function(h,f,m){f&&(m&&Object.assign(f,m),u[h]=f)};d("left",this.map.left.model),d("right",this.map.right.model),d("top",this.map.top.model),d("bottom",this.map.bottom.model),d("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(t,n,s){const i=t("../base-xform");n.exports=class extends i{constructor(a){super(),this.name=a||"color"}get tag(){return this.name}render(a,o){return!!o&&(a.openNode(this.name),o.argb?a.addAttribute("rgb",o.argb):o.theme!==void 0?(a.addAttribute("theme",o.theme),o.tint!==void 0&&a.addAttribute("tint",o.tint)):o.indexed!==void 0?a.addAttribute("indexed",o.indexed):a.addAttribute("auto","1"),a.closeNode(),!0)}parseOpen(a){return a.name===this.name&&(a.attributes.rgb?this.model={argb:a.attributes.rgb}:a.attributes.theme?(this.model={theme:parseInt(a.attributes.theme,10)},a.attributes.tint&&(this.model.tint=parseFloat(a.attributes.tint))):a.attributes.indexed?this.model={indexed:parseInt(a.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(t,n,s){const i=t("../base-xform"),a=t("./alignment-xform"),o=t("./border-xform"),l=t("./fill-xform"),c=t("./font-xform"),u=t("./numfmt-xform"),d=t("./protection-xform");n.exports=class extends i{constructor(){super(),this.map={alignment:new a,border:new o,fill:new l,font:new c,numFmt:new u,protection:new d}}get tag(){return"dxf"}render(h,f){if(h.openNode(this.tag),f.font&&this.map.font.render(h,f.font),f.numFmt&&f.numFmtId){const m={id:f.numFmtId,formatCode:f.numFmt};this.map.numFmt.render(h,m)}f.fill&&this.map.fill.render(h,f.fill),f.alignment&&this.map.alignment.render(h,f.alignment),f.border&&this.map.border.render(h,f.border),f.protection&&this.map.protection.render(h,f.protection),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h),!0}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return this.parser?(this.parser.parseClose(h)||(this.parser=void 0),!0):h!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(t,n,s){const i=t("../base-xform"),a=t("./color-xform");class o extends i{constructor(){super(),this.map={color:new a}}get tag(){return"stop"}render(h,f){h.openNode("stop"),h.addAttribute("position",f.position),this.map.color.render(h,f.color),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"stop":return this.model={position:parseFloat(h.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(h),!0;default:return!1}}parseText(){}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class l extends i{constructor(){super(),this.map={fgColor:new a("fgColor"),bgColor:new a("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(h,f){h.openNode("patternFill"),h.addAttribute("patternType",f.pattern),f.fgColor&&this.map.fgColor.render(h,f.fgColor),f.bgColor&&this.map.bgColor.render(h,f.bgColor),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"patternFill":return this.model={type:"pattern",pattern:h.attributes.patternType},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.parser.model&&(this.model[h]=this.parser.model),this.parser=void 0),!0)}}class c extends i{constructor(){super(),this.map={stop:new o}}get name(){return"gradient"}get tag(){return"gradientFill"}render(h,f){switch(h.openNode("gradientFill"),f.gradient){case"angle":h.addAttribute("degree",f.degree);break;case"path":h.addAttribute("type","path"),f.center.left&&(h.addAttribute("left",f.center.left),f.center.right===void 0&&h.addAttribute("right",f.center.left)),f.center.right&&h.addAttribute("right",f.center.right),f.center.top&&(h.addAttribute("top",f.center.top),f.center.bottom===void 0&&h.addAttribute("bottom",f.center.top)),f.center.bottom&&h.addAttribute("bottom",f.center.bottom)}const m=this.map.stop;f.stops.forEach(g=>{m.render(h,g)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"gradientFill":{const f=this.model={stops:[]};return h.attributes.degree?(f.gradient="angle",f.degree=parseInt(h.attributes.degree,10)):h.attributes.type==="path"&&(f.gradient="path",f.center={left:h.attributes.left?parseFloat(h.attributes.left):0,top:h.attributes.top?parseFloat(h.attributes.top):0},h.attributes.right!==h.attributes.left&&(f.center.right=h.attributes.right?parseFloat(h.attributes.right):0),h.attributes.bottom!==h.attributes.top&&(f.center.bottom=h.attributes.bottom?parseFloat(h.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(h),!0;default:return!1}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class u extends i{constructor(){super(),this.map={patternFill:new l,gradientFill:new c}}get tag(){return"fill"}render(h,f){switch(h.addRollback(),h.openNode("fill"),f.type){case"pattern":this.map.patternFill.render(h,f);break;case"gradient":this.map.gradientFill.render(h,f);break;default:return void h.rollback()}h.closeNode(),h.commit()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"fill":return this.model={},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(h){return u.validPatternValues[h]}}u.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((d,h)=>(d[h]=!0,d),{}),u.StopXform=o,u.PatternFillXform=l,u.GradientFillXform=c,n.exports=u},{"../base-xform":32,"./color-xform":128}],131:[function(t,n,s){const i=t("./color-xform"),a=t("../simple/boolean-xform"),o=t("../simple/integer-xform"),l=t("../simple/string-xform"),c=t("./underline-xform"),u=t("../../../utils/under-dash"),d=t("../base-xform");class h extends d{constructor(m){super(),this.options=m||h.OPTIONS,this.map={b:{prop:"bold",xform:new a({tag:"b",attr:"val"})},i:{prop:"italic",xform:new a({tag:"i",attr:"val"})},u:{prop:"underline",xform:new c},charset:{prop:"charset",xform:new o({tag:"charset",attr:"val"})},color:{prop:"color",xform:new i},condense:{prop:"condense",xform:new a({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new a({tag:"extend",attr:"val"})},family:{prop:"family",xform:new o({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new a({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new l({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new l({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new a({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new a({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new o({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new l({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(m,g){const{map:p}=this;m.openNode(this.options.tagName),u.each(this.map,(v,y)=>{p[y].xform.render(m,g[v.prop])}),m.closeNode()}parseOpen(m){if(this.parser)return this.parser.parseOpen(m),!0;if(this.map[m.name])return this.parser=this.map[m.name].xform,this.parser.parseOpen(m);switch(m.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(m){this.parser&&this.parser.parseText(m)}parseClose(m){if(this.parser&&!this.parser.parseClose(m)){const g=this.map[m];return this.parser.model&&(this.model[g.prop]=this.parser.model),this.parser=void 0,!0}switch(m){case this.options.tagName:return!1;default:return!0}}}h.OPTIONS={tagName:"font",fontNameTag:"name"},n.exports=h},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(t,n,s){const i=t("../../../utils/under-dash"),a=t("../../defaultnumformats"),o=t("../base-xform"),l=function(){const u={};return i.each(a,(d,h)=>{d.f&&(u[d.f]=parseInt(h,10))}),u}();class c extends o{constructor(d,h){super(),this.id=d,this.formatCode=h}get tag(){return"numFmt"}render(d,h){d.leafNode("numFmt",{numFmtId:h.id,formatCode:h.formatCode})}parseOpen(d){switch(d.name){case"numFmt":return this.model={id:parseInt(d.attributes.numFmtId,10),formatCode:d.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}c.getDefaultFmtId=function(u){return l[u]},c.getDefaultFmtCode=function(u){return a[u]&&a[u].f},n.exports=c},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(t,n,s){const i=t("../base-xform"),a={boolean:(o,l)=>o===void 0?l:o};n.exports=class extends i{get tag(){return"protection"}render(o,l){o.addRollback(),o.openNode("protection");let c=!1;function u(d,h){h!==void 0&&(o.addAttribute(d,h),c=!0)}u("locked",a.boolean(l.locked,!0)?void 0:"0"),u("hidden",a.boolean(l.hidden,!1)?"1":void 0),o.closeNode(),c?o.commit():o.rollback()}parseOpen(o){const l={locked:o.attributes.locked!=="0",hidden:o.attributes.hidden==="1"},c=!l.locked||l.hidden;this.model=c?l:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(t,n,s){const i=t("../base-xform"),a=t("./alignment-xform"),o=t("./protection-xform");n.exports=class extends i{constructor(l){super(),this.xfId=!(!l||!l.xfId),this.map={alignment:new a,protection:new o}}get tag(){return"xf"}render(l,c){l.openNode("xf",{numFmtId:c.numFmtId||0,fontId:c.fontId||0,fillId:c.fillId||0,borderId:c.borderId||0}),this.xfId&&l.addAttribute("xfId",c.xfId||0),c.numFmtId&&l.addAttribute("applyNumberFormat","1"),c.fontId&&l.addAttribute("applyFont","1"),c.fillId&&l.addAttribute("applyFill","1"),c.borderId&&l.addAttribute("applyBorder","1"),c.alignment&&l.addAttribute("applyAlignment","1"),c.protection&&l.addAttribute("applyProtection","1"),c.alignment&&this.map.alignment.render(l,c.alignment),c.protection&&this.map.protection.render(l,c.protection),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"xf":return this.model={numFmtId:parseInt(l.attributes.numFmtId,10),fontId:parseInt(l.attributes.fontId,10),fillId:parseInt(l.attributes.fillId,10),borderId:parseInt(l.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(l.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(l),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):l!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(t,n,s){const i=t("../../../doc/enums"),a=t("../../../utils/xml-stream"),o=t("../base-xform"),l=t("../static-xform"),c=t("../list-xform"),u=t("./font-xform"),d=t("./fill-xform"),h=t("./border-xform"),f=t("./numfmt-xform"),m=t("./style-xform"),g=t("./dxf-xform");class p extends o{constructor(y){super(),this.map={numFmts:new c({tag:"numFmts",count:!0,childXform:new f}),fonts:new c({tag:"fonts",count:!0,childXform:new u,$:{"x14ac:knownFonts":1}}),fills:new c({tag:"fills",count:!0,childXform:new d}),borders:new c({tag:"borders",count:!0,childXform:new h}),cellStyleXfs:new c({tag:"cellStyleXfs",count:!0,childXform:new m}),cellXfs:new c({tag:"cellXfs",count:!0,childXform:new m({xfId:!0})}),dxfs:new c({tag:"dxfs",always:!0,count:!0,childXform:new g}),numFmt:new f,font:new u,fill:new d,border:new h,style:new m({xfId:!0}),cellStyles:p.STATIC_XFORMS.cellStyles,tableStyles:p.STATIC_XFORMS.tableStyles,extLst:p.STATIC_XFORMS.extLst},y&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(y,b){b=b||this.model,y.openXml(a.StdDocAttributes),y.openNode("styleSheet",p.STYLESHEET_ATTRIBUTES),this.index?(b.numFmts&&b.numFmts.length&&(y.openNode("numFmts",{count:b.numFmts.length}),b.numFmts.forEach(E=>{y.writeXml(E)}),y.closeNode()),b.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),y.openNode("fonts",{count:b.fonts.length,"x14ac:knownFonts":1}),b.fonts.forEach(E=>{y.writeXml(E)}),y.closeNode(),y.openNode("fills",{count:b.fills.length}),b.fills.forEach(E=>{y.writeXml(E)}),y.closeNode(),y.openNode("borders",{count:b.borders.length}),b.borders.forEach(E=>{y.writeXml(E)}),y.closeNode(),this.map.cellStyleXfs.render(y,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),y.openNode("cellXfs",{count:b.styles.length}),b.styles.forEach(E=>{y.writeXml(E)}),y.closeNode()):(this.map.numFmts.render(y,b.numFmts),this.map.fonts.render(y,b.fonts),this.map.fills.render(y,b.fills),this.map.borders.render(y,b.borders),this.map.cellStyleXfs.render(y,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(y,b.styles)),p.STATIC_XFORMS.cellStyles.render(y),this.map.dxfs.render(y,b.dxfs),p.STATIC_XFORMS.tableStyles.render(y),p.STATIC_XFORMS.extLst.render(y),y.closeNode()}parseOpen(y){if(this.parser)return this.parser.parseOpen(y),!0;switch(y.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[y.name],this.parser&&this.parser.parseOpen(y),!0}}parseText(y){this.parser&&this.parser.parseText(y)}parseClose(y){if(this.parser)return this.parser.parseClose(y)||(this.parser=void 0),!0;switch(y){case"styleSheet":{this.model={};const b=(E,N)=>{N.model&&N.model.length&&(this.model[E]=N.model)};if(b("numFmts",this.map.numFmts),b("fonts",this.map.fonts),b("fills",this.map.fills),b("borders",this.map.borders),b("styles",this.map.cellXfs),b("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const E=this.index.numFmt;this.model.numFmts.forEach(N=>{E[N.id]=N.formatCode})}return!1}default:return!0}}addStyleModel(y,b){if(!y)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(y))return this.weakMap.get(y);const E={};if(b=b||i.ValueType.Number,y.numFmt)E.numFmtId=this._addNumFmtStr(y.numFmt);else switch(b){case i.ValueType.Number:E.numFmtId=this._addNumFmtStr("General");break;case i.ValueType.Date:E.numFmtId=this._addNumFmtStr("mm-dd-yy")}y.font&&(E.fontId=this._addFont(y.font)),y.border&&(E.borderId=this._addBorder(y.border)),y.fill&&(E.fillId=this._addFill(y.fill)),y.alignment&&(E.alignment=y.alignment),y.protection&&(E.protection=y.protection);const N=this._addStyle(E);return this.weakMap&&this.weakMap.set(y,N),N}getStyleModel(y){const b=this.model.styles[y];if(!b)return null;let E=this.index.model[y];if(E)return E;if(E=this.index.model[y]={},b.numFmtId){const j=this.index.numFmt[b.numFmtId]||f.getDefaultFmtCode(b.numFmtId);j&&(E.numFmt=j)}function N(j,D,C){if(C||C===0){const I=D[C];I&&(E[j]=I)}}return N("font",this.model.fonts,b.fontId),N("border",this.model.borders,b.borderId),N("fill",this.model.fills,b.fillId),b.alignment&&(E.alignment=b.alignment),b.protection&&(E.protection=b.protection),E}addDxfStyle(y){return y.numFmt&&(y.numFmtId=this._addNumFmtStr(y.numFmt)),this.model.dxfs.push(y),this.model.dxfs.length-1}getDxfStyle(y){return this.model.dxfs[y]}_addStyle(y){const b=this.map.style.toXml(y);let E=this.index.style[b];return E===void 0&&(E=this.index.style[b]=this.model.styles.length,this.model.styles.push(b)),E}_addNumFmtStr(y){let b=f.getDefaultFmtId(y);if(b!==void 0||(b=this.index.numFmt[y],b!==void 0))return b;b=this.index.numFmt[y]=164+this.model.numFmts.length;const E=this.map.numFmt.toXml({id:b,formatCode:y});return this.model.numFmts.push(E),b}_addFont(y){const b=this.map.font.toXml(y);let E=this.index.font[b];return E===void 0&&(E=this.index.font[b]=this.model.fonts.length,this.model.fonts.push(b)),E}_addBorder(y){const b=this.map.border.toXml(y);let E=this.index.border[b];return E===void 0&&(E=this.index.border[b]=this.model.borders.length,this.model.borders.push(b)),E}_addFill(y){const b=this.map.fill.toXml(y);let E=this.index.fill[b];return E===void 0&&(E=this.index.fill[b]=this.model.fills.length,this.model.fills.push(b)),E}}p.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},p.STATIC_XFORMS={cellStyles:new l({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new l({tag:"dxfs",$:{count:0}}),tableStyles:new l({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new l({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},p.Mock=class extends p{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(v){return v.autodrain(),Promise.resolve()}addStyleModel(v,y){switch(y){case i.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const v={numFmtId:f.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(v)}return this._dateStyleId}getStyleModel(){return{}}},n.exports=p},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(t,n,s){const i=t("../base-xform");class a extends i{constructor(l){super(),this.model=l}get tag(){return"u"}render(l,c){if((c=c||this.model)===!0)l.leafNode("u");else{const u=a.Attributes[c];u&&l.leafNode("u",u)}}parseOpen(l){l.name==="u"&&(this.model=l.attributes.val||!0)}parseText(){}parseClose(){return!1}}a.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},n.exports=a},{"../base-xform":32}],137:[function(t,n,s){const i=t("../base-xform"),a=t("./filter-column-xform");n.exports=class extends i{constructor(){super(),this.map={filterColumn:new a}}get tag(){return"autoFilter"}prepare(o){o.columns.forEach((l,c)=>{this.map.filterColumn.prepare(l,{index:c})})}render(o,l){return o.openNode(this.tag,{ref:l.autoFilterRef}),l.columns.forEach(c=>{this.map.filterColumn.render(o,c)}),o.closeNode(),!0}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:return this.model={autoFilterRef:o.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[o.name],this.parser)return this.parseOpen(o),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(o))}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(o){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+o)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(t,n,s){const i=t("../base-xform");n.exports=class extends i{get tag(){return"customFilter"}render(a,o){a.leafNode(this.tag,{val:o.val,operator:o.operator})}parseOpen(a){return a.name===this.tag&&(this.model={val:a.attributes.val,operator:a.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(t,n,s){const i=t("../base-xform"),a=t("../list-xform"),o=t("./custom-filter-xform"),l=t("./filter-xform");n.exports=class extends i{constructor(){super(),this.map={customFilters:new a({tag:"customFilters",count:!1,empty:!0,childXform:new o}),filters:new a({tag:"filters",count:!1,empty:!0,childXform:new l})}}get tag(){return"filterColumn"}prepare(c,u){c.colId=u.index.toString()}render(c,u){return u.customFilters?(c.openNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),this.map.customFilters.render(c,u.customFilters),c.closeNode(),!0):(c.leafNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),!0)}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;const{attributes:u}=c;switch(c.name){case this.tag:return this.model={filterButton:u.hiddenButton==="0"},!0;default:if(this.parser=this.map[c.name],this.parser)return this.parseOpen(c),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(t,n,s){const i=t("../base-xform");n.exports=class extends i{get tag(){return"filter"}render(a,o){a.leafNode(this.tag,{val:o.val})}parseOpen(a){return a.name===this.tag&&(this.model={val:a.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(t,n,s){const i=t("../base-xform");n.exports=class extends i{get tag(){return"tableColumn"}prepare(a,o){a.id=o.index+1}render(a,o){return a.leafNode(this.tag,{id:o.id.toString(),name:o.name,totalsRowLabel:o.totalsRowLabel,totalsRowFunction:o.totalsRowFunction,dxfId:o.dxfId}),!0}parseOpen(a){if(a.name===this.tag){const{attributes:o}=a;return this.model={name:o.name,totalsRowLabel:o.totalsRowLabel,totalsRowFunction:o.totalsRowFunction,dxfId:o.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(t,n,s){const i=t("../base-xform");n.exports=class extends i{get tag(){return"tableStyleInfo"}render(a,o){return a.leafNode(this.tag,{name:o.theme?o.theme:void 0,showFirstColumn:o.showFirstColumn?"1":"0",showLastColumn:o.showLastColumn?"1":"0",showRowStripes:o.showRowStripes?"1":"0",showColumnStripes:o.showColumnStripes?"1":"0"}),!0}parseOpen(a){if(a.name===this.tag){const{attributes:o}=a;return this.model={theme:o.name?o.name:null,showFirstColumn:o.showFirstColumn==="1",showLastColumn:o.showLastColumn==="1",showRowStripes:o.showRowStripes==="1",showColumnStripes:o.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(t,n,s){const i=t("../../../utils/xml-stream"),a=t("../base-xform"),o=t("../list-xform"),l=t("./auto-filter-xform"),c=t("./table-column-xform"),u=t("./table-style-info-xform");class d extends a{constructor(){super(),this.map={autoFilter:new l,tableColumns:new o({tag:"tableColumns",count:!0,empty:!0,childXform:new c}),tableStyleInfo:new u}}prepare(f,m){this.map.autoFilter.prepare(f),this.map.tableColumns.prepare(f.columns,m)}get tag(){return"table"}render(f,m){f.openXml(i.StdDocAttributes),f.openNode(this.tag,{...d.TABLE_ATTRIBUTES,id:m.id,name:m.name,displayName:m.displayName||m.name,ref:m.tableRef,totalsRowCount:m.totalsRow?"1":void 0,totalsRowShown:m.totalsRow?void 0:"1",headerRowCount:m.headerRow?"1":"0"}),this.map.autoFilter.render(f,m),this.map.tableColumns.render(f,m.columns),this.map.tableStyleInfo.render(f,m.style),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;const{name:m,attributes:g}=f;switch(m){case this.tag:this.reset(),this.model={name:g.name,displayName:g.displayName||g.name,tableRef:g.ref,totalsRow:g.totalsRowCount==="1",headerRow:g.headerRowCount==="1"};break;default:this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f)}return!0}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.parser=void 0),!0;switch(f){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((m,g)=>{this.model.columns[g].filterButton=m.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(f,m){f.columns.forEach(g=>{g.dxfId!==void 0&&(g.style=m.styles.getDxfStyle(g.dxfId))})}}d.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},n.exports=d},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(t,n,s){(function(i,a){(function(){const o=t("fs"),l=t("jszip"),{PassThrough:c}=t("readable-stream"),u=t("../utils/zip-stream"),d=t("../utils/stream-buf"),h=t("../utils/utils"),f=t("../utils/xml-stream"),{bufferToString:m}=t("../utils/browser-buffer-decode"),g=t("./xform/style/styles-xform"),p=t("./xform/core/core-xform"),v=t("./xform/strings/shared-strings-xform"),y=t("./xform/core/relationships-xform"),b=t("./xform/core/content-types-xform"),E=t("./xform/core/app-xform"),N=t("./xform/book/workbook-xform"),j=t("./xform/sheet/worksheet-xform"),D=t("./xform/drawing/drawing-xform"),C=t("./xform/table/table-xform"),I=t("./xform/comment/comments-xform"),V=t("./xform/comment/vml-notes-xform"),B=t("./xml/theme1");class P{constructor(M){this.workbook=M}async readFile(M,A){if(!await h.fs.exists(M))throw new Error("File not found: "+M);const w=o.createReadStream(M);try{const S=await this.read(w,A);return w.close(),S}catch(S){throw w.close(),S}}parseRels(M){return new y().parseStream(M)}parseWorkbook(M){return new N().parseStream(M)}parseSharedStrings(M){return new v().parseStream(M)}reconcile(M,A){const w=new N,S=new j(A),_=new D,x=new C;w.reconcile(M);const R={media:M.media,mediaIndex:M.mediaIndex};Object.keys(M.drawings).forEach(z=>{const q=M.drawings[z],Y=M.drawingRels[z];Y&&(R.rels=Y.reduce((U,Q)=>(U[Q.Id]=Q,U),{}),(q.anchors||[]).forEach(U=>{const Q=U.picture&&U.picture.hyperlinks;Q&&R.rels[Q.rId]&&(Q.hyperlink=R.rels[Q.rId].Target,delete Q.rId)}),_.reconcile(q,R))});const W={styles:M.styles};Object.values(M.tables).forEach(z=>{x.reconcile(z,W)});const T={styles:M.styles,sharedStrings:M.sharedStrings,media:M.media,mediaIndex:M.mediaIndex,date1904:M.properties&&M.properties.date1904,drawings:M.drawings,comments:M.comments,tables:M.tables,vmlDrawings:M.vmlDrawings};M.worksheets.forEach(z=>{z.relationships=M.worksheetRels[z.sheetNo],S.reconcile(z,T)}),delete M.worksheetHash,delete M.worksheetRels,delete M.globalRels,delete M.sharedStrings,delete M.workbookRels,delete M.sheetDefs,delete M.styles,delete M.mediaIndex,delete M.drawings,delete M.drawingRels,delete M.vmlDrawings}async _processWorksheetEntry(M,A,w,S,_){const x=new j(S),R=await x.parseStream(M);R.sheetNo=w,A.worksheetHash[_]=R,A.worksheets.push(R)}async _processCommentEntry(M,A,w){const S=new I,_=await S.parseStream(M);A.comments[`../${w}.xml`]=_}async _processTableEntry(M,A,w){const S=new C,_=await S.parseStream(M);A.tables[`../tables/${w}.xml`]=_}async _processWorksheetRelsEntry(M,A,w){const S=new y,_=await S.parseStream(M);A.worksheetRels[w]=_}async _processMediaEntry(M,A,w){const S=w.lastIndexOf(".");if(S>=1){const _=w.substr(S+1),x=w.substr(0,S);await new Promise((R,W)=>{const T=new d;T.on("finish",()=>{A.mediaIndex[w]=A.media.length,A.mediaIndex[x]=A.media.length;const z={type:"image",name:x,extension:_,buffer:T.toBuffer()};A.media.push(z),R()}),M.on("error",z=>{W(z)}),M.pipe(T)})}}async _processDrawingEntry(M,A,w){const S=new D,_=await S.parseStream(M);A.drawings[w]=_}async _processDrawingRelsEntry(M,A,w){const S=new y,_=await S.parseStream(M);A.drawingRels[w]=_}async _processVmlDrawingEntry(M,A,w){const S=new V,_=await S.parseStream(M);A.vmlDrawings[`../drawings/${w}.vml`]=_}async _processThemeEntry(M,A,w){await new Promise((S,_)=>{const x=new d;M.on("error",_),x.on("error",_),x.on("finish",()=>{A.themes[w]=x.read().toString(),S()}),M.pipe(x)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(M,A){!M[Symbol.asyncIterator]&&M.pipe&&(M=M.pipe(new c));const w=[];for await(const S of M)w.push(S);return this.load(a.concat(w),A)}async load(M,A){let w;w=A&&A.base64?a.from(M.toString(),"base64"):M;const S={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},_=await l.loadAsync(w);for(const x of Object.values(_.files))if(!x.dir){let R,W=x.name;if(W[0]==="/"&&(W=W.substr(1)),W.match(/xl\/media\//)||W.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))R=new c,R.write(await x.async("nodebuffer"));else{let T;R=new c({writableObjectMode:!0,readableObjectMode:!0}),T=i.browser?m(await x.async("nodebuffer")):await x.async("string");const z=16384;for(let q=0;q<T.length;q+=z)R.write(T.substring(q,q+z))}switch(R.end(),W){case"_rels/.rels":S.globalRels=await this.parseRels(R);break;case"xl/workbook.xml":{const T=await this.parseWorkbook(R);S.sheets=T.sheets,S.definedNames=T.definedNames,S.views=T.views,S.properties=T.properties,S.calcProperties=T.calcProperties;break}case"xl/_rels/workbook.xml.rels":S.workbookRels=await this.parseRels(R);break;case"xl/sharedStrings.xml":S.sharedStrings=new v,await S.sharedStrings.parseStream(R);break;case"xl/styles.xml":S.styles=new g,await S.styles.parseStream(R);break;case"docProps/app.xml":{const T=new E,z=await T.parseStream(R);S.company=z.company,S.manager=z.manager;break}case"docProps/core.xml":{const T=new p,z=await T.parseStream(R);Object.assign(S,z);break}default:{let T=W.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(T){await this._processWorksheetEntry(R,S,T[1],A,W);break}if(T=W.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),T){await this._processWorksheetRelsEntry(R,S,T[1]);break}if(T=W.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),T){await this._processThemeEntry(R,S,T[1]);break}if(T=W.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),T){await this._processMediaEntry(R,S,T[1]);break}if(T=W.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),T){await this._processDrawingEntry(R,S,T[1]);break}if(T=W.match(/xl\/(comments\d+)[.]xml/),T){await this._processCommentEntry(R,S,T[1]);break}if(T=W.match(/xl\/tables\/(table\d+)[.]xml/),T){await this._processTableEntry(R,S,T[1]);break}if(T=W.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),T){await this._processDrawingRelsEntry(R,S,T[1]);break}if(T=W.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),T){await this._processVmlDrawingEntry(R,S,T[1]);break}}}}return this.reconcile(S,A),this.workbook.model=S,this.workbook}async addMedia(M,A){await Promise.all(A.media.map(async w=>{if(w.type==="image"){const S=`xl/media/${w.name}.${w.extension}`;if(w.filename){const _=await function(x,R){return new Promise((W,T)=>{o.readFile(x,R,(z,q)=>{z?T(z):W(q)})})}(w.filename);return M.append(_,{name:S})}if(w.buffer)return M.append(w.buffer,{name:S});if(w.base64){const _=w.base64,x=_.substring(_.indexOf(",")+1);return M.append(x,{name:S,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(M,A){const w=new D,S=new y;A.worksheets.forEach(_=>{const{drawing:x}=_;if(x){w.prepare(x,{});let R=w.toXml(x);M.append(R,{name:`xl/drawings/${x.name}.xml`}),R=S.toXml(x.rels),M.append(R,{name:`xl/drawings/_rels/${x.name}.xml.rels`})}})}addTables(M,A){const w=new C;A.worksheets.forEach(S=>{const{tables:_}=S;_.forEach(x=>{w.prepare(x,{});const R=w.toXml(x);M.append(R,{name:"xl/tables/"+x.target})})})}async addContentTypes(M,A){const w=new b().toXml(A);M.append(w,{name:"[Content_Types].xml"})}async addApp(M,A){const w=new E().toXml(A);M.append(w,{name:"docProps/app.xml"})}async addCore(M,A){const w=new p;M.append(w.toXml(A),{name:"docProps/core.xml"})}async addThemes(M,A){const w=A.themes||{theme1:B};Object.keys(w).forEach(S=>{const _=w[S],x=`xl/theme/${S}.xml`;M.append(_,{name:x})})}async addOfficeRels(M){const A=new y().toXml([{Id:"rId1",Type:P.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:P.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:P.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);M.append(A,{name:"_rels/.rels"})}async addWorkbookRels(M,A){let w=1;const S=[{Id:"rId"+w++,Type:P.RelType.Styles,Target:"styles.xml"},{Id:"rId"+w++,Type:P.RelType.Theme,Target:"theme/theme1.xml"}];A.sharedStrings.count&&S.push({Id:"rId"+w++,Type:P.RelType.SharedStrings,Target:"sharedStrings.xml"}),A.worksheets.forEach(x=>{x.rId="rId"+w++,S.push({Id:x.rId,Type:P.RelType.Worksheet,Target:`worksheets/sheet${x.id}.xml`})});const _=new y().toXml(S);M.append(_,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(M,A){A.sharedStrings&&A.sharedStrings.count&&M.append(A.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(M,A){const{xml:w}=A.styles;w&&M.append(w,{name:"xl/styles.xml"})}async addWorkbook(M,A){const w=new N;M.append(w.toXml(A),{name:"xl/workbook.xml"})}async addWorksheets(M,A){const w=new j,S=new y,_=new I,x=new V;A.worksheets.forEach(R=>{let W=new f;w.render(W,R),M.append(W.xml,{name:`xl/worksheets/sheet${R.id}.xml`}),R.rels&&R.rels.length&&(W=new f,S.render(W,R.rels),M.append(W.xml,{name:`xl/worksheets/_rels/sheet${R.id}.xml.rels`})),R.comments.length>0&&(W=new f,_.render(W,R),M.append(W.xml,{name:`xl/comments${R.id}.xml`}),W=new f,x.render(W,R),M.append(W.xml,{name:`xl/drawings/vmlDrawing${R.id}.vml`}))})}_finalize(M){return new Promise((A,w)=>{M.on("finish",()=>{A(this)}),M.on("error",w),M.finalize()})}prepareModel(M,A){M.creator=M.creator||"ExcelJS",M.lastModifiedBy=M.lastModifiedBy||"ExcelJS",M.created=M.created||new Date,M.modified=M.modified||new Date,M.useSharedStrings=A.useSharedStrings===void 0||A.useSharedStrings,M.useStyles=A.useStyles===void 0||A.useStyles,M.sharedStrings=new v,M.styles=M.useStyles?new g(!0):new g.Mock;const w=new N,S=new j;w.prepare(M);const _={sharedStrings:M.sharedStrings,styles:M.styles,date1904:M.properties.date1904,drawingsCount:0,media:M.media};_.drawings=M.drawings=[],_.commentRefs=M.commentRefs=[];let x=0;M.tables=[],M.worksheets.forEach(R=>{R.tables.forEach(W=>{x++,W.target=`table${x}.xml`,W.id=x,M.tables.push(W)}),S.prepare(R,_)})}async write(M,A){A=A||{};const{model:w}=this.workbook,S=new u.ZipWriter(A.zip);return S.pipe(M),this.prepareModel(w,A),await this.addContentTypes(S,w),await this.addOfficeRels(S,w),await this.addWorkbookRels(S,w),await this.addWorksheets(S,w),await this.addSharedStrings(S,w),await this.addDrawings(S,w),await this.addTables(S,w),await Promise.all([this.addThemes(S,w),this.addStyles(S,w)]),await this.addMedia(S,w),await Promise.all([this.addApp(S,w),this.addCore(S,w)]),await this.addWorkbook(S,w),this._finalize(S)}writeFile(M,A){const w=o.createWriteStream(M);return new Promise((S,_)=>{w.on("finish",()=>{S()}),w.on("error",x=>{_(x)}),this.write(w,A).then(()=>{w.end()}).catch(x=>{_(x)})})}async writeBuffer(M){const A=new d;return await this.write(A,M),A.read()}}P.RelType=t("./rel-type"),n.exports=P}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(t,n,s){n.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/> <a:font script="Hang" typeface="맑은 고딕"/> <a:font script="Hans" typeface="宋体"/> <a:font script="Hant" typeface="新細明體"/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/> <a:font script="Hang" typeface="맑은 고딕"/> <a:font script="Hans" typeface="宋体"/> <a:font script="Hant" typeface="新細明體"/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(t,n,s){(function(i){(function(){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvFormatterStream=void 0;const a=t("stream"),o=t("./formatter");class l extends a.Transform{constructor(u){super({writableObjectMode:u.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=u,this.rowFormatter=new o.RowFormatter(u),this.hasWrittenBOM=!u.writeBOM}transform(u){return this.rowFormatter.rowTransform=u,this}_transform(u,d,h){let f=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(u,(m,g)=>m?(f=!0,h(m)):(g&&g.forEach(p=>{this.push(i.from(p,"utf8"))}),f=!0,h()))}catch(m){if(f)throw m;h(m)}}_flush(u){this.rowFormatter.finish((d,h)=>d?u(d):(h&&h.forEach(f=>{this.push(i.from(f,"utf8"))}),u()))}}s.CsvFormatterStream=l}).call(this)}).call(this,t("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.FormatterOptions=void 0,s.FormatterOptions=class{constructor(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var a;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,i||{}),(i==null?void 0:i.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(i==null?void 0:i.quote)===!0?this.quote='"':(i==null?void 0:i.quote)===!1&&(this.quote=""),typeof(i==null?void 0:i.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((a=i.writeHeaders)===null||a===void 0||a),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(t,n,s){var i=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(s,"__esModule",{value:!0}),s.FieldFormatter=void 0;const a=i(t("lodash.isboolean")),o=i(t("lodash.isnil")),l=i(t("lodash.escaperegexp"));s.FieldFormatter=class{constructor(c){this._headers=null,this.formatterOptions=c,c.headers!==null&&(this.headers=c.headers),this.REPLACE_REGEXP=new RegExp(c.quote,"g");const u=`[${c.delimiter}${l.default(c.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(u)}set headers(c){this._headers=c}shouldQuote(c,u){const d=u?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return a.default(d)?d:Array.isArray(d)?d[c]:this._headers!==null&&d[this._headers[c]]}format(c,u,d){const h=(""+(o.default(c)?"":c)).replace(/\0/g,""),{formatterOptions:f}=this;return f.quote!==""&&h.indexOf(f.quote)!==-1?this.quoteField(h.replace(this.REPLACE_REGEXP,f.escapedQuote)):h.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(u,d)?this.quoteField(h):h}quoteField(c){const{quote:u}=this.formatterOptions;return`${u}${c}${u}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(t,n,s){var i=function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(s,"__esModule",{value:!0}),s.RowFormatter=void 0;const a=i(t("lodash.isfunction")),o=i(t("lodash.isequal")),l=t("./FieldFormatter"),c=t("../types");class u{constructor(h){this.rowCount=0,this.formatterOptions=h,this.fieldFormatter=new l.FieldFormatter(h),this.headers=h.headers,this.shouldWriteHeaders=h.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),h.transform&&(this.rowTransform=h.transform)}static isRowHashArray(h){return!!Array.isArray(h)&&Array.isArray(h[0])&&h[0].length===2}static isRowArray(h){return Array.isArray(h)&&!this.isRowHashArray(h)}static gatherHeaders(h){return u.isRowHashArray(h)?h.map(f=>f[0]):Array.isArray(h)?h:Object.keys(h)}static createTransform(h){return c.isSyncTransform(h)?(f,m)=>{let g=null;try{g=h(f)}catch(p){return m(p)}return m(null,g)}:(f,m)=>{h(f,m)}}set rowTransform(h){if(!a.default(h))throw new TypeError("The transform should be a function");this._rowTransform=u.createTransform(h)}format(h,f){this.callTransformer(h,(m,g)=>{if(m)return f(m);if(!h)return f(null);const p=[];if(g){const{shouldFormatColumns:v,headers:y}=this.checkHeaders(g);if(this.shouldWriteHeaders&&y&&!this.hasWrittenHeaders&&(p.push(this.formatColumns(y,!0)),this.hasWrittenHeaders=!0),v){const b=this.gatherColumns(g);p.push(this.formatColumns(b,!1))}}return f(null,p)})}finish(h){const f=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return h(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));f.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&f.push(this.formatterOptions.rowDelimiter),h(null,f)}checkHeaders(h){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const f=u.gatherHeaders(h);return this.headers=f,this.fieldFormatter.headers=f,this.shouldWriteHeaders?{shouldFormatColumns:!o.default(f,h),headers:f}:{shouldFormatColumns:!0,headers:null}}gatherColumns(h){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(h)?u.isRowHashArray(h)?this.headers.map((f,m)=>{const g=h[m];return g?g[1]:""}):u.isRowArray(h)&&!this.shouldWriteHeaders?h:this.headers.map((f,m)=>h[m]):this.headers.map(f=>h[f])}callTransformer(h,f){return this._rowTransform?this._rowTransform(h,f):f(null,h)}formatColumns(h,f){const m=h.map((p,v)=>this.fieldFormatter.format(p,v,f)).join(this.formatterOptions.delimiter),{rowCount:g}=this;return this.rowCount+=1,g?[this.formatterOptions.rowDelimiter,m].join(""):m}}s.RowFormatter=u},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.FieldFormatter=s.RowFormatter=void 0;var i=t("./RowFormatter");Object.defineProperty(s,"RowFormatter",{enumerable:!0,get:function(){return i.RowFormatter}});var a=t("./FieldFormatter");Object.defineProperty(s,"FieldFormatter",{enumerable:!0,get:function(){return a.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(t,n,s){(function(i){(function(){var a=Object.create?function(v,y,b,E){E===void 0&&(E=b),Object.defineProperty(v,E,{enumerable:!0,get:function(){return y[b]}})}:function(v,y,b,E){E===void 0&&(E=b),v[E]=y[b]},o=Object.create?function(v,y){Object.defineProperty(v,"default",{enumerable:!0,value:y})}:function(v,y){v.default=y},l=function(v){if(v&&v.__esModule)return v;var y={};if(v!=null)for(var b in v)b!=="default"&&Object.prototype.hasOwnProperty.call(v,b)&&a(y,v,b);return o(y,v),y},c=function(v,y){for(var b in v)b==="default"||Object.prototype.hasOwnProperty.call(y,b)||a(y,v,b)};Object.defineProperty(s,"__esModule",{value:!0}),s.writeToPath=s.writeToString=s.writeToBuffer=s.writeToStream=s.write=s.format=s.FormatterOptions=s.CsvFormatterStream=void 0;const u=t("util"),d=t("stream"),h=l(t("fs")),f=t("./FormatterOptions"),m=t("./CsvFormatterStream");c(t("./types"),s);var g=t("./CsvFormatterStream");Object.defineProperty(s,"CsvFormatterStream",{enumerable:!0,get:function(){return g.CsvFormatterStream}});var p=t("./FormatterOptions");Object.defineProperty(s,"FormatterOptions",{enumerable:!0,get:function(){return p.FormatterOptions}}),s.format=v=>new m.CsvFormatterStream(new f.FormatterOptions(v)),s.write=(v,y)=>{const b=s.format(y),E=u.promisify((N,j)=>{b.write(N,void 0,j)});return v.reduce((N,j)=>N.then(()=>E(j)),Promise.resolve()).then(()=>b.end()).catch(N=>{b.emit("error",N)}),b},s.writeToStream=(v,y,b)=>s.write(y,b).pipe(v),s.writeToBuffer=function(v){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const b=[],E=new d.Writable({write(N,j,D){b.push(N),D()}});return new Promise((N,j)=>{E.on("error",j).on("finish",()=>N(i.concat(b))),s.write(v,y).pipe(E)})},s.writeToString=(v,y)=>s.writeToBuffer(v,y).then(b=>b.toString()),s.writeToPath=(v,y,b)=>{const E=h.createWriteStream(v,{encoding:"utf8"});return s.write(y,b).pipe(E)}}).call(this)}).call(this,t("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.isSyncTransform=void 0,s.isSyncTransform=i=>i.length===1},{}],153:[function(t,n,s){(function(i){(function(){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvParserStream=void 0;const a=t("string_decoder"),o=t("stream"),l=t("./transforms"),c=t("./parser");class u extends o.Transform{constructor(h){super({objectMode:h.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=h,this.parser=new c.Parser(h),this.headerTransformer=new l.HeaderTransformer(h),this.decoder=new a.StringDecoder(h.encoding),this.rowTransformerValidator=new l.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(h){return this.rowTransformerValidator.rowTransform=h,this}validate(h){return this.rowTransformerValidator.rowValidator=h,this}emit(h){if(h==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var f=arguments.length,m=new Array(f>1?f-1:0),g=1;g<f;g++)m[g-1]=arguments[g];return super.emit(h,...m)}_transform(h,f,m){if(this.hasHitRowLimit)return m();const g=u.wrapDoneCallback(m);try{const{lines:p}=this,v=p+this.decoder.write(h),y=this.parse(v,!0);return this.processRows(y,g)}catch(p){return g(p)}}_flush(h){const f=u.wrapDoneCallback(h);if(this.hasHitRowLimit)return f();try{const m=this.lines+this.decoder.end(),g=this.parse(m,!1);return this.processRows(g,f)}catch(m){return f(m)}}parse(h,f){if(!h)return[];const{line:m,rows:g}=this.parser.parse(h,f);return this.lines=m,g}processRows(h,f){const m=h.length,g=p=>{const v=E=>E?f(E):p%100!=0?g(p+1):void i(()=>g(p+1));if(this.checkAndEmitHeaders(),p>=m||this.hasHitRowLimit)return f();if(this.parsedLineCount+=1,this.shouldSkipLine)return v();const y=h[p];this.rowCount+=1,this.parsedRowCount+=1;const b=this.rowCount;return this.transformRow(y,(E,N)=>{if(E)return this.rowCount-=1,v(E);if(!N)return v(new Error("expected transform result"));if(N.isValid){if(N.row)return this.pushRow(N.row,v)}else this.emit("data-invalid",N.row,b,N.reason);return v()})};g(0)}transformRow(h,f){try{this.headerTransformer.transform(h,(m,g)=>m?f(m):g?g.isValid?g.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(g.row,f):this.skipRow(f):(this.rowCount-=1,this.parsedRowCount-=1,f(null,{row:null,isValid:!0})):this.shouldEmitRows?f(null,{isValid:!1,row:h}):this.skipRow(f):f(new Error("Expected result from header transform")))}catch(m){f(m)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(h){return this.rowCount-=1,h(null,{row:null,isValid:!0})}pushRow(h,f){try{this.parserOptions.objectMode?this.push(h):this.push(JSON.stringify(h)),f()}catch(m){f(m)}}static wrapDoneCallback(h){let f=!1;return function(m){if(m){if(f)throw m;return f=!0,void h(m)}for(var g=arguments.length,p=new Array(g>1?g-1:0),v=1;v<g;v++)p[v-1]=arguments[v];h(...p)}}}s.CsvParserStream=u}).call(this)}).call(this,t("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(t,n,s){var i=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(s,"__esModule",{value:!0}),s.ParserOptions=void 0;const a=i(t("lodash.escaperegexp")),o=i(t("lodash.isnil"));s.ParserOptions=class{constructor(l){var c;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,l||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=a.default(this.delimiter),this.escapeChar=(c=this.escape)!==null&&c!==void 0?c:this.quote,this.supportsComments=!o.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(t,n,s){var i=Object.create?function(g,p,v,y){y===void 0&&(y=v),Object.defineProperty(g,y,{enumerable:!0,get:function(){return p[v]}})}:function(g,p,v,y){y===void 0&&(y=v),g[y]=p[v]},a=Object.create?function(g,p){Object.defineProperty(g,"default",{enumerable:!0,value:p})}:function(g,p){g.default=p},o=function(g){if(g&&g.__esModule)return g;var p={};if(g!=null)for(var v in g)v!=="default"&&Object.prototype.hasOwnProperty.call(g,v)&&i(p,g,v);return a(p,g),p},l=function(g,p){for(var v in g)v==="default"||Object.prototype.hasOwnProperty.call(p,v)||i(p,g,v)};Object.defineProperty(s,"__esModule",{value:!0}),s.parseString=s.parseFile=s.parseStream=s.parse=s.ParserOptions=s.CsvParserStream=void 0;const c=o(t("fs")),u=t("stream"),d=t("./ParserOptions"),h=t("./CsvParserStream");l(t("./types"),s);var f=t("./CsvParserStream");Object.defineProperty(s,"CsvParserStream",{enumerable:!0,get:function(){return f.CsvParserStream}});var m=t("./ParserOptions");Object.defineProperty(s,"ParserOptions",{enumerable:!0,get:function(){return m.ParserOptions}}),s.parse=g=>new h.CsvParserStream(new d.ParserOptions(g)),s.parseStream=(g,p)=>g.pipe(new h.CsvParserStream(new d.ParserOptions(p))),s.parseFile=function(g){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return c.createReadStream(g).pipe(new h.CsvParserStream(new d.ParserOptions(p)))},s.parseString=(g,p)=>{const v=new u.Readable;return v.push(g),v.push(null),v.pipe(new h.CsvParserStream(new d.ParserOptions(p)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Parser=void 0;const i=t("./Scanner"),a=t("./RowParser"),o=t("./Token");class l{constructor(u){this.parserOptions=u,this.rowParser=new a.RowParser(this.parserOptions)}static removeBOM(u){return u&&u.charCodeAt(0)===65279?u.slice(1):u}parse(u,d){const h=new i.Scanner({line:l.removeBOM(u),parserOptions:this.parserOptions,hasMoreData:d});return this.parserOptions.supportsComments?this.parseWithComments(h):this.parseWithoutComments(h)}parseWithoutComments(u){const d=[];let h=!0;for(;h;)h=this.parseRow(u,d);return{line:u.line,rows:d}}parseWithComments(u){const{parserOptions:d}=this,h=[];for(let f=u.nextCharacterToken;f!==null;f=u.nextCharacterToken)if(o.Token.isTokenComment(f,d)){if(u.advancePastLine()===null)return{line:u.lineFromCursor,rows:h};if(!u.hasMoreCharacters)return{line:u.lineFromCursor,rows:h};u.truncateToCursor()}else if(!this.parseRow(u,h))break;return{line:u.line,rows:h}}parseRow(u,d){if(!u.nextNonSpaceToken)return!1;const h=this.rowParser.parse(u);return h!==null&&(this.parserOptions.ignoreEmpty&&a.RowParser.isEmptyRow(h)||d.push(h),!0)}}s.Parser=l},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.RowParser=void 0;const i=t("./column"),a=t("./Token");s.RowParser=class{constructor(o){this.parserOptions=o,this.columnParser=new i.ColumnParser(o)}static isEmptyRow(o){return o.join("").replace(/\s+/g,"")===""}parse(o){const{parserOptions:l}=this,{hasMoreData:c}=o,u=o,d=[];let h=this.getStartToken(u,d);for(;h;){if(a.Token.isTokenRowDelimiter(h))return u.advancePastToken(h),!u.hasMoreCharacters&&a.Token.isTokenCarriageReturn(h,l)&&c?null:(u.truncateToCursor(),d);if(!this.shouldSkipColumnParse(u,h,d)){const f=this.columnParser.parse(u);if(f===null)return null;d.push(f)}h=u.nextNonSpaceToken}return c?null:(u.truncateToCursor(),d)}getStartToken(o,l){const c=o.nextNonSpaceToken;return c!==null&&a.Token.isTokenDelimiter(c,this.parserOptions)?(l.push(""),o.nextNonSpaceToken):c}shouldSkipColumnParse(o,l,c){const{parserOptions:u}=this;if(a.Token.isTokenDelimiter(l,u)){o.advancePastToken(l);const d=o.nextCharacterToken;if(!o.hasMoreCharacters||d!==null&&a.Token.isTokenRowDelimiter(d)||d!==null&&a.Token.isTokenDelimiter(d,u))return c.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Scanner=void 0;const i=t("./Token"),a=/((?:\r\n)|\n|\r)/;s.Scanner=class{constructor(o){this.cursor=0,this.line=o.line,this.lineLength=this.line.length,this.parserOptions=o.parserOptions,this.hasMoreData=o.hasMoreData,this.cursor=o.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:o}=this,l=this.parserOptions.NEXT_TOKEN_REGEXP;if(o.search(l)===-1)return null;const c=l.exec(o);if(c==null)return null;const u=c[1],d=this.cursor+(c.index||0);return new i.Token({token:u,startCursor:d,endCursor:d+u.length-1})}get nextCharacterToken(){const{cursor:o,lineLength:l}=this;return l<=o?null:new i.Token({token:this.line[o],startCursor:o,endCursor:o})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const o=a.exec(this.lineFromCursor);return o?(this.cursor+=(o.index||0)+o[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(o){return this.cursor=o,this}advanceToToken(o){return this.cursor=o.startCursor,this}advancePastToken(o){return this.cursor=o.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Token=void 0,s.Token=class{constructor(i){this.token=i.token,this.startCursor=i.startCursor,this.endCursor=i.endCursor}static isTokenRowDelimiter(i){const a=i.token;return a==="\r"||a===`
`||a===`\r
`}static isTokenCarriageReturn(i,a){return i.token===a.carriageReturn}static isTokenComment(i,a){return a.supportsComments&&!!i&&i.token===a.comment}static isTokenEscapeCharacter(i,a){return i.token===a.escapeChar}static isTokenQuote(i,a){return i.token===a.quote}static isTokenDelimiter(i,a){return i.token===a.delimiter}}},{}],160:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnFormatter=void 0,s.ColumnFormatter=class{constructor(i){i.trim?this.format=a=>a.trim():i.ltrim?this.format=a=>a.trimLeft():i.rtrim?this.format=a=>a.trimRight():this.format=a=>a}}},{}],161:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnParser=void 0;const i=t("./NonQuotedColumnParser"),a=t("./QuotedColumnParser"),o=t("../Token");s.ColumnParser=class{constructor(l){this.parserOptions=l,this.quotedColumnParser=new a.QuotedColumnParser(l),this.nonQuotedColumnParser=new i.NonQuotedColumnParser(l)}parse(l){const{nextNonSpaceToken:c}=l;return c!==null&&o.Token.isTokenQuote(c,this.parserOptions)?(l.advanceToToken(c),this.quotedColumnParser.parse(l)):this.nonQuotedColumnParser.parse(l)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.NonQuotedColumnParser=void 0;const i=t("./ColumnFormatter"),a=t("../Token");s.NonQuotedColumnParser=class{constructor(o){this.parserOptions=o,this.columnFormatter=new i.ColumnFormatter(o)}parse(o){if(!o.hasMoreCharacters)return null;const{parserOptions:l}=this,c=[];let u=o.nextCharacterToken;for(;u&&!a.Token.isTokenDelimiter(u,l)&&!a.Token.isTokenRowDelimiter(u);u=o.nextCharacterToken)c.push(u.token),o.advancePastToken(u);return this.columnFormatter.format(c.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.QuotedColumnParser=void 0;const i=t("./ColumnFormatter"),a=t("../Token");s.QuotedColumnParser=class{constructor(o){this.parserOptions=o,this.columnFormatter=new i.ColumnFormatter(o)}parse(o){if(!o.hasMoreCharacters)return null;const l=o.cursor,{foundClosingQuote:c,col:u}=this.gatherDataBetweenQuotes(o);if(!c){if(o.advanceTo(l),!o.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${o.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(o),u}gatherDataBetweenQuotes(o){const{parserOptions:l}=this;let c=!1,u=!1;const d=[];let h=o.nextCharacterToken;for(;!u&&h!==null;h=o.nextCharacterToken){const f=a.Token.isTokenQuote(h,l);if(!c&&f)c=!0;else if(c)if(a.Token.isTokenEscapeCharacter(h,l)){o.advancePastToken(h);const m=o.nextCharacterToken;m!==null&&(a.Token.isTokenQuote(m,l)||a.Token.isTokenEscapeCharacter(m,l))?(d.push(m.token),h=m):f?u=!0:d.push(h.token)}else f?u=!0:d.push(h.token);o.advancePastToken(h)}return{col:this.columnFormatter.format(d.join("")),foundClosingQuote:u}}checkForMalformedColumn(o){const{parserOptions:l}=this,{nextNonSpaceToken:c}=o;if(c){const u=a.Token.isTokenDelimiter(c,l),d=a.Token.isTokenRowDelimiter(c);if(!u&&!d){const h=o.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${l.escapedDelimiter}' OR new line got: '${c.token}'. at '${h}`)}o.advanceToToken(c)}else o.hasMoreData||o.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnFormatter=s.QuotedColumnParser=s.NonQuotedColumnParser=s.ColumnParser=void 0;var i=t("./ColumnParser");Object.defineProperty(s,"ColumnParser",{enumerable:!0,get:function(){return i.ColumnParser}});var a=t("./NonQuotedColumnParser");Object.defineProperty(s,"NonQuotedColumnParser",{enumerable:!0,get:function(){return a.NonQuotedColumnParser}});var o=t("./QuotedColumnParser");Object.defineProperty(s,"QuotedColumnParser",{enumerable:!0,get:function(){return o.QuotedColumnParser}});var l=t("./ColumnFormatter");Object.defineProperty(s,"ColumnFormatter",{enumerable:!0,get:function(){return l.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.QuotedColumnParser=s.NonQuotedColumnParser=s.ColumnParser=s.Token=s.Scanner=s.RowParser=s.Parser=void 0;var i=t("./Parser");Object.defineProperty(s,"Parser",{enumerable:!0,get:function(){return i.Parser}});var a=t("./RowParser");Object.defineProperty(s,"RowParser",{enumerable:!0,get:function(){return a.RowParser}});var o=t("./Scanner");Object.defineProperty(s,"Scanner",{enumerable:!0,get:function(){return o.Scanner}});var l=t("./Token");Object.defineProperty(s,"Token",{enumerable:!0,get:function(){return l.Token}});var c=t("./column");Object.defineProperty(s,"ColumnParser",{enumerable:!0,get:function(){return c.ColumnParser}}),Object.defineProperty(s,"NonQuotedColumnParser",{enumerable:!0,get:function(){return c.NonQuotedColumnParser}}),Object.defineProperty(s,"QuotedColumnParser",{enumerable:!0,get:function(){return c.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(t,n,s){var i=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(s,"__esModule",{value:!0}),s.HeaderTransformer=void 0;const a=i(t("lodash.isundefined")),o=i(t("lodash.isfunction")),l=i(t("lodash.uniq")),c=i(t("lodash.groupby"));s.HeaderTransformer=class{constructor(u){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=u,u.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(u.headers)?this.setHeaders(u.headers):o.default(u.headers)&&(this.headersTransform=u.headers)}transform(u,d){return this.shouldMapRow(u)?d(null,this.processRow(u)):d(null,{row:null,isValid:!0})}shouldMapRow(u){const{parserOptions:d}=this;if(!this.headersTransform&&d.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(u)){if(this.headersTransform)this.setHeaders(this.headersTransform(u));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(u)}return!1}return!0}processRow(u){if(!this.headers)return{row:u,isValid:!0};const{parserOptions:d}=this;if(!d.discardUnmappedColumns&&u.length>this.headersLength){if(!d.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${u.length}`);return{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}}return d.strictColumnHandling&&u.length<this.headersLength?{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}:{row:this.mapHeaders(u),isValid:!0}}mapHeaders(u){const d={},{headers:h,headersLength:f}=this;for(let m=0;m<f;m+=1){const g=h[m];if(!a.default(g)){const p=u[m];a.default(p)?d[g]="":d[g]=p}}return d}setHeaders(u){var d;const h=u.filter(f=>!!f);if(l.default(h).length!==h.length){const f=c.default(h),m=Object.keys(f).filter(g=>f[g].length>1);throw new Error("Duplicate headers found "+JSON.stringify(m))}this.headers=u,this.receivedHeaders=!0,this.headersLength=((d=this.headers)===null||d===void 0?void 0:d.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(t,n,s){var i=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(s,"__esModule",{value:!0}),s.RowTransformerValidator=void 0;const a=i(t("lodash.isfunction")),o=t("../types");class l{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(u){return o.isSyncTransform(u)?(d,h)=>{let f=null;try{f=u(d)}catch(m){return h(m)}return h(null,f)}:u}static createValidator(u){return o.isSyncValidate(u)?(d,h)=>{h(null,{row:d,isValid:u(d)})}:(d,h)=>{u(d,(f,m,g)=>f?h(f):h(null,m?{row:d,isValid:m,reason:g}:{row:d,isValid:!1,reason:g}))}}set rowTransform(u){if(!a.default(u))throw new TypeError("The transform should be a function");this._rowTransform=l.createTransform(u)}set rowValidator(u){if(!a.default(u))throw new TypeError("The validate should be a function");this._rowValidator=l.createValidator(u)}transformAndValidate(u,d){return this.callTransformer(u,(h,f)=>h?d(h):f?this.callValidator(f,(m,g)=>m?d(m):g&&!g.isValid?d(null,{row:f,isValid:!1,reason:g.reason}):d(null,{row:f,isValid:!0})):d(null,{row:null,isValid:!0}))}callTransformer(u,d){return this._rowTransform?this._rowTransform(u,d):d(null,u)}callValidator(u,d){return this._rowValidator?this._rowValidator(u,d):d(null,{row:u,isValid:!0})}}s.RowTransformerValidator=l},{"../types":169,"lodash.isfunction":446}],168:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.HeaderTransformer=s.RowTransformerValidator=void 0;var i=t("./RowTransformerValidator");Object.defineProperty(s,"RowTransformerValidator",{enumerable:!0,get:function(){return i.RowTransformerValidator}});var a=t("./HeaderTransformer");Object.defineProperty(s,"HeaderTransformer",{enumerable:!0,get:function(){return a.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.isSyncValidate=s.isSyncTransform=void 0,s.isSyncTransform=i=>i.length===1,s.isSyncValidate=i=>i.length===1},{}],170:[function(t,n,s){const i=s;i.bignum=t("bn.js"),i.define=t("./asn1/api").define,i.base=t("./asn1/base"),i.constants=t("./asn1/constants"),i.decoders=t("./asn1/decoders"),i.encoders=t("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(t,n,s){const i=t("./encoders"),a=t("./decoders"),o=t("inherits");function l(c,u){this.name=c,this.body=u,this.decoders={},this.encoders={}}s.define=function(c,u){return new l(c,u)},l.prototype._createNamed=function(c){const u=this.name;function d(h){this._initNamed(h,u)}return o(d,c),d.prototype._initNamed=function(h,f){c.call(this,h,f)},new d(this)},l.prototype._getDecoder=function(c){return c=c||"der",this.decoders.hasOwnProperty(c)||(this.decoders[c]=this._createNamed(a[c])),this.decoders[c]},l.prototype.decode=function(c,u,d){return this._getDecoder(u).decode(c,d)},l.prototype._getEncoder=function(c){return c=c||"der",this.encoders.hasOwnProperty(c)||(this.encoders[c]=this._createNamed(i[c])),this.encoders[c]},l.prototype.encode=function(c,u,d){return this._getEncoder(u).encode(c,d)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(t,n,s){const i=t("inherits"),a=t("../base/reporter").Reporter,o=t("safer-buffer").Buffer;function l(u,d){a.call(this,d),o.isBuffer(u)?(this.base=u,this.offset=0,this.length=u.length):this.error("Input not Buffer")}function c(u,d){if(Array.isArray(u))this.length=0,this.value=u.map(function(h){return c.isEncoderBuffer(h)||(h=new c(h,d)),this.length+=h.length,h},this);else if(typeof u=="number"){if(!(0<=u&&u<=255))return d.error("non-byte EncoderBuffer value");this.value=u,this.length=1}else if(typeof u=="string")this.value=u,this.length=o.byteLength(u);else{if(!o.isBuffer(u))return d.error("Unsupported type: "+typeof u);this.value=u,this.length=u.length}}i(l,a),s.DecoderBuffer=l,l.isDecoderBuffer=function(u){return u instanceof l?!0:typeof u=="object"&&o.isBuffer(u.base)&&u.constructor.name==="DecoderBuffer"&&typeof u.offset=="number"&&typeof u.length=="number"&&typeof u.save=="function"&&typeof u.restore=="function"&&typeof u.isEmpty=="function"&&typeof u.readUInt8=="function"&&typeof u.skip=="function"&&typeof u.raw=="function"},l.prototype.save=function(){return{offset:this.offset,reporter:a.prototype.save.call(this)}},l.prototype.restore=function(u){const d=new l(this.base);return d.offset=u.offset,d.length=this.offset,this.offset=u.offset,a.prototype.restore.call(this,u.reporter),d},l.prototype.isEmpty=function(){return this.offset===this.length},l.prototype.readUInt8=function(u){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(u||"DecoderBuffer overrun")},l.prototype.skip=function(u,d){if(!(this.offset+u<=this.length))return this.error(d||"DecoderBuffer overrun");const h=new l(this.base);return h._reporterState=this._reporterState,h.offset=this.offset,h.length=this.offset+u,this.offset+=u,h},l.prototype.raw=function(u){return this.base.slice(u?u.offset:this.offset,this.length)},s.EncoderBuffer=c,c.isEncoderBuffer=function(u){return u instanceof c?!0:typeof u=="object"&&u.constructor.name==="EncoderBuffer"&&typeof u.length=="number"&&typeof u.join=="function"},c.prototype.join=function(u,d){return u||(u=o.alloc(this.length)),d||(d=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(h){h.join(u,d),d+=h.length}):(typeof this.value=="number"?u[d]=this.value:typeof this.value=="string"?u.write(this.value,d):o.isBuffer(this.value)&&this.value.copy(u,d),d+=this.length)),u}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(t,n,s){const i=s;i.Reporter=t("./reporter").Reporter,i.DecoderBuffer=t("./buffer").DecoderBuffer,i.EncoderBuffer=t("./buffer").EncoderBuffer,i.Node=t("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(t,n,s){const i=t("../base/reporter").Reporter,a=t("../base/buffer").EncoderBuffer,o=t("../base/buffer").DecoderBuffer,l=t("minimalistic-assert"),c=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(c);function d(f,m,g){const p={};this._baseState=p,p.name=g,p.enc=f,p.parent=m||null,p.children=null,p.tag=null,p.args=null,p.reverseArgs=null,p.choice=null,p.optional=!1,p.any=!1,p.obj=!1,p.use=null,p.useDecoder=null,p.key=null,p.default=null,p.explicit=null,p.implicit=null,p.contains=null,p.parent||(p.children=[],this._wrap())}n.exports=d;const h=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];d.prototype.clone=function(){const f=this._baseState,m={};h.forEach(function(p){m[p]=f[p]});const g=new this.constructor(m.parent);return g._baseState=m,g},d.prototype._wrap=function(){const f=this._baseState;u.forEach(function(m){this[m]=function(){const g=new this.constructor(this);return f.children.push(g),g[m].apply(g,arguments)}},this)},d.prototype._init=function(f){const m=this._baseState;l(m.parent===null),f.call(this),m.children=m.children.filter(function(g){return g._baseState.parent===this},this),l.equal(m.children.length,1,"Root node can have only one child")},d.prototype._useArgs=function(f){const m=this._baseState,g=f.filter(function(p){return p instanceof this.constructor},this);f=f.filter(function(p){return!(p instanceof this.constructor)},this),g.length!==0&&(l(m.children===null),m.children=g,g.forEach(function(p){p._baseState.parent=this},this)),f.length!==0&&(l(m.args===null),m.args=f,m.reverseArgs=f.map(function(p){if(typeof p!="object"||p.constructor!==Object)return p;const v={};return Object.keys(p).forEach(function(y){y==(0|y)&&(y|=0);const b=p[y];v[b]=y}),v}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(f){d.prototype[f]=function(){const m=this._baseState;throw new Error(f+" not implemented for encoding: "+m.enc)}}),c.forEach(function(f){d.prototype[f]=function(){const m=this._baseState,g=Array.prototype.slice.call(arguments);return l(m.tag===null),m.tag=f,this._useArgs(g),this}}),d.prototype.use=function(f){l(f);const m=this._baseState;return l(m.use===null),m.use=f,this},d.prototype.optional=function(){return this._baseState.optional=!0,this},d.prototype.def=function(f){const m=this._baseState;return l(m.default===null),m.default=f,m.optional=!0,this},d.prototype.explicit=function(f){const m=this._baseState;return l(m.explicit===null&&m.implicit===null),m.explicit=f,this},d.prototype.implicit=function(f){const m=this._baseState;return l(m.explicit===null&&m.implicit===null),m.implicit=f,this},d.prototype.obj=function(){const f=this._baseState,m=Array.prototype.slice.call(arguments);return f.obj=!0,m.length!==0&&this._useArgs(m),this},d.prototype.key=function(f){const m=this._baseState;return l(m.key===null),m.key=f,this},d.prototype.any=function(){return this._baseState.any=!0,this},d.prototype.choice=function(f){const m=this._baseState;return l(m.choice===null),m.choice=f,this._useArgs(Object.keys(f).map(function(g){return f[g]})),this},d.prototype.contains=function(f){const m=this._baseState;return l(m.use===null),m.contains=f,this},d.prototype._decode=function(f,m){const g=this._baseState;if(g.parent===null)return f.wrapResult(g.children[0]._decode(f,m));let p,v=g.default,y=!0,b=null;if(g.key!==null&&(b=f.enterKey(g.key)),g.optional){let E=null;if(g.explicit!==null?E=g.explicit:g.implicit!==null?E=g.implicit:g.tag!==null&&(E=g.tag),E!==null||g.any){if(y=this._peekTag(f,E,g.any),f.isError(y))return y}else{const N=f.save();try{g.choice===null?this._decodeGeneric(g.tag,f,m):this._decodeChoice(f,m),y=!0}catch{y=!1}f.restore(N)}}if(g.obj&&y&&(p=f.enterObject()),y){if(g.explicit!==null){const N=this._decodeTag(f,g.explicit);if(f.isError(N))return N;f=N}const E=f.offset;if(g.use===null&&g.choice===null){let N;g.any&&(N=f.save());const j=this._decodeTag(f,g.implicit!==null?g.implicit:g.tag,g.any);if(f.isError(j))return j;g.any?v=f.raw(N):f=j}if(m&&m.track&&g.tag!==null&&m.track(f.path(),E,f.length,"tagged"),m&&m.track&&g.tag!==null&&m.track(f.path(),f.offset,f.length,"content"),g.any||(v=g.choice===null?this._decodeGeneric(g.tag,f,m):this._decodeChoice(f,m)),f.isError(v))return v;if(g.any||g.choice!==null||g.children===null||g.children.forEach(function(N){N._decode(f,m)}),g.contains&&(g.tag==="octstr"||g.tag==="bitstr")){const N=new o(v);v=this._getUse(g.contains,f._reporterState.obj)._decode(N,m)}}return g.obj&&y&&(v=f.leaveObject(p)),g.key===null||v===null&&y!==!0?b!==null&&f.exitKey(b):f.leaveKey(b,g.key,v),v},d.prototype._decodeGeneric=function(f,m,g){const p=this._baseState;return f==="seq"||f==="set"?null:f==="seqof"||f==="setof"?this._decodeList(m,f,p.args[0],g):/str$/.test(f)?this._decodeStr(m,f,g):f==="objid"&&p.args?this._decodeObjid(m,p.args[0],p.args[1],g):f==="objid"?this._decodeObjid(m,null,null,g):f==="gentime"||f==="utctime"?this._decodeTime(m,f,g):f==="null_"?this._decodeNull(m,g):f==="bool"?this._decodeBool(m,g):f==="objDesc"?this._decodeStr(m,f,g):f==="int"||f==="enum"?this._decodeInt(m,p.args&&p.args[0],g):p.use!==null?this._getUse(p.use,m._reporterState.obj)._decode(m,g):m.error("unknown tag: "+f)},d.prototype._getUse=function(f,m){const g=this._baseState;return g.useDecoder=this._use(f,m),l(g.useDecoder._baseState.parent===null),g.useDecoder=g.useDecoder._baseState.children[0],g.implicit!==g.useDecoder._baseState.implicit&&(g.useDecoder=g.useDecoder.clone(),g.useDecoder._baseState.implicit=g.implicit),g.useDecoder},d.prototype._decodeChoice=function(f,m){const g=this._baseState;let p=null,v=!1;return Object.keys(g.choice).some(function(y){const b=f.save(),E=g.choice[y];try{const N=E._decode(f,m);if(f.isError(N))return!1;p={type:y,value:N},v=!0}catch{return f.restore(b),!1}return!0},this),v?p:f.error("Choice not matched")},d.prototype._createEncoderBuffer=function(f){return new a(f,this.reporter)},d.prototype._encode=function(f,m,g){const p=this._baseState;if(p.default!==null&&p.default===f)return;const v=this._encodeValue(f,m,g);return v===void 0||this._skipDefault(v,m,g)?void 0:v},d.prototype._encodeValue=function(f,m,g){const p=this._baseState;if(p.parent===null)return p.children[0]._encode(f,m||new i);let v=null;if(this.reporter=m,p.optional&&f===void 0){if(p.default===null)return;f=p.default}let y=null,b=!1;if(p.any)v=this._createEncoderBuffer(f);else if(p.choice)v=this._encodeChoice(f,m);else if(p.contains)y=this._getUse(p.contains,g)._encode(f,m),b=!0;else if(p.children)y=p.children.map(function(E){if(E._baseState.tag==="null_")return E._encode(null,m,f);if(E._baseState.key===null)return m.error("Child should have a key");const N=m.enterKey(E._baseState.key);if(typeof f!="object")return m.error("Child expected, but input is not object");const j=E._encode(f[E._baseState.key],m,f);return m.leaveKey(N),j},this).filter(function(E){return E}),y=this._createEncoderBuffer(y);else if(p.tag==="seqof"||p.tag==="setof"){if(!p.args||p.args.length!==1)return m.error("Too many args for : "+p.tag);if(!Array.isArray(f))return m.error("seqof/setof, but data is not Array");const E=this.clone();E._baseState.implicit=null,y=this._createEncoderBuffer(f.map(function(N){const j=this._baseState;return this._getUse(j.args[0],f)._encode(N,m)},E))}else p.use!==null?v=this._getUse(p.use,g)._encode(f,m):(y=this._encodePrimitive(p.tag,f),b=!0);if(!p.any&&p.choice===null){const E=p.implicit!==null?p.implicit:p.tag,N=p.implicit===null?"universal":"context";E===null?p.use===null&&m.error("Tag could be omitted only for .use()"):p.use===null&&(v=this._encodeComposite(E,b,N,y))}return p.explicit!==null&&(v=this._encodeComposite(p.explicit,!1,"context",v)),v},d.prototype._encodeChoice=function(f,m){const g=this._baseState,p=g.choice[f.type];return p||l(!1,f.type+" not found in "+JSON.stringify(Object.keys(g.choice))),p._encode(f.value,m)},d.prototype._encodePrimitive=function(f,m){const g=this._baseState;if(/str$/.test(f))return this._encodeStr(m,f);if(f==="objid"&&g.args)return this._encodeObjid(m,g.reverseArgs[0],g.args[1]);if(f==="objid")return this._encodeObjid(m,null,null);if(f==="gentime"||f==="utctime")return this._encodeTime(m,f);if(f==="null_")return this._encodeNull();if(f==="int"||f==="enum")return this._encodeInt(m,g.args&&g.reverseArgs[0]);if(f==="bool")return this._encodeBool(m);if(f==="objDesc")return this._encodeStr(m,f);throw new Error("Unsupported tag: "+f)},d.prototype._isNumstr=function(f){return/^[0-9 ]*$/.test(f)},d.prototype._isPrintstr=function(f){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(f)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(t,n,s){const i=t("inherits");function a(l){this._reporterState={obj:null,path:[],options:l||{},errors:[]}}function o(l,c){this.path=l,this.rethrow(c)}s.Reporter=a,a.prototype.isError=function(l){return l instanceof o},a.prototype.save=function(){const l=this._reporterState;return{obj:l.obj,pathLen:l.path.length}},a.prototype.restore=function(l){const c=this._reporterState;c.obj=l.obj,c.path=c.path.slice(0,l.pathLen)},a.prototype.enterKey=function(l){return this._reporterState.path.push(l)},a.prototype.exitKey=function(l){const c=this._reporterState;c.path=c.path.slice(0,l-1)},a.prototype.leaveKey=function(l,c,u){const d=this._reporterState;this.exitKey(l),d.obj!==null&&(d.obj[c]=u)},a.prototype.path=function(){return this._reporterState.path.join("/")},a.prototype.enterObject=function(){const l=this._reporterState,c=l.obj;return l.obj={},c},a.prototype.leaveObject=function(l){const c=this._reporterState,u=c.obj;return c.obj=l,u},a.prototype.error=function(l){let c;const u=this._reporterState,d=l instanceof o;if(c=d?l:new o(u.path.map(function(h){return"["+JSON.stringify(h)+"]"}).join(""),l.message||l,l.stack),!u.options.partial)throw c;return d||u.errors.push(c),c},a.prototype.wrapResult=function(l){const c=this._reporterState;return c.options.partial?{result:this.isError(l)?null:l,errors:c.errors}:l},i(o,Error),o.prototype.rethrow=function(l){if(this.message=l+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(c){this.stack=c.stack}return this}},{inherits:440}],176:[function(t,n,s){function i(a){const o={};return Object.keys(a).forEach(function(l){(0|l)==l&&(l|=0);const c=a[l];o[c]=l}),o}s.tagClass={0:"universal",1:"application",2:"context",3:"private"},s.tagClassByName=i(s.tagClass),s.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},s.tagByName=i(s.tag)},{}],177:[function(t,n,s){const i=s;i._reverse=function(a){const o={};return Object.keys(a).forEach(function(l){(0|l)==l&&(l|=0);const c=a[l];o[c]=l}),o},i.der=t("./der")},{"./der":176}],178:[function(t,n,s){const i=t("inherits"),a=t("bn.js"),o=t("../base/buffer").DecoderBuffer,l=t("../base/node"),c=t("../constants/der");function u(m){this.enc="der",this.name=m.name,this.entity=m,this.tree=new d,this.tree._init(m.body)}function d(m){l.call(this,"der",m)}function h(m,g){let p=m.readUInt8(g);if(m.isError(p))return p;const v=c.tagClass[p>>6],y=(32&p)==0;if((31&p)==31){let b=p;for(p=0;(128&b)==128;){if(b=m.readUInt8(g),m.isError(b))return b;p<<=7,p|=127&b}}else p&=31;return{cls:v,primitive:y,tag:p,tagStr:c.tag[p]}}function f(m,g,p){let v=m.readUInt8(p);if(m.isError(v))return v;if(!g&&v===128)return null;if(!(128&v))return v;const y=127&v;if(y>4)return m.error("length octect is too long");v=0;for(let b=0;b<y;b++){v<<=8;const E=m.readUInt8(p);if(m.isError(E))return E;v|=E}return v}n.exports=u,u.prototype.decode=function(m,g){return o.isDecoderBuffer(m)||(m=new o(m,g)),this.tree._decode(m,g)},i(d,l),d.prototype._peekTag=function(m,g,p){if(m.isEmpty())return!1;const v=m.save(),y=h(m,'Failed to peek tag: "'+g+'"');return m.isError(y)?y:(m.restore(v),y.tag===g||y.tagStr===g||y.tagStr+"of"===g||p)},d.prototype._decodeTag=function(m,g,p){const v=h(m,'Failed to decode tag of "'+g+'"');if(m.isError(v))return v;let y=f(m,v.primitive,'Failed to get length of "'+g+'"');if(m.isError(y))return y;if(!p&&v.tag!==g&&v.tagStr!==g&&v.tagStr+"of"!==g)return m.error('Failed to match tag: "'+g+'"');if(v.primitive||y!==null)return m.skip(y,'Failed to match body of: "'+g+'"');const b=m.save(),E=this._skipUntilEnd(m,'Failed to skip indefinite length body: "'+this.tag+'"');return m.isError(E)?E:(y=m.offset-b.offset,m.restore(b),m.skip(y,'Failed to match body of: "'+g+'"'))},d.prototype._skipUntilEnd=function(m,g){for(;;){const p=h(m,g);if(m.isError(p))return p;const v=f(m,p.primitive,g);if(m.isError(v))return v;let y;if(y=p.primitive||v!==null?m.skip(v):this._skipUntilEnd(m,g),m.isError(y))return y;if(p.tagStr==="end")break}},d.prototype._decodeList=function(m,g,p,v){const y=[];for(;!m.isEmpty();){const b=this._peekTag(m,"end");if(m.isError(b))return b;const E=p.decode(m,"der",v);if(m.isError(E)&&b)break;y.push(E)}return y},d.prototype._decodeStr=function(m,g){if(g==="bitstr"){const p=m.readUInt8();return m.isError(p)?p:{unused:p,data:m.raw()}}if(g==="bmpstr"){const p=m.raw();if(p.length%2==1)return m.error("Decoding of string type: bmpstr length mismatch");let v="";for(let y=0;y<p.length/2;y++)v+=String.fromCharCode(p.readUInt16BE(2*y));return v}if(g==="numstr"){const p=m.raw().toString("ascii");return this._isNumstr(p)?p:m.error("Decoding of string type: numstr unsupported characters")}if(g==="octstr"||g==="objDesc")return m.raw();if(g==="printstr"){const p=m.raw().toString("ascii");return this._isPrintstr(p)?p:m.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(g)?m.raw().toString():m.error("Decoding of string type: "+g+" unsupported")},d.prototype._decodeObjid=function(m,g,p){let v;const y=[];let b=0,E=0;for(;!m.isEmpty();)E=m.readUInt8(),b<<=7,b|=127&E,!(128&E)&&(y.push(b),b=0);128&E&&y.push(b);const N=y[0]/40|0,j=y[0]%40;if(v=p?y:[N,j].concat(y.slice(1)),g){let D=g[v.join(" ")];D===void 0&&(D=g[v.join(".")]),D!==void 0&&(v=D)}return v},d.prototype._decodeTime=function(m,g){const p=m.raw().toString();let v,y,b,E,N,j;if(g==="gentime")v=0|p.slice(0,4),y=0|p.slice(4,6),b=0|p.slice(6,8),E=0|p.slice(8,10),N=0|p.slice(10,12),j=0|p.slice(12,14);else{if(g!=="utctime")return m.error("Decoding "+g+" time is not supported yet");v=0|p.slice(0,2),y=0|p.slice(2,4),b=0|p.slice(4,6),E=0|p.slice(6,8),N=0|p.slice(8,10),j=0|p.slice(10,12),v=v<70?2e3+v:1900+v}return Date.UTC(v,y-1,b,E,N,j,0)},d.prototype._decodeNull=function(){return null},d.prototype._decodeBool=function(m){const g=m.readUInt8();return m.isError(g)?g:g!==0},d.prototype._decodeInt=function(m,g){const p=m.raw();let v=new a(p);return g&&(v=g[v.toString(10)]||v),v},d.prototype._use=function(m,g){return typeof m=="function"&&(m=m(g)),m._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(t,n,s){const i=s;i.der=t("./der"),i.pem=t("./pem")},{"./der":178,"./pem":180}],180:[function(t,n,s){const i=t("inherits"),a=t("safer-buffer").Buffer,o=t("./der");function l(c){o.call(this,c),this.enc="pem"}i(l,o),n.exports=l,l.prototype.decode=function(c,u){const d=c.toString().split(/[\r\n]+/g),h=u.label.toUpperCase(),f=/^-----(BEGIN|END) ([^-]+)-----$/;let m=-1,g=-1;for(let y=0;y<d.length;y++){const b=d[y].match(f);if(b!==null&&b[2]===h){if(m!==-1){if(b[1]!=="END")break;g=y;break}if(b[1]!=="BEGIN")break;m=y}}if(m===-1||g===-1)throw new Error("PEM section not found for: "+h);const p=d.slice(m+1,g).join("");p.replace(/[^a-z0-9+/=]+/gi,"");const v=a.from(p,"base64");return o.prototype.decode.call(this,v,u)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(t,n,s){const i=t("inherits"),a=t("safer-buffer").Buffer,o=t("../base/node"),l=t("../constants/der");function c(h){this.enc="der",this.name=h.name,this.entity=h,this.tree=new u,this.tree._init(h.body)}function u(h){o.call(this,"der",h)}function d(h){return h<10?"0"+h:h}n.exports=c,c.prototype.encode=function(h,f){return this.tree._encode(h,f).join()},i(u,o),u.prototype._encodeComposite=function(h,f,m,g){const p=function(b,E,N,j){let D;if(b==="seqof"?b="seq":b==="setof"&&(b="set"),l.tagByName.hasOwnProperty(b))D=l.tagByName[b];else{if(typeof b!="number"||(0|b)!==b)return j.error("Unknown tag: "+b);D=b}return D>=31?j.error("Multi-octet tag encoding unsupported"):(E||(D|=32),D|=l.tagClassByName[N||"universal"]<<6,D)}(h,f,m,this.reporter);if(g.length<128){const b=a.alloc(2);return b[0]=p,b[1]=g.length,this._createEncoderBuffer([b,g])}let v=1;for(let b=g.length;b>=256;b>>=8)v++;const y=a.alloc(2+v);y[0]=p,y[1]=128|v;for(let b=1+v,E=g.length;E>0;b--,E>>=8)y[b]=255&E;return this._createEncoderBuffer([y,g])},u.prototype._encodeStr=function(h,f){if(f==="bitstr")return this._createEncoderBuffer([0|h.unused,h.data]);if(f==="bmpstr"){const m=a.alloc(2*h.length);for(let g=0;g<h.length;g++)m.writeUInt16BE(h.charCodeAt(g),2*g);return this._createEncoderBuffer(m)}return f==="numstr"?this._isNumstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: numstr supports only digits and space"):f==="printstr"?this._isPrintstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(f)||f==="objDesc"?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: "+f+" unsupported")},u.prototype._encodeObjid=function(h,f,m){if(typeof h=="string"){if(!f)return this.reporter.error("string objid given, but no values map found");if(!f.hasOwnProperty(h))return this.reporter.error("objid not found in values map");h=f[h].split(/[\s.]+/g);for(let y=0;y<h.length;y++)h[y]|=0}else if(Array.isArray(h)){h=h.slice();for(let y=0;y<h.length;y++)h[y]|=0}if(!Array.isArray(h))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(h));if(!m){if(h[1]>=40)return this.reporter.error("Second objid identifier OOB");h.splice(0,2,40*h[0]+h[1])}let g=0;for(let y=0;y<h.length;y++){let b=h[y];for(g++;b>=128;b>>=7)g++}const p=a.alloc(g);let v=p.length-1;for(let y=h.length-1;y>=0;y--){let b=h[y];for(p[v--]=127&b;(b>>=7)>0;)p[v--]=128|127&b}return this._createEncoderBuffer(p)},u.prototype._encodeTime=function(h,f){let m;const g=new Date(h);return f==="gentime"?m=[d(g.getUTCFullYear()),d(g.getUTCMonth()+1),d(g.getUTCDate()),d(g.getUTCHours()),d(g.getUTCMinutes()),d(g.getUTCSeconds()),"Z"].join(""):f==="utctime"?m=[d(g.getUTCFullYear()%100),d(g.getUTCMonth()+1),d(g.getUTCDate()),d(g.getUTCHours()),d(g.getUTCMinutes()),d(g.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+f+" time is not supported yet"),this._encodeStr(m,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(h,f){if(typeof h=="string"){if(!f)return this.reporter.error("String int or enum given, but no values map");if(!f.hasOwnProperty(h))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(h));h=f[h]}if(typeof h!="number"&&!a.isBuffer(h)){const p=h.toArray();!h.sign&&128&p[0]&&p.unshift(0),h=a.from(p)}if(a.isBuffer(h)){let p=h.length;h.length===0&&p++;const v=a.alloc(p);return h.copy(v),h.length===0&&(v[0]=0),this._createEncoderBuffer(v)}if(h<128)return this._createEncoderBuffer(h);if(h<256)return this._createEncoderBuffer([0,h]);let m=1;for(let p=h;p>=256;p>>=8)m++;const g=new Array(m);for(let p=g.length-1;p>=0;p--)g[p]=255&h,h>>=8;return 128&g[0]&&g.unshift(0),this._createEncoderBuffer(a.from(g))},u.prototype._encodeBool=function(h){return this._createEncoderBuffer(h?255:0)},u.prototype._use=function(h,f){return typeof h=="function"&&(h=h(f)),h._getEncoder("der").tree},u.prototype._skipDefault=function(h,f,m){const g=this._baseState;let p;if(g.default===null)return!1;const v=h.join();if(g.defaultBuffer===void 0&&(g.defaultBuffer=this._encodeValue(g.default,f,m).join()),v.length!==g.defaultBuffer.length)return!1;for(p=0;p<v.length;p++)if(v[p]!==g.defaultBuffer[p])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(t,n,s){const i=s;i.der=t("./der"),i.pem=t("./pem")},{"./der":181,"./pem":183}],183:[function(t,n,s){const i=t("inherits"),a=t("./der");function o(l){a.call(this,l),this.enc="pem"}i(o,a),n.exports=o,o.prototype.encode=function(l,c){const u=a.prototype.encode.call(this,l).toString("base64"),d=["-----BEGIN "+c.label+"-----"];for(let h=0;h<u.length;h+=64)d.push(u.slice(h,h+64));return d.push("-----END "+c.label+"-----"),d.join(`
`)}},{"./der":181,inherits:440}],184:[function(t,n,s){(function(i,a){function o(k,M){if(!k)throw new Error(M||"Assertion failed")}function l(k,M){k.super_=M;var A=function(){};A.prototype=M.prototype,k.prototype=new A,k.prototype.constructor=k}function c(k,M,A){if(c.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,k!==null&&(M!=="le"&&M!=="be"||(A=M,M=10),this._init(k||0,M||10,A||"be"))}var u;typeof i=="object"?i.exports=c:(void 0).BN=c,c.BN=c,c.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t("buffer").Buffer}catch{}function d(k,M){var A=k.charCodeAt(M);return A>=65&&A<=70?A-55:A>=97&&A<=102?A-87:A-48&15}function h(k,M,A){var w=d(k,A);return A-1>=M&&(w|=d(k,A-1)<<4),w}function f(k,M,A,w){for(var S=0,_=Math.min(k.length,A),x=M;x<_;x++){var R=k.charCodeAt(x)-48;S*=w,S+=R>=49?R-49+10:R>=17?R-17+10:R}return S}c.isBN=function(k){return k instanceof c||k!==null&&typeof k=="object"&&k.constructor.wordSize===c.wordSize&&Array.isArray(k.words)},c.max=function(k,M){return k.cmp(M)>0?k:M},c.min=function(k,M){return k.cmp(M)<0?k:M},c.prototype._init=function(k,M,A){if(typeof k=="number")return this._initNumber(k,M,A);if(typeof k=="object")return this._initArray(k,M,A);M==="hex"&&(M=16),o(M===(0|M)&&M>=2&&M<=36);var w=0;(k=k.toString().replace(/\s+/g,""))[0]==="-"&&(w++,this.negative=1),w<k.length&&(M===16?this._parseHex(k,w,A):(this._parseBase(k,M,w),A==="le"&&this._initArray(this.toArray(),M,A)))},c.prototype._initNumber=function(k,M,A){k<0&&(this.negative=1,k=-k),k<67108864?(this.words=[67108863&k],this.length=1):k<4503599627370496?(this.words=[67108863&k,k/67108864&67108863],this.length=2):(o(k<9007199254740992),this.words=[67108863&k,k/67108864&67108863,1],this.length=3),A==="le"&&this._initArray(this.toArray(),M,A)},c.prototype._initArray=function(k,M,A){if(o(typeof k.length=="number"),k.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(k.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var S,_,x=0;if(A==="be")for(w=k.length-1,S=0;w>=0;w-=3)_=k[w]|k[w-1]<<8|k[w-2]<<16,this.words[S]|=_<<x&67108863,this.words[S+1]=_>>>26-x&67108863,(x+=24)>=26&&(x-=26,S++);else if(A==="le")for(w=0,S=0;w<k.length;w+=3)_=k[w]|k[w+1]<<8|k[w+2]<<16,this.words[S]|=_<<x&67108863,this.words[S+1]=_>>>26-x&67108863,(x+=24)>=26&&(x-=26,S++);return this.strip()},c.prototype._parseHex=function(k,M,A){this.length=Math.ceil((k.length-M)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var S,_=0,x=0;if(A==="be")for(w=k.length-1;w>=M;w-=2)S=h(k,M,w)<<_,this.words[x]|=67108863&S,_>=18?(_-=18,x+=1,this.words[x]|=S>>>26):_+=8;else for(w=(k.length-M)%2==0?M+1:M;w<k.length;w+=2)S=h(k,M,w)<<_,this.words[x]|=67108863&S,_>=18?(_-=18,x+=1,this.words[x]|=S>>>26):_+=8;this.strip()},c.prototype._parseBase=function(k,M,A){this.words=[0],this.length=1;for(var w=0,S=1;S<=67108863;S*=M)w++;w--,S=S/M|0;for(var _=k.length-A,x=_%w,R=Math.min(_,_-x)+A,W=0,T=A;T<R;T+=w)W=f(k,T,T+w,M),this.imuln(S),this.words[0]+W<67108864?this.words[0]+=W:this._iaddn(W);if(x!==0){var z=1;for(W=f(k,T,k.length,M),T=0;T<x;T++)z*=M;this.imuln(z),this.words[0]+W<67108864?this.words[0]+=W:this._iaddn(W)}this.strip()},c.prototype.copy=function(k){k.words=new Array(this.length);for(var M=0;M<this.length;M++)k.words[M]=this.words[M];k.length=this.length,k.negative=this.negative,k.red=this.red},c.prototype.clone=function(){var k=new c(null);return this.copy(k),k},c.prototype._expand=function(k){for(;this.length<k;)this.words[this.length++]=0;return this},c.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},c.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function v(k,M,A){A.negative=M.negative^k.negative;var w=k.length+M.length|0;A.length=w,w=w-1|0;var S=0|k.words[0],_=0|M.words[0],x=S*_,R=67108863&x,W=x/67108864|0;A.words[0]=R;for(var T=1;T<w;T++){for(var z=W>>>26,q=67108863&W,Y=Math.min(T,M.length-1),U=Math.max(0,T-k.length+1);U<=Y;U++){var Q=T-U|0;z+=(x=(S=0|k.words[Q])*(_=0|M.words[U])+q)/67108864|0,q=67108863&x}A.words[T]=0|q,W=0|z}return W!==0?A.words[T]=0|W:A.length--,A.strip()}c.prototype.toString=function(k,M){var A;if(M=0|M||1,(k=k||10)===16||k==="hex"){A="";for(var w=0,S=0,_=0;_<this.length;_++){var x=this.words[_],R=(16777215&(x<<w|S)).toString(16);A=(S=x>>>24-w&16777215)!==0||_!==this.length-1?m[6-R.length]+R+A:R+A,(w+=2)>=26&&(w-=26,_--)}for(S!==0&&(A=S.toString(16)+A);A.length%M!=0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}if(k===(0|k)&&k>=2&&k<=36){var W=g[k],T=p[k];A="";var z=this.clone();for(z.negative=0;!z.isZero();){var q=z.modn(T).toString(k);A=(z=z.idivn(T)).isZero()?q+A:m[W-q.length]+q+A}for(this.isZero()&&(A="0"+A);A.length%M!=0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}o(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var k=this.words[0];return this.length===2?k+=67108864*this.words[1]:this.length===3&&this.words[2]===1?k+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-k:k},c.prototype.toJSON=function(){return this.toString(16)},c.prototype.toBuffer=function(k,M){return o(u!==void 0),this.toArrayLike(u,k,M)},c.prototype.toArray=function(k,M){return this.toArrayLike(Array,k,M)},c.prototype.toArrayLike=function(k,M,A){var w=this.byteLength(),S=A||Math.max(1,w);o(w<=S,"byte array longer than desired length"),o(S>0,"Requested array length <= 0"),this.strip();var _,x,R=M==="le",W=new k(S),T=this.clone();if(R){for(x=0;!T.isZero();x++)_=T.andln(255),T.iushrn(8),W[x]=_;for(;x<S;x++)W[x]=0}else{for(x=0;x<S-w;x++)W[x]=0;for(x=0;!T.isZero();x++)_=T.andln(255),T.iushrn(8),W[S-x-1]=_}return W},Math.clz32?c.prototype._countBits=function(k){return 32-Math.clz32(k)}:c.prototype._countBits=function(k){var M=k,A=0;return M>=4096&&(A+=13,M>>>=13),M>=64&&(A+=7,M>>>=7),M>=8&&(A+=4,M>>>=4),M>=2&&(A+=2,M>>>=2),A+M},c.prototype._zeroBits=function(k){if(k===0)return 26;var M=k,A=0;return!(8191&M)&&(A+=13,M>>>=13),!(127&M)&&(A+=7,M>>>=7),!(15&M)&&(A+=4,M>>>=4),!(3&M)&&(A+=2,M>>>=2),!(1&M)&&A++,A},c.prototype.bitLength=function(){var k=this.words[this.length-1],M=this._countBits(k);return 26*(this.length-1)+M},c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var k=0,M=0;M<this.length;M++){var A=this._zeroBits(this.words[M]);if(k+=A,A!==26)break}return k},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(k){return this.negative!==0?this.abs().inotn(k).iaddn(1):this.clone()},c.prototype.fromTwos=function(k){return this.testn(k-1)?this.notn(k).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(k){for(;this.length<k.length;)this.words[this.length++]=0;for(var M=0;M<k.length;M++)this.words[M]=this.words[M]|k.words[M];return this.strip()},c.prototype.ior=function(k){return o((this.negative|k.negative)==0),this.iuor(k)},c.prototype.or=function(k){return this.length>k.length?this.clone().ior(k):k.clone().ior(this)},c.prototype.uor=function(k){return this.length>k.length?this.clone().iuor(k):k.clone().iuor(this)},c.prototype.iuand=function(k){var M;M=this.length>k.length?k:this;for(var A=0;A<M.length;A++)this.words[A]=this.words[A]&k.words[A];return this.length=M.length,this.strip()},c.prototype.iand=function(k){return o((this.negative|k.negative)==0),this.iuand(k)},c.prototype.and=function(k){return this.length>k.length?this.clone().iand(k):k.clone().iand(this)},c.prototype.uand=function(k){return this.length>k.length?this.clone().iuand(k):k.clone().iuand(this)},c.prototype.iuxor=function(k){var M,A;this.length>k.length?(M=this,A=k):(M=k,A=this);for(var w=0;w<A.length;w++)this.words[w]=M.words[w]^A.words[w];if(this!==M)for(;w<M.length;w++)this.words[w]=M.words[w];return this.length=M.length,this.strip()},c.prototype.ixor=function(k){return o((this.negative|k.negative)==0),this.iuxor(k)},c.prototype.xor=function(k){return this.length>k.length?this.clone().ixor(k):k.clone().ixor(this)},c.prototype.uxor=function(k){return this.length>k.length?this.clone().iuxor(k):k.clone().iuxor(this)},c.prototype.inotn=function(k){o(typeof k=="number"&&k>=0);var M=0|Math.ceil(k/26),A=k%26;this._expand(M),A>0&&M--;for(var w=0;w<M;w++)this.words[w]=67108863&~this.words[w];return A>0&&(this.words[w]=~this.words[w]&67108863>>26-A),this.strip()},c.prototype.notn=function(k){return this.clone().inotn(k)},c.prototype.setn=function(k,M){o(typeof k=="number"&&k>=0);var A=k/26|0,w=k%26;return this._expand(A+1),this.words[A]=M?this.words[A]|1<<w:this.words[A]&~(1<<w),this.strip()},c.prototype.iadd=function(k){var M,A,w;if(this.negative!==0&&k.negative===0)return this.negative=0,M=this.isub(k),this.negative^=1,this._normSign();if(this.negative===0&&k.negative!==0)return k.negative=0,M=this.isub(k),k.negative=1,M._normSign();this.length>k.length?(A=this,w=k):(A=k,w=this);for(var S=0,_=0;_<w.length;_++)M=(0|A.words[_])+(0|w.words[_])+S,this.words[_]=67108863&M,S=M>>>26;for(;S!==0&&_<A.length;_++)M=(0|A.words[_])+S,this.words[_]=67108863&M,S=M>>>26;if(this.length=A.length,S!==0)this.words[this.length]=S,this.length++;else if(A!==this)for(;_<A.length;_++)this.words[_]=A.words[_];return this},c.prototype.add=function(k){var M;return k.negative!==0&&this.negative===0?(k.negative=0,M=this.sub(k),k.negative^=1,M):k.negative===0&&this.negative!==0?(this.negative=0,M=k.sub(this),this.negative=1,M):this.length>k.length?this.clone().iadd(k):k.clone().iadd(this)},c.prototype.isub=function(k){if(k.negative!==0){k.negative=0;var M=this.iadd(k);return k.negative=1,M._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(k),this.negative=1,this._normSign();var A,w,S=this.cmp(k);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;S>0?(A=this,w=k):(A=k,w=this);for(var _=0,x=0;x<w.length;x++)_=(M=(0|A.words[x])-(0|w.words[x])+_)>>26,this.words[x]=67108863&M;for(;_!==0&&x<A.length;x++)_=(M=(0|A.words[x])+_)>>26,this.words[x]=67108863&M;if(_===0&&x<A.length&&A!==this)for(;x<A.length;x++)this.words[x]=A.words[x];return this.length=Math.max(this.length,x),A!==this&&(this.negative=1),this.strip()},c.prototype.sub=function(k){return this.clone().isub(k)};var y=function(k,M,A){var w,S,_,x=k.words,R=M.words,W=A.words,T=0,z=0|x[0],q=8191&z,Y=z>>>13,U=0|x[1],Q=8191&U,F=U>>>13,O=0|x[2],K=8191&O,ne=O>>>13,ee=0|x[3],ie=8191&ee,he=ee>>>13,ce=0|x[4],te=8191&ce,se=ce>>>13,ge=0|x[5],de=8191&ge,Te=ge>>>13,De=0|x[6],_e=8191&De,fe=De>>>13,ae=0|x[7],ve=8191&ae,Ee=ae>>>13,Fe=0|x[8],Ue=8191&Fe,Ge=Fe>>>13,Ve=0|x[9],ze=8191&Ve,Ke=Ve>>>13,be=0|R[0],Be=8191&be,He=be>>>13,Me=0|R[1],Le=8191&Me,Xe=Me>>>13,Je=0|R[2],et=8191&Je,xt=Je>>>13,pt=0|R[3],wt=8191&pt,mt=pt>>>13,gt=0|R[4],ft=8191&gt,Nt=gt>>>13,Ht=0|R[5],$t=8191&Ht,_t=Ht>>>13,er=0|R[6],Gt=8191&er,We=er>>>13,Qe=0|R[7],ht=8191&Qe,ue=Qe>>>13,Pe=0|R[8],ye=8191&Pe,ke=Pe>>>13,Re=0|R[9],Ie=8191&Re,Ye=Re>>>13;A.negative=k.negative^M.negative,A.length=19;var st=(T+(w=Math.imul(q,Be))|0)+((8191&(S=(S=Math.imul(q,He))+Math.imul(Y,Be)|0))<<13)|0;T=((_=Math.imul(Y,He))+(S>>>13)|0)+(st>>>26)|0,st&=67108863,w=Math.imul(Q,Be),S=(S=Math.imul(Q,He))+Math.imul(F,Be)|0,_=Math.imul(F,He);var tt=(T+(w=w+Math.imul(q,Le)|0)|0)+((8191&(S=(S=S+Math.imul(q,Xe)|0)+Math.imul(Y,Le)|0))<<13)|0;T=((_=_+Math.imul(Y,Xe)|0)+(S>>>13)|0)+(tt>>>26)|0,tt&=67108863,w=Math.imul(K,Be),S=(S=Math.imul(K,He))+Math.imul(ne,Be)|0,_=Math.imul(ne,He),w=w+Math.imul(Q,Le)|0,S=(S=S+Math.imul(Q,Xe)|0)+Math.imul(F,Le)|0,_=_+Math.imul(F,Xe)|0;var ct=(T+(w=w+Math.imul(q,et)|0)|0)+((8191&(S=(S=S+Math.imul(q,xt)|0)+Math.imul(Y,et)|0))<<13)|0;T=((_=_+Math.imul(Y,xt)|0)+(S>>>13)|0)+(ct>>>26)|0,ct&=67108863,w=Math.imul(ie,Be),S=(S=Math.imul(ie,He))+Math.imul(he,Be)|0,_=Math.imul(he,He),w=w+Math.imul(K,Le)|0,S=(S=S+Math.imul(K,Xe)|0)+Math.imul(ne,Le)|0,_=_+Math.imul(ne,Xe)|0,w=w+Math.imul(Q,et)|0,S=(S=S+Math.imul(Q,xt)|0)+Math.imul(F,et)|0,_=_+Math.imul(F,xt)|0;var ot=(T+(w=w+Math.imul(q,wt)|0)|0)+((8191&(S=(S=S+Math.imul(q,mt)|0)+Math.imul(Y,wt)|0))<<13)|0;T=((_=_+Math.imul(Y,mt)|0)+(S>>>13)|0)+(ot>>>26)|0,ot&=67108863,w=Math.imul(te,Be),S=(S=Math.imul(te,He))+Math.imul(se,Be)|0,_=Math.imul(se,He),w=w+Math.imul(ie,Le)|0,S=(S=S+Math.imul(ie,Xe)|0)+Math.imul(he,Le)|0,_=_+Math.imul(he,Xe)|0,w=w+Math.imul(K,et)|0,S=(S=S+Math.imul(K,xt)|0)+Math.imul(ne,et)|0,_=_+Math.imul(ne,xt)|0,w=w+Math.imul(Q,wt)|0,S=(S=S+Math.imul(Q,mt)|0)+Math.imul(F,wt)|0,_=_+Math.imul(F,mt)|0;var At=(T+(w=w+Math.imul(q,ft)|0)|0)+((8191&(S=(S=S+Math.imul(q,Nt)|0)+Math.imul(Y,ft)|0))<<13)|0;T=((_=_+Math.imul(Y,Nt)|0)+(S>>>13)|0)+(At>>>26)|0,At&=67108863,w=Math.imul(de,Be),S=(S=Math.imul(de,He))+Math.imul(Te,Be)|0,_=Math.imul(Te,He),w=w+Math.imul(te,Le)|0,S=(S=S+Math.imul(te,Xe)|0)+Math.imul(se,Le)|0,_=_+Math.imul(se,Xe)|0,w=w+Math.imul(ie,et)|0,S=(S=S+Math.imul(ie,xt)|0)+Math.imul(he,et)|0,_=_+Math.imul(he,xt)|0,w=w+Math.imul(K,wt)|0,S=(S=S+Math.imul(K,mt)|0)+Math.imul(ne,wt)|0,_=_+Math.imul(ne,mt)|0,w=w+Math.imul(Q,ft)|0,S=(S=S+Math.imul(Q,Nt)|0)+Math.imul(F,ft)|0,_=_+Math.imul(F,Nt)|0;var Ot=(T+(w=w+Math.imul(q,$t)|0)|0)+((8191&(S=(S=S+Math.imul(q,_t)|0)+Math.imul(Y,$t)|0))<<13)|0;T=((_=_+Math.imul(Y,_t)|0)+(S>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,w=Math.imul(_e,Be),S=(S=Math.imul(_e,He))+Math.imul(fe,Be)|0,_=Math.imul(fe,He),w=w+Math.imul(de,Le)|0,S=(S=S+Math.imul(de,Xe)|0)+Math.imul(Te,Le)|0,_=_+Math.imul(Te,Xe)|0,w=w+Math.imul(te,et)|0,S=(S=S+Math.imul(te,xt)|0)+Math.imul(se,et)|0,_=_+Math.imul(se,xt)|0,w=w+Math.imul(ie,wt)|0,S=(S=S+Math.imul(ie,mt)|0)+Math.imul(he,wt)|0,_=_+Math.imul(he,mt)|0,w=w+Math.imul(K,ft)|0,S=(S=S+Math.imul(K,Nt)|0)+Math.imul(ne,ft)|0,_=_+Math.imul(ne,Nt)|0,w=w+Math.imul(Q,$t)|0,S=(S=S+Math.imul(Q,_t)|0)+Math.imul(F,$t)|0,_=_+Math.imul(F,_t)|0;var Vt=(T+(w=w+Math.imul(q,Gt)|0)|0)+((8191&(S=(S=S+Math.imul(q,We)|0)+Math.imul(Y,Gt)|0))<<13)|0;T=((_=_+Math.imul(Y,We)|0)+(S>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,w=Math.imul(ve,Be),S=(S=Math.imul(ve,He))+Math.imul(Ee,Be)|0,_=Math.imul(Ee,He),w=w+Math.imul(_e,Le)|0,S=(S=S+Math.imul(_e,Xe)|0)+Math.imul(fe,Le)|0,_=_+Math.imul(fe,Xe)|0,w=w+Math.imul(de,et)|0,S=(S=S+Math.imul(de,xt)|0)+Math.imul(Te,et)|0,_=_+Math.imul(Te,xt)|0,w=w+Math.imul(te,wt)|0,S=(S=S+Math.imul(te,mt)|0)+Math.imul(se,wt)|0,_=_+Math.imul(se,mt)|0,w=w+Math.imul(ie,ft)|0,S=(S=S+Math.imul(ie,Nt)|0)+Math.imul(he,ft)|0,_=_+Math.imul(he,Nt)|0,w=w+Math.imul(K,$t)|0,S=(S=S+Math.imul(K,_t)|0)+Math.imul(ne,$t)|0,_=_+Math.imul(ne,_t)|0,w=w+Math.imul(Q,Gt)|0,S=(S=S+Math.imul(Q,We)|0)+Math.imul(F,Gt)|0,_=_+Math.imul(F,We)|0;var Se=(T+(w=w+Math.imul(q,ht)|0)|0)+((8191&(S=(S=S+Math.imul(q,ue)|0)+Math.imul(Y,ht)|0))<<13)|0;T=((_=_+Math.imul(Y,ue)|0)+(S>>>13)|0)+(Se>>>26)|0,Se&=67108863,w=Math.imul(Ue,Be),S=(S=Math.imul(Ue,He))+Math.imul(Ge,Be)|0,_=Math.imul(Ge,He),w=w+Math.imul(ve,Le)|0,S=(S=S+Math.imul(ve,Xe)|0)+Math.imul(Ee,Le)|0,_=_+Math.imul(Ee,Xe)|0,w=w+Math.imul(_e,et)|0,S=(S=S+Math.imul(_e,xt)|0)+Math.imul(fe,et)|0,_=_+Math.imul(fe,xt)|0,w=w+Math.imul(de,wt)|0,S=(S=S+Math.imul(de,mt)|0)+Math.imul(Te,wt)|0,_=_+Math.imul(Te,mt)|0,w=w+Math.imul(te,ft)|0,S=(S=S+Math.imul(te,Nt)|0)+Math.imul(se,ft)|0,_=_+Math.imul(se,Nt)|0,w=w+Math.imul(ie,$t)|0,S=(S=S+Math.imul(ie,_t)|0)+Math.imul(he,$t)|0,_=_+Math.imul(he,_t)|0,w=w+Math.imul(K,Gt)|0,S=(S=S+Math.imul(K,We)|0)+Math.imul(ne,Gt)|0,_=_+Math.imul(ne,We)|0,w=w+Math.imul(Q,ht)|0,S=(S=S+Math.imul(Q,ue)|0)+Math.imul(F,ht)|0,_=_+Math.imul(F,ue)|0;var qe=(T+(w=w+Math.imul(q,ye)|0)|0)+((8191&(S=(S=S+Math.imul(q,ke)|0)+Math.imul(Y,ye)|0))<<13)|0;T=((_=_+Math.imul(Y,ke)|0)+(S>>>13)|0)+(qe>>>26)|0,qe&=67108863,w=Math.imul(ze,Be),S=(S=Math.imul(ze,He))+Math.imul(Ke,Be)|0,_=Math.imul(Ke,He),w=w+Math.imul(Ue,Le)|0,S=(S=S+Math.imul(Ue,Xe)|0)+Math.imul(Ge,Le)|0,_=_+Math.imul(Ge,Xe)|0,w=w+Math.imul(ve,et)|0,S=(S=S+Math.imul(ve,xt)|0)+Math.imul(Ee,et)|0,_=_+Math.imul(Ee,xt)|0,w=w+Math.imul(_e,wt)|0,S=(S=S+Math.imul(_e,mt)|0)+Math.imul(fe,wt)|0,_=_+Math.imul(fe,mt)|0,w=w+Math.imul(de,ft)|0,S=(S=S+Math.imul(de,Nt)|0)+Math.imul(Te,ft)|0,_=_+Math.imul(Te,Nt)|0,w=w+Math.imul(te,$t)|0,S=(S=S+Math.imul(te,_t)|0)+Math.imul(se,$t)|0,_=_+Math.imul(se,_t)|0,w=w+Math.imul(ie,Gt)|0,S=(S=S+Math.imul(ie,We)|0)+Math.imul(he,Gt)|0,_=_+Math.imul(he,We)|0,w=w+Math.imul(K,ht)|0,S=(S=S+Math.imul(K,ue)|0)+Math.imul(ne,ht)|0,_=_+Math.imul(ne,ue)|0,w=w+Math.imul(Q,ye)|0,S=(S=S+Math.imul(Q,ke)|0)+Math.imul(F,ye)|0,_=_+Math.imul(F,ke)|0;var dt=(T+(w=w+Math.imul(q,Ie)|0)|0)+((8191&(S=(S=S+Math.imul(q,Ye)|0)+Math.imul(Y,Ie)|0))<<13)|0;T=((_=_+Math.imul(Y,Ye)|0)+(S>>>13)|0)+(dt>>>26)|0,dt&=67108863,w=Math.imul(ze,Le),S=(S=Math.imul(ze,Xe))+Math.imul(Ke,Le)|0,_=Math.imul(Ke,Xe),w=w+Math.imul(Ue,et)|0,S=(S=S+Math.imul(Ue,xt)|0)+Math.imul(Ge,et)|0,_=_+Math.imul(Ge,xt)|0,w=w+Math.imul(ve,wt)|0,S=(S=S+Math.imul(ve,mt)|0)+Math.imul(Ee,wt)|0,_=_+Math.imul(Ee,mt)|0,w=w+Math.imul(_e,ft)|0,S=(S=S+Math.imul(_e,Nt)|0)+Math.imul(fe,ft)|0,_=_+Math.imul(fe,Nt)|0,w=w+Math.imul(de,$t)|0,S=(S=S+Math.imul(de,_t)|0)+Math.imul(Te,$t)|0,_=_+Math.imul(Te,_t)|0,w=w+Math.imul(te,Gt)|0,S=(S=S+Math.imul(te,We)|0)+Math.imul(se,Gt)|0,_=_+Math.imul(se,We)|0,w=w+Math.imul(ie,ht)|0,S=(S=S+Math.imul(ie,ue)|0)+Math.imul(he,ht)|0,_=_+Math.imul(he,ue)|0,w=w+Math.imul(K,ye)|0,S=(S=S+Math.imul(K,ke)|0)+Math.imul(ne,ye)|0,_=_+Math.imul(ne,ke)|0;var St=(T+(w=w+Math.imul(Q,Ie)|0)|0)+((8191&(S=(S=S+Math.imul(Q,Ye)|0)+Math.imul(F,Ie)|0))<<13)|0;T=((_=_+Math.imul(F,Ye)|0)+(S>>>13)|0)+(St>>>26)|0,St&=67108863,w=Math.imul(ze,et),S=(S=Math.imul(ze,xt))+Math.imul(Ke,et)|0,_=Math.imul(Ke,xt),w=w+Math.imul(Ue,wt)|0,S=(S=S+Math.imul(Ue,mt)|0)+Math.imul(Ge,wt)|0,_=_+Math.imul(Ge,mt)|0,w=w+Math.imul(ve,ft)|0,S=(S=S+Math.imul(ve,Nt)|0)+Math.imul(Ee,ft)|0,_=_+Math.imul(Ee,Nt)|0,w=w+Math.imul(_e,$t)|0,S=(S=S+Math.imul(_e,_t)|0)+Math.imul(fe,$t)|0,_=_+Math.imul(fe,_t)|0,w=w+Math.imul(de,Gt)|0,S=(S=S+Math.imul(de,We)|0)+Math.imul(Te,Gt)|0,_=_+Math.imul(Te,We)|0,w=w+Math.imul(te,ht)|0,S=(S=S+Math.imul(te,ue)|0)+Math.imul(se,ht)|0,_=_+Math.imul(se,ue)|0,w=w+Math.imul(ie,ye)|0,S=(S=S+Math.imul(ie,ke)|0)+Math.imul(he,ye)|0,_=_+Math.imul(he,ke)|0;var Bt=(T+(w=w+Math.imul(K,Ie)|0)|0)+((8191&(S=(S=S+Math.imul(K,Ye)|0)+Math.imul(ne,Ie)|0))<<13)|0;T=((_=_+Math.imul(ne,Ye)|0)+(S>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,w=Math.imul(ze,wt),S=(S=Math.imul(ze,mt))+Math.imul(Ke,wt)|0,_=Math.imul(Ke,mt),w=w+Math.imul(Ue,ft)|0,S=(S=S+Math.imul(Ue,Nt)|0)+Math.imul(Ge,ft)|0,_=_+Math.imul(Ge,Nt)|0,w=w+Math.imul(ve,$t)|0,S=(S=S+Math.imul(ve,_t)|0)+Math.imul(Ee,$t)|0,_=_+Math.imul(Ee,_t)|0,w=w+Math.imul(_e,Gt)|0,S=(S=S+Math.imul(_e,We)|0)+Math.imul(fe,Gt)|0,_=_+Math.imul(fe,We)|0,w=w+Math.imul(de,ht)|0,S=(S=S+Math.imul(de,ue)|0)+Math.imul(Te,ht)|0,_=_+Math.imul(Te,ue)|0,w=w+Math.imul(te,ye)|0,S=(S=S+Math.imul(te,ke)|0)+Math.imul(se,ye)|0,_=_+Math.imul(se,ke)|0;var Tt=(T+(w=w+Math.imul(ie,Ie)|0)|0)+((8191&(S=(S=S+Math.imul(ie,Ye)|0)+Math.imul(he,Ie)|0))<<13)|0;T=((_=_+Math.imul(he,Ye)|0)+(S>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,w=Math.imul(ze,ft),S=(S=Math.imul(ze,Nt))+Math.imul(Ke,ft)|0,_=Math.imul(Ke,Nt),w=w+Math.imul(Ue,$t)|0,S=(S=S+Math.imul(Ue,_t)|0)+Math.imul(Ge,$t)|0,_=_+Math.imul(Ge,_t)|0,w=w+Math.imul(ve,Gt)|0,S=(S=S+Math.imul(ve,We)|0)+Math.imul(Ee,Gt)|0,_=_+Math.imul(Ee,We)|0,w=w+Math.imul(_e,ht)|0,S=(S=S+Math.imul(_e,ue)|0)+Math.imul(fe,ht)|0,_=_+Math.imul(fe,ue)|0,w=w+Math.imul(de,ye)|0,S=(S=S+Math.imul(de,ke)|0)+Math.imul(Te,ye)|0,_=_+Math.imul(Te,ke)|0;var jt=(T+(w=w+Math.imul(te,Ie)|0)|0)+((8191&(S=(S=S+Math.imul(te,Ye)|0)+Math.imul(se,Ie)|0))<<13)|0;T=((_=_+Math.imul(se,Ye)|0)+(S>>>13)|0)+(jt>>>26)|0,jt&=67108863,w=Math.imul(ze,$t),S=(S=Math.imul(ze,_t))+Math.imul(Ke,$t)|0,_=Math.imul(Ke,_t),w=w+Math.imul(Ue,Gt)|0,S=(S=S+Math.imul(Ue,We)|0)+Math.imul(Ge,Gt)|0,_=_+Math.imul(Ge,We)|0,w=w+Math.imul(ve,ht)|0,S=(S=S+Math.imul(ve,ue)|0)+Math.imul(Ee,ht)|0,_=_+Math.imul(Ee,ue)|0,w=w+Math.imul(_e,ye)|0,S=(S=S+Math.imul(_e,ke)|0)+Math.imul(fe,ye)|0,_=_+Math.imul(fe,ke)|0;var pr=(T+(w=w+Math.imul(de,Ie)|0)|0)+((8191&(S=(S=S+Math.imul(de,Ye)|0)+Math.imul(Te,Ie)|0))<<13)|0;T=((_=_+Math.imul(Te,Ye)|0)+(S>>>13)|0)+(pr>>>26)|0,pr&=67108863,w=Math.imul(ze,Gt),S=(S=Math.imul(ze,We))+Math.imul(Ke,Gt)|0,_=Math.imul(Ke,We),w=w+Math.imul(Ue,ht)|0,S=(S=S+Math.imul(Ue,ue)|0)+Math.imul(Ge,ht)|0,_=_+Math.imul(Ge,ue)|0,w=w+Math.imul(ve,ye)|0,S=(S=S+Math.imul(ve,ke)|0)+Math.imul(Ee,ye)|0,_=_+Math.imul(Ee,ke)|0;var rr=(T+(w=w+Math.imul(_e,Ie)|0)|0)+((8191&(S=(S=S+Math.imul(_e,Ye)|0)+Math.imul(fe,Ie)|0))<<13)|0;T=((_=_+Math.imul(fe,Ye)|0)+(S>>>13)|0)+(rr>>>26)|0,rr&=67108863,w=Math.imul(ze,ht),S=(S=Math.imul(ze,ue))+Math.imul(Ke,ht)|0,_=Math.imul(Ke,ue),w=w+Math.imul(Ue,ye)|0,S=(S=S+Math.imul(Ue,ke)|0)+Math.imul(Ge,ye)|0,_=_+Math.imul(Ge,ke)|0;var sr=(T+(w=w+Math.imul(ve,Ie)|0)|0)+((8191&(S=(S=S+Math.imul(ve,Ye)|0)+Math.imul(Ee,Ie)|0))<<13)|0;T=((_=_+Math.imul(Ee,Ye)|0)+(S>>>13)|0)+(sr>>>26)|0,sr&=67108863,w=Math.imul(ze,ye),S=(S=Math.imul(ze,ke))+Math.imul(Ke,ye)|0,_=Math.imul(Ke,ke);var Qt=(T+(w=w+Math.imul(Ue,Ie)|0)|0)+((8191&(S=(S=S+Math.imul(Ue,Ye)|0)+Math.imul(Ge,Ie)|0))<<13)|0;T=((_=_+Math.imul(Ge,Ye)|0)+(S>>>13)|0)+(Qt>>>26)|0,Qt&=67108863;var mr=(T+(w=Math.imul(ze,Ie))|0)+((8191&(S=(S=Math.imul(ze,Ye))+Math.imul(Ke,Ie)|0))<<13)|0;return T=((_=Math.imul(Ke,Ye))+(S>>>13)|0)+(mr>>>26)|0,mr&=67108863,W[0]=st,W[1]=tt,W[2]=ct,W[3]=ot,W[4]=At,W[5]=Ot,W[6]=Vt,W[7]=Se,W[8]=qe,W[9]=dt,W[10]=St,W[11]=Bt,W[12]=Tt,W[13]=jt,W[14]=pr,W[15]=rr,W[16]=sr,W[17]=Qt,W[18]=mr,T!==0&&(W[19]=T,A.length++),A};function b(k,M,A){return new E().mulp(k,M,A)}function E(k,M){this.x=k,this.y=M}Math.imul||(y=v),c.prototype.mulTo=function(k,M){var A=this.length+k.length;return this.length===10&&k.length===10?y(this,k,M):A<63?v(this,k,M):A<1024?function(w,S,_){_.negative=S.negative^w.negative,_.length=w.length+S.length;for(var x=0,R=0,W=0;W<_.length-1;W++){var T=R;R=0;for(var z=67108863&x,q=Math.min(W,S.length-1),Y=Math.max(0,W-w.length+1);Y<=q;Y++){var U=W-Y,Q=(0|w.words[U])*(0|S.words[Y]),F=67108863&Q;z=67108863&(F=F+z|0),R+=(T=(T=T+(Q/67108864|0)|0)+(F>>>26)|0)>>>26,T&=67108863}_.words[W]=z,x=T,T=R}return x!==0?_.words[W]=x:_.length--,_.strip()}(this,k,M):b(this,k,M)},E.prototype.makeRBT=function(k){for(var M=new Array(k),A=c.prototype._countBits(k)-1,w=0;w<k;w++)M[w]=this.revBin(w,A,k);return M},E.prototype.revBin=function(k,M,A){if(k===0||k===A-1)return k;for(var w=0,S=0;S<M;S++)w|=(1&k)<<M-S-1,k>>=1;return w},E.prototype.permute=function(k,M,A,w,S,_){for(var x=0;x<_;x++)w[x]=M[k[x]],S[x]=A[k[x]]},E.prototype.transform=function(k,M,A,w,S,_){this.permute(_,k,M,A,w,S);for(var x=1;x<S;x<<=1)for(var R=x<<1,W=Math.cos(2*Math.PI/R),T=Math.sin(2*Math.PI/R),z=0;z<S;z+=R)for(var q=W,Y=T,U=0;U<x;U++){var Q=A[z+U],F=w[z+U],O=A[z+U+x],K=w[z+U+x],ne=q*O-Y*K;K=q*K+Y*O,O=ne,A[z+U]=Q+O,w[z+U]=F+K,A[z+U+x]=Q-O,w[z+U+x]=F-K,U!==R&&(ne=W*q-T*Y,Y=W*Y+T*q,q=ne)}},E.prototype.guessLen13b=function(k,M){var A=1|Math.max(M,k),w=1&A,S=0;for(A=A/2|0;A;A>>>=1)S++;return 1<<S+1+w},E.prototype.conjugate=function(k,M,A){if(!(A<=1))for(var w=0;w<A/2;w++){var S=k[w];k[w]=k[A-w-1],k[A-w-1]=S,S=M[w],M[w]=-M[A-w-1],M[A-w-1]=-S}},E.prototype.normalize13b=function(k,M){for(var A=0,w=0;w<M/2;w++){var S=8192*Math.round(k[2*w+1]/M)+Math.round(k[2*w]/M)+A;k[w]=67108863&S,A=S<67108864?0:S/67108864|0}return k},E.prototype.convert13b=function(k,M,A,w){for(var S=0,_=0;_<M;_++)S+=0|k[_],A[2*_]=8191&S,S>>>=13,A[2*_+1]=8191&S,S>>>=13;for(_=2*M;_<w;++_)A[_]=0;o(S===0),o((-8192&S)==0)},E.prototype.stub=function(k){for(var M=new Array(k),A=0;A<k;A++)M[A]=0;return M},E.prototype.mulp=function(k,M,A){var w=2*this.guessLen13b(k.length,M.length),S=this.makeRBT(w),_=this.stub(w),x=new Array(w),R=new Array(w),W=new Array(w),T=new Array(w),z=new Array(w),q=new Array(w),Y=A.words;Y.length=w,this.convert13b(k.words,k.length,x,w),this.convert13b(M.words,M.length,T,w),this.transform(x,_,R,W,w,S),this.transform(T,_,z,q,w,S);for(var U=0;U<w;U++){var Q=R[U]*z[U]-W[U]*q[U];W[U]=R[U]*q[U]+W[U]*z[U],R[U]=Q}return this.conjugate(R,W,w),this.transform(R,W,Y,_,w,S),this.conjugate(Y,_,w),this.normalize13b(Y,w),A.negative=k.negative^M.negative,A.length=k.length+M.length,A.strip()},c.prototype.mul=function(k){var M=new c(null);return M.words=new Array(this.length+k.length),this.mulTo(k,M)},c.prototype.mulf=function(k){var M=new c(null);return M.words=new Array(this.length+k.length),b(this,k,M)},c.prototype.imul=function(k){return this.clone().mulTo(k,this)},c.prototype.imuln=function(k){o(typeof k=="number"),o(k<67108864);for(var M=0,A=0;A<this.length;A++){var w=(0|this.words[A])*k,S=(67108863&w)+(67108863&M);M>>=26,M+=w/67108864|0,M+=S>>>26,this.words[A]=67108863&S}return M!==0&&(this.words[A]=M,this.length++),this},c.prototype.muln=function(k){return this.clone().imuln(k)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(k){var M=function(_){for(var x=new Array(_.bitLength()),R=0;R<x.length;R++){var W=R/26|0,T=R%26;x[R]=(_.words[W]&1<<T)>>>T}return x}(k);if(M.length===0)return new c(1);for(var A=this,w=0;w<M.length&&M[w]===0;w++,A=A.sqr());if(++w<M.length)for(var S=A.sqr();w<M.length;w++,S=S.sqr())M[w]!==0&&(A=A.mul(S));return A},c.prototype.iushln=function(k){o(typeof k=="number"&&k>=0);var M,A=k%26,w=(k-A)/26,S=67108863>>>26-A<<26-A;if(A!==0){var _=0;for(M=0;M<this.length;M++){var x=this.words[M]&S,R=(0|this.words[M])-x<<A;this.words[M]=R|_,_=x>>>26-A}_&&(this.words[M]=_,this.length++)}if(w!==0){for(M=this.length-1;M>=0;M--)this.words[M+w]=this.words[M];for(M=0;M<w;M++)this.words[M]=0;this.length+=w}return this.strip()},c.prototype.ishln=function(k){return o(this.negative===0),this.iushln(k)},c.prototype.iushrn=function(k,M,A){var w;o(typeof k=="number"&&k>=0),w=M?(M-M%26)/26:0;var S=k%26,_=Math.min((k-S)/26,this.length),x=67108863^67108863>>>S<<S,R=A;if(w-=_,w=Math.max(0,w),R){for(var W=0;W<_;W++)R.words[W]=this.words[W];R.length=_}if(_!==0)if(this.length>_)for(this.length-=_,W=0;W<this.length;W++)this.words[W]=this.words[W+_];else this.words[0]=0,this.length=1;var T=0;for(W=this.length-1;W>=0&&(T!==0||W>=w);W--){var z=0|this.words[W];this.words[W]=T<<26-S|z>>>S,T=z&x}return R&&T!==0&&(R.words[R.length++]=T),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},c.prototype.ishrn=function(k,M,A){return o(this.negative===0),this.iushrn(k,M,A)},c.prototype.shln=function(k){return this.clone().ishln(k)},c.prototype.ushln=function(k){return this.clone().iushln(k)},c.prototype.shrn=function(k){return this.clone().ishrn(k)},c.prototype.ushrn=function(k){return this.clone().iushrn(k)},c.prototype.testn=function(k){o(typeof k=="number"&&k>=0);var M=k%26,A=(k-M)/26,w=1<<M;return!(this.length<=A)&&!!(this.words[A]&w)},c.prototype.imaskn=function(k){o(typeof k=="number"&&k>=0);var M=k%26,A=(k-M)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=A)return this;if(M!==0&&A++,this.length=Math.min(A,this.length),M!==0){var w=67108863^67108863>>>M<<M;this.words[this.length-1]&=w}return this.strip()},c.prototype.maskn=function(k){return this.clone().imaskn(k)},c.prototype.iaddn=function(k){return o(typeof k=="number"),o(k<67108864),k<0?this.isubn(-k):this.negative!==0?this.length===1&&(0|this.words[0])<k?(this.words[0]=k-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(k),this.negative=1,this):this._iaddn(k)},c.prototype._iaddn=function(k){this.words[0]+=k;for(var M=0;M<this.length&&this.words[M]>=67108864;M++)this.words[M]-=67108864,M===this.length-1?this.words[M+1]=1:this.words[M+1]++;return this.length=Math.max(this.length,M+1),this},c.prototype.isubn=function(k){if(o(typeof k=="number"),o(k<67108864),k<0)return this.iaddn(-k);if(this.negative!==0)return this.negative=0,this.iaddn(k),this.negative=1,this;if(this.words[0]-=k,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var M=0;M<this.length&&this.words[M]<0;M++)this.words[M]+=67108864,this.words[M+1]-=1;return this.strip()},c.prototype.addn=function(k){return this.clone().iaddn(k)},c.prototype.subn=function(k){return this.clone().isubn(k)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(k,M,A){var w,S,_=k.length+A;this._expand(_);var x=0;for(w=0;w<k.length;w++){S=(0|this.words[w+A])+x;var R=(0|k.words[w])*M;x=((S-=67108863&R)>>26)-(R/67108864|0),this.words[w+A]=67108863&S}for(;w<this.length-A;w++)x=(S=(0|this.words[w+A])+x)>>26,this.words[w+A]=67108863&S;if(x===0)return this.strip();for(o(x===-1),x=0,w=0;w<this.length;w++)x=(S=-(0|this.words[w])+x)>>26,this.words[w]=67108863&S;return this.negative=1,this.strip()},c.prototype._wordDiv=function(k,M){var A=(this.length,k.length),w=this.clone(),S=k,_=0|S.words[S.length-1];(A=26-this._countBits(_))!==0&&(S=S.ushln(A),w.iushln(A),_=0|S.words[S.length-1]);var x,R=w.length-S.length;if(M!=="mod"){(x=new c(null)).length=R+1,x.words=new Array(x.length);for(var W=0;W<x.length;W++)x.words[W]=0}var T=w.clone()._ishlnsubmul(S,1,R);T.negative===0&&(w=T,x&&(x.words[R]=1));for(var z=R-1;z>=0;z--){var q=67108864*(0|w.words[S.length+z])+(0|w.words[S.length+z-1]);for(q=Math.min(q/_|0,67108863),w._ishlnsubmul(S,q,z);w.negative!==0;)q--,w.negative=0,w._ishlnsubmul(S,1,z),w.isZero()||(w.negative^=1);x&&(x.words[z]=q)}return x&&x.strip(),w.strip(),M!=="div"&&A!==0&&w.iushrn(A),{div:x||null,mod:w}},c.prototype.divmod=function(k,M,A){return o(!k.isZero()),this.isZero()?{div:new c(0),mod:new c(0)}:this.negative!==0&&k.negative===0?(_=this.neg().divmod(k,M),M!=="mod"&&(w=_.div.neg()),M!=="div"&&(S=_.mod.neg(),A&&S.negative!==0&&S.iadd(k)),{div:w,mod:S}):this.negative===0&&k.negative!==0?(_=this.divmod(k.neg(),M),M!=="mod"&&(w=_.div.neg()),{div:w,mod:_.mod}):this.negative&k.negative?(_=this.neg().divmod(k.neg(),M),M!=="div"&&(S=_.mod.neg(),A&&S.negative!==0&&S.isub(k)),{div:_.div,mod:S}):k.length>this.length||this.cmp(k)<0?{div:new c(0),mod:this}:k.length===1?M==="div"?{div:this.divn(k.words[0]),mod:null}:M==="mod"?{div:null,mod:new c(this.modn(k.words[0]))}:{div:this.divn(k.words[0]),mod:new c(this.modn(k.words[0]))}:this._wordDiv(k,M);var w,S,_},c.prototype.div=function(k){return this.divmod(k,"div",!1).div},c.prototype.mod=function(k){return this.divmod(k,"mod",!1).mod},c.prototype.umod=function(k){return this.divmod(k,"mod",!0).mod},c.prototype.divRound=function(k){var M=this.divmod(k);if(M.mod.isZero())return M.div;var A=M.div.negative!==0?M.mod.isub(k):M.mod,w=k.ushrn(1),S=k.andln(1),_=A.cmp(w);return _<0||S===1&&_===0?M.div:M.div.negative!==0?M.div.isubn(1):M.div.iaddn(1)},c.prototype.modn=function(k){o(k<=67108863);for(var M=(1<<26)%k,A=0,w=this.length-1;w>=0;w--)A=(M*A+(0|this.words[w]))%k;return A},c.prototype.idivn=function(k){o(k<=67108863);for(var M=0,A=this.length-1;A>=0;A--){var w=(0|this.words[A])+67108864*M;this.words[A]=w/k|0,M=w%k}return this.strip()},c.prototype.divn=function(k){return this.clone().idivn(k)},c.prototype.egcd=function(k){o(k.negative===0),o(!k.isZero());var M=this,A=k.clone();M=M.negative!==0?M.umod(k):M.clone();for(var w=new c(1),S=new c(0),_=new c(0),x=new c(1),R=0;M.isEven()&&A.isEven();)M.iushrn(1),A.iushrn(1),++R;for(var W=A.clone(),T=M.clone();!M.isZero();){for(var z=0,q=1;!(M.words[0]&q)&&z<26;++z,q<<=1);if(z>0)for(M.iushrn(z);z-- >0;)(w.isOdd()||S.isOdd())&&(w.iadd(W),S.isub(T)),w.iushrn(1),S.iushrn(1);for(var Y=0,U=1;!(A.words[0]&U)&&Y<26;++Y,U<<=1);if(Y>0)for(A.iushrn(Y);Y-- >0;)(_.isOdd()||x.isOdd())&&(_.iadd(W),x.isub(T)),_.iushrn(1),x.iushrn(1);M.cmp(A)>=0?(M.isub(A),w.isub(_),S.isub(x)):(A.isub(M),_.isub(w),x.isub(S))}return{a:_,b:x,gcd:A.iushln(R)}},c.prototype._invmp=function(k){o(k.negative===0),o(!k.isZero());var M=this,A=k.clone();M=M.negative!==0?M.umod(k):M.clone();for(var w,S=new c(1),_=new c(0),x=A.clone();M.cmpn(1)>0&&A.cmpn(1)>0;){for(var R=0,W=1;!(M.words[0]&W)&&R<26;++R,W<<=1);if(R>0)for(M.iushrn(R);R-- >0;)S.isOdd()&&S.iadd(x),S.iushrn(1);for(var T=0,z=1;!(A.words[0]&z)&&T<26;++T,z<<=1);if(T>0)for(A.iushrn(T);T-- >0;)_.isOdd()&&_.iadd(x),_.iushrn(1);M.cmp(A)>=0?(M.isub(A),S.isub(_)):(A.isub(M),_.isub(S))}return(w=M.cmpn(1)===0?S:_).cmpn(0)<0&&w.iadd(k),w},c.prototype.gcd=function(k){if(this.isZero())return k.abs();if(k.isZero())return this.abs();var M=this.clone(),A=k.clone();M.negative=0,A.negative=0;for(var w=0;M.isEven()&&A.isEven();w++)M.iushrn(1),A.iushrn(1);for(;;){for(;M.isEven();)M.iushrn(1);for(;A.isEven();)A.iushrn(1);var S=M.cmp(A);if(S<0){var _=M;M=A,A=_}else if(S===0||A.cmpn(1)===0)break;M.isub(A)}return A.iushln(w)},c.prototype.invm=function(k){return this.egcd(k).a.umod(k)},c.prototype.isEven=function(){return(1&this.words[0])==0},c.prototype.isOdd=function(){return(1&this.words[0])==1},c.prototype.andln=function(k){return this.words[0]&k},c.prototype.bincn=function(k){o(typeof k=="number");var M=k%26,A=(k-M)/26,w=1<<M;if(this.length<=A)return this._expand(A+1),this.words[A]|=w,this;for(var S=w,_=A;S!==0&&_<this.length;_++){var x=0|this.words[_];S=(x+=S)>>>26,x&=67108863,this.words[_]=x}return S!==0&&(this.words[_]=S,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(k){var M,A=k<0;if(this.negative!==0&&!A)return-1;if(this.negative===0&&A)return 1;if(this.strip(),this.length>1)M=1;else{A&&(k=-k),o(k<=67108863,"Number is too big");var w=0|this.words[0];M=w===k?0:w<k?-1:1}return this.negative!==0?0|-M:M},c.prototype.cmp=function(k){if(this.negative!==0&&k.negative===0)return-1;if(this.negative===0&&k.negative!==0)return 1;var M=this.ucmp(k);return this.negative!==0?0|-M:M},c.prototype.ucmp=function(k){if(this.length>k.length)return 1;if(this.length<k.length)return-1;for(var M=0,A=this.length-1;A>=0;A--){var w=0|this.words[A],S=0|k.words[A];if(w!==S){w<S?M=-1:w>S&&(M=1);break}}return M},c.prototype.gtn=function(k){return this.cmpn(k)===1},c.prototype.gt=function(k){return this.cmp(k)===1},c.prototype.gten=function(k){return this.cmpn(k)>=0},c.prototype.gte=function(k){return this.cmp(k)>=0},c.prototype.ltn=function(k){return this.cmpn(k)===-1},c.prototype.lt=function(k){return this.cmp(k)===-1},c.prototype.lten=function(k){return this.cmpn(k)<=0},c.prototype.lte=function(k){return this.cmp(k)<=0},c.prototype.eqn=function(k){return this.cmpn(k)===0},c.prototype.eq=function(k){return this.cmp(k)===0},c.red=function(k){return new B(k)},c.prototype.toRed=function(k){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),k.convertTo(this)._forceRed(k)},c.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(k){return this.red=k,this},c.prototype.forceRed=function(k){return o(!this.red,"Already a number in reduction context"),this._forceRed(k)},c.prototype.redAdd=function(k){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,k)},c.prototype.redIAdd=function(k){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,k)},c.prototype.redSub=function(k){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,k)},c.prototype.redISub=function(k){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,k)},c.prototype.redShl=function(k){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,k)},c.prototype.redMul=function(k){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.mul(this,k)},c.prototype.redIMul=function(k){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.imul(this,k)},c.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(k){return o(this.red&&!k.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,k)};var N={k256:null,p224:null,p192:null,p25519:null};function j(k,M){this.name=k,this.p=new c(M,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function D(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function C(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function I(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function V(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function B(k){if(typeof k=="string"){var M=c._prime(k);this.m=M.p,this.prime=M}else o(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}function P(k){B.call(this,k),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}j.prototype._tmp=function(){var k=new c(null);return k.words=new Array(Math.ceil(this.n/13)),k},j.prototype.ireduce=function(k){var M,A=k;do this.split(A,this.tmp),M=(A=(A=this.imulK(A)).iadd(this.tmp)).bitLength();while(M>this.n);var w=M<this.n?-1:A.ucmp(this.p);return w===0?(A.words[0]=0,A.length=1):w>0?A.isub(this.p):A.strip!==void 0?A.strip():A._strip(),A},j.prototype.split=function(k,M){k.iushrn(this.n,0,M)},j.prototype.imulK=function(k){return k.imul(this.k)},l(D,j),D.prototype.split=function(k,M){for(var A=Math.min(k.length,9),w=0;w<A;w++)M.words[w]=k.words[w];if(M.length=A,k.length<=9)return k.words[0]=0,void(k.length=1);var S=k.words[9];for(M.words[M.length++]=4194303&S,w=10;w<k.length;w++){var _=0|k.words[w];k.words[w-10]=(4194303&_)<<4|S>>>22,S=_}S>>>=22,k.words[w-10]=S,S===0&&k.length>10?k.length-=10:k.length-=9},D.prototype.imulK=function(k){k.words[k.length]=0,k.words[k.length+1]=0,k.length+=2;for(var M=0,A=0;A<k.length;A++){var w=0|k.words[A];M+=977*w,k.words[A]=67108863&M,M=64*w+(M/67108864|0)}return k.words[k.length-1]===0&&(k.length--,k.words[k.length-1]===0&&k.length--),k},l(C,j),l(I,j),l(V,j),V.prototype.imulK=function(k){for(var M=0,A=0;A<k.length;A++){var w=19*(0|k.words[A])+M,S=67108863&w;w>>>=26,k.words[A]=S,M=w}return M!==0&&(k.words[k.length++]=M),k},c._prime=function(k){if(N[k])return N[k];var M;if(k==="k256")M=new D;else if(k==="p224")M=new C;else if(k==="p192")M=new I;else{if(k!=="p25519")throw new Error("Unknown prime "+k);M=new V}return N[k]=M,M},B.prototype._verify1=function(k){o(k.negative===0,"red works only with positives"),o(k.red,"red works only with red numbers")},B.prototype._verify2=function(k,M){o((k.negative|M.negative)==0,"red works only with positives"),o(k.red&&k.red===M.red,"red works only with red numbers")},B.prototype.imod=function(k){return this.prime?this.prime.ireduce(k)._forceRed(this):k.umod(this.m)._forceRed(this)},B.prototype.neg=function(k){return k.isZero()?k.clone():this.m.sub(k)._forceRed(this)},B.prototype.add=function(k,M){this._verify2(k,M);var A=k.add(M);return A.cmp(this.m)>=0&&A.isub(this.m),A._forceRed(this)},B.prototype.iadd=function(k,M){this._verify2(k,M);var A=k.iadd(M);return A.cmp(this.m)>=0&&A.isub(this.m),A},B.prototype.sub=function(k,M){this._verify2(k,M);var A=k.sub(M);return A.cmpn(0)<0&&A.iadd(this.m),A._forceRed(this)},B.prototype.isub=function(k,M){this._verify2(k,M);var A=k.isub(M);return A.cmpn(0)<0&&A.iadd(this.m),A},B.prototype.shl=function(k,M){return this._verify1(k),this.imod(k.ushln(M))},B.prototype.imul=function(k,M){return this._verify2(k,M),this.imod(k.imul(M))},B.prototype.mul=function(k,M){return this._verify2(k,M),this.imod(k.mul(M))},B.prototype.isqr=function(k){return this.imul(k,k.clone())},B.prototype.sqr=function(k){return this.mul(k,k)},B.prototype.sqrt=function(k){if(k.isZero())return k.clone();var M=this.m.andln(3);if(o(M%2==1),M===3){var A=this.m.add(new c(1)).iushrn(2);return this.pow(k,A)}for(var w=this.m.subn(1),S=0;!w.isZero()&&w.andln(1)===0;)S++,w.iushrn(1);o(!w.isZero());var _=new c(1).toRed(this),x=_.redNeg(),R=this.m.subn(1).iushrn(1),W=this.m.bitLength();for(W=new c(2*W*W).toRed(this);this.pow(W,R).cmp(x)!==0;)W.redIAdd(x);for(var T=this.pow(W,w),z=this.pow(k,w.addn(1).iushrn(1)),q=this.pow(k,w),Y=S;q.cmp(_)!==0;){for(var U=q,Q=0;U.cmp(_)!==0;Q++)U=U.redSqr();o(Q<Y);var F=this.pow(T,new c(1).iushln(Y-Q-1));z=z.redMul(F),T=F.redSqr(),q=q.redMul(T),Y=Q}return z},B.prototype.invm=function(k){var M=k._invmp(this.m);return M.negative!==0?(M.negative=0,this.imod(M).redNeg()):this.imod(M)},B.prototype.pow=function(k,M){if(M.isZero())return new c(1).toRed(this);if(M.cmpn(1)===0)return k.clone();var A=new Array(16);A[0]=new c(1).toRed(this),A[1]=k;for(var w=2;w<A.length;w++)A[w]=this.mul(A[w-1],k);var S=A[0],_=0,x=0,R=M.bitLength()%26;for(R===0&&(R=26),w=M.length-1;w>=0;w--){for(var W=M.words[w],T=R-1;T>=0;T--){var z=W>>T&1;S!==A[0]&&(S=this.sqr(S)),z!==0||_!==0?(_<<=1,_|=z,(++x===4||w===0&&T===0)&&(S=this.mul(S,A[_]),x=0,_=0)):x=0}R=26}return S},B.prototype.convertTo=function(k){var M=k.umod(this.m);return M===k?M.clone():M},B.prototype.convertFrom=function(k){var M=k.clone();return M.red=null,M},c.mont=function(k){return new P(k)},l(P,B),P.prototype.convertTo=function(k){return this.imod(k.ushln(this.shift))},P.prototype.convertFrom=function(k){var M=this.imod(k.mul(this.rinv));return M.red=null,M},P.prototype.imul=function(k,M){if(k.isZero()||M.isZero())return k.words[0]=0,k.length=1,k;var A=k.imul(M),w=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=A.isub(w).iushrn(this.shift),_=S;return S.cmp(this.m)>=0?_=S.isub(this.m):S.cmpn(0)<0&&(_=S.iadd(this.m)),_._forceRed(this)},P.prototype.mul=function(k,M){if(k.isZero()||M.isZero())return new c(0)._forceRed(this);var A=k.mul(M),w=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=A.isub(w).iushrn(this.shift),_=S;return S.cmp(this.m)>=0?_=S.isub(this.m):S.cmpn(0)<0&&(_=S.iadd(this.m)),_._forceRed(this)},P.prototype.invm=function(k){return this.imod(k._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],185:[function(t,n,s){s.byteLength=function(f){var m=d(f),g=m[0],p=m[1];return 3*(g+p)/4-p},s.toByteArray=function(f){var m,g,p=d(f),v=p[0],y=p[1],b=new o(function(j,D,C){return 3*(D+C)/4-C}(0,v,y)),E=0,N=y>0?v-4:v;for(g=0;g<N;g+=4)m=a[f.charCodeAt(g)]<<18|a[f.charCodeAt(g+1)]<<12|a[f.charCodeAt(g+2)]<<6|a[f.charCodeAt(g+3)],b[E++]=m>>16&255,b[E++]=m>>8&255,b[E++]=255&m;return y===2&&(m=a[f.charCodeAt(g)]<<2|a[f.charCodeAt(g+1)]>>4,b[E++]=255&m),y===1&&(m=a[f.charCodeAt(g)]<<10|a[f.charCodeAt(g+1)]<<4|a[f.charCodeAt(g+2)]>>2,b[E++]=m>>8&255,b[E++]=255&m),b},s.fromByteArray=function(f){for(var m,g=f.length,p=g%3,v=[],y=0,b=g-p;y<b;y+=16383)v.push(h(f,y,y+16383>b?b:y+16383));return p===1?(m=f[g-1],v.push(i[m>>2]+i[m<<4&63]+"==")):p===2&&(m=(f[g-2]<<8)+f[g-1],v.push(i[m>>10]+i[m>>4&63]+i[m<<2&63]+"=")),v.join("")};for(var i=[],a=[],o=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,u=l.length;c<u;++c)i[c]=l[c],a[l.charCodeAt(c)]=c;function d(f){var m=f.length;if(m%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=f.indexOf("=");return g===-1&&(g=m),[g,g===m?0:4-g%4]}function h(f,m,g){for(var p,v,y=[],b=m;b<g;b+=3)p=(f[b]<<16&16711680)+(f[b+1]<<8&65280)+(255&f[b+2]),y.push(i[(v=p)>>18&63]+i[v>>12&63]+i[v>>6&63]+i[63&v]);return y.join("")}a[45]=62,a[95]=63},{}],186:[function(t,n,s){(function(i,a){function o(A,w){if(!A)throw new Error(w||"Assertion failed")}function l(A,w){A.super_=w;var S=function(){};S.prototype=w.prototype,A.prototype=new S,A.prototype.constructor=A}function c(A,w,S){if(c.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,A!==null&&(w!=="le"&&w!=="be"||(S=w,w=10),this._init(A||0,w||10,S||"be"))}var u;typeof i=="object"?i.exports=c:(void 0).BN=c,c.BN=c,c.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t("buffer").Buffer}catch{}function d(A,w){var S=A.charCodeAt(w);return S>=48&&S<=57?S-48:S>=65&&S<=70?S-55:S>=97&&S<=102?S-87:void o(!1,"Invalid character in "+A)}function h(A,w,S){var _=d(A,S);return S-1>=w&&(_|=d(A,S-1)<<4),_}function f(A,w,S,_){for(var x=0,R=0,W=Math.min(A.length,S),T=w;T<W;T++){var z=A.charCodeAt(T)-48;x*=_,R=z>=49?z-49+10:z>=17?z-17+10:z,o(z>=0&&R<_,"Invalid character"),x+=R}return x}function m(A,w){A.words=w.words,A.length=w.length,A.negative=w.negative,A.red=w.red}if(c.isBN=function(A){return A instanceof c||A!==null&&typeof A=="object"&&A.constructor.wordSize===c.wordSize&&Array.isArray(A.words)},c.max=function(A,w){return A.cmp(w)>0?A:w},c.min=function(A,w){return A.cmp(w)<0?A:w},c.prototype._init=function(A,w,S){if(typeof A=="number")return this._initNumber(A,w,S);if(typeof A=="object")return this._initArray(A,w,S);w==="hex"&&(w=16),o(w===(0|w)&&w>=2&&w<=36);var _=0;(A=A.toString().replace(/\s+/g,""))[0]==="-"&&(_++,this.negative=1),_<A.length&&(w===16?this._parseHex(A,_,S):(this._parseBase(A,w,_),S==="le"&&this._initArray(this.toArray(),w,S)))},c.prototype._initNumber=function(A,w,S){A<0&&(this.negative=1,A=-A),A<67108864?(this.words=[67108863&A],this.length=1):A<4503599627370496?(this.words=[67108863&A,A/67108864&67108863],this.length=2):(o(A<9007199254740992),this.words=[67108863&A,A/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),w,S)},c.prototype._initArray=function(A,w,S){if(o(typeof A.length=="number"),A.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(A.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var x,R,W=0;if(S==="be")for(_=A.length-1,x=0;_>=0;_-=3)R=A[_]|A[_-1]<<8|A[_-2]<<16,this.words[x]|=R<<W&67108863,this.words[x+1]=R>>>26-W&67108863,(W+=24)>=26&&(W-=26,x++);else if(S==="le")for(_=0,x=0;_<A.length;_+=3)R=A[_]|A[_+1]<<8|A[_+2]<<16,this.words[x]|=R<<W&67108863,this.words[x+1]=R>>>26-W&67108863,(W+=24)>=26&&(W-=26,x++);return this._strip()},c.prototype._parseHex=function(A,w,S){this.length=Math.ceil((A.length-w)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var x,R=0,W=0;if(S==="be")for(_=A.length-1;_>=w;_-=2)x=h(A,w,_)<<R,this.words[W]|=67108863&x,R>=18?(R-=18,W+=1,this.words[W]|=x>>>26):R+=8;else for(_=(A.length-w)%2==0?w+1:w;_<A.length;_+=2)x=h(A,w,_)<<R,this.words[W]|=67108863&x,R>=18?(R-=18,W+=1,this.words[W]|=x>>>26):R+=8;this._strip()},c.prototype._parseBase=function(A,w,S){this.words=[0],this.length=1;for(var _=0,x=1;x<=67108863;x*=w)_++;_--,x=x/w|0;for(var R=A.length-S,W=R%_,T=Math.min(R,R-W)+S,z=0,q=S;q<T;q+=_)z=f(A,q,q+_,w),this.imuln(x),this.words[0]+z<67108864?this.words[0]+=z:this._iaddn(z);if(W!==0){var Y=1;for(z=f(A,q,A.length,w),q=0;q<W;q++)Y*=w;this.imuln(Y),this.words[0]+z<67108864?this.words[0]+=z:this._iaddn(z)}this._strip()},c.prototype.copy=function(A){A.words=new Array(this.length);for(var w=0;w<this.length;w++)A.words[w]=this.words[w];A.length=this.length,A.negative=this.negative,A.red=this.red},c.prototype._move=function(A){m(A,this)},c.prototype.clone=function(){var A=new c(null);return this.copy(A),A},c.prototype._expand=function(A){for(;this.length<A;)this.words[this.length++]=0;return this},c.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{c.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{c.prototype.inspect=g}else c.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(A,w){var S;if(w=0|w||1,(A=A||10)===16||A==="hex"){S="";for(var _=0,x=0,R=0;R<this.length;R++){var W=this.words[R],T=(16777215&(W<<_|x)).toString(16);x=W>>>24-_&16777215,(_+=2)>=26&&(_-=26,R--),S=x!==0||R!==this.length-1?p[6-T.length]+T+S:T+S}for(x!==0&&(S=x.toString(16)+S);S.length%w!=0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(A===(0|A)&&A>=2&&A<=36){var z=v[A],q=y[A];S="";var Y=this.clone();for(Y.negative=0;!Y.isZero();){var U=Y.modrn(q).toString(A);S=(Y=Y.idivn(q)).isZero()?U+S:p[z-U.length]+U+S}for(this.isZero()&&(S="0"+S);S.length%w!=0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}o(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var A=this.words[0];return this.length===2?A+=67108864*this.words[1]:this.length===3&&this.words[2]===1?A+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-A:A},c.prototype.toJSON=function(){return this.toString(16,2)},u&&(c.prototype.toBuffer=function(A,w){return this.toArrayLike(u,A,w)}),c.prototype.toArray=function(A,w){return this.toArrayLike(Array,A,w)};function b(A,w,S){S.negative=w.negative^A.negative;var _=A.length+w.length|0;S.length=_,_=_-1|0;var x=0|A.words[0],R=0|w.words[0],W=x*R,T=67108863&W,z=W/67108864|0;S.words[0]=T;for(var q=1;q<_;q++){for(var Y=z>>>26,U=67108863&z,Q=Math.min(q,w.length-1),F=Math.max(0,q-A.length+1);F<=Q;F++){var O=q-F|0;Y+=(W=(x=0|A.words[O])*(R=0|w.words[F])+U)/67108864|0,U=67108863&W}S.words[q]=0|U,z=0|Y}return z!==0?S.words[q]=0|z:S.length--,S._strip()}c.prototype.toArrayLike=function(A,w,S){this._strip();var _=this.byteLength(),x=S||Math.max(1,_);o(_<=x,"byte array longer than desired length"),o(x>0,"Requested array length <= 0");var R=function(W,T){return W.allocUnsafe?W.allocUnsafe(T):new W(T)}(A,x);return this["_toArrayLike"+(w==="le"?"LE":"BE")](R,_),R},c.prototype._toArrayLikeLE=function(A,w){for(var S=0,_=0,x=0,R=0;x<this.length;x++){var W=this.words[x]<<R|_;A[S++]=255&W,S<A.length&&(A[S++]=W>>8&255),S<A.length&&(A[S++]=W>>16&255),R===6?(S<A.length&&(A[S++]=W>>24&255),_=0,R=0):(_=W>>>24,R+=2)}if(S<A.length)for(A[S++]=_;S<A.length;)A[S++]=0},c.prototype._toArrayLikeBE=function(A,w){for(var S=A.length-1,_=0,x=0,R=0;x<this.length;x++){var W=this.words[x]<<R|_;A[S--]=255&W,S>=0&&(A[S--]=W>>8&255),S>=0&&(A[S--]=W>>16&255),R===6?(S>=0&&(A[S--]=W>>24&255),_=0,R=0):(_=W>>>24,R+=2)}if(S>=0)for(A[S--]=_;S>=0;)A[S--]=0},Math.clz32?c.prototype._countBits=function(A){return 32-Math.clz32(A)}:c.prototype._countBits=function(A){var w=A,S=0;return w>=4096&&(S+=13,w>>>=13),w>=64&&(S+=7,w>>>=7),w>=8&&(S+=4,w>>>=4),w>=2&&(S+=2,w>>>=2),S+w},c.prototype._zeroBits=function(A){if(A===0)return 26;var w=A,S=0;return!(8191&w)&&(S+=13,w>>>=13),!(127&w)&&(S+=7,w>>>=7),!(15&w)&&(S+=4,w>>>=4),!(3&w)&&(S+=2,w>>>=2),!(1&w)&&S++,S},c.prototype.bitLength=function(){var A=this.words[this.length-1],w=this._countBits(A);return 26*(this.length-1)+w},c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var A=0,w=0;w<this.length;w++){var S=this._zeroBits(this.words[w]);if(A+=S,S!==26)break}return A},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(A){return this.negative!==0?this.abs().inotn(A).iaddn(1):this.clone()},c.prototype.fromTwos=function(A){return this.testn(A-1)?this.notn(A).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(A){for(;this.length<A.length;)this.words[this.length++]=0;for(var w=0;w<A.length;w++)this.words[w]=this.words[w]|A.words[w];return this._strip()},c.prototype.ior=function(A){return o((this.negative|A.negative)==0),this.iuor(A)},c.prototype.or=function(A){return this.length>A.length?this.clone().ior(A):A.clone().ior(this)},c.prototype.uor=function(A){return this.length>A.length?this.clone().iuor(A):A.clone().iuor(this)},c.prototype.iuand=function(A){var w;w=this.length>A.length?A:this;for(var S=0;S<w.length;S++)this.words[S]=this.words[S]&A.words[S];return this.length=w.length,this._strip()},c.prototype.iand=function(A){return o((this.negative|A.negative)==0),this.iuand(A)},c.prototype.and=function(A){return this.length>A.length?this.clone().iand(A):A.clone().iand(this)},c.prototype.uand=function(A){return this.length>A.length?this.clone().iuand(A):A.clone().iuand(this)},c.prototype.iuxor=function(A){var w,S;this.length>A.length?(w=this,S=A):(w=A,S=this);for(var _=0;_<S.length;_++)this.words[_]=w.words[_]^S.words[_];if(this!==w)for(;_<w.length;_++)this.words[_]=w.words[_];return this.length=w.length,this._strip()},c.prototype.ixor=function(A){return o((this.negative|A.negative)==0),this.iuxor(A)},c.prototype.xor=function(A){return this.length>A.length?this.clone().ixor(A):A.clone().ixor(this)},c.prototype.uxor=function(A){return this.length>A.length?this.clone().iuxor(A):A.clone().iuxor(this)},c.prototype.inotn=function(A){o(typeof A=="number"&&A>=0);var w=0|Math.ceil(A/26),S=A%26;this._expand(w),S>0&&w--;for(var _=0;_<w;_++)this.words[_]=67108863&~this.words[_];return S>0&&(this.words[_]=~this.words[_]&67108863>>26-S),this._strip()},c.prototype.notn=function(A){return this.clone().inotn(A)},c.prototype.setn=function(A,w){o(typeof A=="number"&&A>=0);var S=A/26|0,_=A%26;return this._expand(S+1),this.words[S]=w?this.words[S]|1<<_:this.words[S]&~(1<<_),this._strip()},c.prototype.iadd=function(A){var w,S,_;if(this.negative!==0&&A.negative===0)return this.negative=0,w=this.isub(A),this.negative^=1,this._normSign();if(this.negative===0&&A.negative!==0)return A.negative=0,w=this.isub(A),A.negative=1,w._normSign();this.length>A.length?(S=this,_=A):(S=A,_=this);for(var x=0,R=0;R<_.length;R++)w=(0|S.words[R])+(0|_.words[R])+x,this.words[R]=67108863&w,x=w>>>26;for(;x!==0&&R<S.length;R++)w=(0|S.words[R])+x,this.words[R]=67108863&w,x=w>>>26;if(this.length=S.length,x!==0)this.words[this.length]=x,this.length++;else if(S!==this)for(;R<S.length;R++)this.words[R]=S.words[R];return this},c.prototype.add=function(A){var w;return A.negative!==0&&this.negative===0?(A.negative=0,w=this.sub(A),A.negative^=1,w):A.negative===0&&this.negative!==0?(this.negative=0,w=A.sub(this),this.negative=1,w):this.length>A.length?this.clone().iadd(A):A.clone().iadd(this)},c.prototype.isub=function(A){if(A.negative!==0){A.negative=0;var w=this.iadd(A);return A.negative=1,w._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(A),this.negative=1,this._normSign();var S,_,x=this.cmp(A);if(x===0)return this.negative=0,this.length=1,this.words[0]=0,this;x>0?(S=this,_=A):(S=A,_=this);for(var R=0,W=0;W<_.length;W++)R=(w=(0|S.words[W])-(0|_.words[W])+R)>>26,this.words[W]=67108863&w;for(;R!==0&&W<S.length;W++)R=(w=(0|S.words[W])+R)>>26,this.words[W]=67108863&w;if(R===0&&W<S.length&&S!==this)for(;W<S.length;W++)this.words[W]=S.words[W];return this.length=Math.max(this.length,W),S!==this&&(this.negative=1),this._strip()},c.prototype.sub=function(A){return this.clone().isub(A)};var E=function(A,w,S){var _,x,R,W=A.words,T=w.words,z=S.words,q=0,Y=0|W[0],U=8191&Y,Q=Y>>>13,F=0|W[1],O=8191&F,K=F>>>13,ne=0|W[2],ee=8191&ne,ie=ne>>>13,he=0|W[3],ce=8191&he,te=he>>>13,se=0|W[4],ge=8191&se,de=se>>>13,Te=0|W[5],De=8191&Te,_e=Te>>>13,fe=0|W[6],ae=8191&fe,ve=fe>>>13,Ee=0|W[7],Fe=8191&Ee,Ue=Ee>>>13,Ge=0|W[8],Ve=8191&Ge,ze=Ge>>>13,Ke=0|W[9],be=8191&Ke,Be=Ke>>>13,He=0|T[0],Me=8191&He,Le=He>>>13,Xe=0|T[1],Je=8191&Xe,et=Xe>>>13,xt=0|T[2],pt=8191&xt,wt=xt>>>13,mt=0|T[3],gt=8191&mt,ft=mt>>>13,Nt=0|T[4],Ht=8191&Nt,$t=Nt>>>13,_t=0|T[5],er=8191&_t,Gt=_t>>>13,We=0|T[6],Qe=8191&We,ht=We>>>13,ue=0|T[7],Pe=8191&ue,ye=ue>>>13,ke=0|T[8],Re=8191&ke,Ie=ke>>>13,Ye=0|T[9],st=8191&Ye,tt=Ye>>>13;S.negative=A.negative^w.negative,S.length=19;var ct=(q+(_=Math.imul(U,Me))|0)+((8191&(x=(x=Math.imul(U,Le))+Math.imul(Q,Me)|0))<<13)|0;q=((R=Math.imul(Q,Le))+(x>>>13)|0)+(ct>>>26)|0,ct&=67108863,_=Math.imul(O,Me),x=(x=Math.imul(O,Le))+Math.imul(K,Me)|0,R=Math.imul(K,Le);var ot=(q+(_=_+Math.imul(U,Je)|0)|0)+((8191&(x=(x=x+Math.imul(U,et)|0)+Math.imul(Q,Je)|0))<<13)|0;q=((R=R+Math.imul(Q,et)|0)+(x>>>13)|0)+(ot>>>26)|0,ot&=67108863,_=Math.imul(ee,Me),x=(x=Math.imul(ee,Le))+Math.imul(ie,Me)|0,R=Math.imul(ie,Le),_=_+Math.imul(O,Je)|0,x=(x=x+Math.imul(O,et)|0)+Math.imul(K,Je)|0,R=R+Math.imul(K,et)|0;var At=(q+(_=_+Math.imul(U,pt)|0)|0)+((8191&(x=(x=x+Math.imul(U,wt)|0)+Math.imul(Q,pt)|0))<<13)|0;q=((R=R+Math.imul(Q,wt)|0)+(x>>>13)|0)+(At>>>26)|0,At&=67108863,_=Math.imul(ce,Me),x=(x=Math.imul(ce,Le))+Math.imul(te,Me)|0,R=Math.imul(te,Le),_=_+Math.imul(ee,Je)|0,x=(x=x+Math.imul(ee,et)|0)+Math.imul(ie,Je)|0,R=R+Math.imul(ie,et)|0,_=_+Math.imul(O,pt)|0,x=(x=x+Math.imul(O,wt)|0)+Math.imul(K,pt)|0,R=R+Math.imul(K,wt)|0;var Ot=(q+(_=_+Math.imul(U,gt)|0)|0)+((8191&(x=(x=x+Math.imul(U,ft)|0)+Math.imul(Q,gt)|0))<<13)|0;q=((R=R+Math.imul(Q,ft)|0)+(x>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,_=Math.imul(ge,Me),x=(x=Math.imul(ge,Le))+Math.imul(de,Me)|0,R=Math.imul(de,Le),_=_+Math.imul(ce,Je)|0,x=(x=x+Math.imul(ce,et)|0)+Math.imul(te,Je)|0,R=R+Math.imul(te,et)|0,_=_+Math.imul(ee,pt)|0,x=(x=x+Math.imul(ee,wt)|0)+Math.imul(ie,pt)|0,R=R+Math.imul(ie,wt)|0,_=_+Math.imul(O,gt)|0,x=(x=x+Math.imul(O,ft)|0)+Math.imul(K,gt)|0,R=R+Math.imul(K,ft)|0;var Vt=(q+(_=_+Math.imul(U,Ht)|0)|0)+((8191&(x=(x=x+Math.imul(U,$t)|0)+Math.imul(Q,Ht)|0))<<13)|0;q=((R=R+Math.imul(Q,$t)|0)+(x>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,_=Math.imul(De,Me),x=(x=Math.imul(De,Le))+Math.imul(_e,Me)|0,R=Math.imul(_e,Le),_=_+Math.imul(ge,Je)|0,x=(x=x+Math.imul(ge,et)|0)+Math.imul(de,Je)|0,R=R+Math.imul(de,et)|0,_=_+Math.imul(ce,pt)|0,x=(x=x+Math.imul(ce,wt)|0)+Math.imul(te,pt)|0,R=R+Math.imul(te,wt)|0,_=_+Math.imul(ee,gt)|0,x=(x=x+Math.imul(ee,ft)|0)+Math.imul(ie,gt)|0,R=R+Math.imul(ie,ft)|0,_=_+Math.imul(O,Ht)|0,x=(x=x+Math.imul(O,$t)|0)+Math.imul(K,Ht)|0,R=R+Math.imul(K,$t)|0;var Se=(q+(_=_+Math.imul(U,er)|0)|0)+((8191&(x=(x=x+Math.imul(U,Gt)|0)+Math.imul(Q,er)|0))<<13)|0;q=((R=R+Math.imul(Q,Gt)|0)+(x>>>13)|0)+(Se>>>26)|0,Se&=67108863,_=Math.imul(ae,Me),x=(x=Math.imul(ae,Le))+Math.imul(ve,Me)|0,R=Math.imul(ve,Le),_=_+Math.imul(De,Je)|0,x=(x=x+Math.imul(De,et)|0)+Math.imul(_e,Je)|0,R=R+Math.imul(_e,et)|0,_=_+Math.imul(ge,pt)|0,x=(x=x+Math.imul(ge,wt)|0)+Math.imul(de,pt)|0,R=R+Math.imul(de,wt)|0,_=_+Math.imul(ce,gt)|0,x=(x=x+Math.imul(ce,ft)|0)+Math.imul(te,gt)|0,R=R+Math.imul(te,ft)|0,_=_+Math.imul(ee,Ht)|0,x=(x=x+Math.imul(ee,$t)|0)+Math.imul(ie,Ht)|0,R=R+Math.imul(ie,$t)|0,_=_+Math.imul(O,er)|0,x=(x=x+Math.imul(O,Gt)|0)+Math.imul(K,er)|0,R=R+Math.imul(K,Gt)|0;var qe=(q+(_=_+Math.imul(U,Qe)|0)|0)+((8191&(x=(x=x+Math.imul(U,ht)|0)+Math.imul(Q,Qe)|0))<<13)|0;q=((R=R+Math.imul(Q,ht)|0)+(x>>>13)|0)+(qe>>>26)|0,qe&=67108863,_=Math.imul(Fe,Me),x=(x=Math.imul(Fe,Le))+Math.imul(Ue,Me)|0,R=Math.imul(Ue,Le),_=_+Math.imul(ae,Je)|0,x=(x=x+Math.imul(ae,et)|0)+Math.imul(ve,Je)|0,R=R+Math.imul(ve,et)|0,_=_+Math.imul(De,pt)|0,x=(x=x+Math.imul(De,wt)|0)+Math.imul(_e,pt)|0,R=R+Math.imul(_e,wt)|0,_=_+Math.imul(ge,gt)|0,x=(x=x+Math.imul(ge,ft)|0)+Math.imul(de,gt)|0,R=R+Math.imul(de,ft)|0,_=_+Math.imul(ce,Ht)|0,x=(x=x+Math.imul(ce,$t)|0)+Math.imul(te,Ht)|0,R=R+Math.imul(te,$t)|0,_=_+Math.imul(ee,er)|0,x=(x=x+Math.imul(ee,Gt)|0)+Math.imul(ie,er)|0,R=R+Math.imul(ie,Gt)|0,_=_+Math.imul(O,Qe)|0,x=(x=x+Math.imul(O,ht)|0)+Math.imul(K,Qe)|0,R=R+Math.imul(K,ht)|0;var dt=(q+(_=_+Math.imul(U,Pe)|0)|0)+((8191&(x=(x=x+Math.imul(U,ye)|0)+Math.imul(Q,Pe)|0))<<13)|0;q=((R=R+Math.imul(Q,ye)|0)+(x>>>13)|0)+(dt>>>26)|0,dt&=67108863,_=Math.imul(Ve,Me),x=(x=Math.imul(Ve,Le))+Math.imul(ze,Me)|0,R=Math.imul(ze,Le),_=_+Math.imul(Fe,Je)|0,x=(x=x+Math.imul(Fe,et)|0)+Math.imul(Ue,Je)|0,R=R+Math.imul(Ue,et)|0,_=_+Math.imul(ae,pt)|0,x=(x=x+Math.imul(ae,wt)|0)+Math.imul(ve,pt)|0,R=R+Math.imul(ve,wt)|0,_=_+Math.imul(De,gt)|0,x=(x=x+Math.imul(De,ft)|0)+Math.imul(_e,gt)|0,R=R+Math.imul(_e,ft)|0,_=_+Math.imul(ge,Ht)|0,x=(x=x+Math.imul(ge,$t)|0)+Math.imul(de,Ht)|0,R=R+Math.imul(de,$t)|0,_=_+Math.imul(ce,er)|0,x=(x=x+Math.imul(ce,Gt)|0)+Math.imul(te,er)|0,R=R+Math.imul(te,Gt)|0,_=_+Math.imul(ee,Qe)|0,x=(x=x+Math.imul(ee,ht)|0)+Math.imul(ie,Qe)|0,R=R+Math.imul(ie,ht)|0,_=_+Math.imul(O,Pe)|0,x=(x=x+Math.imul(O,ye)|0)+Math.imul(K,Pe)|0,R=R+Math.imul(K,ye)|0;var St=(q+(_=_+Math.imul(U,Re)|0)|0)+((8191&(x=(x=x+Math.imul(U,Ie)|0)+Math.imul(Q,Re)|0))<<13)|0;q=((R=R+Math.imul(Q,Ie)|0)+(x>>>13)|0)+(St>>>26)|0,St&=67108863,_=Math.imul(be,Me),x=(x=Math.imul(be,Le))+Math.imul(Be,Me)|0,R=Math.imul(Be,Le),_=_+Math.imul(Ve,Je)|0,x=(x=x+Math.imul(Ve,et)|0)+Math.imul(ze,Je)|0,R=R+Math.imul(ze,et)|0,_=_+Math.imul(Fe,pt)|0,x=(x=x+Math.imul(Fe,wt)|0)+Math.imul(Ue,pt)|0,R=R+Math.imul(Ue,wt)|0,_=_+Math.imul(ae,gt)|0,x=(x=x+Math.imul(ae,ft)|0)+Math.imul(ve,gt)|0,R=R+Math.imul(ve,ft)|0,_=_+Math.imul(De,Ht)|0,x=(x=x+Math.imul(De,$t)|0)+Math.imul(_e,Ht)|0,R=R+Math.imul(_e,$t)|0,_=_+Math.imul(ge,er)|0,x=(x=x+Math.imul(ge,Gt)|0)+Math.imul(de,er)|0,R=R+Math.imul(de,Gt)|0,_=_+Math.imul(ce,Qe)|0,x=(x=x+Math.imul(ce,ht)|0)+Math.imul(te,Qe)|0,R=R+Math.imul(te,ht)|0,_=_+Math.imul(ee,Pe)|0,x=(x=x+Math.imul(ee,ye)|0)+Math.imul(ie,Pe)|0,R=R+Math.imul(ie,ye)|0,_=_+Math.imul(O,Re)|0,x=(x=x+Math.imul(O,Ie)|0)+Math.imul(K,Re)|0,R=R+Math.imul(K,Ie)|0;var Bt=(q+(_=_+Math.imul(U,st)|0)|0)+((8191&(x=(x=x+Math.imul(U,tt)|0)+Math.imul(Q,st)|0))<<13)|0;q=((R=R+Math.imul(Q,tt)|0)+(x>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,_=Math.imul(be,Je),x=(x=Math.imul(be,et))+Math.imul(Be,Je)|0,R=Math.imul(Be,et),_=_+Math.imul(Ve,pt)|0,x=(x=x+Math.imul(Ve,wt)|0)+Math.imul(ze,pt)|0,R=R+Math.imul(ze,wt)|0,_=_+Math.imul(Fe,gt)|0,x=(x=x+Math.imul(Fe,ft)|0)+Math.imul(Ue,gt)|0,R=R+Math.imul(Ue,ft)|0,_=_+Math.imul(ae,Ht)|0,x=(x=x+Math.imul(ae,$t)|0)+Math.imul(ve,Ht)|0,R=R+Math.imul(ve,$t)|0,_=_+Math.imul(De,er)|0,x=(x=x+Math.imul(De,Gt)|0)+Math.imul(_e,er)|0,R=R+Math.imul(_e,Gt)|0,_=_+Math.imul(ge,Qe)|0,x=(x=x+Math.imul(ge,ht)|0)+Math.imul(de,Qe)|0,R=R+Math.imul(de,ht)|0,_=_+Math.imul(ce,Pe)|0,x=(x=x+Math.imul(ce,ye)|0)+Math.imul(te,Pe)|0,R=R+Math.imul(te,ye)|0,_=_+Math.imul(ee,Re)|0,x=(x=x+Math.imul(ee,Ie)|0)+Math.imul(ie,Re)|0,R=R+Math.imul(ie,Ie)|0;var Tt=(q+(_=_+Math.imul(O,st)|0)|0)+((8191&(x=(x=x+Math.imul(O,tt)|0)+Math.imul(K,st)|0))<<13)|0;q=((R=R+Math.imul(K,tt)|0)+(x>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,_=Math.imul(be,pt),x=(x=Math.imul(be,wt))+Math.imul(Be,pt)|0,R=Math.imul(Be,wt),_=_+Math.imul(Ve,gt)|0,x=(x=x+Math.imul(Ve,ft)|0)+Math.imul(ze,gt)|0,R=R+Math.imul(ze,ft)|0,_=_+Math.imul(Fe,Ht)|0,x=(x=x+Math.imul(Fe,$t)|0)+Math.imul(Ue,Ht)|0,R=R+Math.imul(Ue,$t)|0,_=_+Math.imul(ae,er)|0,x=(x=x+Math.imul(ae,Gt)|0)+Math.imul(ve,er)|0,R=R+Math.imul(ve,Gt)|0,_=_+Math.imul(De,Qe)|0,x=(x=x+Math.imul(De,ht)|0)+Math.imul(_e,Qe)|0,R=R+Math.imul(_e,ht)|0,_=_+Math.imul(ge,Pe)|0,x=(x=x+Math.imul(ge,ye)|0)+Math.imul(de,Pe)|0,R=R+Math.imul(de,ye)|0,_=_+Math.imul(ce,Re)|0,x=(x=x+Math.imul(ce,Ie)|0)+Math.imul(te,Re)|0,R=R+Math.imul(te,Ie)|0;var jt=(q+(_=_+Math.imul(ee,st)|0)|0)+((8191&(x=(x=x+Math.imul(ee,tt)|0)+Math.imul(ie,st)|0))<<13)|0;q=((R=R+Math.imul(ie,tt)|0)+(x>>>13)|0)+(jt>>>26)|0,jt&=67108863,_=Math.imul(be,gt),x=(x=Math.imul(be,ft))+Math.imul(Be,gt)|0,R=Math.imul(Be,ft),_=_+Math.imul(Ve,Ht)|0,x=(x=x+Math.imul(Ve,$t)|0)+Math.imul(ze,Ht)|0,R=R+Math.imul(ze,$t)|0,_=_+Math.imul(Fe,er)|0,x=(x=x+Math.imul(Fe,Gt)|0)+Math.imul(Ue,er)|0,R=R+Math.imul(Ue,Gt)|0,_=_+Math.imul(ae,Qe)|0,x=(x=x+Math.imul(ae,ht)|0)+Math.imul(ve,Qe)|0,R=R+Math.imul(ve,ht)|0,_=_+Math.imul(De,Pe)|0,x=(x=x+Math.imul(De,ye)|0)+Math.imul(_e,Pe)|0,R=R+Math.imul(_e,ye)|0,_=_+Math.imul(ge,Re)|0,x=(x=x+Math.imul(ge,Ie)|0)+Math.imul(de,Re)|0,R=R+Math.imul(de,Ie)|0;var pr=(q+(_=_+Math.imul(ce,st)|0)|0)+((8191&(x=(x=x+Math.imul(ce,tt)|0)+Math.imul(te,st)|0))<<13)|0;q=((R=R+Math.imul(te,tt)|0)+(x>>>13)|0)+(pr>>>26)|0,pr&=67108863,_=Math.imul(be,Ht),x=(x=Math.imul(be,$t))+Math.imul(Be,Ht)|0,R=Math.imul(Be,$t),_=_+Math.imul(Ve,er)|0,x=(x=x+Math.imul(Ve,Gt)|0)+Math.imul(ze,er)|0,R=R+Math.imul(ze,Gt)|0,_=_+Math.imul(Fe,Qe)|0,x=(x=x+Math.imul(Fe,ht)|0)+Math.imul(Ue,Qe)|0,R=R+Math.imul(Ue,ht)|0,_=_+Math.imul(ae,Pe)|0,x=(x=x+Math.imul(ae,ye)|0)+Math.imul(ve,Pe)|0,R=R+Math.imul(ve,ye)|0,_=_+Math.imul(De,Re)|0,x=(x=x+Math.imul(De,Ie)|0)+Math.imul(_e,Re)|0,R=R+Math.imul(_e,Ie)|0;var rr=(q+(_=_+Math.imul(ge,st)|0)|0)+((8191&(x=(x=x+Math.imul(ge,tt)|0)+Math.imul(de,st)|0))<<13)|0;q=((R=R+Math.imul(de,tt)|0)+(x>>>13)|0)+(rr>>>26)|0,rr&=67108863,_=Math.imul(be,er),x=(x=Math.imul(be,Gt))+Math.imul(Be,er)|0,R=Math.imul(Be,Gt),_=_+Math.imul(Ve,Qe)|0,x=(x=x+Math.imul(Ve,ht)|0)+Math.imul(ze,Qe)|0,R=R+Math.imul(ze,ht)|0,_=_+Math.imul(Fe,Pe)|0,x=(x=x+Math.imul(Fe,ye)|0)+Math.imul(Ue,Pe)|0,R=R+Math.imul(Ue,ye)|0,_=_+Math.imul(ae,Re)|0,x=(x=x+Math.imul(ae,Ie)|0)+Math.imul(ve,Re)|0,R=R+Math.imul(ve,Ie)|0;var sr=(q+(_=_+Math.imul(De,st)|0)|0)+((8191&(x=(x=x+Math.imul(De,tt)|0)+Math.imul(_e,st)|0))<<13)|0;q=((R=R+Math.imul(_e,tt)|0)+(x>>>13)|0)+(sr>>>26)|0,sr&=67108863,_=Math.imul(be,Qe),x=(x=Math.imul(be,ht))+Math.imul(Be,Qe)|0,R=Math.imul(Be,ht),_=_+Math.imul(Ve,Pe)|0,x=(x=x+Math.imul(Ve,ye)|0)+Math.imul(ze,Pe)|0,R=R+Math.imul(ze,ye)|0,_=_+Math.imul(Fe,Re)|0,x=(x=x+Math.imul(Fe,Ie)|0)+Math.imul(Ue,Re)|0,R=R+Math.imul(Ue,Ie)|0;var Qt=(q+(_=_+Math.imul(ae,st)|0)|0)+((8191&(x=(x=x+Math.imul(ae,tt)|0)+Math.imul(ve,st)|0))<<13)|0;q=((R=R+Math.imul(ve,tt)|0)+(x>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,_=Math.imul(be,Pe),x=(x=Math.imul(be,ye))+Math.imul(Be,Pe)|0,R=Math.imul(Be,ye),_=_+Math.imul(Ve,Re)|0,x=(x=x+Math.imul(Ve,Ie)|0)+Math.imul(ze,Re)|0,R=R+Math.imul(ze,Ie)|0;var mr=(q+(_=_+Math.imul(Fe,st)|0)|0)+((8191&(x=(x=x+Math.imul(Fe,tt)|0)+Math.imul(Ue,st)|0))<<13)|0;q=((R=R+Math.imul(Ue,tt)|0)+(x>>>13)|0)+(mr>>>26)|0,mr&=67108863,_=Math.imul(be,Re),x=(x=Math.imul(be,Ie))+Math.imul(Be,Re)|0,R=Math.imul(Be,Ie);var nr=(q+(_=_+Math.imul(Ve,st)|0)|0)+((8191&(x=(x=x+Math.imul(Ve,tt)|0)+Math.imul(ze,st)|0))<<13)|0;q=((R=R+Math.imul(ze,tt)|0)+(x>>>13)|0)+(nr>>>26)|0,nr&=67108863;var Rr=(q+(_=Math.imul(be,st))|0)+((8191&(x=(x=Math.imul(be,tt))+Math.imul(Be,st)|0))<<13)|0;return q=((R=Math.imul(Be,tt))+(x>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,z[0]=ct,z[1]=ot,z[2]=At,z[3]=Ot,z[4]=Vt,z[5]=Se,z[6]=qe,z[7]=dt,z[8]=St,z[9]=Bt,z[10]=Tt,z[11]=jt,z[12]=pr,z[13]=rr,z[14]=sr,z[15]=Qt,z[16]=mr,z[17]=nr,z[18]=Rr,q!==0&&(z[19]=q,S.length++),S};function N(A,w,S){S.negative=w.negative^A.negative,S.length=A.length+w.length;for(var _=0,x=0,R=0;R<S.length-1;R++){var W=x;x=0;for(var T=67108863&_,z=Math.min(R,w.length-1),q=Math.max(0,R-A.length+1);q<=z;q++){var Y=R-q,U=(0|A.words[Y])*(0|w.words[q]),Q=67108863&U;T=67108863&(Q=Q+T|0),x+=(W=(W=W+(U/67108864|0)|0)+(Q>>>26)|0)>>>26,W&=67108863}S.words[R]=T,_=W,W=x}return _!==0?S.words[R]=_:S.length--,S._strip()}function j(A,w,S){return N(A,w,S)}Math.imul||(E=b),c.prototype.mulTo=function(A,w){var S=this.length+A.length;return this.length===10&&A.length===10?E(this,A,w):S<63?b(this,A,w):S<1024?N(this,A,w):j(this,A,w)},c.prototype.mul=function(A){var w=new c(null);return w.words=new Array(this.length+A.length),this.mulTo(A,w)},c.prototype.mulf=function(A){var w=new c(null);return w.words=new Array(this.length+A.length),j(this,A,w)},c.prototype.imul=function(A){return this.clone().mulTo(A,this)},c.prototype.imuln=function(A){var w=A<0;w&&(A=-A),o(typeof A=="number"),o(A<67108864);for(var S=0,_=0;_<this.length;_++){var x=(0|this.words[_])*A,R=(67108863&x)+(67108863&S);S>>=26,S+=x/67108864|0,S+=R>>>26,this.words[_]=67108863&R}return S!==0&&(this.words[_]=S,this.length++),w?this.ineg():this},c.prototype.muln=function(A){return this.clone().imuln(A)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(A){var w=function(R){for(var W=new Array(R.bitLength()),T=0;T<W.length;T++){var z=T/26|0,q=T%26;W[T]=R.words[z]>>>q&1}return W}(A);if(w.length===0)return new c(1);for(var S=this,_=0;_<w.length&&w[_]===0;_++,S=S.sqr());if(++_<w.length)for(var x=S.sqr();_<w.length;_++,x=x.sqr())w[_]!==0&&(S=S.mul(x));return S},c.prototype.iushln=function(A){o(typeof A=="number"&&A>=0);var w,S=A%26,_=(A-S)/26,x=67108863>>>26-S<<26-S;if(S!==0){var R=0;for(w=0;w<this.length;w++){var W=this.words[w]&x,T=(0|this.words[w])-W<<S;this.words[w]=T|R,R=W>>>26-S}R&&(this.words[w]=R,this.length++)}if(_!==0){for(w=this.length-1;w>=0;w--)this.words[w+_]=this.words[w];for(w=0;w<_;w++)this.words[w]=0;this.length+=_}return this._strip()},c.prototype.ishln=function(A){return o(this.negative===0),this.iushln(A)},c.prototype.iushrn=function(A,w,S){var _;o(typeof A=="number"&&A>=0),_=w?(w-w%26)/26:0;var x=A%26,R=Math.min((A-x)/26,this.length),W=67108863^67108863>>>x<<x,T=S;if(_-=R,_=Math.max(0,_),T){for(var z=0;z<R;z++)T.words[z]=this.words[z];T.length=R}if(R!==0)if(this.length>R)for(this.length-=R,z=0;z<this.length;z++)this.words[z]=this.words[z+R];else this.words[0]=0,this.length=1;var q=0;for(z=this.length-1;z>=0&&(q!==0||z>=_);z--){var Y=0|this.words[z];this.words[z]=q<<26-x|Y>>>x,q=Y&W}return T&&q!==0&&(T.words[T.length++]=q),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},c.prototype.ishrn=function(A,w,S){return o(this.negative===0),this.iushrn(A,w,S)},c.prototype.shln=function(A){return this.clone().ishln(A)},c.prototype.ushln=function(A){return this.clone().iushln(A)},c.prototype.shrn=function(A){return this.clone().ishrn(A)},c.prototype.ushrn=function(A){return this.clone().iushrn(A)},c.prototype.testn=function(A){o(typeof A=="number"&&A>=0);var w=A%26,S=(A-w)/26,_=1<<w;return!(this.length<=S)&&!!(this.words[S]&_)},c.prototype.imaskn=function(A){o(typeof A=="number"&&A>=0);var w=A%26,S=(A-w)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(w!==0&&S++,this.length=Math.min(S,this.length),w!==0){var _=67108863^67108863>>>w<<w;this.words[this.length-1]&=_}return this._strip()},c.prototype.maskn=function(A){return this.clone().imaskn(A)},c.prototype.iaddn=function(A){return o(typeof A=="number"),o(A<67108864),A<0?this.isubn(-A):this.negative!==0?this.length===1&&(0|this.words[0])<=A?(this.words[0]=A-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(A),this.negative=1,this):this._iaddn(A)},c.prototype._iaddn=function(A){this.words[0]+=A;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},c.prototype.isubn=function(A){if(o(typeof A=="number"),o(A<67108864),A<0)return this.iaddn(-A);if(this.negative!==0)return this.negative=0,this.iaddn(A),this.negative=1,this;if(this.words[0]-=A,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this._strip()},c.prototype.addn=function(A){return this.clone().iaddn(A)},c.prototype.subn=function(A){return this.clone().isubn(A)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(A,w,S){var _,x,R=A.length+S;this._expand(R);var W=0;for(_=0;_<A.length;_++){x=(0|this.words[_+S])+W;var T=(0|A.words[_])*w;W=((x-=67108863&T)>>26)-(T/67108864|0),this.words[_+S]=67108863&x}for(;_<this.length-S;_++)W=(x=(0|this.words[_+S])+W)>>26,this.words[_+S]=67108863&x;if(W===0)return this._strip();for(o(W===-1),W=0,_=0;_<this.length;_++)W=(x=-(0|this.words[_])+W)>>26,this.words[_]=67108863&x;return this.negative=1,this._strip()},c.prototype._wordDiv=function(A,w){var S=(this.length,A.length),_=this.clone(),x=A,R=0|x.words[x.length-1];(S=26-this._countBits(R))!==0&&(x=x.ushln(S),_.iushln(S),R=0|x.words[x.length-1]);var W,T=_.length-x.length;if(w!=="mod"){(W=new c(null)).length=T+1,W.words=new Array(W.length);for(var z=0;z<W.length;z++)W.words[z]=0}var q=_.clone()._ishlnsubmul(x,1,T);q.negative===0&&(_=q,W&&(W.words[T]=1));for(var Y=T-1;Y>=0;Y--){var U=67108864*(0|_.words[x.length+Y])+(0|_.words[x.length+Y-1]);for(U=Math.min(U/R|0,67108863),_._ishlnsubmul(x,U,Y);_.negative!==0;)U--,_.negative=0,_._ishlnsubmul(x,1,Y),_.isZero()||(_.negative^=1);W&&(W.words[Y]=U)}return W&&W._strip(),_._strip(),w!=="div"&&S!==0&&_.iushrn(S),{div:W||null,mod:_}},c.prototype.divmod=function(A,w,S){return o(!A.isZero()),this.isZero()?{div:new c(0),mod:new c(0)}:this.negative!==0&&A.negative===0?(R=this.neg().divmod(A,w),w!=="mod"&&(_=R.div.neg()),w!=="div"&&(x=R.mod.neg(),S&&x.negative!==0&&x.iadd(A)),{div:_,mod:x}):this.negative===0&&A.negative!==0?(R=this.divmod(A.neg(),w),w!=="mod"&&(_=R.div.neg()),{div:_,mod:R.mod}):this.negative&A.negative?(R=this.neg().divmod(A.neg(),w),w!=="div"&&(x=R.mod.neg(),S&&x.negative!==0&&x.isub(A)),{div:R.div,mod:x}):A.length>this.length||this.cmp(A)<0?{div:new c(0),mod:this}:A.length===1?w==="div"?{div:this.divn(A.words[0]),mod:null}:w==="mod"?{div:null,mod:new c(this.modrn(A.words[0]))}:{div:this.divn(A.words[0]),mod:new c(this.modrn(A.words[0]))}:this._wordDiv(A,w);var _,x,R},c.prototype.div=function(A){return this.divmod(A,"div",!1).div},c.prototype.mod=function(A){return this.divmod(A,"mod",!1).mod},c.prototype.umod=function(A){return this.divmod(A,"mod",!0).mod},c.prototype.divRound=function(A){var w=this.divmod(A);if(w.mod.isZero())return w.div;var S=w.div.negative!==0?w.mod.isub(A):w.mod,_=A.ushrn(1),x=A.andln(1),R=S.cmp(_);return R<0||x===1&&R===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},c.prototype.modrn=function(A){var w=A<0;w&&(A=-A),o(A<=67108863);for(var S=(1<<26)%A,_=0,x=this.length-1;x>=0;x--)_=(S*_+(0|this.words[x]))%A;return w?-_:_},c.prototype.modn=function(A){return this.modrn(A)},c.prototype.idivn=function(A){var w=A<0;w&&(A=-A),o(A<=67108863);for(var S=0,_=this.length-1;_>=0;_--){var x=(0|this.words[_])+67108864*S;this.words[_]=x/A|0,S=x%A}return this._strip(),w?this.ineg():this},c.prototype.divn=function(A){return this.clone().idivn(A)},c.prototype.egcd=function(A){o(A.negative===0),o(!A.isZero());var w=this,S=A.clone();w=w.negative!==0?w.umod(A):w.clone();for(var _=new c(1),x=new c(0),R=new c(0),W=new c(1),T=0;w.isEven()&&S.isEven();)w.iushrn(1),S.iushrn(1),++T;for(var z=S.clone(),q=w.clone();!w.isZero();){for(var Y=0,U=1;!(w.words[0]&U)&&Y<26;++Y,U<<=1);if(Y>0)for(w.iushrn(Y);Y-- >0;)(_.isOdd()||x.isOdd())&&(_.iadd(z),x.isub(q)),_.iushrn(1),x.iushrn(1);for(var Q=0,F=1;!(S.words[0]&F)&&Q<26;++Q,F<<=1);if(Q>0)for(S.iushrn(Q);Q-- >0;)(R.isOdd()||W.isOdd())&&(R.iadd(z),W.isub(q)),R.iushrn(1),W.iushrn(1);w.cmp(S)>=0?(w.isub(S),_.isub(R),x.isub(W)):(S.isub(w),R.isub(_),W.isub(x))}return{a:R,b:W,gcd:S.iushln(T)}},c.prototype._invmp=function(A){o(A.negative===0),o(!A.isZero());var w=this,S=A.clone();w=w.negative!==0?w.umod(A):w.clone();for(var _,x=new c(1),R=new c(0),W=S.clone();w.cmpn(1)>0&&S.cmpn(1)>0;){for(var T=0,z=1;!(w.words[0]&z)&&T<26;++T,z<<=1);if(T>0)for(w.iushrn(T);T-- >0;)x.isOdd()&&x.iadd(W),x.iushrn(1);for(var q=0,Y=1;!(S.words[0]&Y)&&q<26;++q,Y<<=1);if(q>0)for(S.iushrn(q);q-- >0;)R.isOdd()&&R.iadd(W),R.iushrn(1);w.cmp(S)>=0?(w.isub(S),x.isub(R)):(S.isub(w),R.isub(x))}return(_=w.cmpn(1)===0?x:R).cmpn(0)<0&&_.iadd(A),_},c.prototype.gcd=function(A){if(this.isZero())return A.abs();if(A.isZero())return this.abs();var w=this.clone(),S=A.clone();w.negative=0,S.negative=0;for(var _=0;w.isEven()&&S.isEven();_++)w.iushrn(1),S.iushrn(1);for(;;){for(;w.isEven();)w.iushrn(1);for(;S.isEven();)S.iushrn(1);var x=w.cmp(S);if(x<0){var R=w;w=S,S=R}else if(x===0||S.cmpn(1)===0)break;w.isub(S)}return S.iushln(_)},c.prototype.invm=function(A){return this.egcd(A).a.umod(A)},c.prototype.isEven=function(){return(1&this.words[0])==0},c.prototype.isOdd=function(){return(1&this.words[0])==1},c.prototype.andln=function(A){return this.words[0]&A},c.prototype.bincn=function(A){o(typeof A=="number");var w=A%26,S=(A-w)/26,_=1<<w;if(this.length<=S)return this._expand(S+1),this.words[S]|=_,this;for(var x=_,R=S;x!==0&&R<this.length;R++){var W=0|this.words[R];x=(W+=x)>>>26,W&=67108863,this.words[R]=W}return x!==0&&(this.words[R]=x,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(A){var w,S=A<0;if(this.negative!==0&&!S)return-1;if(this.negative===0&&S)return 1;if(this._strip(),this.length>1)w=1;else{S&&(A=-A),o(A<=67108863,"Number is too big");var _=0|this.words[0];w=_===A?0:_<A?-1:1}return this.negative!==0?0|-w:w},c.prototype.cmp=function(A){if(this.negative!==0&&A.negative===0)return-1;if(this.negative===0&&A.negative!==0)return 1;var w=this.ucmp(A);return this.negative!==0?0|-w:w},c.prototype.ucmp=function(A){if(this.length>A.length)return 1;if(this.length<A.length)return-1;for(var w=0,S=this.length-1;S>=0;S--){var _=0|this.words[S],x=0|A.words[S];if(_!==x){_<x?w=-1:_>x&&(w=1);break}}return w},c.prototype.gtn=function(A){return this.cmpn(A)===1},c.prototype.gt=function(A){return this.cmp(A)===1},c.prototype.gten=function(A){return this.cmpn(A)>=0},c.prototype.gte=function(A){return this.cmp(A)>=0},c.prototype.ltn=function(A){return this.cmpn(A)===-1},c.prototype.lt=function(A){return this.cmp(A)===-1},c.prototype.lten=function(A){return this.cmpn(A)<=0},c.prototype.lte=function(A){return this.cmp(A)<=0},c.prototype.eqn=function(A){return this.cmpn(A)===0},c.prototype.eq=function(A){return this.cmp(A)===0},c.red=function(A){return new k(A)},c.prototype.toRed=function(A){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),A.convertTo(this)._forceRed(A)},c.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(A){return this.red=A,this},c.prototype.forceRed=function(A){return o(!this.red,"Already a number in reduction context"),this._forceRed(A)},c.prototype.redAdd=function(A){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,A)},c.prototype.redIAdd=function(A){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,A)},c.prototype.redSub=function(A){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,A)},c.prototype.redISub=function(A){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,A)},c.prototype.redShl=function(A){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,A)},c.prototype.redMul=function(A){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.mul(this,A)},c.prototype.redIMul=function(A){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.imul(this,A)},c.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(A){return o(this.red&&!A.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,A)};var D={k256:null,p224:null,p192:null,p25519:null};function C(A,w){this.name=A,this.p=new c(w,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function I(){C.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function V(){C.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function B(){C.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P(){C.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(A){if(typeof A=="string"){var w=c._prime(A);this.m=w.p,this.prime=w}else o(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}function M(A){k.call(this,A),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}C.prototype._tmp=function(){var A=new c(null);return A.words=new Array(Math.ceil(this.n/13)),A},C.prototype.ireduce=function(A){var w,S=A;do this.split(S,this.tmp),w=(S=(S=this.imulK(S)).iadd(this.tmp)).bitLength();while(w>this.n);var _=w<this.n?-1:S.ucmp(this.p);return _===0?(S.words[0]=0,S.length=1):_>0?S.isub(this.p):S.strip!==void 0?S.strip():S._strip(),S},C.prototype.split=function(A,w){A.iushrn(this.n,0,w)},C.prototype.imulK=function(A){return A.imul(this.k)},l(I,C),I.prototype.split=function(A,w){for(var S=Math.min(A.length,9),_=0;_<S;_++)w.words[_]=A.words[_];if(w.length=S,A.length<=9)return A.words[0]=0,void(A.length=1);var x=A.words[9];for(w.words[w.length++]=4194303&x,_=10;_<A.length;_++){var R=0|A.words[_];A.words[_-10]=(4194303&R)<<4|x>>>22,x=R}x>>>=22,A.words[_-10]=x,x===0&&A.length>10?A.length-=10:A.length-=9},I.prototype.imulK=function(A){A.words[A.length]=0,A.words[A.length+1]=0,A.length+=2;for(var w=0,S=0;S<A.length;S++){var _=0|A.words[S];w+=977*_,A.words[S]=67108863&w,w=64*_+(w/67108864|0)}return A.words[A.length-1]===0&&(A.length--,A.words[A.length-1]===0&&A.length--),A},l(V,C),l(B,C),l(P,C),P.prototype.imulK=function(A){for(var w=0,S=0;S<A.length;S++){var _=19*(0|A.words[S])+w,x=67108863&_;_>>>=26,A.words[S]=x,w=_}return w!==0&&(A.words[A.length++]=w),A},c._prime=function(A){if(D[A])return D[A];var w;if(A==="k256")w=new I;else if(A==="p224")w=new V;else if(A==="p192")w=new B;else{if(A!=="p25519")throw new Error("Unknown prime "+A);w=new P}return D[A]=w,w},k.prototype._verify1=function(A){o(A.negative===0,"red works only with positives"),o(A.red,"red works only with red numbers")},k.prototype._verify2=function(A,w){o((A.negative|w.negative)==0,"red works only with positives"),o(A.red&&A.red===w.red,"red works only with red numbers")},k.prototype.imod=function(A){return this.prime?this.prime.ireduce(A)._forceRed(this):(m(A,A.umod(this.m)._forceRed(this)),A)},k.prototype.neg=function(A){return A.isZero()?A.clone():this.m.sub(A)._forceRed(this)},k.prototype.add=function(A,w){this._verify2(A,w);var S=A.add(w);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},k.prototype.iadd=function(A,w){this._verify2(A,w);var S=A.iadd(w);return S.cmp(this.m)>=0&&S.isub(this.m),S},k.prototype.sub=function(A,w){this._verify2(A,w);var S=A.sub(w);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},k.prototype.isub=function(A,w){this._verify2(A,w);var S=A.isub(w);return S.cmpn(0)<0&&S.iadd(this.m),S},k.prototype.shl=function(A,w){return this._verify1(A),this.imod(A.ushln(w))},k.prototype.imul=function(A,w){return this._verify2(A,w),this.imod(A.imul(w))},k.prototype.mul=function(A,w){return this._verify2(A,w),this.imod(A.mul(w))},k.prototype.isqr=function(A){return this.imul(A,A.clone())},k.prototype.sqr=function(A){return this.mul(A,A)},k.prototype.sqrt=function(A){if(A.isZero())return A.clone();var w=this.m.andln(3);if(o(w%2==1),w===3){var S=this.m.add(new c(1)).iushrn(2);return this.pow(A,S)}for(var _=this.m.subn(1),x=0;!_.isZero()&&_.andln(1)===0;)x++,_.iushrn(1);o(!_.isZero());var R=new c(1).toRed(this),W=R.redNeg(),T=this.m.subn(1).iushrn(1),z=this.m.bitLength();for(z=new c(2*z*z).toRed(this);this.pow(z,T).cmp(W)!==0;)z.redIAdd(W);for(var q=this.pow(z,_),Y=this.pow(A,_.addn(1).iushrn(1)),U=this.pow(A,_),Q=x;U.cmp(R)!==0;){for(var F=U,O=0;F.cmp(R)!==0;O++)F=F.redSqr();o(O<Q);var K=this.pow(q,new c(1).iushln(Q-O-1));Y=Y.redMul(K),q=K.redSqr(),U=U.redMul(q),Q=O}return Y},k.prototype.invm=function(A){var w=A._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},k.prototype.pow=function(A,w){if(w.isZero())return new c(1).toRed(this);if(w.cmpn(1)===0)return A.clone();var S=new Array(16);S[0]=new c(1).toRed(this),S[1]=A;for(var _=2;_<S.length;_++)S[_]=this.mul(S[_-1],A);var x=S[0],R=0,W=0,T=w.bitLength()%26;for(T===0&&(T=26),_=w.length-1;_>=0;_--){for(var z=w.words[_],q=T-1;q>=0;q--){var Y=z>>q&1;x!==S[0]&&(x=this.sqr(x)),Y!==0||R!==0?(R<<=1,R|=Y,(++W===4||_===0&&q===0)&&(x=this.mul(x,S[R]),W=0,R=0)):W=0}T=26}return x},k.prototype.convertTo=function(A){var w=A.umod(this.m);return w===A?w.clone():w},k.prototype.convertFrom=function(A){var w=A.clone();return w.red=null,w},c.mont=function(A){return new M(A)},l(M,k),M.prototype.convertTo=function(A){return this.imod(A.ushln(this.shift))},M.prototype.convertFrom=function(A){var w=this.imod(A.mul(this.rinv));return w.red=null,w},M.prototype.imul=function(A,w){if(A.isZero()||w.isZero())return A.words[0]=0,A.length=1,A;var S=A.imul(w),_=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=S.isub(_).iushrn(this.shift),R=x;return x.cmp(this.m)>=0?R=x.isub(this.m):x.cmpn(0)<0&&(R=x.iadd(this.m)),R._forceRed(this)},M.prototype.mul=function(A,w){if(A.isZero()||w.isZero())return new c(0)._forceRed(this);var S=A.mul(w),_=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=S.isub(_).iushrn(this.shift),R=x;return x.cmp(this.m)>=0?R=x.isub(this.m):x.cmpn(0)<0&&(R=x.iadd(this.m)),R._forceRed(this)},M.prototype.invm=function(A){return this.imod(A._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],187:[function(t,n,s){var i;function a(l){this.rand=l}if(n.exports=function(l){return i||(i=new a(null)),i.generate(l)},n.exports.Rand=a,a.prototype.generate=function(l){return this._rand(l)},a.prototype._rand=function(l){if(this.rand.getBytes)return this.rand.getBytes(l);for(var c=new Uint8Array(l),u=0;u<c.length;u++)c[u]=this.rand.getByte();return c},typeof self=="object")self.crypto&&self.crypto.getRandomValues?a.prototype._rand=function(l){var c=new Uint8Array(l);return self.crypto.getRandomValues(c),c}:self.msCrypto&&self.msCrypto.getRandomValues?a.prototype._rand=function(l){var c=new Uint8Array(l);return self.msCrypto.getRandomValues(c),c}:typeof window=="object"&&(a.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=t("crypto");if(typeof o.randomBytes!="function")throw new Error("Not supported");a.prototype._rand=function(l){return o.randomBytes(l)}}catch{}},{crypto:188}],188:[function(t,n,s){},{}],189:[function(t,n,s){var i=t("safe-buffer").Buffer;function a(h){i.isBuffer(h)||(h=i.from(h));for(var f=h.length/4|0,m=new Array(f),g=0;g<f;g++)m[g]=h.readUInt32BE(4*g);return m}function o(h){for(;0<h.length;h++)h[0]=0}function l(h,f,m,g,p){for(var v,y,b,E,N=m[0],j=m[1],D=m[2],C=m[3],I=h[0]^f[0],V=h[1]^f[1],B=h[2]^f[2],P=h[3]^f[3],k=4,M=1;M<p;M++)v=N[I>>>24]^j[V>>>16&255]^D[B>>>8&255]^C[255&P]^f[k++],y=N[V>>>24]^j[B>>>16&255]^D[P>>>8&255]^C[255&I]^f[k++],b=N[B>>>24]^j[P>>>16&255]^D[I>>>8&255]^C[255&V]^f[k++],E=N[P>>>24]^j[I>>>16&255]^D[V>>>8&255]^C[255&B]^f[k++],I=v,V=y,B=b,P=E;return v=(g[I>>>24]<<24|g[V>>>16&255]<<16|g[B>>>8&255]<<8|g[255&P])^f[k++],y=(g[V>>>24]<<24|g[B>>>16&255]<<16|g[P>>>8&255]<<8|g[255&I])^f[k++],b=(g[B>>>24]<<24|g[P>>>16&255]<<16|g[I>>>8&255]<<8|g[255&V])^f[k++],E=(g[P>>>24]<<24|g[I>>>16&255]<<16|g[V>>>8&255]<<8|g[255&B])^f[k++],[v>>>=0,y>>>=0,b>>>=0,E>>>=0]}var c=[0,1,2,4,8,16,32,64,128,27,54],u=function(){for(var h=new Array(256),f=0;f<256;f++)h[f]=f<128?f<<1:f<<1^283;for(var m=[],g=[],p=[[],[],[],[]],v=[[],[],[],[]],y=0,b=0,E=0;E<256;++E){var N=b^b<<1^b<<2^b<<3^b<<4;N=N>>>8^255&N^99,m[y]=N,g[N]=y;var j=h[y],D=h[j],C=h[D],I=257*h[N]^16843008*N;p[0][y]=I<<24|I>>>8,p[1][y]=I<<16|I>>>16,p[2][y]=I<<8|I>>>24,p[3][y]=I,I=16843009*C^65537*D^257*j^16843008*y,v[0][N]=I<<24|I>>>8,v[1][N]=I<<16|I>>>16,v[2][N]=I<<8|I>>>24,v[3][N]=I,y===0?y=b=1:(y=j^h[h[h[C^j]]],b^=h[h[b]])}return{SBOX:m,INV_SBOX:g,SUB_MIX:p,INV_SUB_MIX:v}}();function d(h){this._key=a(h),this._reset()}d.blockSize=16,d.keySize=32,d.prototype.blockSize=d.blockSize,d.prototype.keySize=d.keySize,d.prototype._reset=function(){for(var h=this._key,f=h.length,m=f+6,g=4*(m+1),p=[],v=0;v<f;v++)p[v]=h[v];for(v=f;v<g;v++){var y=p[v-1];v%f==0?(y=y<<8|y>>>24,y=u.SBOX[y>>>24]<<24|u.SBOX[y>>>16&255]<<16|u.SBOX[y>>>8&255]<<8|u.SBOX[255&y],y^=c[v/f|0]<<24):f>6&&v%f==4&&(y=u.SBOX[y>>>24]<<24|u.SBOX[y>>>16&255]<<16|u.SBOX[y>>>8&255]<<8|u.SBOX[255&y]),p[v]=p[v-f]^y}for(var b=[],E=0;E<g;E++){var N=g-E,j=p[N-(E%4?0:4)];b[E]=E<4||N<=4?j:u.INV_SUB_MIX[0][u.SBOX[j>>>24]]^u.INV_SUB_MIX[1][u.SBOX[j>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[j>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&j]]}this._nRounds=m,this._keySchedule=p,this._invKeySchedule=b},d.prototype.encryptBlockRaw=function(h){return l(h=a(h),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},d.prototype.encryptBlock=function(h){var f=this.encryptBlockRaw(h),m=i.allocUnsafe(16);return m.writeUInt32BE(f[0],0),m.writeUInt32BE(f[1],4),m.writeUInt32BE(f[2],8),m.writeUInt32BE(f[3],12),m},d.prototype.decryptBlock=function(h){var f=(h=a(h))[1];h[1]=h[3],h[3]=f;var m=l(h,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),g=i.allocUnsafe(16);return g.writeUInt32BE(m[0],0),g.writeUInt32BE(m[3],4),g.writeUInt32BE(m[2],8),g.writeUInt32BE(m[1],12),g},d.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},n.exports.AES=d},{"safe-buffer":494}],190:[function(t,n,s){var i=t("./aes"),a=t("safe-buffer").Buffer,o=t("cipher-base"),l=t("inherits"),c=t("./ghash"),u=t("buffer-xor"),d=t("./incr32");function h(f,m,g,p){o.call(this);var v=a.alloc(4,0);this._cipher=new i.AES(m);var y=this._cipher.encryptBlock(v);this._ghash=new c(y),g=function(b,E,N){if(E.length===12)return b._finID=a.concat([E,a.from([0,0,0,1])]),a.concat([E,a.from([0,0,0,2])]);var j=new c(N),D=E.length,C=D%16;j.update(E),C&&(C=16-C,j.update(a.alloc(C,0))),j.update(a.alloc(8,0));var I=8*D,V=a.alloc(8);V.writeUIntBE(I,0,8),j.update(V),b._finID=j.state;var B=a.from(b._finID);return d(B),B}(this,g,y),this._prev=a.from(g),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=p,this._alen=0,this._len=0,this._mode=f,this._authTag=null,this._called=!1}l(h,o),h.prototype._update=function(f){if(!this._called&&this._alen){var m=16-this._alen%16;m<16&&(m=a.alloc(m,0),this._ghash.update(m))}this._called=!0;var g=this._mode.encrypt(this,f);return this._decrypt?this._ghash.update(f):this._ghash.update(g),this._len+=f.length,g},h.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var f=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(m,g){var p=0;m.length!==g.length&&p++;for(var v=Math.min(m.length,g.length),y=0;y<v;++y)p+=m[y]^g[y];return p}(f,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=f,this._cipher.scrub()},h.prototype.getAuthTag=function(){if(this._decrypt||!a.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},h.prototype.setAuthTag=function(f){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=f},h.prototype.setAAD=function(f){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(f),this._alen+=f.length},n.exports=h},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(t,n,s){var i=t("./encrypter"),a=t("./decrypter"),o=t("./modes/list.json");s.createCipher=s.Cipher=i.createCipher,s.createCipheriv=s.Cipheriv=i.createCipheriv,s.createDecipher=s.Decipher=a.createDecipher,s.createDecipheriv=s.Decipheriv=a.createDecipheriv,s.listCiphers=s.getCiphers=function(){return Object.keys(o)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(t,n,s){var i=t("./authCipher"),a=t("safe-buffer").Buffer,o=t("./modes"),l=t("./streamCipher"),c=t("cipher-base"),u=t("./aes"),d=t("evp_bytestokey");function h(g,p,v){c.call(this),this._cache=new f,this._last=void 0,this._cipher=new u.AES(p),this._prev=a.from(v),this._mode=g,this._autopadding=!0}function f(){this.cache=a.allocUnsafe(0)}function m(g,p,v){var y=o[g.toLowerCase()];if(!y)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=a.from(v)),y.mode!=="GCM"&&v.length!==y.iv)throw new TypeError("invalid iv length "+v.length);if(typeof p=="string"&&(p=a.from(p)),p.length!==y.key/8)throw new TypeError("invalid key length "+p.length);return y.type==="stream"?new l(y.module,p,v,!0):y.type==="auth"?new i(y.module,p,v,!0):new h(y.module,p,v)}t("inherits")(h,c),h.prototype._update=function(g){var p,v;this._cache.add(g);for(var y=[];p=this._cache.get(this._autopadding);)v=this._mode.decrypt(this,p),y.push(v);return a.concat(y)},h.prototype._final=function(){var g=this._cache.flush();if(this._autopadding)return function(p){var v=p[15];if(v<1||v>16)throw new Error("unable to decrypt data");for(var y=-1;++y<v;)if(p[y+(16-v)]!==v)throw new Error("unable to decrypt data");if(v!==16)return p.slice(0,16-v)}(this._mode.decrypt(this,g));if(g)throw new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(g){return this._autopadding=!!g,this},f.prototype.add=function(g){this.cache=a.concat([this.cache,g])},f.prototype.get=function(g){var p;if(g){if(this.cache.length>16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p}else if(this.cache.length>=16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p;return null},f.prototype.flush=function(){if(this.cache.length)return this.cache},s.createDecipher=function(g,p){var v=o[g.toLowerCase()];if(!v)throw new TypeError("invalid suite type");var y=d(p,!1,v.key,v.iv);return m(g,y.key,y.iv)},s.createDecipheriv=m},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(t,n,s){var i=t("./modes"),a=t("./authCipher"),o=t("safe-buffer").Buffer,l=t("./streamCipher"),c=t("cipher-base"),u=t("./aes"),d=t("evp_bytestokey");function h(p,v,y){c.call(this),this._cache=new m,this._cipher=new u.AES(v),this._prev=o.from(y),this._mode=p,this._autopadding=!0}t("inherits")(h,c),h.prototype._update=function(p){var v,y;this._cache.add(p);for(var b=[];v=this._cache.get();)y=this._mode.encrypt(this,v),b.push(y);return o.concat(b)};var f=o.alloc(16,16);function m(){this.cache=o.allocUnsafe(0)}function g(p,v,y){var b=i[p.toLowerCase()];if(!b)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=o.from(v)),v.length!==b.key/8)throw new TypeError("invalid key length "+v.length);if(typeof y=="string"&&(y=o.from(y)),b.mode!=="GCM"&&y.length!==b.iv)throw new TypeError("invalid iv length "+y.length);return b.type==="stream"?new l(b.module,v,y):b.type==="auth"?new a(b.module,v,y):new h(b.module,v,y)}h.prototype._final=function(){var p=this._cache.flush();if(this._autopadding)return p=this._mode.encrypt(this,p),this._cipher.scrub(),p;if(!p.equals(f))throw this._cipher.scrub(),new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(p){return this._autopadding=!!p,this},m.prototype.add=function(p){this.cache=o.concat([this.cache,p])},m.prototype.get=function(){if(this.cache.length>15){var p=this.cache.slice(0,16);return this.cache=this.cache.slice(16),p}return null},m.prototype.flush=function(){for(var p=16-this.cache.length,v=o.allocUnsafe(p),y=-1;++y<p;)v.writeUInt8(p,y);return o.concat([this.cache,v])},s.createCipheriv=g,s.createCipher=function(p,v){var y=i[p.toLowerCase()];if(!y)throw new TypeError("invalid suite type");var b=d(v,!1,y.key,y.iv);return g(p,b.key,b.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(t,n,s){var i=t("safe-buffer").Buffer,a=i.alloc(16,0);function o(c){var u=i.allocUnsafe(16);return u.writeUInt32BE(c[0]>>>0,0),u.writeUInt32BE(c[1]>>>0,4),u.writeUInt32BE(c[2]>>>0,8),u.writeUInt32BE(c[3]>>>0,12),u}function l(c){this.h=c,this.state=i.alloc(16,0),this.cache=i.allocUnsafe(0)}l.prototype.ghash=function(c){for(var u=-1;++u<c.length;)this.state[u]^=c[u];this._multiply()},l.prototype._multiply=function(){for(var c,u,d,h=[(c=this.h).readUInt32BE(0),c.readUInt32BE(4),c.readUInt32BE(8),c.readUInt32BE(12)],f=[0,0,0,0],m=-1;++m<128;){for(this.state[~~(m/8)]&1<<7-m%8&&(f[0]^=h[0],f[1]^=h[1],f[2]^=h[2],f[3]^=h[3]),d=(1&h[3])!=0,u=3;u>0;u--)h[u]=h[u]>>>1|(1&h[u-1])<<31;h[0]=h[0]>>>1,d&&(h[0]=h[0]^225<<24)}this.state=o(f)},l.prototype.update=function(c){var u;for(this.cache=i.concat([this.cache,c]);this.cache.length>=16;)u=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(u)},l.prototype.final=function(c,u){return this.cache.length&&this.ghash(i.concat([this.cache,a],16)),this.ghash(o([0,c,0,u])),this.state},n.exports=l},{"safe-buffer":494}],195:[function(t,n,s){n.exports=function(i){for(var a,o=i.length;o--;){if((a=i.readUInt8(o))!==255){a++,i.writeUInt8(a,o);break}i.writeUInt8(0,o)}}},{}],196:[function(t,n,s){var i=t("buffer-xor");s.encrypt=function(a,o){var l=i(o,a._prev);return a._prev=a._cipher.encryptBlock(l),a._prev},s.decrypt=function(a,o){var l=a._prev;a._prev=o;var c=a._cipher.decryptBlock(o);return i(c,l)}},{"buffer-xor":219}],197:[function(t,n,s){var i=t("safe-buffer").Buffer,a=t("buffer-xor");function o(l,c,u){var d=c.length,h=a(c,l._cache);return l._cache=l._cache.slice(d),l._prev=i.concat([l._prev,u?c:h]),h}s.encrypt=function(l,c,u){for(var d,h=i.allocUnsafe(0);c.length;){if(l._cache.length===0&&(l._cache=l._cipher.encryptBlock(l._prev),l._prev=i.allocUnsafe(0)),!(l._cache.length<=c.length)){h=i.concat([h,o(l,c,u)]);break}d=l._cache.length,h=i.concat([h,o(l,c.slice(0,d),u)]),c=c.slice(d)}return h}},{"buffer-xor":219,"safe-buffer":494}],198:[function(t,n,s){var i=t("safe-buffer").Buffer;function a(l,c,u){for(var d,h,f=-1,m=0;++f<8;)d=c&1<<7-f?128:0,m+=(128&(h=l._cipher.encryptBlock(l._prev)[0]^d))>>f%8,l._prev=o(l._prev,u?d:h);return m}function o(l,c){var u=l.length,d=-1,h=i.allocUnsafe(l.length);for(l=i.concat([l,i.from([c])]);++d<u;)h[d]=l[d]<<1|l[d+1]>>7;return h}s.encrypt=function(l,c,u){for(var d=c.length,h=i.allocUnsafe(d),f=-1;++f<d;)h[f]=a(l,c[f],u);return h}},{"safe-buffer":494}],199:[function(t,n,s){var i=t("safe-buffer").Buffer;function a(o,l,c){var u=o._cipher.encryptBlock(o._prev)[0]^l;return o._prev=i.concat([o._prev.slice(1),i.from([c?l:u])]),u}s.encrypt=function(o,l,c){for(var u=l.length,d=i.allocUnsafe(u),h=-1;++h<u;)d[h]=a(o,l[h],c);return d}},{"safe-buffer":494}],200:[function(t,n,s){var i=t("buffer-xor"),a=t("safe-buffer").Buffer,o=t("../incr32");function l(c){var u=c._cipher.encryptBlockRaw(c._prev);return o(c._prev),u}s.encrypt=function(c,u){var d=Math.ceil(u.length/16),h=c._cache.length;c._cache=a.concat([c._cache,a.allocUnsafe(16*d)]);for(var f=0;f<d;f++){var m=l(c),g=h+16*f;c._cache.writeUInt32BE(m[0],g+0),c._cache.writeUInt32BE(m[1],g+4),c._cache.writeUInt32BE(m[2],g+8),c._cache.writeUInt32BE(m[3],g+12)}var p=c._cache.slice(0,u.length);return c._cache=c._cache.slice(u.length),i(u,p)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(t,n,s){s.encrypt=function(i,a){return i._cipher.encryptBlock(a)},s.decrypt=function(i,a){return i._cipher.decryptBlock(a)}},{}],202:[function(t,n,s){var i={ECB:t("./ecb"),CBC:t("./cbc"),CFB:t("./cfb"),CFB8:t("./cfb8"),CFB1:t("./cfb1"),OFB:t("./ofb"),CTR:t("./ctr"),GCM:t("./ctr")},a=t("./list.json");for(var o in a)a[o].module=i[a[o].mode];n.exports=a},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(t,n,s){n.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(t,n,s){(function(i){(function(){var a=t("buffer-xor");function o(l){return l._prev=l._cipher.encryptBlock(l._prev),l._prev}s.encrypt=function(l,c){for(;l._cache.length<c.length;)l._cache=i.concat([l._cache,o(l)]);var u=l._cache.slice(0,c.length);return l._cache=l._cache.slice(c.length),a(c,u)}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(t,n,s){var i=t("./aes"),a=t("safe-buffer").Buffer,o=t("cipher-base");function l(c,u,d,h){o.call(this),this._cipher=new i.AES(u),this._prev=a.from(d),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=h,this._mode=c}t("inherits")(l,o),l.prototype._update=function(c){return this._mode.encrypt(this,c,this._decrypt)},l.prototype._final=function(){this._cipher.scrub()},n.exports=l},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(t,n,s){var i=t("browserify-des"),a=t("browserify-aes/browser"),o=t("browserify-aes/modes"),l=t("browserify-des/modes"),c=t("evp_bytestokey");function u(h,f,m){if(h=h.toLowerCase(),o[h])return a.createCipheriv(h,f,m);if(l[h])return new i({key:f,iv:m,mode:h});throw new TypeError("invalid suite type")}function d(h,f,m){if(h=h.toLowerCase(),o[h])return a.createDecipheriv(h,f,m);if(l[h])return new i({key:f,iv:m,mode:h,decrypt:!0});throw new TypeError("invalid suite type")}s.createCipher=s.Cipher=function(h,f){var m,g;if(h=h.toLowerCase(),o[h])m=o[h].key,g=o[h].iv;else{if(!l[h])throw new TypeError("invalid suite type");m=8*l[h].key,g=l[h].iv}var p=c(f,!1,m,g);return u(h,p.key,p.iv)},s.createCipheriv=s.Cipheriv=u,s.createDecipher=s.Decipher=function(h,f){var m,g;if(h=h.toLowerCase(),o[h])m=o[h].key,g=o[h].iv;else{if(!l[h])throw new TypeError("invalid suite type");m=8*l[h].key,g=l[h].iv}var p=c(f,!1,m,g);return d(h,p.key,p.iv)},s.createDecipheriv=s.Decipheriv=d,s.listCiphers=s.getCiphers=function(){return Object.keys(l).concat(a.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(t,n,s){var i=t("cipher-base"),a=t("des.js"),o=t("inherits"),l=t("safe-buffer").Buffer,c={"des-ede3-cbc":a.CBC.instantiate(a.EDE),"des-ede3":a.EDE,"des-ede-cbc":a.CBC.instantiate(a.EDE),"des-ede":a.EDE,"des-cbc":a.CBC.instantiate(a.DES),"des-ecb":a.DES};function u(d){i.call(this);var h,f=d.mode.toLowerCase(),m=c[f];h=d.decrypt?"decrypt":"encrypt";var g=d.key;l.isBuffer(g)||(g=l.from(g)),f!=="des-ede"&&f!=="des-ede-cbc"||(g=l.concat([g,g.slice(0,8)]));var p=d.iv;l.isBuffer(p)||(p=l.from(p)),this._des=m.create({key:g,iv:p,type:h})}c.des=c["des-cbc"],c.des3=c["des-ede3-cbc"],n.exports=u,o(u,i),u.prototype._update=function(d){return l.from(this._des.update(d))},u.prototype._final=function(){return l.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(t,n,s){s["des-ecb"]={key:8,iv:0},s["des-cbc"]=s.des={key:8,iv:8},s["des-ede3-cbc"]=s.des3={key:24,iv:8},s["des-ede3"]={key:24,iv:0},s["des-ede-cbc"]={key:16,iv:8},s["des-ede"]={key:16,iv:0}},{}],209:[function(t,n,s){(function(i){(function(){var a=t("bn.js"),o=t("randombytes");function l(u){var d,h=u.modulus.byteLength();do d=new a(o(h));while(d.cmp(u.modulus)>=0||!d.umod(u.prime1)||!d.umod(u.prime2));return d}function c(u,d){var h=function(D){var C=l(D);return{blinder:C.toRed(a.mont(D.modulus)).redPow(new a(D.publicExponent)).fromRed(),unblinder:C.invm(D.modulus)}}(d),f=d.modulus.byteLength(),m=new a(u).mul(h.blinder).umod(d.modulus),g=m.toRed(a.mont(d.prime1)),p=m.toRed(a.mont(d.prime2)),v=d.coefficient,y=d.prime1,b=d.prime2,E=g.redPow(d.exponent1).fromRed(),N=p.redPow(d.exponent2).fromRed(),j=E.isub(N).imul(v).umod(y).imul(b);return N.iadd(j).imul(h.unblinder).umod(d.modulus).toArrayLike(i,"be",f)}c.getr=l,n.exports=c}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(t,n,s){n.exports=t("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(t,n,s){n.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(t,n,s){n.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(t,n,s){var i=t("safe-buffer").Buffer,a=t("create-hash"),o=t("readable-stream"),l=t("inherits"),c=t("./sign"),u=t("./verify"),d=t("./algorithms.json");function h(p){o.Writable.call(this);var v=d[p];if(!v)throw new Error("Unknown message digest");this._hashType=v.hash,this._hash=a(v.hash),this._tag=v.id,this._signType=v.sign}function f(p){o.Writable.call(this);var v=d[p];if(!v)throw new Error("Unknown message digest");this._hash=a(v.hash),this._tag=v.id,this._signType=v.sign}function m(p){return new h(p)}function g(p){return new f(p)}Object.keys(d).forEach(function(p){d[p].id=i.from(d[p].id,"hex"),d[p.toLowerCase()]=d[p]}),l(h,o.Writable),h.prototype._write=function(p,v,y){this._hash.update(p),y()},h.prototype.update=function(p,v){return typeof p=="string"&&(p=i.from(p,v)),this._hash.update(p),this},h.prototype.sign=function(p,v){this.end();var y=this._hash.digest(),b=c(y,p,this._hashType,this._signType,this._tag);return v?b.toString(v):b},l(f,o.Writable),f.prototype._write=function(p,v,y){this._hash.update(p),y()},f.prototype.update=function(p,v){return typeof p=="string"&&(p=i.from(p,v)),this._hash.update(p),this},f.prototype.verify=function(p,v,y){typeof v=="string"&&(v=i.from(v,y)),this.end();var b=this._hash.digest();return u(v,b,p,this._signType,this._tag)},n.exports={Sign:m,Verify:g,createSign:m,createVerify:g}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(t,n,s){var i=t("safe-buffer").Buffer,a=t("create-hmac"),o=t("browserify-rsa"),l=t("elliptic").ec,c=t("bn.js"),u=t("parse-asn1"),d=t("./curves.json");function h(p,v,y,b){if((p=i.from(p.toArray())).length<v.byteLength()){var E=i.alloc(v.byteLength()-p.length);p=i.concat([E,p])}var N=y.length,j=function(I,V){I=(I=f(I,V)).mod(V);var B=i.from(I.toArray());if(B.length<V.byteLength()){var P=i.alloc(V.byteLength()-B.length);B=i.concat([P,B])}return B}(y,v),D=i.alloc(N);D.fill(1);var C=i.alloc(N);return C=a(b,C).update(D).update(i.from([0])).update(p).update(j).digest(),D=a(b,C).update(D).digest(),{k:C=a(b,C).update(D).update(i.from([1])).update(p).update(j).digest(),v:D=a(b,C).update(D).digest()}}function f(p,v){var y=new c(p),b=(p.length<<3)-v.bitLength();return b>0&&y.ishrn(b),y}function m(p,v,y){var b,E;do{for(b=i.alloc(0);8*b.length<p.bitLength();)v.v=a(y,v.k).update(v.v).digest(),b=i.concat([b,v.v]);E=f(b,p),v.k=a(y,v.k).update(v.v).update(i.from([0])).digest(),v.v=a(y,v.k).update(v.v).digest()}while(E.cmp(p)!==-1);return E}function g(p,v,y,b){return p.toRed(c.mont(y)).redPow(v).fromRed().mod(b)}n.exports=function(p,v,y,b,E){var N=u(v);if(N.curve){if(b!=="ecdsa"&&b!=="ecdsa/rsa")throw new Error("wrong private key type");return function(I,V){var B=d[V.curve.join(".")];if(!B)throw new Error("unknown curve "+V.curve.join("."));var P=new l(B).keyFromPrivate(V.privateKey).sign(I);return i.from(P.toDER())}(p,N)}if(N.type==="dsa"){if(b!=="dsa")throw new Error("wrong private key type");return function(I,V,B){for(var P,k=V.params.priv_key,M=V.params.p,A=V.params.q,w=V.params.g,S=new c(0),_=f(I,A).mod(A),x=!1,R=h(k,A,I,B);x===!1;)P=m(A,R,B),S=g(w,P,M,A),(x=P.invm(A).imul(_.add(k.mul(S))).mod(A)).cmpn(0)===0&&(x=!1,S=new c(0));return function(W,T){W=W.toArray(),T=T.toArray(),128&W[0]&&(W=[0].concat(W)),128&T[0]&&(T=[0].concat(T));var z=[48,W.length+T.length+4,2,W.length];return z=z.concat(W,[2,T.length],T),i.from(z)}(S,x)}(p,N,y)}if(b!=="rsa"&&b!=="ecdsa/rsa")throw new Error("wrong private key type");p=i.concat([E,p]);for(var j=N.modulus.byteLength(),D=[0,1];p.length+D.length+1<j;)D.push(255);D.push(0);for(var C=-1;++C<p.length;)D.push(p[C]);return o(D,N)},n.exports.getKey=h,n.exports.makeKey=m},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(t,n,s){var i=t("safe-buffer").Buffer,a=t("bn.js"),o=t("elliptic").ec,l=t("parse-asn1"),c=t("./curves.json");function u(d,h){if(d.cmpn(0)<=0)throw new Error("invalid sig");if(d.cmp(h)>=h)throw new Error("invalid sig")}n.exports=function(d,h,f,m,g){var p=l(f);if(p.type==="ec"){if(m!=="ecdsa"&&m!=="ecdsa/rsa")throw new Error("wrong public key type");return function(D,C,I){var V=c[I.data.algorithm.curve.join(".")];if(!V)throw new Error("unknown curve "+I.data.algorithm.curve.join("."));var B=new o(V),P=I.data.subjectPrivateKey.data;return B.verify(C,D,P)}(d,h,p)}if(p.type==="dsa"){if(m!=="dsa")throw new Error("wrong public key type");return function(D,C,I){var V=I.data.p,B=I.data.q,P=I.data.g,k=I.data.pub_key,M=l.signature.decode(D,"der"),A=M.s,w=M.r;u(A,B),u(w,B);var S=a.mont(V),_=A.invm(B);return P.toRed(S).redPow(new a(C).mul(_).mod(B)).fromRed().mul(k.toRed(S).redPow(w.mul(_).mod(B)).fromRed()).mod(V).mod(B).cmp(w)===0}(d,h,p)}if(m!=="rsa"&&m!=="ecdsa/rsa")throw new Error("wrong public key type");h=i.concat([g,h]);for(var v=p.modulus.byteLength(),y=[1],b=0;h.length+y.length+2<v;)y.push(255),b++;y.push(0);for(var E=-1;++E<h.length;)y.push(h[E]);y=i.from(y);var N=a.mont(p.modulus);d=(d=new a(d).toRed(N)).redPow(new a(p.publicExponent)),d=i.from(d.fromRed().toArray());var j=b<8?1:0;for(v=Math.min(d.length,y.length),d.length!==y.length&&(j=1),E=-1;++E<v;)j|=d[E]^y[E];return j===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(t,n,s){},{}],217:[function(t,n,s){var i=t("buffer"),a=i.Buffer;function o(c,u){for(var d in c)u[d]=c[d]}function l(c,u,d){return a(c,u,d)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?n.exports=i:(o(i,s),s.Buffer=l),o(a,l),l.from=function(c,u,d){if(typeof c=="number")throw new TypeError("Argument must not be a number");return a(c,u,d)},l.alloc=function(c,u,d){if(typeof c!="number")throw new TypeError("Argument must be a number");var h=a(c);return u!==void 0?typeof d=="string"?h.fill(u,d):h.fill(u):h.fill(0),h},l.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return a(c)},l.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(c)}},{buffer:220}],218:[function(t,n,s){var i=t("safe-buffer").Buffer,a=i.isEncoding||function(p){switch((p=""+p)&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(p){var v;switch(this.encoding=function(y){var b=function(E){if(!E)return"utf8";for(var N;;)switch(E){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return E;default:if(N)return;E=(""+E).toLowerCase(),N=!0}}(y);if(typeof b!="string"&&(i.isEncoding===a||!a(y)))throw new Error("Unknown encoding: "+y);return b||y}(p),this.encoding){case"utf16le":this.text=u,this.end=d,v=4;break;case"utf8":this.fillLast=c,v=4;break;case"base64":this.text=h,this.end=f,v=3;break;default:return this.write=m,void(this.end=g)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(v)}function l(p){return p<=127?0:p>>5==6?2:p>>4==14?3:p>>3==30?4:p>>6==2?-1:-2}function c(p){var v=this.lastTotal-this.lastNeed,y=function(b,E,N){if((192&E[0])!=128)return b.lastNeed=0,"�";if(b.lastNeed>1&&E.length>1){if((192&E[1])!=128)return b.lastNeed=1,"�";if(b.lastNeed>2&&E.length>2&&(192&E[2])!=128)return b.lastNeed=2,"�"}}(this,p);return y!==void 0?y:this.lastNeed<=p.length?(p.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(p.copy(this.lastChar,v,0,p.length),void(this.lastNeed-=p.length))}function u(p,v){if((p.length-v)%2==0){var y=p.toString("utf16le",v);if(y){var b=y.charCodeAt(y.length-1);if(b>=55296&&b<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],y.slice(0,-1)}return y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",v,p.length-1)}function d(p){var v=p&&p.length?this.write(p):"";if(this.lastNeed){var y=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,y)}return v}function h(p,v){var y=(p.length-v)%3;return y===0?p.toString("base64",v):(this.lastNeed=3-y,this.lastTotal=3,y===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",v,p.length-y))}function f(p){var v=p&&p.length?this.write(p):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function m(p){return p.toString(this.encoding)}function g(p){return p&&p.length?this.write(p):""}s.StringDecoder=o,o.prototype.write=function(p){if(p.length===0)return"";var v,y;if(this.lastNeed){if((v=this.fillLast(p))===void 0)return"";y=this.lastNeed,this.lastNeed=0}else y=0;return y<p.length?v?v+this.text(p,y):this.text(p,y):v||""},o.prototype.end=function(p){var v=p&&p.length?this.write(p):"";return this.lastNeed?v+"�":v},o.prototype.text=function(p,v){var y=function(E,N,j){var D=N.length-1;if(D<j)return 0;var C=l(N[D]);return C>=0?(C>0&&(E.lastNeed=C-1),C):--D<j||C===-2?0:(C=l(N[D]))>=0?(C>0&&(E.lastNeed=C-2),C):--D<j||C===-2?0:(C=l(N[D]))>=0?(C>0&&(C===2?C=0:E.lastNeed=C-3),C):0}(this,p,v);if(!this.lastNeed)return p.toString("utf8",v);this.lastTotal=y;var b=p.length-(y-this.lastNeed);return p.copy(this.lastChar,0,b),p.toString("utf8",v,b)},o.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length}},{"safe-buffer":217}],219:[function(t,n,s){(function(i){(function(){n.exports=function(a,o){for(var l=Math.min(a.length,o.length),c=new i(l),u=0;u<l;++u)c[u]=a[u]^o[u];return c}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],220:[function(t,n,s){(function(i){(function(){var a=t("base64-js"),o=t("ieee754");s.Buffer=c,s.SlowBuffer=function(F){return+F!=F&&(F=0),c.alloc(+F)},s.INSPECT_MAX_BYTES=50;function l(F){if(F>2147483647)throw new RangeError('The value "'+F+'" is invalid for option "size"');var O=new Uint8Array(F);return O.__proto__=c.prototype,O}function c(F,O,K){if(typeof F=="number"){if(typeof O=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(F)}return u(F,O,K)}function u(F,O,K){if(typeof F=="string")return function(ie,he){if(typeof he=="string"&&he!==""||(he="utf8"),!c.isEncoding(he))throw new TypeError("Unknown encoding: "+he);var ce=0|g(ie,he),te=l(ce),se=te.write(ie,he);return se!==ce&&(te=te.slice(0,se)),te}(F,O);if(ArrayBuffer.isView(F))return f(F);if(F==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F);if(U(F,ArrayBuffer)||F&&U(F.buffer,ArrayBuffer))return function(ie,he,ce){if(he<0||ie.byteLength<he)throw new RangeError('"offset" is outside of buffer bounds');if(ie.byteLength<he+(ce||0))throw new RangeError('"length" is outside of buffer bounds');var te;return te=he===void 0&&ce===void 0?new Uint8Array(ie):ce===void 0?new Uint8Array(ie,he):new Uint8Array(ie,he,ce),te.__proto__=c.prototype,te}(F,O,K);if(typeof F=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var ne=F.valueOf&&F.valueOf();if(ne!=null&&ne!==F)return c.from(ne,O,K);var ee=function(ie){if(c.isBuffer(ie)){var he=0|m(ie.length),ce=l(he);return ce.length===0||ie.copy(ce,0,0,he),ce}if(ie.length!==void 0)return typeof ie.length!="number"||Q(ie.length)?l(0):f(ie);if(ie.type==="Buffer"&&Array.isArray(ie.data))return f(ie.data)}(F);if(ee)return ee;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof F[Symbol.toPrimitive]=="function")return c.from(F[Symbol.toPrimitive]("string"),O,K);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F)}function d(F){if(typeof F!="number")throw new TypeError('"size" argument must be of type number');if(F<0)throw new RangeError('The value "'+F+'" is invalid for option "size"')}function h(F){return d(F),l(F<0?0:0|m(F))}function f(F){for(var O=F.length<0?0:0|m(F.length),K=l(O),ne=0;ne<O;ne+=1)K[ne]=255&F[ne];return K}function m(F){if(F>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|F}function g(F,O){if(c.isBuffer(F))return F.length;if(ArrayBuffer.isView(F)||U(F,ArrayBuffer))return F.byteLength;if(typeof F!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof F);var K=F.length,ne=arguments.length>2&&arguments[2]===!0;if(!ne&&K===0)return 0;for(var ee=!1;;)switch(O){case"ascii":case"latin1":case"binary":return K;case"utf8":case"utf-8":return z(F).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*K;case"hex":return K>>>1;case"base64":return q(F).length;default:if(ee)return ne?-1:z(F).length;O=(""+O).toLowerCase(),ee=!0}}function p(F,O,K){var ne=!1;if((O===void 0||O<0)&&(O=0),O>this.length||((K===void 0||K>this.length)&&(K=this.length),K<=0)||(K>>>=0)<=(O>>>=0))return"";for(F||(F="utf8");;)switch(F){case"hex":return M(this,O,K);case"utf8":case"utf-8":return B(this,O,K);case"ascii":return P(this,O,K);case"latin1":case"binary":return k(this,O,K);case"base64":return V(this,O,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,O,K);default:if(ne)throw new TypeError("Unknown encoding: "+F);F=(F+"").toLowerCase(),ne=!0}}function v(F,O,K){var ne=F[O];F[O]=F[K],F[K]=ne}function y(F,O,K,ne,ee){if(F.length===0)return-1;if(typeof K=="string"?(ne=K,K=0):K>2147483647?K=2147483647:K<-2147483648&&(K=-2147483648),Q(K=+K)&&(K=ee?0:F.length-1),K<0&&(K=F.length+K),K>=F.length){if(ee)return-1;K=F.length-1}else if(K<0){if(!ee)return-1;K=0}if(typeof O=="string"&&(O=c.from(O,ne)),c.isBuffer(O))return O.length===0?-1:b(F,O,K,ne,ee);if(typeof O=="number")return O&=255,typeof Uint8Array.prototype.indexOf=="function"?ee?Uint8Array.prototype.indexOf.call(F,O,K):Uint8Array.prototype.lastIndexOf.call(F,O,K):b(F,[O],K,ne,ee);throw new TypeError("val must be string, number or Buffer")}function b(F,O,K,ne,ee){var ie,he=1,ce=F.length,te=O.length;if(ne!==void 0&&((ne=String(ne).toLowerCase())==="ucs2"||ne==="ucs-2"||ne==="utf16le"||ne==="utf-16le")){if(F.length<2||O.length<2)return-1;he=2,ce/=2,te/=2,K/=2}function se(De,_e){return he===1?De[_e]:De.readUInt16BE(_e*he)}if(ee){var ge=-1;for(ie=K;ie<ce;ie++)if(se(F,ie)===se(O,ge===-1?0:ie-ge)){if(ge===-1&&(ge=ie),ie-ge+1===te)return ge*he}else ge!==-1&&(ie-=ie-ge),ge=-1}else for(K+te>ce&&(K=ce-te),ie=K;ie>=0;ie--){for(var de=!0,Te=0;Te<te;Te++)if(se(F,ie+Te)!==se(O,Te)){de=!1;break}if(de)return ie}return-1}function E(F,O,K,ne){K=Number(K)||0;var ee=F.length-K;ne?(ne=Number(ne))>ee&&(ne=ee):ne=ee;var ie=O.length;ne>ie/2&&(ne=ie/2);for(var he=0;he<ne;++he){var ce=parseInt(O.substr(2*he,2),16);if(Q(ce))return he;F[K+he]=ce}return he}function N(F,O,K,ne){return Y(z(O,F.length-K),F,K,ne)}function j(F,O,K,ne){return Y(function(ee){for(var ie=[],he=0;he<ee.length;++he)ie.push(255&ee.charCodeAt(he));return ie}(O),F,K,ne)}function D(F,O,K,ne){return j(F,O,K,ne)}function C(F,O,K,ne){return Y(q(O),F,K,ne)}function I(F,O,K,ne){return Y(function(ee,ie){for(var he,ce,te,se=[],ge=0;ge<ee.length&&!((ie-=2)<0);++ge)he=ee.charCodeAt(ge),ce=he>>8,te=he%256,se.push(te),se.push(ce);return se}(O,F.length-K),F,K,ne)}function V(F,O,K){return O===0&&K===F.length?a.fromByteArray(F):a.fromByteArray(F.slice(O,K))}function B(F,O,K){K=Math.min(F.length,K);for(var ne=[],ee=O;ee<K;){var ie,he,ce,te,se=F[ee],ge=null,de=se>239?4:se>223?3:se>191?2:1;if(ee+de<=K)switch(de){case 1:se<128&&(ge=se);break;case 2:(192&(ie=F[ee+1]))==128&&(te=(31&se)<<6|63&ie)>127&&(ge=te);break;case 3:ie=F[ee+1],he=F[ee+2],(192&ie)==128&&(192&he)==128&&(te=(15&se)<<12|(63&ie)<<6|63&he)>2047&&(te<55296||te>57343)&&(ge=te);break;case 4:ie=F[ee+1],he=F[ee+2],ce=F[ee+3],(192&ie)==128&&(192&he)==128&&(192&ce)==128&&(te=(15&se)<<18|(63&ie)<<12|(63&he)<<6|63&ce)>65535&&te<1114112&&(ge=te)}ge===null?(ge=65533,de=1):ge>65535&&(ge-=65536,ne.push(ge>>>10&1023|55296),ge=56320|1023&ge),ne.push(ge),ee+=de}return function(Te){var De=Te.length;if(De<=4096)return String.fromCharCode.apply(String,Te);for(var _e="",fe=0;fe<De;)_e+=String.fromCharCode.apply(String,Te.slice(fe,fe+=4096));return _e}(ne)}s.kMaxLength=2147483647,c.TYPED_ARRAY_SUPPORT=function(){try{var F=new Uint8Array(1);return F.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},F.foo()===42}catch{return!1}}(),c.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),c.poolSize=8192,c.from=function(F,O,K){return u(F,O,K)},c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,c.alloc=function(F,O,K){return function(ne,ee,ie){return d(ne),ne<=0?l(ne):ee!==void 0?typeof ie=="string"?l(ne).fill(ee,ie):l(ne).fill(ee):l(ne)}(F,O,K)},c.allocUnsafe=function(F){return h(F)},c.allocUnsafeSlow=function(F){return h(F)},c.isBuffer=function(F){return F!=null&&F._isBuffer===!0&&F!==c.prototype},c.compare=function(F,O){if(U(F,Uint8Array)&&(F=c.from(F,F.offset,F.byteLength)),U(O,Uint8Array)&&(O=c.from(O,O.offset,O.byteLength)),!c.isBuffer(F)||!c.isBuffer(O))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(F===O)return 0;for(var K=F.length,ne=O.length,ee=0,ie=Math.min(K,ne);ee<ie;++ee)if(F[ee]!==O[ee]){K=F[ee],ne=O[ee];break}return K<ne?-1:ne<K?1:0},c.isEncoding=function(F){switch(String(F).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(F,O){if(!Array.isArray(F))throw new TypeError('"list" argument must be an Array of Buffers');if(F.length===0)return c.alloc(0);var K;if(O===void 0)for(O=0,K=0;K<F.length;++K)O+=F[K].length;var ne=c.allocUnsafe(O),ee=0;for(K=0;K<F.length;++K){var ie=F[K];if(U(ie,Uint8Array)&&(ie=c.from(ie)),!c.isBuffer(ie))throw new TypeError('"list" argument must be an Array of Buffers');ie.copy(ne,ee),ee+=ie.length}return ne},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var F=this.length;if(F%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var O=0;O<F;O+=2)v(this,O,O+1);return this},c.prototype.swap32=function(){var F=this.length;if(F%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var O=0;O<F;O+=4)v(this,O,O+3),v(this,O+1,O+2);return this},c.prototype.swap64=function(){var F=this.length;if(F%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var O=0;O<F;O+=8)v(this,O,O+7),v(this,O+1,O+6),v(this,O+2,O+5),v(this,O+3,O+4);return this},c.prototype.toString=function(){var F=this.length;return F===0?"":arguments.length===0?B(this,0,F):p.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(F){if(!c.isBuffer(F))throw new TypeError("Argument must be a Buffer");return this===F||c.compare(this,F)===0},c.prototype.inspect=function(){var F="",O=s.INSPECT_MAX_BYTES;return F=this.toString("hex",0,O).replace(/(.{2})/g,"$1 ").trim(),this.length>O&&(F+=" ... "),"<Buffer "+F+">"},c.prototype.compare=function(F,O,K,ne,ee){if(U(F,Uint8Array)&&(F=c.from(F,F.offset,F.byteLength)),!c.isBuffer(F))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof F);if(O===void 0&&(O=0),K===void 0&&(K=F?F.length:0),ne===void 0&&(ne=0),ee===void 0&&(ee=this.length),O<0||K>F.length||ne<0||ee>this.length)throw new RangeError("out of range index");if(ne>=ee&&O>=K)return 0;if(ne>=ee)return-1;if(O>=K)return 1;if(this===F)return 0;for(var ie=(ee>>>=0)-(ne>>>=0),he=(K>>>=0)-(O>>>=0),ce=Math.min(ie,he),te=this.slice(ne,ee),se=F.slice(O,K),ge=0;ge<ce;++ge)if(te[ge]!==se[ge]){ie=te[ge],he=se[ge];break}return ie<he?-1:he<ie?1:0},c.prototype.includes=function(F,O,K){return this.indexOf(F,O,K)!==-1},c.prototype.indexOf=function(F,O,K){return y(this,F,O,K,!0)},c.prototype.lastIndexOf=function(F,O,K){return y(this,F,O,K,!1)},c.prototype.write=function(F,O,K,ne){if(O===void 0)ne="utf8",K=this.length,O=0;else if(K===void 0&&typeof O=="string")ne=O,K=this.length,O=0;else{if(!isFinite(O))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");O>>>=0,isFinite(K)?(K>>>=0,ne===void 0&&(ne="utf8")):(ne=K,K=void 0)}var ee=this.length-O;if((K===void 0||K>ee)&&(K=ee),F.length>0&&(K<0||O<0)||O>this.length)throw new RangeError("Attempt to write outside buffer bounds");ne||(ne="utf8");for(var ie=!1;;)switch(ne){case"hex":return E(this,F,O,K);case"utf8":case"utf-8":return N(this,F,O,K);case"ascii":return j(this,F,O,K);case"latin1":case"binary":return D(this,F,O,K);case"base64":return C(this,F,O,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,F,O,K);default:if(ie)throw new TypeError("Unknown encoding: "+ne);ne=(""+ne).toLowerCase(),ie=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function P(F,O,K){var ne="";K=Math.min(F.length,K);for(var ee=O;ee<K;++ee)ne+=String.fromCharCode(127&F[ee]);return ne}function k(F,O,K){var ne="";K=Math.min(F.length,K);for(var ee=O;ee<K;++ee)ne+=String.fromCharCode(F[ee]);return ne}function M(F,O,K){var ne=F.length;(!O||O<0)&&(O=0),(!K||K<0||K>ne)&&(K=ne);for(var ee="",ie=O;ie<K;++ie)ee+=T(F[ie]);return ee}function A(F,O,K){for(var ne=F.slice(O,K),ee="",ie=0;ie<ne.length;ie+=2)ee+=String.fromCharCode(ne[ie]+256*ne[ie+1]);return ee}function w(F,O,K){if(F%1!=0||F<0)throw new RangeError("offset is not uint");if(F+O>K)throw new RangeError("Trying to access beyond buffer length")}function S(F,O,K,ne,ee,ie){if(!c.isBuffer(F))throw new TypeError('"buffer" argument must be a Buffer instance');if(O>ee||O<ie)throw new RangeError('"value" argument is out of bounds');if(K+ne>F.length)throw new RangeError("Index out of range")}function _(F,O,K,ne,ee,ie){if(K+ne>F.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("Index out of range")}function x(F,O,K,ne,ee){return O=+O,K>>>=0,ee||_(F,0,K,4),o.write(F,O,K,ne,23,4),K+4}function R(F,O,K,ne,ee){return O=+O,K>>>=0,ee||_(F,0,K,8),o.write(F,O,K,ne,52,8),K+8}c.prototype.slice=function(F,O){var K=this.length;(F=~~F)<0?(F+=K)<0&&(F=0):F>K&&(F=K),(O=O===void 0?K:~~O)<0?(O+=K)<0&&(O=0):O>K&&(O=K),O<F&&(O=F);var ne=this.subarray(F,O);return ne.__proto__=c.prototype,ne},c.prototype.readUIntLE=function(F,O,K){F>>>=0,O>>>=0,K||w(F,O,this.length);for(var ne=this[F],ee=1,ie=0;++ie<O&&(ee*=256);)ne+=this[F+ie]*ee;return ne},c.prototype.readUIntBE=function(F,O,K){F>>>=0,O>>>=0,K||w(F,O,this.length);for(var ne=this[F+--O],ee=1;O>0&&(ee*=256);)ne+=this[F+--O]*ee;return ne},c.prototype.readUInt8=function(F,O){return F>>>=0,O||w(F,1,this.length),this[F]},c.prototype.readUInt16LE=function(F,O){return F>>>=0,O||w(F,2,this.length),this[F]|this[F+1]<<8},c.prototype.readUInt16BE=function(F,O){return F>>>=0,O||w(F,2,this.length),this[F]<<8|this[F+1]},c.prototype.readUInt32LE=function(F,O){return F>>>=0,O||w(F,4,this.length),(this[F]|this[F+1]<<8|this[F+2]<<16)+16777216*this[F+3]},c.prototype.readUInt32BE=function(F,O){return F>>>=0,O||w(F,4,this.length),16777216*this[F]+(this[F+1]<<16|this[F+2]<<8|this[F+3])},c.prototype.readIntLE=function(F,O,K){F>>>=0,O>>>=0,K||w(F,O,this.length);for(var ne=this[F],ee=1,ie=0;++ie<O&&(ee*=256);)ne+=this[F+ie]*ee;return ne>=(ee*=128)&&(ne-=Math.pow(2,8*O)),ne},c.prototype.readIntBE=function(F,O,K){F>>>=0,O>>>=0,K||w(F,O,this.length);for(var ne=O,ee=1,ie=this[F+--ne];ne>0&&(ee*=256);)ie+=this[F+--ne]*ee;return ie>=(ee*=128)&&(ie-=Math.pow(2,8*O)),ie},c.prototype.readInt8=function(F,O){return F>>>=0,O||w(F,1,this.length),128&this[F]?-1*(255-this[F]+1):this[F]},c.prototype.readInt16LE=function(F,O){F>>>=0,O||w(F,2,this.length);var K=this[F]|this[F+1]<<8;return 32768&K?4294901760|K:K},c.prototype.readInt16BE=function(F,O){F>>>=0,O||w(F,2,this.length);var K=this[F+1]|this[F]<<8;return 32768&K?4294901760|K:K},c.prototype.readInt32LE=function(F,O){return F>>>=0,O||w(F,4,this.length),this[F]|this[F+1]<<8|this[F+2]<<16|this[F+3]<<24},c.prototype.readInt32BE=function(F,O){return F>>>=0,O||w(F,4,this.length),this[F]<<24|this[F+1]<<16|this[F+2]<<8|this[F+3]},c.prototype.readFloatLE=function(F,O){return F>>>=0,O||w(F,4,this.length),o.read(this,F,!0,23,4)},c.prototype.readFloatBE=function(F,O){return F>>>=0,O||w(F,4,this.length),o.read(this,F,!1,23,4)},c.prototype.readDoubleLE=function(F,O){return F>>>=0,O||w(F,8,this.length),o.read(this,F,!0,52,8)},c.prototype.readDoubleBE=function(F,O){return F>>>=0,O||w(F,8,this.length),o.read(this,F,!1,52,8)},c.prototype.writeUIntLE=function(F,O,K,ne){F=+F,O>>>=0,K>>>=0,ne||S(this,F,O,K,Math.pow(2,8*K)-1,0);var ee=1,ie=0;for(this[O]=255&F;++ie<K&&(ee*=256);)this[O+ie]=F/ee&255;return O+K},c.prototype.writeUIntBE=function(F,O,K,ne){F=+F,O>>>=0,K>>>=0,ne||S(this,F,O,K,Math.pow(2,8*K)-1,0);var ee=K-1,ie=1;for(this[O+ee]=255&F;--ee>=0&&(ie*=256);)this[O+ee]=F/ie&255;return O+K},c.prototype.writeUInt8=function(F,O,K){return F=+F,O>>>=0,K||S(this,F,O,1,255,0),this[O]=255&F,O+1},c.prototype.writeUInt16LE=function(F,O,K){return F=+F,O>>>=0,K||S(this,F,O,2,65535,0),this[O]=255&F,this[O+1]=F>>>8,O+2},c.prototype.writeUInt16BE=function(F,O,K){return F=+F,O>>>=0,K||S(this,F,O,2,65535,0),this[O]=F>>>8,this[O+1]=255&F,O+2},c.prototype.writeUInt32LE=function(F,O,K){return F=+F,O>>>=0,K||S(this,F,O,4,4294967295,0),this[O+3]=F>>>24,this[O+2]=F>>>16,this[O+1]=F>>>8,this[O]=255&F,O+4},c.prototype.writeUInt32BE=function(F,O,K){return F=+F,O>>>=0,K||S(this,F,O,4,4294967295,0),this[O]=F>>>24,this[O+1]=F>>>16,this[O+2]=F>>>8,this[O+3]=255&F,O+4},c.prototype.writeIntLE=function(F,O,K,ne){if(F=+F,O>>>=0,!ne){var ee=Math.pow(2,8*K-1);S(this,F,O,K,ee-1,-ee)}var ie=0,he=1,ce=0;for(this[O]=255&F;++ie<K&&(he*=256);)F<0&&ce===0&&this[O+ie-1]!==0&&(ce=1),this[O+ie]=(F/he>>0)-ce&255;return O+K},c.prototype.writeIntBE=function(F,O,K,ne){if(F=+F,O>>>=0,!ne){var ee=Math.pow(2,8*K-1);S(this,F,O,K,ee-1,-ee)}var ie=K-1,he=1,ce=0;for(this[O+ie]=255&F;--ie>=0&&(he*=256);)F<0&&ce===0&&this[O+ie+1]!==0&&(ce=1),this[O+ie]=(F/he>>0)-ce&255;return O+K},c.prototype.writeInt8=function(F,O,K){return F=+F,O>>>=0,K||S(this,F,O,1,127,-128),F<0&&(F=255+F+1),this[O]=255&F,O+1},c.prototype.writeInt16LE=function(F,O,K){return F=+F,O>>>=0,K||S(this,F,O,2,32767,-32768),this[O]=255&F,this[O+1]=F>>>8,O+2},c.prototype.writeInt16BE=function(F,O,K){return F=+F,O>>>=0,K||S(this,F,O,2,32767,-32768),this[O]=F>>>8,this[O+1]=255&F,O+2},c.prototype.writeInt32LE=function(F,O,K){return F=+F,O>>>=0,K||S(this,F,O,4,2147483647,-2147483648),this[O]=255&F,this[O+1]=F>>>8,this[O+2]=F>>>16,this[O+3]=F>>>24,O+4},c.prototype.writeInt32BE=function(F,O,K){return F=+F,O>>>=0,K||S(this,F,O,4,2147483647,-2147483648),F<0&&(F=4294967295+F+1),this[O]=F>>>24,this[O+1]=F>>>16,this[O+2]=F>>>8,this[O+3]=255&F,O+4},c.prototype.writeFloatLE=function(F,O,K){return x(this,F,O,!0,K)},c.prototype.writeFloatBE=function(F,O,K){return x(this,F,O,!1,K)},c.prototype.writeDoubleLE=function(F,O,K){return R(this,F,O,!0,K)},c.prototype.writeDoubleBE=function(F,O,K){return R(this,F,O,!1,K)},c.prototype.copy=function(F,O,K,ne){if(!c.isBuffer(F))throw new TypeError("argument should be a Buffer");if(K||(K=0),ne||ne===0||(ne=this.length),O>=F.length&&(O=F.length),O||(O=0),ne>0&&ne<K&&(ne=K),ne===K||F.length===0||this.length===0)return 0;if(O<0)throw new RangeError("targetStart out of bounds");if(K<0||K>=this.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("sourceEnd out of bounds");ne>this.length&&(ne=this.length),F.length-O<ne-K&&(ne=F.length-O+K);var ee=ne-K;if(this===F&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(O,K,ne);else if(this===F&&K<O&&O<ne)for(var ie=ee-1;ie>=0;--ie)F[ie+O]=this[ie+K];else Uint8Array.prototype.set.call(F,this.subarray(K,ne),O);return ee},c.prototype.fill=function(F,O,K,ne){if(typeof F=="string"){if(typeof O=="string"?(ne=O,O=0,K=this.length):typeof K=="string"&&(ne=K,K=this.length),ne!==void 0&&typeof ne!="string")throw new TypeError("encoding must be a string");if(typeof ne=="string"&&!c.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);if(F.length===1){var ee=F.charCodeAt(0);(ne==="utf8"&&ee<128||ne==="latin1")&&(F=ee)}}else typeof F=="number"&&(F&=255);if(O<0||this.length<O||this.length<K)throw new RangeError("Out of range index");if(K<=O)return this;var ie;if(O>>>=0,K=K===void 0?this.length:K>>>0,F||(F=0),typeof F=="number")for(ie=O;ie<K;++ie)this[ie]=F;else{var he=c.isBuffer(F)?F:c.from(F,ne),ce=he.length;if(ce===0)throw new TypeError('The value "'+F+'" is invalid for argument "value"');for(ie=0;ie<K-O;++ie)this[ie+O]=he[ie%ce]}return this};var W=/[^+/0-9A-Za-z-_]/g;function T(F){return F<16?"0"+F.toString(16):F.toString(16)}function z(F,O){var K;O=O||1/0;for(var ne=F.length,ee=null,ie=[],he=0;he<ne;++he){if((K=F.charCodeAt(he))>55295&&K<57344){if(!ee){if(K>56319){(O-=3)>-1&&ie.push(239,191,189);continue}if(he+1===ne){(O-=3)>-1&&ie.push(239,191,189);continue}ee=K;continue}if(K<56320){(O-=3)>-1&&ie.push(239,191,189),ee=K;continue}K=65536+(ee-55296<<10|K-56320)}else ee&&(O-=3)>-1&&ie.push(239,191,189);if(ee=null,K<128){if((O-=1)<0)break;ie.push(K)}else if(K<2048){if((O-=2)<0)break;ie.push(K>>6|192,63&K|128)}else if(K<65536){if((O-=3)<0)break;ie.push(K>>12|224,K>>6&63|128,63&K|128)}else{if(!(K<1114112))throw new Error("Invalid code point");if((O-=4)<0)break;ie.push(K>>18|240,K>>12&63|128,K>>6&63|128,63&K|128)}}return ie}function q(F){return a.toByteArray(function(O){if((O=(O=O.split("=")[0]).trim().replace(W,"")).length<2)return"";for(;O.length%4!=0;)O+="=";return O}(F))}function Y(F,O,K,ne){for(var ee=0;ee<ne&&!(ee+K>=O.length||ee>=F.length);++ee)O[ee+K]=F[ee];return ee}function U(F,O){return F instanceof O||F!=null&&F.constructor!=null&&F.constructor.name!=null&&F.constructor.name===O.name}function Q(F){return F!=F}}).call(this)}).call(this,t("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(t,n,s){var i=t("safe-buffer").Buffer,a=t("stream").Transform,o=t("string_decoder").StringDecoder;function l(c){a.call(this),this.hashMode=typeof c=="string",this.hashMode?this[c]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}t("inherits")(l,a),l.prototype.update=function(c,u,d){typeof c=="string"&&(c=i.from(c,u));var h=this._update(c);return this.hashMode?this:(d&&(h=this._toString(h,d)),h)},l.prototype.setAutoPadding=function(){},l.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},l.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},l.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},l.prototype._transform=function(c,u,d){var h;try{this.hashMode?this._update(c):this.push(this._update(c))}catch(f){h=f}finally{d(h)}},l.prototype._flush=function(c){var u;try{this.push(this.__final())}catch(d){u=d}c(u)},l.prototype._finalOrDigest=function(c){var u=this.__final()||i.alloc(0);return c&&(u=this._toString(u,c,!0)),u},l.prototype._toString=function(c,u,d){if(this._decoder||(this._decoder=new o(u),this._encoding=u),this._encoding!==u)throw new Error("can't switch encodings");var h=this._decoder.write(c);return d&&(h+=this._decoder.end()),h},n.exports=l},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(t,n,s){var i=t("../internals/is-callable"),a=t("../internals/try-to-string"),o=TypeError;n.exports=function(l){if(i(l))return l;throw new o(a(l)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(t,n,s){var i=t("../internals/is-constructor"),a=t("../internals/try-to-string"),o=TypeError;n.exports=function(l){if(i(l))return l;throw new o(a(l)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(t,n,s){var i=t("../internals/is-callable"),a=String,o=TypeError;n.exports=function(l){if(typeof l=="object"||i(l))return l;throw new o("Can't set "+a(l)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(t,n,s){var i=t("../internals/well-known-symbol"),a=t("../internals/object-create"),o=t("../internals/object-define-property").f,l=i("unscopables"),c=Array.prototype;c[l]===void 0&&o(c,l,{configurable:!0,value:a(null)}),n.exports=function(u){c[l][u]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(t,n,s){var i=t("../internals/object-is-prototype-of"),a=TypeError;n.exports=function(o,l){if(i(l,o))return o;throw new a("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(t,n,s){var i=t("../internals/is-object"),a=String,o=TypeError;n.exports=function(l){if(i(l))return l;throw new o(a(l)+" is not an object")}},{"../internals/is-object":289}],228:[function(t,n,s){var i=t("../internals/to-indexed-object"),a=t("../internals/to-absolute-index"),o=t("../internals/length-of-array-like"),l=function(c){return function(u,d,h){var f,m=i(u),g=o(m),p=a(h,g);if(c&&d!=d){for(;g>p;)if((f=m[p++])!=f)return!0}else for(;g>p;p++)if((c||p in m)&&m[p]===d)return c||p||0;return!c&&-1}};n.exports={includes:l(!0),indexOf:l(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(t,n,s){var i=t("../internals/function-bind-context"),a=t("../internals/function-uncurry-this"),o=t("../internals/indexed-object"),l=t("../internals/to-object"),c=t("../internals/length-of-array-like"),u=t("../internals/array-species-create"),d=a([].push),h=function(f){var m=f===1,g=f===2,p=f===3,v=f===4,y=f===6,b=f===7,E=f===5||y;return function(N,j,D,C){for(var I,V,B=l(N),P=o(B),k=i(j,D),M=c(P),A=0,w=C||u,S=m?w(N,M):g||b?w(N,0):void 0;M>A;A++)if((E||A in P)&&(V=k(I=P[A],A,B),f))if(m)S[A]=V;else if(V)switch(f){case 3:return!0;case 5:return I;case 6:return A;case 2:d(S,I)}else switch(f){case 4:return!1;case 7:d(S,I)}return y?-1:p||v?v:S}};n.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6),filterReject:h(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(t,n,s){var i=t("../internals/to-absolute-index"),a=t("../internals/length-of-array-like"),o=t("../internals/create-property"),l=Array,c=Math.max;n.exports=function(u,d,h){for(var f=a(u),m=i(d,f),g=i(h===void 0?f:h,f),p=l(c(g-m,0)),v=0;m<g;m++,v++)o(p,v,u[m]);return p.length=v,p}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(t,n,s){var i=t("../internals/function-uncurry-this");n.exports=i([].slice)},{"../internals/function-uncurry-this":268}],232:[function(t,n,s){var i=t("../internals/is-array"),a=t("../internals/is-constructor"),o=t("../internals/is-object"),l=t("../internals/well-known-symbol")("species"),c=Array;n.exports=function(u){var d;return i(u)&&(d=u.constructor,(a(d)&&(d===c||i(d.prototype))||o(d)&&(d=d[l])===null)&&(d=void 0)),d===void 0?c:d}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(t,n,s){var i=t("../internals/array-species-constructor");n.exports=function(a,o){return new(i(a))(o===0?0:o)}},{"../internals/array-species-constructor":232}],234:[function(t,n,s){var i=t("../internals/well-known-symbol")("iterator"),a=!1;try{var o=0,l={next:function(){return{done:!!o++}},return:function(){a=!0}};l[i]=function(){return this},Array.from(l,function(){throw 2})}catch{}n.exports=function(c,u){try{if(!u&&!a)return!1}catch{return!1}var d=!1;try{var h={};h[i]=function(){return{next:function(){return{done:d=!0}}}},c(h)}catch{}return d}},{"../internals/well-known-symbol":357}],235:[function(t,n,s){var i=t("../internals/function-uncurry-this"),a=i({}.toString),o=i("".slice);n.exports=function(l){return o(a(l),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(t,n,s){var i=t("../internals/to-string-tag-support"),a=t("../internals/is-callable"),o=t("../internals/classof-raw"),l=t("../internals/well-known-symbol")("toStringTag"),c=Object,u=o(function(){return arguments}())==="Arguments";n.exports=i?o:function(d){var h,f,m;return d===void 0?"Undefined":d===null?"Null":typeof(f=function(g,p){try{return g[p]}catch{}}(h=c(d),l))=="string"?f:u?o(h):(m=o(h))==="Object"&&a(h.callee)?"Arguments":m}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(t,n,s){var i=t("../internals/has-own-property"),a=t("../internals/own-keys"),o=t("../internals/object-get-own-property-descriptor"),l=t("../internals/object-define-property");n.exports=function(c,u,d){for(var h=a(u),f=l.f,m=o.f,g=0;g<h.length;g++){var p=h[g];i(c,p)||d&&i(d,p)||f(c,p,m(u,p))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(t,n,s){var i=t("../internals/well-known-symbol")("match");n.exports=function(a){var o=/./;try{"/./"[a](o)}catch{try{return o[i]=!1,"/./"[a](o)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(t,n,s){var i=t("../internals/fails");n.exports=!i(function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype})},{"../internals/fails":260}],240:[function(t,n,s){n.exports=function(i,a){return{value:i,done:a}}},{}],241:[function(t,n,s){var i=t("../internals/descriptors"),a=t("../internals/object-define-property"),o=t("../internals/create-property-descriptor");n.exports=i?function(l,c,u){return a.f(l,c,o(1,u))}:function(l,c,u){return l[c]=u,l}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(t,n,s){n.exports=function(i,a){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:a}}},{}],243:[function(t,n,s){var i=t("../internals/to-property-key"),a=t("../internals/object-define-property"),o=t("../internals/create-property-descriptor");n.exports=function(l,c,u){var d=i(c);d in l?a.f(l,d,o(0,u)):l[d]=u}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(t,n,s){var i=t("../internals/make-built-in"),a=t("../internals/object-define-property");n.exports=function(o,l,c){return c.get&&i(c.get,l,{getter:!0}),c.set&&i(c.set,l,{setter:!0}),a.f(o,l,c)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(t,n,s){var i=t("../internals/is-callable"),a=t("../internals/object-define-property"),o=t("../internals/make-built-in"),l=t("../internals/define-global-property");n.exports=function(c,u,d,h){h||(h={});var f=h.enumerable,m=h.name!==void 0?h.name:u;if(i(d)&&o(d,m,h),h.global)f?c[u]=d:l(u,d);else{try{h.unsafe?c[u]&&(f=!0):delete c[u]}catch{}f?c[u]=d:a.f(c,u,{value:d,enumerable:!1,configurable:!h.nonConfigurable,writable:!h.nonWritable})}return c}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(t,n,s){var i=t("../internals/global"),a=Object.defineProperty;n.exports=function(o,l){try{a(i,o,{value:l,configurable:!0,writable:!0})}catch{i[o]=l}return l}},{"../internals/global":274}],247:[function(t,n,s){var i=t("../internals/fails");n.exports=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(t,n,s){var i=typeof document=="object"&&document.all,a=i===void 0&&i!==void 0;n.exports={all:i,IS_HTMLDDA:a}},{}],249:[function(t,n,s){var i=t("../internals/global"),a=t("../internals/is-object"),o=i.document,l=a(o)&&a(o.createElement);n.exports=function(c){return l?o.createElement(c):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(t,n,s){var i=t("../internals/engine-is-deno"),a=t("../internals/engine-is-node");n.exports=!i&&!a&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(t,n,s){n.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(t,n,s){var i=t("../internals/engine-user-agent");n.exports=/ipad|iphone|ipod/i.test(i)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(t,n,s){var i=t("../internals/engine-user-agent");n.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},{"../internals/engine-user-agent":256}],254:[function(t,n,s){var i=t("../internals/global"),a=t("../internals/classof-raw");n.exports=a(i.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(t,n,s){var i=t("../internals/engine-user-agent");n.exports=/web0s(?!.*chrome)/i.test(i)},{"../internals/engine-user-agent":256}],256:[function(t,n,s){n.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(t,n,s){var i,a,o=t("../internals/global"),l=t("../internals/engine-user-agent"),c=o.process,u=o.Deno,d=c&&c.versions||u&&u.version,h=d&&d.v8;h&&(a=(i=h.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!a&&l&&(!(i=l.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=l.match(/Chrome\/(\d+)/))&&(a=+i[1]),n.exports=a},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(t,n,s){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(t,n,s){var i=t("../internals/global"),a=t("../internals/object-get-own-property-descriptor").f,o=t("../internals/create-non-enumerable-property"),l=t("../internals/define-built-in"),c=t("../internals/define-global-property"),u=t("../internals/copy-constructor-properties"),d=t("../internals/is-forced");n.exports=function(h,f){var m,g,p,v,y,b=h.target,E=h.global,N=h.stat;if(m=E?i:N?i[b]||c(b,{}):(i[b]||{}).prototype)for(g in f){if(v=f[g],p=h.dontCallGetSet?(y=a(m,g))&&y.value:m[g],!d(E?g:b+(N?".":"#")+g,h.forced)&&p!==void 0){if(typeof v==typeof p)continue;u(v,p)}(h.sham||p&&p.sham)&&o(v,"sham",!0),l(m,g,v,h)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(t,n,s){n.exports=function(i){try{return!!i()}catch{return!0}}},{}],261:[function(t,n,s){var i=t("../internals/function-bind-native"),a=Function.prototype,o=a.apply,l=a.call;n.exports=typeof Reflect=="object"&&Reflect.apply||(i?l.bind(o):function(){return l.apply(o,arguments)})},{"../internals/function-bind-native":263}],262:[function(t,n,s){var i=t("../internals/function-uncurry-this-clause"),a=t("../internals/a-callable"),o=t("../internals/function-bind-native"),l=i(i.bind);n.exports=function(c,u){return a(c),u===void 0?c:o?l(c,u):function(){return c.apply(u,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(t,n,s){var i=t("../internals/fails");n.exports=!i(function(){var a=(function(){}).bind();return typeof a!="function"||a.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(t,n,s){var i=t("../internals/function-bind-native"),a=Function.prototype.call;n.exports=i?a.bind(a):function(){return a.apply(a,arguments)}},{"../internals/function-bind-native":263}],265:[function(t,n,s){var i=t("../internals/descriptors"),a=t("../internals/has-own-property"),o=Function.prototype,l=i&&Object.getOwnPropertyDescriptor,c=a(o,"name"),u=c&&(function(){}).name==="something",d=c&&(!i||i&&l(o,"name").configurable);n.exports={EXISTS:c,PROPER:u,CONFIGURABLE:d}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(t,n,s){var i=t("../internals/function-uncurry-this"),a=t("../internals/a-callable");n.exports=function(o,l,c){try{return i(a(Object.getOwnPropertyDescriptor(o,l)[c]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(t,n,s){var i=t("../internals/classof-raw"),a=t("../internals/function-uncurry-this");n.exports=function(o){if(i(o)==="Function")return a(o)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(t,n,s){var i=t("../internals/function-bind-native"),a=Function.prototype,o=a.call,l=i&&a.bind.bind(o,o);n.exports=i?l:function(c){return function(){return o.apply(c,arguments)}}},{"../internals/function-bind-native":263}],269:[function(t,n,s){var i=t("../internals/global"),a=t("../internals/is-callable"),o=function(l){return a(l)?l:void 0};n.exports=function(l,c){return arguments.length<2?o(i[l]):i[l]&&i[l][c]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(t,n,s){var i=t("../internals/classof"),a=t("../internals/get-method"),o=t("../internals/is-null-or-undefined"),l=t("../internals/iterators"),c=t("../internals/well-known-symbol")("iterator");n.exports=function(u){if(!o(u))return a(u,c)||a(u,"@@iterator")||l[i(u)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(t,n,s){var i=t("../internals/function-call"),a=t("../internals/a-callable"),o=t("../internals/an-object"),l=t("../internals/try-to-string"),c=t("../internals/get-iterator-method"),u=TypeError;n.exports=function(d,h){var f=arguments.length<2?c(d):h;if(a(f))return o(i(f,d));throw new u(l(d)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(t,n,s){var i=t("../internals/function-uncurry-this"),a=t("../internals/is-array"),o=t("../internals/is-callable"),l=t("../internals/classof-raw"),c=t("../internals/to-string"),u=i([].push);n.exports=function(d){if(o(d))return d;if(a(d)){for(var h=d.length,f=[],m=0;m<h;m++){var g=d[m];typeof g=="string"?u(f,g):typeof g!="number"&&l(g)!=="Number"&&l(g)!=="String"||u(f,c(g))}var p=f.length,v=!0;return function(y,b){if(v)return v=!1,b;if(a(this))return b;for(var E=0;E<p;E++)if(f[E]===y)return b}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(t,n,s){var i=t("../internals/a-callable"),a=t("../internals/is-null-or-undefined");n.exports=function(o,l){var c=o[l];return a(c)?void 0:i(c)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(t,n,s){(function(i){(function(){var a=function(o){return o&&o.Math===Math&&o};n.exports=a(typeof globalThis=="object"&&globalThis)||a(typeof window=="object"&&window)||a(typeof self=="object"&&self)||a(typeof i=="object"&&i)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof gr<"u"?gr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(t,n,s){var i=t("../internals/function-uncurry-this"),a=t("../internals/to-object"),o=i({}.hasOwnProperty);n.exports=Object.hasOwn||function(l,c){return o(a(l),c)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(t,n,s){n.exports={}},{}],277:[function(t,n,s){n.exports=function(i,a){try{arguments.length===1?console.error(i):console.error(i,a)}catch{}}},{}],278:[function(t,n,s){var i=t("../internals/get-built-in");n.exports=i("document","documentElement")},{"../internals/get-built-in":269}],279:[function(t,n,s){var i=t("../internals/descriptors"),a=t("../internals/fails"),o=t("../internals/document-create-element");n.exports=!i&&!a(function(){return Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(t,n,s){var i=t("../internals/function-uncurry-this"),a=t("../internals/fails"),o=t("../internals/classof-raw"),l=Object,c=i("".split);n.exports=a(function(){return!l("z").propertyIsEnumerable(0)})?function(u){return o(u)==="String"?c(u,""):l(u)}:l},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(t,n,s){var i=t("../internals/function-uncurry-this"),a=t("../internals/is-callable"),o=t("../internals/shared-store"),l=i(Function.toString);a(o.inspectSource)||(o.inspectSource=function(c){return l(c)}),n.exports=o.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(t,n,s){var i,a,o,l=t("../internals/weak-map-basic-detection"),c=t("../internals/global"),u=t("../internals/is-object"),d=t("../internals/create-non-enumerable-property"),h=t("../internals/has-own-property"),f=t("../internals/shared-store"),m=t("../internals/shared-key"),g=t("../internals/hidden-keys"),p=c.TypeError,v=c.WeakMap;if(l||f.state){var y=f.state||(f.state=new v);y.get=y.get,y.has=y.has,y.set=y.set,i=function(E,N){if(y.has(E))throw new p("Object already initialized");return N.facade=E,y.set(E,N),N},a=function(E){return y.get(E)||{}},o=function(E){return y.has(E)}}else{var b=m("state");g[b]=!0,i=function(E,N){if(h(E,b))throw new p("Object already initialized");return N.facade=E,d(E,b,N),N},a=function(E){return h(E,b)?E[b]:{}},o=function(E){return h(E,b)}}n.exports={set:i,get:a,has:o,enforce:function(E){return o(E)?a(E):i(E,{})},getterFor:function(E){return function(N){var j;if(!u(N)||(j=a(N)).type!==E)throw new p("Incompatible receiver, "+E+" required");return j}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(t,n,s){var i=t("../internals/well-known-symbol"),a=t("../internals/iterators"),o=i("iterator"),l=Array.prototype;n.exports=function(c){return c!==void 0&&(a.Array===c||l[o]===c)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(t,n,s){var i=t("../internals/classof-raw");n.exports=Array.isArray||function(a){return i(a)==="Array"}},{"../internals/classof-raw":235}],285:[function(t,n,s){var i=t("../internals/document-all"),a=i.all;n.exports=i.IS_HTMLDDA?function(o){return typeof o=="function"||o===a}:function(o){return typeof o=="function"}},{"../internals/document-all":248}],286:[function(t,n,s){var i=t("../internals/function-uncurry-this"),a=t("../internals/fails"),o=t("../internals/is-callable"),l=t("../internals/classof"),c=t("../internals/get-built-in"),u=t("../internals/inspect-source"),d=function(){},h=[],f=c("Reflect","construct"),m=/^\s*(?:class|function)\b/,g=i(m.exec),p=!m.test(d),v=function(b){if(!o(b))return!1;try{return f(d,h,b),!0}catch{return!1}},y=function(b){if(!o(b))return!1;switch(l(b)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!g(m,u(b))}catch{return!0}};y.sham=!0,n.exports=!f||a(function(){var b;return v(v.call)||!v(Object)||!v(function(){b=!0})||b})?y:v},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(t,n,s){var i=t("../internals/fails"),a=t("../internals/is-callable"),o=/#|\.prototype\./,l=function(f,m){var g=u[c(f)];return g===h||g!==d&&(a(m)?i(m):!!m)},c=l.normalize=function(f){return String(f).replace(o,".").toLowerCase()},u=l.data={},d=l.NATIVE="N",h=l.POLYFILL="P";n.exports=l},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(t,n,s){n.exports=function(i){return i==null}},{}],289:[function(t,n,s){var i=t("../internals/is-callable"),a=t("../internals/document-all"),o=a.all;n.exports=a.IS_HTMLDDA?function(l){return typeof l=="object"?l!==null:i(l)||l===o}:function(l){return typeof l=="object"?l!==null:i(l)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(t,n,s){n.exports=!1},{}],291:[function(t,n,s){var i=t("../internals/is-object"),a=t("../internals/classof-raw"),o=t("../internals/well-known-symbol")("match");n.exports=function(l){var c;return i(l)&&((c=l[o])!==void 0?!!c:a(l)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(t,n,s){var i=t("../internals/get-built-in"),a=t("../internals/is-callable"),o=t("../internals/object-is-prototype-of"),l=t("../internals/use-symbol-as-uid"),c=Object;n.exports=l?function(u){return typeof u=="symbol"}:function(u){var d=i("Symbol");return a(d)&&o(d.prototype,c(u))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(t,n,s){var i=t("../internals/function-bind-context"),a=t("../internals/function-call"),o=t("../internals/an-object"),l=t("../internals/try-to-string"),c=t("../internals/is-array-iterator-method"),u=t("../internals/length-of-array-like"),d=t("../internals/object-is-prototype-of"),h=t("../internals/get-iterator"),f=t("../internals/get-iterator-method"),m=t("../internals/iterator-close"),g=TypeError,p=function(y,b){this.stopped=y,this.result=b},v=p.prototype;n.exports=function(y,b,E){var N,j,D,C,I,V,B,P=E&&E.that,k=!(!E||!E.AS_ENTRIES),M=!(!E||!E.IS_RECORD),A=!(!E||!E.IS_ITERATOR),w=!(!E||!E.INTERRUPTED),S=i(b,P),_=function(R){return N&&m(N,"normal",R),new p(!0,R)},x=function(R){return k?(o(R),w?S(R[0],R[1],_):S(R[0],R[1])):w?S(R,_):S(R)};if(M)N=y.iterator;else if(A)N=y;else{if(!(j=f(y)))throw new g(l(y)+" is not iterable");if(c(j)){for(D=0,C=u(y);C>D;D++)if((I=x(y[D]))&&d(v,I))return I;return new p(!1)}N=h(y,j)}for(V=M?y.next:N.next;!(B=a(V,N)).done;){try{I=x(B.value)}catch(R){m(N,"throw",R)}if(typeof I=="object"&&I&&d(v,I))return I}return new p(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(t,n,s){var i=t("../internals/function-call"),a=t("../internals/an-object"),o=t("../internals/get-method");n.exports=function(l,c,u){var d,h;a(l);try{if(!(d=o(l,"return"))){if(c==="throw")throw u;return u}d=i(d,l)}catch(f){h=!0,d=f}if(c==="throw")throw u;if(h)throw d;return a(d),u}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(t,n,s){var i=t("../internals/iterators-core").IteratorPrototype,a=t("../internals/object-create"),o=t("../internals/create-property-descriptor"),l=t("../internals/set-to-string-tag"),c=t("../internals/iterators"),u=function(){return this};n.exports=function(d,h,f,m){var g=h+" Iterator";return d.prototype=a(i,{next:o(+!m,f)}),l(d,g,!1,!0),c[g]=u,d}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(t,n,s){var i=t("../internals/export"),a=t("../internals/function-call"),o=t("../internals/is-pure"),l=t("../internals/function-name"),c=t("../internals/is-callable"),u=t("../internals/iterator-create-constructor"),d=t("../internals/object-get-prototype-of"),h=t("../internals/object-set-prototype-of"),f=t("../internals/set-to-string-tag"),m=t("../internals/create-non-enumerable-property"),g=t("../internals/define-built-in"),p=t("../internals/well-known-symbol"),v=t("../internals/iterators"),y=t("../internals/iterators-core"),b=l.PROPER,E=l.CONFIGURABLE,N=y.IteratorPrototype,j=y.BUGGY_SAFARI_ITERATORS,D=p("iterator"),C=function(){return this};n.exports=function(I,V,B,P,k,M,A){u(B,V,P);var w,S,_,x=function(U){if(U===k&&q)return q;if(!j&&U&&U in T)return T[U];switch(U){case"keys":case"values":case"entries":return function(){return new B(this,U)}}return function(){return new B(this)}},R=V+" Iterator",W=!1,T=I.prototype,z=T[D]||T["@@iterator"]||k&&T[k],q=!j&&z||x(k),Y=V==="Array"&&T.entries||z;if(Y&&(w=d(Y.call(new I)))!==Object.prototype&&w.next&&(o||d(w)===N||(h?h(w,N):c(w[D])||g(w,D,C)),f(w,R,!0,!0),o&&(v[R]=C)),b&&k==="values"&&z&&z.name!=="values"&&(!o&&E?m(T,"name","values"):(W=!0,q=function(){return a(z,this)})),k)if(S={values:x("values"),keys:M?q:x("keys"),entries:x("entries")},A)for(_ in S)(j||W||!(_ in T))&&g(T,_,S[_]);else i({target:V,proto:!0,forced:j||W},S);return o&&!A||T[D]===q||g(T,D,q,{name:k}),v[V]=q,S}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(t,n,s){var i,a,o,l=t("../internals/fails"),c=t("../internals/is-callable"),u=t("../internals/is-object"),d=t("../internals/object-create"),h=t("../internals/object-get-prototype-of"),f=t("../internals/define-built-in"),m=t("../internals/well-known-symbol"),g=t("../internals/is-pure"),p=m("iterator"),v=!1;[].keys&&("next"in(o=[].keys())?(a=h(h(o)))!==Object.prototype&&(i=a):v=!0),!u(i)||l(function(){var y={};return i[p].call(y)!==y})?i={}:g&&(i=d(i)),c(i[p])||f(i,p,function(){return this}),n.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:v}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(t,n,s){arguments[4][276][0].apply(s,arguments)},{dup:276}],299:[function(t,n,s){var i=t("../internals/to-length");n.exports=function(a){return i(a.length)}},{"../internals/to-length":343}],300:[function(t,n,s){var i=t("../internals/function-uncurry-this"),a=t("../internals/fails"),o=t("../internals/is-callable"),l=t("../internals/has-own-property"),c=t("../internals/descriptors"),u=t("../internals/function-name").CONFIGURABLE,d=t("../internals/inspect-source"),h=t("../internals/internal-state"),f=h.enforce,m=h.get,g=String,p=Object.defineProperty,v=i("".slice),y=i("".replace),b=i([].join),E=c&&!a(function(){return p(function(){},"length",{value:8}).length!==8}),N=String(String).split("String"),j=n.exports=function(D,C,I){v(g(C),0,7)==="Symbol("&&(C="["+y(g(C),/^Symbol\(([^)]*)\)/,"$1")+"]"),I&&I.getter&&(C="get "+C),I&&I.setter&&(C="set "+C),(!l(D,"name")||u&&D.name!==C)&&(c?p(D,"name",{value:C,configurable:!0}):D.name=C),E&&I&&l(I,"arity")&&D.length!==I.arity&&p(D,"length",{value:I.arity});try{I&&l(I,"constructor")&&I.constructor?c&&p(D,"prototype",{writable:!1}):D.prototype&&(D.prototype=void 0)}catch{}var V=f(D);return l(V,"source")||(V.source=b(N,typeof C=="string"?C:"")),D};Function.prototype.toString=j(function(){return o(this)&&m(this).source||d(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(t,n,s){var i=Math.ceil,a=Math.floor;n.exports=Math.trunc||function(o){var l=+o;return(l>0?a:i)(l)}},{}],302:[function(t,n,s){var i,a,o,l,c,u=t("../internals/global"),d=t("../internals/function-bind-context"),h=t("../internals/object-get-own-property-descriptor").f,f=t("../internals/task").set,m=t("../internals/queue"),g=t("../internals/engine-is-ios"),p=t("../internals/engine-is-ios-pebble"),v=t("../internals/engine-is-webos-webkit"),y=t("../internals/engine-is-node"),b=u.MutationObserver||u.WebKitMutationObserver,E=u.document,N=u.process,j=u.Promise,D=h(u,"queueMicrotask"),C=D&&D.value;if(!C){var I=new m,V=function(){var B,P;for(y&&(B=N.domain)&&B.exit();P=I.get();)try{P()}catch(k){throw I.head&&i(),k}B&&B.enter()};g||y||v||!b||!E?!p&&j&&j.resolve?((l=j.resolve(void 0)).constructor=j,c=d(l.then,l),i=function(){c(V)}):y?i=function(){N.nextTick(V)}:(f=d(f,u),i=function(){f(V)}):(a=!0,o=E.createTextNode(""),new b(V).observe(o,{characterData:!0}),i=function(){o.data=a=!a}),C=function(B){I.head||i(),I.add(B)}}n.exports=C},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(t,n,s){var i=t("../internals/a-callable"),a=TypeError,o=function(l){var c,u;this.promise=new l(function(d,h){if(c!==void 0||u!==void 0)throw new a("Bad Promise constructor");c=d,u=h}),this.resolve=i(c),this.reject=i(u)};n.exports.f=function(l){return new o(l)}},{"../internals/a-callable":222}],304:[function(t,n,s){var i=t("../internals/is-regexp"),a=TypeError;n.exports=function(o){if(i(o))throw new a("The method doesn't accept regular expressions");return o}},{"../internals/is-regexp":291}],305:[function(t,n,s){var i=t("../internals/descriptors"),a=t("../internals/function-uncurry-this"),o=t("../internals/function-call"),l=t("../internals/fails"),c=t("../internals/object-keys"),u=t("../internals/object-get-own-property-symbols"),d=t("../internals/object-property-is-enumerable"),h=t("../internals/to-object"),f=t("../internals/indexed-object"),m=Object.assign,g=Object.defineProperty,p=a([].concat);n.exports=!m||l(function(){if(i&&m({b:1},m(g({},"a",{enumerable:!0,get:function(){g(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var v={},y={},b=Symbol("assign detection");return v[b]=7,"abcdefghijklmnopqrst".split("").forEach(function(E){y[E]=E}),m({},v)[b]!==7||c(m({},y)).join("")!=="abcdefghijklmnopqrst"})?function(v,y){for(var b=h(v),E=arguments.length,N=1,j=u.f,D=d.f;E>N;)for(var C,I=f(arguments[N++]),V=j?p(c(I),j(I)):c(I),B=V.length,P=0;B>P;)C=V[P++],i&&!o(D,I,C)||(b[C]=I[C]);return b}:m},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(t,n,s){var i,a=t("../internals/an-object"),o=t("../internals/object-define-properties"),l=t("../internals/enum-bug-keys"),c=t("../internals/hidden-keys"),u=t("../internals/html"),d=t("../internals/document-create-element"),h=t("../internals/shared-key"),f=h("IE_PROTO"),m=function(){},g=function(y){return"<script>"+y+"<\/script>"},p=function(y){y.write(g("")),y.close();var b=y.parentWindow.Object;return y=null,b},v=function(){try{i=new ActiveXObject("htmlfile")}catch{}var y,b;v=typeof document<"u"?document.domain&&i?p(i):((b=d("iframe")).style.display="none",u.appendChild(b),b.src="javascript:",(y=b.contentWindow.document).open(),y.write(g("document.F=Object")),y.close(),y.F):p(i);for(var E=l.length;E--;)delete v.prototype[l[E]];return v()};c[f]=!0,n.exports=Object.create||function(y,b){var E;return y!==null?(m.prototype=a(y),E=new m,m.prototype=null,E[f]=y):E=v(),b===void 0?E:o.f(E,b)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(t,n,s){var i=t("../internals/descriptors"),a=t("../internals/v8-prototype-define-bug"),o=t("../internals/object-define-property"),l=t("../internals/an-object"),c=t("../internals/to-indexed-object"),u=t("../internals/object-keys");s.f=i&&!a?Object.defineProperties:function(d,h){l(d);for(var f,m=c(h),g=u(h),p=g.length,v=0;p>v;)o.f(d,f=g[v++],m[f]);return d}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(t,n,s){var i=t("../internals/descriptors"),a=t("../internals/ie8-dom-define"),o=t("../internals/v8-prototype-define-bug"),l=t("../internals/an-object"),c=t("../internals/to-property-key"),u=TypeError,d=Object.defineProperty,h=Object.getOwnPropertyDescriptor;s.f=i?o?function(f,m,g){if(l(f),m=c(m),l(g),typeof f=="function"&&m==="prototype"&&"value"in g&&"writable"in g&&!g.writable){var p=h(f,m);p&&p.writable&&(f[m]=g.value,g={configurable:"configurable"in g?g.configurable:p.configurable,enumerable:"enumerable"in g?g.enumerable:p.enumerable,writable:!1})}return d(f,m,g)}:d:function(f,m,g){if(l(f),m=c(m),l(g),a)try{return d(f,m,g)}catch{}if("get"in g||"set"in g)throw new u("Accessors not supported");return"value"in g&&(f[m]=g.value),f}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(t,n,s){var i=t("../internals/descriptors"),a=t("../internals/function-call"),o=t("../internals/object-property-is-enumerable"),l=t("../internals/create-property-descriptor"),c=t("../internals/to-indexed-object"),u=t("../internals/to-property-key"),d=t("../internals/has-own-property"),h=t("../internals/ie8-dom-define"),f=Object.getOwnPropertyDescriptor;s.f=i?f:function(m,g){if(m=c(m),g=u(g),h)try{return f(m,g)}catch{}if(d(m,g))return l(!a(o.f,m,g),m[g])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(t,n,s){var i=t("../internals/classof-raw"),a=t("../internals/to-indexed-object"),o=t("../internals/object-get-own-property-names").f,l=t("../internals/array-slice-simple"),c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(u){return c&&i(u)==="Window"?function(d){try{return o(d)}catch{return l(c)}}(u):o(a(u))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(t,n,s){var i=t("../internals/object-keys-internal"),a=t("../internals/enum-bug-keys").concat("length","prototype");s.f=Object.getOwnPropertyNames||function(o){return i(o,a)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(t,n,s){s.f=Object.getOwnPropertySymbols},{}],313:[function(t,n,s){var i=t("../internals/has-own-property"),a=t("../internals/is-callable"),o=t("../internals/to-object"),l=t("../internals/shared-key"),c=t("../internals/correct-prototype-getter"),u=l("IE_PROTO"),d=Object,h=d.prototype;n.exports=c?d.getPrototypeOf:function(f){var m=o(f);if(i(m,u))return m[u];var g=m.constructor;return a(g)&&m instanceof g?g.prototype:m instanceof d?h:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(t,n,s){var i=t("../internals/function-uncurry-this");n.exports=i({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(t,n,s){var i=t("../internals/function-uncurry-this"),a=t("../internals/has-own-property"),o=t("../internals/to-indexed-object"),l=t("../internals/array-includes").indexOf,c=t("../internals/hidden-keys"),u=i([].push);n.exports=function(d,h){var f,m=o(d),g=0,p=[];for(f in m)!a(c,f)&&a(m,f)&&u(p,f);for(;h.length>g;)a(m,f=h[g++])&&(~l(p,f)||u(p,f));return p}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(t,n,s){var i=t("../internals/object-keys-internal"),a=t("../internals/enum-bug-keys");n.exports=Object.keys||function(o){return i(o,a)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(t,n,s){var i={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,o=a&&!i.call({1:2},1);s.f=o?function(l){var c=a(this,l);return!!c&&c.enumerable}:i},{}],318:[function(t,n,s){var i=t("../internals/function-uncurry-this-accessor"),a=t("../internals/an-object"),o=t("../internals/a-possible-prototype");n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var l,c=!1,u={};try{(l=i(Object.prototype,"__proto__","set"))(u,[]),c=u instanceof Array}catch{}return function(d,h){return a(d),o(h),c?l(d,h):d.__proto__=h,d}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(t,n,s){var i=t("../internals/descriptors"),a=t("../internals/fails"),o=t("../internals/function-uncurry-this"),l=t("../internals/object-get-prototype-of"),c=t("../internals/object-keys"),u=t("../internals/to-indexed-object"),d=o(t("../internals/object-property-is-enumerable").f),h=o([].push),f=i&&a(function(){var g=Object.create(null);return g[2]=2,!d(g,2)}),m=function(g){return function(p){for(var v,y=u(p),b=c(y),E=f&&l(y)===null,N=b.length,j=0,D=[];N>j;)v=b[j++],i&&!(E?v in y:d(y,v))||h(D,g?[v,y[v]]:y[v]);return D}};n.exports={entries:m(!0),values:m(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(t,n,s){var i=t("../internals/function-call"),a=t("../internals/is-callable"),o=t("../internals/is-object"),l=TypeError;n.exports=function(c,u){var d,h;if(u==="string"&&a(d=c.toString)&&!o(h=i(d,c))||a(d=c.valueOf)&&!o(h=i(d,c))||u!=="string"&&a(d=c.toString)&&!o(h=i(d,c)))return h;throw new l("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(t,n,s){var i=t("../internals/get-built-in"),a=t("../internals/function-uncurry-this"),o=t("../internals/object-get-own-property-names"),l=t("../internals/object-get-own-property-symbols"),c=t("../internals/an-object"),u=a([].concat);n.exports=i("Reflect","ownKeys")||function(d){var h=o.f(c(d)),f=l.f;return f?u(h,f(d)):h}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(t,n,s){var i=t("../internals/global");n.exports=i},{"../internals/global":274}],323:[function(t,n,s){n.exports=function(i){try{return{error:!1,value:i()}}catch(a){return{error:!0,value:a}}}},{}],324:[function(t,n,s){var i=t("../internals/global"),a=t("../internals/promise-native-constructor"),o=t("../internals/is-callable"),l=t("../internals/is-forced"),c=t("../internals/inspect-source"),u=t("../internals/well-known-symbol"),d=t("../internals/engine-is-browser"),h=t("../internals/engine-is-deno"),f=t("../internals/is-pure"),m=t("../internals/engine-v8-version"),g=a&&a.prototype,p=u("species"),v=!1,y=o(i.PromiseRejectionEvent),b=l("Promise",function(){var E=c(a),N=E!==String(a);if(!N&&m===66||f&&(!g.catch||!g.finally))return!0;if(!m||m<51||!/native code/.test(E)){var j=new a(function(C){C(1)}),D=function(C){C(function(){},function(){})};if((j.constructor={})[p]=D,!(v=j.then(function(){})instanceof D))return!0}return!N&&(d||h)&&!y});n.exports={CONSTRUCTOR:b,REJECTION_EVENT:y,SUBCLASSING:v}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(t,n,s){var i=t("../internals/global");n.exports=i.Promise},{"../internals/global":274}],326:[function(t,n,s){var i=t("../internals/an-object"),a=t("../internals/is-object"),o=t("../internals/new-promise-capability");n.exports=function(l,c){if(i(l),a(c)&&c.constructor===l)return c;var u=o.f(l);return(0,u.resolve)(c),u.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(t,n,s){var i=t("../internals/promise-native-constructor"),a=t("../internals/check-correctness-of-iteration"),o=t("../internals/promise-constructor-detection").CONSTRUCTOR;n.exports=o||!a(function(l){i.all(l).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(t,n,s){var i=function(){this.head=null,this.tail=null};i.prototype={add:function(a){var o={item:a,next:null},l=this.tail;l?l.next=o:this.head=o,this.tail=o},get:function(){var a=this.head;if(a)return(this.head=a.next)===null&&(this.tail=null),a.item}},n.exports=i},{}],329:[function(t,n,s){var i=t("../internals/is-null-or-undefined"),a=TypeError;n.exports=function(o){if(i(o))throw new a("Can't call method on "+o);return o}},{"../internals/is-null-or-undefined":288}],330:[function(t,n,s){var i=t("../internals/get-built-in"),a=t("../internals/define-built-in-accessor"),o=t("../internals/well-known-symbol"),l=t("../internals/descriptors"),c=o("species");n.exports=function(u){var d=i(u);l&&d&&!d[c]&&a(d,c,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(t,n,s){var i=t("../internals/object-define-property").f,a=t("../internals/has-own-property"),o=t("../internals/well-known-symbol")("toStringTag");n.exports=function(l,c,u){l&&!u&&(l=l.prototype),l&&!a(l,o)&&i(l,o,{configurable:!0,value:c})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(t,n,s){var i=t("../internals/shared"),a=t("../internals/uid"),o=i("keys");n.exports=function(l){return o[l]||(o[l]=a(l))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(t,n,s){var i=t("../internals/global"),a=t("../internals/define-global-property"),o=i["__core-js_shared__"]||a("__core-js_shared__",{});n.exports=o},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(t,n,s){var i=t("../internals/is-pure"),a=t("../internals/shared-store");(n.exports=function(o,l){return a[o]||(a[o]=l!==void 0?l:{})})("versions",[]).push({version:"3.33.0",mode:i?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(t,n,s){var i=t("../internals/an-object"),a=t("../internals/a-constructor"),o=t("../internals/is-null-or-undefined"),l=t("../internals/well-known-symbol")("species");n.exports=function(c,u){var d,h=i(c).constructor;return h===void 0||o(d=i(h)[l])?u:a(d)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(t,n,s){var i=t("../internals/engine-v8-version"),a=t("../internals/fails"),o=t("../internals/global").String;n.exports=!!Object.getOwnPropertySymbols&&!a(function(){var l=Symbol("symbol detection");return!o(l)||!(Object(l)instanceof Symbol)||!Symbol.sham&&i&&i<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(t,n,s){var i=t("../internals/function-call"),a=t("../internals/get-built-in"),o=t("../internals/well-known-symbol"),l=t("../internals/define-built-in");n.exports=function(){var c=a("Symbol"),u=c&&c.prototype,d=u&&u.valueOf,h=o("toPrimitive");u&&!u[h]&&l(u,h,function(f){return i(d,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(t,n,s){var i=t("../internals/symbol-constructor-detection");n.exports=i&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(t,n,s){var i,a,o,l,c=t("../internals/global"),u=t("../internals/function-apply"),d=t("../internals/function-bind-context"),h=t("../internals/is-callable"),f=t("../internals/has-own-property"),m=t("../internals/fails"),g=t("../internals/html"),p=t("../internals/array-slice"),v=t("../internals/document-create-element"),y=t("../internals/validate-arguments-length"),b=t("../internals/engine-is-ios"),E=t("../internals/engine-is-node"),N=c.setImmediate,j=c.clearImmediate,D=c.process,C=c.Dispatch,I=c.Function,V=c.MessageChannel,B=c.String,P=0,k={};m(function(){i=c.location});var M=function(_){if(f(k,_)){var x=k[_];delete k[_],x()}},A=function(_){return function(){M(_)}},w=function(_){M(_.data)},S=function(_){c.postMessage(B(_),i.protocol+"//"+i.host)};N&&j||(N=function(_){y(arguments.length,1);var x=h(_)?_:I(_),R=p(arguments,1);return k[++P]=function(){u(x,void 0,R)},a(P),P},j=function(_){delete k[_]},E?a=function(_){D.nextTick(A(_))}:C&&C.now?a=function(_){C.now(A(_))}:V&&!b?(l=(o=new V).port2,o.port1.onmessage=w,a=d(l.postMessage,l)):c.addEventListener&&h(c.postMessage)&&!c.importScripts&&i&&i.protocol!=="file:"&&!m(S)?(a=S,c.addEventListener("message",w,!1)):a="onreadystatechange"in v("script")?function(_){g.appendChild(v("script")).onreadystatechange=function(){g.removeChild(this),M(_)}}:function(_){setTimeout(A(_),0)}),n.exports={set:N,clear:j}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(t,n,s){var i=t("../internals/to-integer-or-infinity"),a=Math.max,o=Math.min;n.exports=function(l,c){var u=i(l);return u<0?a(u+c,0):o(u,c)}},{"../internals/to-integer-or-infinity":342}],341:[function(t,n,s){var i=t("../internals/indexed-object"),a=t("../internals/require-object-coercible");n.exports=function(o){return i(a(o))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(t,n,s){var i=t("../internals/math-trunc");n.exports=function(a){var o=+a;return o!=o||o===0?0:i(o)}},{"../internals/math-trunc":301}],343:[function(t,n,s){var i=t("../internals/to-integer-or-infinity"),a=Math.min;n.exports=function(o){return o>0?a(i(o),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(t,n,s){var i=t("../internals/require-object-coercible"),a=Object;n.exports=function(o){return a(i(o))}},{"../internals/require-object-coercible":329}],345:[function(t,n,s){var i=t("../internals/function-call"),a=t("../internals/is-object"),o=t("../internals/is-symbol"),l=t("../internals/get-method"),c=t("../internals/ordinary-to-primitive"),u=t("../internals/well-known-symbol"),d=TypeError,h=u("toPrimitive");n.exports=function(f,m){if(!a(f)||o(f))return f;var g,p=l(f,h);if(p){if(m===void 0&&(m="default"),g=i(p,f,m),!a(g)||o(g))return g;throw new d("Can't convert object to primitive value")}return m===void 0&&(m="number"),c(f,m)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(t,n,s){var i=t("../internals/to-primitive"),a=t("../internals/is-symbol");n.exports=function(o){var l=i(o,"string");return a(l)?l:l+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(t,n,s){var i={};i[t("../internals/well-known-symbol")("toStringTag")]="z",n.exports=String(i)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(t,n,s){var i=t("../internals/classof"),a=String;n.exports=function(o){if(i(o)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return a(o)}},{"../internals/classof":236}],349:[function(t,n,s){var i=String;n.exports=function(a){try{return i(a)}catch{return"Object"}}},{}],350:[function(t,n,s){var i=t("../internals/function-uncurry-this"),a=0,o=Math.random(),l=i(1 .toString);n.exports=function(c){return"Symbol("+(c===void 0?"":c)+")_"+l(++a+o,36)}},{"../internals/function-uncurry-this":268}],351:[function(t,n,s){var i=t("../internals/symbol-constructor-detection");n.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(t,n,s){var i=t("../internals/descriptors"),a=t("../internals/fails");n.exports=i&&a(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(t,n,s){var i=TypeError;n.exports=function(a,o){if(a<o)throw new i("Not enough arguments");return a}},{}],354:[function(t,n,s){var i=t("../internals/global"),a=t("../internals/is-callable"),o=i.WeakMap;n.exports=a(o)&&/native code/.test(String(o))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(t,n,s){var i=t("../internals/path"),a=t("../internals/has-own-property"),o=t("../internals/well-known-symbol-wrapped"),l=t("../internals/object-define-property").f;n.exports=function(c){var u=i.Symbol||(i.Symbol={});a(u,c)||l(u,c,{value:o.f(c)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(t,n,s){var i=t("../internals/well-known-symbol");s.f=i},{"../internals/well-known-symbol":357}],357:[function(t,n,s){var i=t("../internals/global"),a=t("../internals/shared"),o=t("../internals/has-own-property"),l=t("../internals/uid"),c=t("../internals/symbol-constructor-detection"),u=t("../internals/use-symbol-as-uid"),d=i.Symbol,h=a("wks"),f=u?d.for||d:d&&d.withoutSetter||l;n.exports=function(m){return o(h,m)||(h[m]=c&&o(d,m)?d[m]:f("Symbol."+m)),h[m]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(t,n,s){var i=t("../internals/export"),a=t("../internals/array-iteration").findIndex,o=t("../internals/add-to-unscopables"),l=!0;"findIndex"in[]&&Array(1).findIndex(function(){l=!1}),i({target:"Array",proto:!0,forced:l},{findIndex:function(c){return a(this,c,arguments.length>1?arguments[1]:void 0)}}),o("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(t,n,s){var i=t("../internals/export"),a=t("../internals/array-iteration").find,o=t("../internals/add-to-unscopables"),l=!0;"find"in[]&&Array(1).find(function(){l=!1}),i({target:"Array",proto:!0,forced:l},{find:function(c){return a(this,c,arguments.length>1?arguments[1]:void 0)}}),o("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(t,n,s){var i=t("../internals/export"),a=t("../internals/array-includes").includes,o=t("../internals/fails"),l=t("../internals/add-to-unscopables");i({target:"Array",proto:!0,forced:o(function(){return!Array(1).includes()})},{includes:function(c){return a(this,c,arguments.length>1?arguments[1]:void 0)}}),l("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(t,n,s){var i=t("../internals/to-indexed-object"),a=t("../internals/add-to-unscopables"),o=t("../internals/iterators"),l=t("../internals/internal-state"),c=t("../internals/object-define-property").f,u=t("../internals/iterator-define"),d=t("../internals/create-iter-result-object"),h=t("../internals/is-pure"),f=t("../internals/descriptors"),m=l.set,g=l.getterFor("Array Iterator");n.exports=u(Array,"Array",function(v,y){m(this,{type:"Array Iterator",target:i(v),index:0,kind:y})},function(){var v=g(this),y=v.target,b=v.kind,E=v.index++;if(!y||E>=y.length)return v.target=void 0,d(void 0,!0);switch(b){case"keys":return d(E,!1);case"values":return d(y[E],!1)}return d([E,y[E]],!1)},"values");var p=o.Arguments=o.Array;if(a("keys"),a("values"),a("entries"),!h&&f&&p.name!=="values")try{c(p,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(t,n,s){var i=t("../internals/export"),a=t("../internals/get-built-in"),o=t("../internals/function-apply"),l=t("../internals/function-call"),c=t("../internals/function-uncurry-this"),u=t("../internals/fails"),d=t("../internals/is-callable"),h=t("../internals/is-symbol"),f=t("../internals/array-slice"),m=t("../internals/get-json-replacer-function"),g=t("../internals/symbol-constructor-detection"),p=String,v=a("JSON","stringify"),y=c(/./.exec),b=c("".charAt),E=c("".charCodeAt),N=c("".replace),j=c(1 .toString),D=/[\uD800-\uDFFF]/g,C=/^[\uD800-\uDBFF]$/,I=/^[\uDC00-\uDFFF]$/,V=!g||u(function(){var M=a("Symbol")("stringify detection");return v([M])!=="[null]"||v({a:M})!=="{}"||v(Object(M))!=="{}"}),B=u(function(){return v("\uDF06\uD834")!=='"\\udf06\\ud834"'||v("\uDEAD")!=='"\\udead"'}),P=function(M,A){var w=f(arguments),S=m(A);if(d(S)||M!==void 0&&!h(M))return w[1]=function(_,x){if(d(S)&&(x=l(S,this,p(_),x)),!h(x))return x},o(v,null,w)},k=function(M,A,w){var S=b(w,A-1),_=b(w,A+1);return y(C,M)&&!y(I,_)||y(I,M)&&!y(C,S)?"\\u"+j(E(M,0),16):M};v&&i({target:"JSON",stat:!0,arity:3,forced:V||B},{stringify:function(M,A,w){var S=f(arguments),_=o(V?P:v,null,S);return B&&typeof _=="string"?N(_,D,k):_}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(t,n,s){t("../internals/export")({target:"Number",stat:!0},{isNaN:function(i){return i!=i}})},{"../internals/export":259}],364:[function(t,n,s){var i=t("../internals/export"),a=t("../internals/object-assign");i({target:"Object",stat:!0,arity:2,forced:Object.assign!==a},{assign:a})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(t,n,s){var i=t("../internals/export"),a=t("../internals/symbol-constructor-detection"),o=t("../internals/fails"),l=t("../internals/object-get-own-property-symbols"),c=t("../internals/to-object");i({target:"Object",stat:!0,forced:!a||o(function(){l.f(1)})},{getOwnPropertySymbols:function(u){var d=l.f;return d?d(c(u)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(t,n,s){var i=t("../internals/export"),a=t("../internals/to-object"),o=t("../internals/object-keys");i({target:"Object",stat:!0,forced:t("../internals/fails")(function(){o(1)})},{keys:function(l){return o(a(l))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(t,n,s){var i=t("../internals/export"),a=t("../internals/object-to-array").values;i({target:"Object",stat:!0},{values:function(o){return a(o)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(t,n,s){var i=t("../internals/export"),a=t("../internals/function-call"),o=t("../internals/a-callable"),l=t("../internals/new-promise-capability"),c=t("../internals/perform"),u=t("../internals/iterate");i({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{all:function(d){var h=this,f=l.f(h),m=f.resolve,g=f.reject,p=c(function(){var v=o(h.resolve),y=[],b=0,E=1;u(d,function(N){var j=b++,D=!1;E++,a(v,h,N).then(function(C){D||(D=!0,y[j]=C,--E||m(y))},g)}),--E||m(y)});return p.error&&g(p.value),f.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(t,n,s){var i=t("../internals/export"),a=t("../internals/is-pure"),o=t("../internals/promise-constructor-detection").CONSTRUCTOR,l=t("../internals/promise-native-constructor"),c=t("../internals/get-built-in"),u=t("../internals/is-callable"),d=t("../internals/define-built-in"),h=l&&l.prototype;if(i({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(m){return this.then(void 0,m)}}),!a&&u(l)){var f=c("Promise").prototype.catch;h.catch!==f&&d(h,"catch",f,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(t,n,s){var i,a,o,l=t("../internals/export"),c=t("../internals/is-pure"),u=t("../internals/engine-is-node"),d=t("../internals/global"),h=t("../internals/function-call"),f=t("../internals/define-built-in"),m=t("../internals/object-set-prototype-of"),g=t("../internals/set-to-string-tag"),p=t("../internals/set-species"),v=t("../internals/a-callable"),y=t("../internals/is-callable"),b=t("../internals/is-object"),E=t("../internals/an-instance"),N=t("../internals/species-constructor"),j=t("../internals/task").set,D=t("../internals/microtask"),C=t("../internals/host-report-errors"),I=t("../internals/perform"),V=t("../internals/queue"),B=t("../internals/internal-state"),P=t("../internals/promise-native-constructor"),k=t("../internals/promise-constructor-detection"),M=t("../internals/new-promise-capability"),A=k.CONSTRUCTOR,w=k.REJECTION_EVENT,S=k.SUBCLASSING,_=B.getterFor("Promise"),x=B.set,R=P&&P.prototype,W=P,T=R,z=d.TypeError,q=d.document,Y=d.process,U=M.f,Q=U,F=!!(q&&q.createEvent&&d.dispatchEvent),O=function(de){var Te;return!(!b(de)||!y(Te=de.then))&&Te},K=function(de,Te){var De,_e,fe,ae=Te.value,ve=Te.state===1,Ee=ve?de.ok:de.fail,Fe=de.resolve,Ue=de.reject,Ge=de.domain;try{Ee?(ve||(Te.rejection===2&&ce(Te),Te.rejection=1),Ee===!0?De=ae:(Ge&&Ge.enter(),De=Ee(ae),Ge&&(Ge.exit(),fe=!0)),De===de.promise?Ue(new z("Promise-chain cycle")):(_e=O(De))?h(_e,De,Fe,Ue):Fe(De)):Ue(ae)}catch(Ve){Ge&&!fe&&Ge.exit(),Ue(Ve)}},ne=function(de,Te){de.notified||(de.notified=!0,D(function(){for(var De,_e=de.reactions;De=_e.get();)K(De,de);de.notified=!1,Te&&!de.rejection&&ie(de)}))},ee=function(de,Te,De){var _e,fe;F?((_e=q.createEvent("Event")).promise=Te,_e.reason=De,_e.initEvent(de,!1,!0),d.dispatchEvent(_e)):_e={promise:Te,reason:De},!w&&(fe=d["on"+de])?fe(_e):de==="unhandledrejection"&&C("Unhandled promise rejection",De)},ie=function(de){h(j,d,function(){var Te,De=de.facade,_e=de.value;if(he(de)&&(Te=I(function(){u?Y.emit("unhandledRejection",_e,De):ee("unhandledrejection",De,_e)}),de.rejection=u||he(de)?2:1,Te.error))throw Te.value})},he=function(de){return de.rejection!==1&&!de.parent},ce=function(de){h(j,d,function(){var Te=de.facade;u?Y.emit("rejectionHandled",Te):ee("rejectionhandled",Te,de.value)})},te=function(de,Te,De){return function(_e){de(Te,_e,De)}},se=function(de,Te,De){de.done||(de.done=!0,De&&(de=De),de.value=Te,de.state=2,ne(de,!0))},ge=function(de,Te,De){if(!de.done){de.done=!0,De&&(de=De);try{if(de.facade===Te)throw new z("Promise can't be resolved itself");var _e=O(Te);_e?D(function(){var fe={done:!1};try{h(_e,Te,te(ge,fe,de),te(se,fe,de))}catch(ae){se(fe,ae,de)}}):(de.value=Te,de.state=1,ne(de,!1))}catch(fe){se({done:!1},fe,de)}}};if(A&&(T=(W=function(de){E(this,T),v(de),h(i,this);var Te=_(this);try{de(te(ge,Te),te(se,Te))}catch(De){se(Te,De)}}).prototype,(i=function(de){x(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new V,rejection:!1,state:0,value:void 0})}).prototype=f(T,"then",function(de,Te){var De=_(this),_e=U(N(this,W));return De.parent=!0,_e.ok=!y(de)||de,_e.fail=y(Te)&&Te,_e.domain=u?Y.domain:void 0,De.state===0?De.reactions.add(_e):D(function(){K(_e,De)}),_e.promise}),a=function(){var de=new i,Te=_(de);this.promise=de,this.resolve=te(ge,Te),this.reject=te(se,Te)},M.f=U=function(de){return de===W||de===void 0?new a(de):Q(de)},!c&&y(P)&&R!==Object.prototype)){o=R.then,S||f(R,"then",function(de,Te){var De=this;return new W(function(_e,fe){h(o,De,_e,fe)}).then(de,Te)},{unsafe:!0});try{delete R.constructor}catch{}m&&m(R,T)}l({global:!0,constructor:!0,wrap:!0,forced:A},{Promise:W}),g(W,"Promise",!1,!0),p("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(t,n,s){var i=t("../internals/export"),a=t("../internals/is-pure"),o=t("../internals/promise-native-constructor"),l=t("../internals/fails"),c=t("../internals/get-built-in"),u=t("../internals/is-callable"),d=t("../internals/species-constructor"),h=t("../internals/promise-resolve"),f=t("../internals/define-built-in"),m=o&&o.prototype;if(i({target:"Promise",proto:!0,real:!0,forced:!!o&&l(function(){m.finally.call({then:function(){}},function(){})})},{finally:function(p){var v=d(this,c("Promise")),y=u(p);return this.then(y?function(b){return h(v,p()).then(function(){return b})}:p,y?function(b){return h(v,p()).then(function(){throw b})}:p)}}),!a&&u(o)){var g=c("Promise").prototype.finally;m.finally!==g&&f(m,"finally",g,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(t,n,s){t("../modules/es.promise.constructor"),t("../modules/es.promise.all"),t("../modules/es.promise.catch"),t("../modules/es.promise.race"),t("../modules/es.promise.reject"),t("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(t,n,s){var i=t("../internals/export"),a=t("../internals/function-call"),o=t("../internals/a-callable"),l=t("../internals/new-promise-capability"),c=t("../internals/perform"),u=t("../internals/iterate");i({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{race:function(d){var h=this,f=l.f(h),m=f.reject,g=c(function(){var p=o(h.resolve);u(d,function(v){a(p,h,v).then(f.resolve,m)})});return g.error&&m(g.value),f.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(t,n,s){var i=t("../internals/export"),a=t("../internals/function-call"),o=t("../internals/new-promise-capability");i({target:"Promise",stat:!0,forced:t("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(l){var c=o.f(this);return a(c.reject,void 0,l),c.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(t,n,s){var i=t("../internals/export"),a=t("../internals/get-built-in"),o=t("../internals/is-pure"),l=t("../internals/promise-native-constructor"),c=t("../internals/promise-constructor-detection").CONSTRUCTOR,u=t("../internals/promise-resolve"),d=a("Promise"),h=o&&!c;i({target:"Promise",stat:!0,forced:o||c},{resolve:function(f){return u(h&&this===d?l:this,f)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(t,n,s){var i=t("../internals/export"),a=t("../internals/function-uncurry-this"),o=t("../internals/to-absolute-index"),l=RangeError,c=String.fromCharCode,u=String.fromCodePoint,d=a([].join);i({target:"String",stat:!0,arity:1,forced:!!u&&u.length!==1},{fromCodePoint:function(h){for(var f,m=[],g=arguments.length,p=0;g>p;){if(f=+arguments[p++],o(f,1114111)!==f)throw new l(f+" is not a valid code point");m[p]=f<65536?c(f):c(55296+((f-=65536)>>10),f%1024+56320)}return d(m,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(t,n,s){var i=t("../internals/export"),a=t("../internals/function-uncurry-this"),o=t("../internals/not-a-regexp"),l=t("../internals/require-object-coercible"),c=t("../internals/to-string"),u=t("../internals/correct-is-regexp-logic"),d=a("".indexOf);i({target:"String",proto:!0,forced:!u("includes")},{includes:function(h){return!!~d(c(l(this)),c(o(h)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(t,n,s){t("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(t,n,s){var i=t("../internals/export"),a=t("../internals/global"),o=t("../internals/function-call"),l=t("../internals/function-uncurry-this"),c=t("../internals/is-pure"),u=t("../internals/descriptors"),d=t("../internals/symbol-constructor-detection"),h=t("../internals/fails"),f=t("../internals/has-own-property"),m=t("../internals/object-is-prototype-of"),g=t("../internals/an-object"),p=t("../internals/to-indexed-object"),v=t("../internals/to-property-key"),y=t("../internals/to-string"),b=t("../internals/create-property-descriptor"),E=t("../internals/object-create"),N=t("../internals/object-keys"),j=t("../internals/object-get-own-property-names"),D=t("../internals/object-get-own-property-names-external"),C=t("../internals/object-get-own-property-symbols"),I=t("../internals/object-get-own-property-descriptor"),V=t("../internals/object-define-property"),B=t("../internals/object-define-properties"),P=t("../internals/object-property-is-enumerable"),k=t("../internals/define-built-in"),M=t("../internals/define-built-in-accessor"),A=t("../internals/shared"),w=t("../internals/shared-key"),S=t("../internals/hidden-keys"),_=t("../internals/uid"),x=t("../internals/well-known-symbol"),R=t("../internals/well-known-symbol-wrapped"),W=t("../internals/well-known-symbol-define"),T=t("../internals/symbol-define-to-primitive"),z=t("../internals/set-to-string-tag"),q=t("../internals/internal-state"),Y=t("../internals/array-iteration").forEach,U=w("hidden"),Q=q.set,F=q.getterFor("Symbol"),O=Object.prototype,K=a.Symbol,ne=K&&K.prototype,ee=a.RangeError,ie=a.TypeError,he=a.QObject,ce=I.f,te=V.f,se=D.f,ge=P.f,de=l([].push),Te=A("symbols"),De=A("op-symbols"),_e=A("wks"),fe=!he||!he.prototype||!he.prototype.findChild,ae=function(be,Be,He){var Me=ce(O,Be);Me&&delete O[Be],te(be,Be,He),Me&&be!==O&&te(O,Be,Me)},ve=u&&h(function(){return E(te({},"a",{get:function(){return te(this,"a",{value:7}).a}})).a!==7})?ae:te,Ee=function(be,Be){var He=Te[be]=E(ne);return Q(He,{type:"Symbol",tag:be,description:Be}),u||(He.description=Be),He},Fe=function(be,Be,He){be===O&&Fe(De,Be,He),g(be);var Me=v(Be);return g(He),f(Te,Me)?(He.enumerable?(f(be,U)&&be[U][Me]&&(be[U][Me]=!1),He=E(He,{enumerable:b(0,!1)})):(f(be,U)||te(be,U,b(1,{})),be[U][Me]=!0),ve(be,Me,He)):te(be,Me,He)},Ue=function(be,Be){g(be);var He=p(Be),Me=N(He).concat(Ke(He));return Y(Me,function(Le){u&&!o(Ge,He,Le)||Fe(be,Le,He[Le])}),be},Ge=function(be){var Be=v(be),He=o(ge,this,Be);return!(this===O&&f(Te,Be)&&!f(De,Be))&&(!(He||!f(this,Be)||!f(Te,Be)||f(this,U)&&this[U][Be])||He)},Ve=function(be,Be){var He=p(be),Me=v(Be);if(He!==O||!f(Te,Me)||f(De,Me)){var Le=ce(He,Me);return!Le||!f(Te,Me)||f(He,U)&&He[U][Me]||(Le.enumerable=!0),Le}},ze=function(be){var Be=se(p(be)),He=[];return Y(Be,function(Me){f(Te,Me)||f(S,Me)||de(He,Me)}),He},Ke=function(be){var Be=be===O,He=se(Be?De:p(be)),Me=[];return Y(He,function(Le){!f(Te,Le)||Be&&!f(O,Le)||de(Me,Te[Le])}),Me};d||(k(ne=(K=function(){if(m(ne,this))throw new ie("Symbol is not a constructor");var be=arguments.length&&arguments[0]!==void 0?y(arguments[0]):void 0,Be=_(be),He=function(Me){this===O&&o(He,De,Me),f(this,U)&&f(this[U],Be)&&(this[U][Be]=!1);var Le=b(1,Me);try{ve(this,Be,Le)}catch(Xe){if(!(Xe instanceof ee))throw Xe;ae(this,Be,Le)}};return u&&fe&&ve(O,Be,{configurable:!0,set:He}),Ee(Be,be)}).prototype,"toString",function(){return F(this).tag}),k(K,"withoutSetter",function(be){return Ee(_(be),be)}),P.f=Ge,V.f=Fe,B.f=Ue,I.f=Ve,j.f=D.f=ze,C.f=Ke,R.f=function(be){return Ee(x(be),be)},u&&(M(ne,"description",{configurable:!0,get:function(){return F(this).description}}),c||k(O,"propertyIsEnumerable",Ge,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!d,sham:!d},{Symbol:K}),Y(N(_e),function(be){W(be)}),i({target:"Symbol",stat:!0,forced:!d},{useSetter:function(){fe=!0},useSimple:function(){fe=!1}}),i({target:"Object",stat:!0,forced:!d,sham:!u},{create:function(be,Be){return Be===void 0?E(be):Ue(E(be),Be)},defineProperty:Fe,defineProperties:Ue,getOwnPropertyDescriptor:Ve}),i({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:ze}),T(),z(K,"Symbol"),S[U]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(t,n,s){var i=t("../internals/export"),a=t("../internals/get-built-in"),o=t("../internals/has-own-property"),l=t("../internals/to-string"),c=t("../internals/shared"),u=t("../internals/symbol-registry-detection"),d=c("string-to-symbol-registry"),h=c("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!u},{for:function(f){var m=l(f);if(o(d,m))return d[m];var g=a("Symbol")(m);return d[m]=g,h[g]=m,g}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(t,n,s){t("../modules/es.symbol.constructor"),t("../modules/es.symbol.for"),t("../modules/es.symbol.key-for"),t("../modules/es.json.stringify"),t("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(t,n,s){var i=t("../internals/export"),a=t("../internals/has-own-property"),o=t("../internals/is-symbol"),l=t("../internals/try-to-string"),c=t("../internals/shared"),u=t("../internals/symbol-registry-detection"),d=c("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!u},{keyFor:function(h){if(!o(h))throw new TypeError(l(h)+" is not a symbol");if(a(d,h))return d[h]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(t,n,s){function i(a){return Object.prototype.toString.call(a)}s.isArray=function(a){return Array.isArray?Array.isArray(a):i(a)==="[object Array]"},s.isBoolean=function(a){return typeof a=="boolean"},s.isNull=function(a){return a===null},s.isNullOrUndefined=function(a){return a==null},s.isNumber=function(a){return typeof a=="number"},s.isString=function(a){return typeof a=="string"},s.isSymbol=function(a){return typeof a=="symbol"},s.isUndefined=function(a){return a===void 0},s.isRegExp=function(a){return i(a)==="[object RegExp]"},s.isObject=function(a){return typeof a=="object"&&a!==null},s.isDate=function(a){return i(a)==="[object Date]"},s.isError=function(a){return i(a)==="[object Error]"||a instanceof Error},s.isFunction=function(a){return typeof a=="function"},s.isPrimitive=function(a){return a===null||typeof a=="boolean"||typeof a=="number"||typeof a=="string"||typeof a=="symbol"||a===void 0},s.isBuffer=t("buffer").Buffer.isBuffer},{buffer:220}],384:[function(t,n,s){(function(i){(function(){var a=t("elliptic"),o=t("bn.js");n.exports=function(d){return new c(d)};var l={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function c(d){this.curveType=l[d],this.curveType||(this.curveType={name:d}),this.curve=new a.ec(this.curveType.name),this.keys=void 0}function u(d,h,f){Array.isArray(d)||(d=d.toArray());var m=new i(d);if(f&&m.length<f){var g=new i(f-m.length);g.fill(0),m=i.concat([g,m])}return h?m.toString(h):m}l.p224=l.secp224r1,l.p256=l.secp256r1=l.prime256v1,l.p192=l.secp192r1=l.prime192v1,l.p384=l.secp384r1,l.p521=l.secp521r1,c.prototype.generateKeys=function(d,h){return this.keys=this.curve.genKeyPair(),this.getPublicKey(d,h)},c.prototype.computeSecret=function(d,h,f){return h=h||"utf8",i.isBuffer(d)||(d=new i(d,h)),u(this.curve.keyFromPublic(d).getPublic().mul(this.keys.getPrivate()).getX(),f,this.curveType.byteLength)},c.prototype.getPublicKey=function(d,h){var f=this.keys.getPublic(h==="compressed",!0);return h==="hybrid"&&(f[f.length-1]%2?f[0]=7:f[0]=6),u(f,d)},c.prototype.getPrivateKey=function(d){return u(this.keys.getPrivate(),d)},c.prototype.setPublicKey=function(d,h){return h=h||"utf8",i.isBuffer(d)||(d=new i(d,h)),this.keys._importPublic(d),this},c.prototype.setPrivateKey=function(d,h){h=h||"utf8",i.isBuffer(d)||(d=new i(d,h));var f=new o(d);return f=f.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(f),this}}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(t,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],386:[function(t,n,s){var i=t("inherits"),a=t("md5.js"),o=t("ripemd160"),l=t("sha.js"),c=t("cipher-base");function u(d){c.call(this,"digest"),this._hash=d}i(u,c),u.prototype._update=function(d){this._hash.update(d)},u.prototype._final=function(){return this._hash.digest()},n.exports=function(d){return(d=d.toLowerCase())==="md5"?new a:d==="rmd160"||d==="ripemd160"?new o:new u(l(d))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(t,n,s){var i=t("md5.js");n.exports=function(a){return new i().update(a).digest()}},{"md5.js":450}],388:[function(t,n,s){var i=t("inherits"),a=t("./legacy"),o=t("cipher-base"),l=t("safe-buffer").Buffer,c=t("create-hash/md5"),u=t("ripemd160"),d=t("sha.js"),h=l.alloc(128);function f(m,g){o.call(this,"digest"),typeof g=="string"&&(g=l.from(g));var p=m==="sha512"||m==="sha384"?128:64;this._alg=m,this._key=g,g.length>p?g=(m==="rmd160"?new u:d(m)).update(g).digest():g.length<p&&(g=l.concat([g,h],p));for(var v=this._ipad=l.allocUnsafe(p),y=this._opad=l.allocUnsafe(p),b=0;b<p;b++)v[b]=54^g[b],y[b]=92^g[b];this._hash=m==="rmd160"?new u:d(m),this._hash.update(v)}i(f,o),f.prototype._update=function(m){this._hash.update(m)},f.prototype._final=function(){var m=this._hash.digest();return(this._alg==="rmd160"?new u:d(this._alg)).update(this._opad).update(m).digest()},n.exports=function(m,g){return(m=m.toLowerCase())==="rmd160"||m==="ripemd160"?new f("rmd160",g):m==="md5"?new a(c,g):new f(m,g)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(t,n,s){var i=t("inherits"),a=t("safe-buffer").Buffer,o=t("cipher-base"),l=a.alloc(128);function c(u,d){o.call(this,"digest"),typeof d=="string"&&(d=a.from(d)),this._alg=u,this._key=d,d.length>64?d=u(d):d.length<64&&(d=a.concat([d,l],64));for(var h=this._ipad=a.allocUnsafe(64),f=this._opad=a.allocUnsafe(64),m=0;m<64;m++)h[m]=54^d[m],f[m]=92^d[m];this._hash=[h]}i(c,o),c.prototype._update=function(u){this._hash.push(u)},c.prototype._final=function(){var u=this._alg(a.concat(this._hash));return this._alg(a.concat([this._opad,u]))},n.exports=c},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(t,n,s){s.randomBytes=s.rng=s.pseudoRandomBytes=s.prng=t("randombytes"),s.createHash=s.Hash=t("create-hash"),s.createHmac=s.Hmac=t("create-hmac");var i=t("browserify-sign/algos"),a=Object.keys(i),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(a);s.getHashes=function(){return o};var l=t("pbkdf2");s.pbkdf2=l.pbkdf2,s.pbkdf2Sync=l.pbkdf2Sync;var c=t("browserify-cipher");s.Cipher=c.Cipher,s.createCipher=c.createCipher,s.Cipheriv=c.Cipheriv,s.createCipheriv=c.createCipheriv,s.Decipher=c.Decipher,s.createDecipher=c.createDecipher,s.Decipheriv=c.Decipheriv,s.createDecipheriv=c.createDecipheriv,s.getCiphers=c.getCiphers,s.listCiphers=c.listCiphers;var u=t("diffie-hellman");s.DiffieHellmanGroup=u.DiffieHellmanGroup,s.createDiffieHellmanGroup=u.createDiffieHellmanGroup,s.getDiffieHellman=u.getDiffieHellman,s.createDiffieHellman=u.createDiffieHellman,s.DiffieHellman=u.DiffieHellman;var d=t("browserify-sign");s.createSign=d.createSign,s.Sign=d.Sign,s.createVerify=d.createVerify,s.Verify=d.Verify,s.createECDH=t("create-ecdh");var h=t("public-encrypt");s.publicEncrypt=h.publicEncrypt,s.privateEncrypt=h.privateEncrypt,s.publicDecrypt=h.publicDecrypt,s.privateDecrypt=h.privateDecrypt;var f=t("randomfill");s.randomFill=f.randomFill,s.randomFillSync=f.randomFillSync,s.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},s.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(t,n,s){(function(i,a){typeof s=="object"&&n!==void 0?n.exports=a():(i=typeof globalThis<"u"?globalThis:i||self).dayjs=a()})(void 0,function(){var i=6e4,a=36e5,o="millisecond",l="second",c="minute",u="hour",d="day",h="week",f="month",m="quarter",g="year",p="date",v="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,E={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(w){var S=["th","st","nd","rd"],_=w%100;return"["+w+(S[(_-20)%10]||S[_]||S[0])+"]"}},N=function(w,S,_){var x=String(w);return!x||x.length>=S?w:""+Array(S+1-x.length).join(_)+w},j={s:N,z:function(w){var S=-w.utcOffset(),_=Math.abs(S),x=Math.floor(_/60),R=_%60;return(S<=0?"+":"-")+N(x,2,"0")+":"+N(R,2,"0")},m:function w(S,_){if(S.date()<_.date())return-w(_,S);var x=12*(_.year()-S.year())+(_.month()-S.month()),R=S.clone().add(x,f),W=_-R<0,T=S.clone().add(x+(W?-1:1),f);return+(-(x+(_-R)/(W?R-T:T-R))||0)},a:function(w){return w<0?Math.ceil(w)||0:Math.floor(w)},p:function(w){return{M:f,y:g,w:h,d,D:p,h:u,m:c,s:l,ms:o,Q:m}[w]||String(w||"").toLowerCase().replace(/s$/,"")},u:function(w){return w===void 0}},D="en",C={};C[D]=E;var I="$isDayjsObject",V=function(w){return w instanceof M||!(!w||!w[I])},B=function w(S,_,x){var R;if(!S)return D;if(typeof S=="string"){var W=S.toLowerCase();C[W]&&(R=W),_&&(C[W]=_,R=W);var T=S.split("-");if(!R&&T.length>1)return w(T[0])}else{var z=S.name;C[z]=S,R=z}return!x&&R&&(D=R),R||!x&&D},P=function(w,S){if(V(w))return w.clone();var _=typeof S=="object"?S:{};return _.date=w,_.args=arguments,new M(_)},k=j;k.l=B,k.i=V,k.w=function(w,S){return P(w,{locale:S.$L,utc:S.$u,x:S.$x,$offset:S.$offset})};var M=function(){function w(_){this.$L=B(_.locale,null,!0),this.parse(_),this.$x=this.$x||_.x||{},this[I]=!0}var S=w.prototype;return S.parse=function(_){this.$d=function(x){var R=x.date,W=x.utc;if(R===null)return new Date(NaN);if(k.u(R))return new Date;if(R instanceof Date)return new Date(R);if(typeof R=="string"&&!/Z$/i.test(R)){var T=R.match(y);if(T){var z=T[2]-1||0,q=(T[7]||"0").substring(0,3);return W?new Date(Date.UTC(T[1],z,T[3]||1,T[4]||0,T[5]||0,T[6]||0,q)):new Date(T[1],z,T[3]||1,T[4]||0,T[5]||0,T[6]||0,q)}}return new Date(R)}(_),this.init()},S.init=function(){var _=this.$d;this.$y=_.getFullYear(),this.$M=_.getMonth(),this.$D=_.getDate(),this.$W=_.getDay(),this.$H=_.getHours(),this.$m=_.getMinutes(),this.$s=_.getSeconds(),this.$ms=_.getMilliseconds()},S.$utils=function(){return k},S.isValid=function(){return this.$d.toString()!==v},S.isSame=function(_,x){var R=P(_);return this.startOf(x)<=R&&R<=this.endOf(x)},S.isAfter=function(_,x){return P(_)<this.startOf(x)},S.isBefore=function(_,x){return this.endOf(x)<P(_)},S.$g=function(_,x,R){return k.u(_)?this[x]:this.set(R,_)},S.unix=function(){return Math.floor(this.valueOf()/1e3)},S.valueOf=function(){return this.$d.getTime()},S.startOf=function(_,x){var R=this,W=!!k.u(x)||x,T=k.p(_),z=function(ne,ee){var ie=k.w(R.$u?Date.UTC(R.$y,ee,ne):new Date(R.$y,ee,ne),R);return W?ie:ie.endOf(d)},q=function(ne,ee){return k.w(R.toDate()[ne].apply(R.toDate("s"),(W?[0,0,0,0]:[23,59,59,999]).slice(ee)),R)},Y=this.$W,U=this.$M,Q=this.$D,F="set"+(this.$u?"UTC":"");switch(T){case g:return W?z(1,0):z(31,11);case f:return W?z(1,U):z(0,U+1);case h:var O=this.$locale().weekStart||0,K=(Y<O?Y+7:Y)-O;return z(W?Q-K:Q+(6-K),U);case d:case p:return q(F+"Hours",0);case u:return q(F+"Minutes",1);case c:return q(F+"Seconds",2);case l:return q(F+"Milliseconds",3);default:return this.clone()}},S.endOf=function(_){return this.startOf(_,!1)},S.$set=function(_,x){var R,W=k.p(_),T="set"+(this.$u?"UTC":""),z=(R={},R[d]=T+"Date",R[p]=T+"Date",R[f]=T+"Month",R[g]=T+"FullYear",R[u]=T+"Hours",R[c]=T+"Minutes",R[l]=T+"Seconds",R[o]=T+"Milliseconds",R)[W],q=W===d?this.$D+(x-this.$W):x;if(W===f||W===g){var Y=this.clone().set(p,1);Y.$d[z](q),Y.init(),this.$d=Y.set(p,Math.min(this.$D,Y.daysInMonth())).$d}else z&&this.$d[z](q);return this.init(),this},S.set=function(_,x){return this.clone().$set(_,x)},S.get=function(_){return this[k.p(_)]()},S.add=function(_,x){var R,W=this;_=Number(_);var T=k.p(x),z=function(U){var Q=P(W);return k.w(Q.date(Q.date()+Math.round(U*_)),W)};if(T===f)return this.set(f,this.$M+_);if(T===g)return this.set(g,this.$y+_);if(T===d)return z(1);if(T===h)return z(7);var q=(R={},R[c]=i,R[u]=a,R[l]=1e3,R)[T]||1,Y=this.$d.getTime()+_*q;return k.w(Y,this)},S.subtract=function(_,x){return this.add(-1*_,x)},S.format=function(_){var x=this,R=this.$locale();if(!this.isValid())return R.invalidDate||v;var W=_||"YYYY-MM-DDTHH:mm:ssZ",T=k.z(this),z=this.$H,q=this.$m,Y=this.$M,U=R.weekdays,Q=R.months,F=R.meridiem,O=function(ee,ie,he,ce){return ee&&(ee[ie]||ee(x,W))||he[ie].slice(0,ce)},K=function(ee){return k.s(z%12||12,ee,"0")},ne=F||function(ee,ie,he){var ce=ee<12?"AM":"PM";return he?ce.toLowerCase():ce};return W.replace(b,function(ee,ie){return ie||function(he){switch(he){case"YY":return String(x.$y).slice(-2);case"YYYY":return k.s(x.$y,4,"0");case"M":return Y+1;case"MM":return k.s(Y+1,2,"0");case"MMM":return O(R.monthsShort,Y,Q,3);case"MMMM":return O(Q,Y);case"D":return x.$D;case"DD":return k.s(x.$D,2,"0");case"d":return String(x.$W);case"dd":return O(R.weekdaysMin,x.$W,U,2);case"ddd":return O(R.weekdaysShort,x.$W,U,3);case"dddd":return U[x.$W];case"H":return String(z);case"HH":return k.s(z,2,"0");case"h":return K(1);case"hh":return K(2);case"a":return ne(z,q,!0);case"A":return ne(z,q,!1);case"m":return String(q);case"mm":return k.s(q,2,"0");case"s":return String(x.$s);case"ss":return k.s(x.$s,2,"0");case"SSS":return k.s(x.$ms,3,"0");case"Z":return T}return null}(ee)||T.replace(":","")})},S.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},S.diff=function(_,x,R){var W,T=this,z=k.p(x),q=P(_),Y=(q.utcOffset()-this.utcOffset())*i,U=this-q,Q=function(){return k.m(T,q)};switch(z){case g:W=Q()/12;break;case f:W=Q();break;case m:W=Q()/3;break;case h:W=(U-Y)/6048e5;break;case d:W=(U-Y)/864e5;break;case u:W=U/a;break;case c:W=U/i;break;case l:W=U/1e3;break;default:W=U}return R?W:k.a(W)},S.daysInMonth=function(){return this.endOf(f).$D},S.$locale=function(){return C[this.$L]},S.locale=function(_,x){if(!_)return this.$L;var R=this.clone(),W=B(_,x,!0);return W&&(R.$L=W),R},S.clone=function(){return k.w(this.$d,this)},S.toDate=function(){return new Date(this.valueOf())},S.toJSON=function(){return this.isValid()?this.toISOString():null},S.toISOString=function(){return this.$d.toISOString()},S.toString=function(){return this.$d.toUTCString()},w}(),A=M.prototype;return P.prototype=A,[["$ms",o],["$s",l],["$m",c],["$H",u],["$W",d],["$M",f],["$y",g],["$D",p]].forEach(function(w){A[w[1]]=function(S){return this.$g(S,w[0],w[1])}}),P.extend=function(w,S){return w.$i||(w(S,M,P),w.$i=!0),P},P.locale=B,P.isDayjs=V,P.unix=function(w){return P(1e3*w)},P.en=C[D],P.Ls=C,P.p={},P})},{}],392:[function(t,n,s){(function(i,a){typeof s=="object"&&n!==void 0?n.exports=a():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_customParseFormat=a()})(void 0,function(){var i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},a=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,o=/\d\d/,l=/\d\d?/,c=/\d*[^-_:/,()\s\d]+/,u={},d=function(y){return(y=+y)+(y>68?1900:2e3)},h=function(y){return function(b){this[y]=+b}},f=[/[+-]\d\d:?(\d\d)?|Z/,function(y){(this.zone||(this.zone={})).offset=function(b){if(!b||b==="Z")return 0;var E=b.match(/([+-]|\d\d)/g),N=60*E[1]+(+E[2]||0);return N===0?0:E[0]==="+"?-N:N}(y)}],m=function(y){var b=u[y];return b&&(b.indexOf?b:b.s.concat(b.f))},g=function(y,b){var E,N=u.meridiem;if(N){for(var j=1;j<=24;j+=1)if(y.indexOf(N(j,0,b))>-1){E=j>12;break}}else E=y===(b?"pm":"PM");return E},p={A:[c,function(y){this.afternoon=g(y,!1)}],a:[c,function(y){this.afternoon=g(y,!0)}],S:[/\d/,function(y){this.milliseconds=100*+y}],SS:[o,function(y){this.milliseconds=10*+y}],SSS:[/\d{3}/,function(y){this.milliseconds=+y}],s:[l,h("seconds")],ss:[l,h("seconds")],m:[l,h("minutes")],mm:[l,h("minutes")],H:[l,h("hours")],h:[l,h("hours")],HH:[l,h("hours")],hh:[l,h("hours")],D:[l,h("day")],DD:[o,h("day")],Do:[c,function(y){var b=u.ordinal,E=y.match(/\d+/);if(this.day=E[0],b)for(var N=1;N<=31;N+=1)b(N).replace(/\[|\]/g,"")===y&&(this.day=N)}],M:[l,h("month")],MM:[o,h("month")],MMM:[c,function(y){var b=m("months"),E=(m("monthsShort")||b.map(function(N){return N.slice(0,3)})).indexOf(y)+1;if(E<1)throw new Error;this.month=E%12||E}],MMMM:[c,function(y){var b=m("months").indexOf(y)+1;if(b<1)throw new Error;this.month=b%12||b}],Y:[/[+-]?\d+/,h("year")],YY:[o,function(y){this.year=d(y)}],YYYY:[/\d{4}/,h("year")],Z:f,ZZ:f};function v(y){var b,E;b=y,E=u&&u.formats;for(var N=(y=b.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(P,k,M){var A=M&&M.toUpperCase();return k||E[M]||i[M]||E[A].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(w,S,_){return S||_.slice(1)})})).match(a),j=N.length,D=0;D<j;D+=1){var C=N[D],I=p[C],V=I&&I[0],B=I&&I[1];N[D]=B?{regex:V,parser:B}:C.replace(/^\[|\]$/g,"")}return function(P){for(var k={},M=0,A=0;M<j;M+=1){var w=N[M];if(typeof w=="string")A+=w.length;else{var S=w.regex,_=w.parser,x=P.slice(A),R=S.exec(x)[0];_.call(k,R),P=P.replace(R,"")}}return function(W){var T=W.afternoon;if(T!==void 0){var z=W.hours;T?z<12&&(W.hours+=12):z===12&&(W.hours=0),delete W.afternoon}}(k),k}}return function(y,b,E){E.p.customParseFormat=!0,y&&y.parseTwoDigitYear&&(d=y.parseTwoDigitYear);var N=b.prototype,j=N.parse;N.parse=function(D){var C=D.date,I=D.utc,V=D.args;this.$u=I;var B=V[1];if(typeof B=="string"){var P=V[2]===!0,k=V[3]===!0,M=P||k,A=V[2];k&&(A=V[2]),u=this.$locale(),!P&&A&&(u=E.Ls[A]),this.$d=function(x,R,W){try{if(["x","X"].indexOf(R)>-1)return new Date((R==="X"?1e3:1)*x);var T=v(R)(x),z=T.year,q=T.month,Y=T.day,U=T.hours,Q=T.minutes,F=T.seconds,O=T.milliseconds,K=T.zone,ne=new Date,ee=Y||(z||q?1:ne.getDate()),ie=z||ne.getFullYear(),he=0;z&&!q||(he=q>0?q-1:ne.getMonth());var ce=U||0,te=Q||0,se=F||0,ge=O||0;return K?new Date(Date.UTC(ie,he,ee,ce,te,se,ge+60*K.offset*1e3)):W?new Date(Date.UTC(ie,he,ee,ce,te,se,ge)):new Date(ie,he,ee,ce,te,se,ge)}catch{return new Date("")}}(C,B,I),this.init(),A&&A!==!0&&(this.$L=this.locale(A).$L),M&&C!=this.format(B)&&(this.$d=new Date("")),u={}}else if(B instanceof Array)for(var w=B.length,S=1;S<=w;S+=1){V[1]=B[S-1];var _=E.apply(this,V);if(_.isValid()){this.$d=_.$d,this.$L=_.$L,this.init();break}S===w&&(this.$d=new Date(""))}else j.call(this,D)}}})},{}],393:[function(t,n,s){(function(i,a){typeof s=="object"&&n!==void 0?n.exports=a():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_utc=a()})(void 0,function(){var i="minute",a=/[+-]\d\d(?::?\d\d)?/g,o=/([+-]|\d\d)/g;return function(l,c,u){var d=c.prototype;u.utc=function(y){var b={date:y,utc:!0,args:arguments};return new c(b)},d.utc=function(y){var b=u(this.toDate(),{locale:this.$L,utc:!0});return y?b.add(this.utcOffset(),i):b},d.local=function(){return u(this.toDate(),{locale:this.$L,utc:!1})};var h=d.parse;d.parse=function(y){y.utc&&(this.$u=!0),this.$utils().u(y.$offset)||(this.$offset=y.$offset),h.call(this,y)};var f=d.init;d.init=function(){if(this.$u){var y=this.$d;this.$y=y.getUTCFullYear(),this.$M=y.getUTCMonth(),this.$D=y.getUTCDate(),this.$W=y.getUTCDay(),this.$H=y.getUTCHours(),this.$m=y.getUTCMinutes(),this.$s=y.getUTCSeconds(),this.$ms=y.getUTCMilliseconds()}else f.call(this)};var m=d.utcOffset;d.utcOffset=function(y,b){var E=this.$utils().u;if(E(y))return this.$u?0:E(this.$offset)?m.call(this):this.$offset;if(typeof y=="string"&&(y=function(C){C===void 0&&(C="");var I=C.match(a);if(!I)return null;var V=(""+I[0]).match(o)||["-",0,0],B=V[0],P=60*+V[1]+ +V[2];return P===0?0:B==="+"?P:-P}(y))===null)return this;var N=Math.abs(y)<=16?60*y:y,j=this;if(b)return j.$offset=N,j.$u=y===0,j;if(y!==0){var D=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(j=this.local().add(N+D,i)).$offset=N,j.$x.$localOffset=D}else j=this.utc();return j};var g=d.format;d.format=function(y){var b=y||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return g.call(this,b)},d.valueOf=function(){var y=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*y},d.isUTC=function(){return!!this.$u},d.toISOString=function(){return this.toDate().toISOString()},d.toString=function(){return this.toDate().toUTCString()};var p=d.toDate;d.toDate=function(y){return y==="s"&&this.$offset?u(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var v=d.diff;d.diff=function(y,b,E){if(y&&this.$u===y.$u)return v.call(this,y,b,E);var N=this.local(),j=u(y).local();return v.call(N,j,b,E)}}})},{}],394:[function(t,n,s){s.utils=t("./des/utils"),s.Cipher=t("./des/cipher"),s.DES=t("./des/des"),s.CBC=t("./des/cbc"),s.EDE=t("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(t,n,s){var i=t("minimalistic-assert"),a=t("inherits"),o={};function l(c){i.equal(c.length,8,"Invalid IV length"),this.iv=new Array(8);for(var u=0;u<this.iv.length;u++)this.iv[u]=c[u]}s.instantiate=function(c){function u(m){c.call(this,m),this._cbcInit()}a(u,c);for(var d=Object.keys(o),h=0;h<d.length;h++){var f=d[h];u.prototype[f]=o[f]}return u.create=function(m){return new u(m)},u},o._cbcInit=function(){var c=new l(this.options.iv);this._cbcState=c},o._update=function(c,u,d,h){var f=this._cbcState,m=this.constructor.super_.prototype,g=f.iv;if(this.type==="encrypt"){for(var p=0;p<this.blockSize;p++)g[p]^=c[u+p];for(m._update.call(this,g,0,d,h),p=0;p<this.blockSize;p++)g[p]=d[h+p]}else{for(m._update.call(this,c,u,d,h),p=0;p<this.blockSize;p++)d[h+p]^=g[p];for(p=0;p<this.blockSize;p++)g[p]=c[u+p]}}},{inherits:440,"minimalistic-assert":453}],396:[function(t,n,s){var i=t("minimalistic-assert");function a(o){this.options=o,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=o.padding!==!1}n.exports=a,a.prototype._init=function(){},a.prototype.update=function(o){return o.length===0?[]:this.type==="decrypt"?this._updateDecrypt(o):this._updateEncrypt(o)},a.prototype._buffer=function(o,l){for(var c=Math.min(this.buffer.length-this.bufferOff,o.length-l),u=0;u<c;u++)this.buffer[this.bufferOff+u]=o[l+u];return this.bufferOff+=c,c},a.prototype._flushBuffer=function(o,l){return this._update(this.buffer,0,o,l),this.bufferOff=0,this.blockSize},a.prototype._updateEncrypt=function(o){var l=0,c=0,u=(this.bufferOff+o.length)/this.blockSize|0,d=new Array(u*this.blockSize);this.bufferOff!==0&&(l+=this._buffer(o,l),this.bufferOff===this.buffer.length&&(c+=this._flushBuffer(d,c)));for(var h=o.length-(o.length-l)%this.blockSize;l<h;l+=this.blockSize)this._update(o,l,d,c),c+=this.blockSize;for(;l<o.length;l++,this.bufferOff++)this.buffer[this.bufferOff]=o[l];return d},a.prototype._updateDecrypt=function(o){for(var l=0,c=0,u=Math.ceil((this.bufferOff+o.length)/this.blockSize)-1,d=new Array(u*this.blockSize);u>0;u--)l+=this._buffer(o,l),c+=this._flushBuffer(d,c);return l+=this._buffer(o,l),d},a.prototype.final=function(o){var l,c;return o&&(l=this.update(o)),c=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),l?l.concat(c):c},a.prototype._pad=function(o,l){if(l===0)return!1;for(;l<o.length;)o[l++]=0;return!0},a.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var o=new Array(this.blockSize);return this._update(this.buffer,0,o,0),o},a.prototype._unpad=function(o){return o},a.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var o=new Array(this.blockSize);return this._flushBuffer(o,0),this._unpad(o)}},{"minimalistic-assert":453}],397:[function(t,n,s){var i=t("minimalistic-assert"),a=t("inherits"),o=t("./utils"),l=t("./cipher");function c(){this.tmp=new Array(2),this.keys=null}function u(h){l.call(this,h);var f=new c;this._desState=f,this.deriveKeys(f,h.key)}a(u,l),n.exports=u,u.create=function(h){return new u(h)};var d=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(h,f){h.keys=new Array(32),i.equal(f.length,this.blockSize,"Invalid key length");var m=o.readUInt32BE(f,0),g=o.readUInt32BE(f,4);o.pc1(m,g,h.tmp,0),m=h.tmp[0],g=h.tmp[1];for(var p=0;p<h.keys.length;p+=2){var v=d[p>>>1];m=o.r28shl(m,v),g=o.r28shl(g,v),o.pc2(m,g,h.keys,p)}},u.prototype._update=function(h,f,m,g){var p=this._desState,v=o.readUInt32BE(h,f),y=o.readUInt32BE(h,f+4);o.ip(v,y,p.tmp,0),v=p.tmp[0],y=p.tmp[1],this.type==="encrypt"?this._encrypt(p,v,y,p.tmp,0):this._decrypt(p,v,y,p.tmp,0),v=p.tmp[0],y=p.tmp[1],o.writeUInt32BE(m,v,g),o.writeUInt32BE(m,y,g+4)},u.prototype._pad=function(h,f){if(this.padding===!1)return!1;for(var m=h.length-f,g=f;g<h.length;g++)h[g]=m;return!0},u.prototype._unpad=function(h){if(this.padding===!1)return h;for(var f=h[h.length-1],m=h.length-f;m<h.length;m++)i.equal(h[m],f);return h.slice(0,h.length-f)},u.prototype._encrypt=function(h,f,m,g,p){for(var v=f,y=m,b=0;b<h.keys.length;b+=2){var E=h.keys[b],N=h.keys[b+1];o.expand(y,h.tmp,0),E^=h.tmp[0],N^=h.tmp[1];var j=o.substitute(E,N),D=y;y=(v^o.permute(j))>>>0,v=D}o.rip(y,v,g,p)},u.prototype._decrypt=function(h,f,m,g,p){for(var v=m,y=f,b=h.keys.length-2;b>=0;b-=2){var E=h.keys[b],N=h.keys[b+1];o.expand(v,h.tmp,0),E^=h.tmp[0],N^=h.tmp[1];var j=o.substitute(E,N),D=v;v=(y^o.permute(j))>>>0,y=D}o.rip(v,y,g,p)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(t,n,s){var i=t("minimalistic-assert"),a=t("inherits"),o=t("./cipher"),l=t("./des");function c(d,h){i.equal(h.length,24,"Invalid key length");var f=h.slice(0,8),m=h.slice(8,16),g=h.slice(16,24);this.ciphers=d==="encrypt"?[l.create({type:"encrypt",key:f}),l.create({type:"decrypt",key:m}),l.create({type:"encrypt",key:g})]:[l.create({type:"decrypt",key:g}),l.create({type:"encrypt",key:m}),l.create({type:"decrypt",key:f})]}function u(d){o.call(this,d);var h=new c(this.type,this.options.key);this._edeState=h}a(u,o),n.exports=u,u.create=function(d){return new u(d)},u.prototype._update=function(d,h,f,m){var g=this._edeState;g.ciphers[0]._update(d,h,f,m),g.ciphers[1]._update(f,m,f,m),g.ciphers[2]._update(f,m,f,m)},u.prototype._pad=l.prototype._pad,u.prototype._unpad=l.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(t,n,s){s.readUInt32BE=function(l,c){return(l[0+c]<<24|l[1+c]<<16|l[2+c]<<8|l[3+c])>>>0},s.writeUInt32BE=function(l,c,u){l[0+u]=c>>>24,l[1+u]=c>>>16&255,l[2+u]=c>>>8&255,l[3+u]=255&c},s.ip=function(l,c,u,d){for(var h=0,f=0,m=6;m>=0;m-=2){for(var g=0;g<=24;g+=8)h<<=1,h|=c>>>g+m&1;for(g=0;g<=24;g+=8)h<<=1,h|=l>>>g+m&1}for(m=6;m>=0;m-=2){for(g=1;g<=25;g+=8)f<<=1,f|=c>>>g+m&1;for(g=1;g<=25;g+=8)f<<=1,f|=l>>>g+m&1}u[d+0]=h>>>0,u[d+1]=f>>>0},s.rip=function(l,c,u,d){for(var h=0,f=0,m=0;m<4;m++)for(var g=24;g>=0;g-=8)h<<=1,h|=c>>>g+m&1,h<<=1,h|=l>>>g+m&1;for(m=4;m<8;m++)for(g=24;g>=0;g-=8)f<<=1,f|=c>>>g+m&1,f<<=1,f|=l>>>g+m&1;u[d+0]=h>>>0,u[d+1]=f>>>0},s.pc1=function(l,c,u,d){for(var h=0,f=0,m=7;m>=5;m--){for(var g=0;g<=24;g+=8)h<<=1,h|=c>>g+m&1;for(g=0;g<=24;g+=8)h<<=1,h|=l>>g+m&1}for(g=0;g<=24;g+=8)h<<=1,h|=c>>g+m&1;for(m=1;m<=3;m++){for(g=0;g<=24;g+=8)f<<=1,f|=c>>g+m&1;for(g=0;g<=24;g+=8)f<<=1,f|=l>>g+m&1}for(g=0;g<=24;g+=8)f<<=1,f|=l>>g+m&1;u[d+0]=h>>>0,u[d+1]=f>>>0},s.r28shl=function(l,c){return l<<c&268435455|l>>>28-c};var i=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];s.pc2=function(l,c,u,d){for(var h=0,f=0,m=i.length>>>1,g=0;g<m;g++)h<<=1,h|=l>>>i[g]&1;for(g=m;g<i.length;g++)f<<=1,f|=c>>>i[g]&1;u[d+0]=h>>>0,u[d+1]=f>>>0},s.expand=function(l,c,u){var d=0,h=0;d=(1&l)<<5|l>>>27;for(var f=23;f>=15;f-=4)d<<=6,d|=l>>>f&63;for(f=11;f>=3;f-=4)h|=l>>>f&63,h<<=6;h|=(31&l)<<1|l>>>31,c[u+0]=d>>>0,c[u+1]=h>>>0};var a=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];s.substitute=function(l,c){for(var u=0,d=0;d<4;d++)u<<=4,u|=a[64*d+(l>>>18-6*d&63)];for(d=0;d<4;d++)u<<=4,u|=a[256+64*d+(c>>>18-6*d&63)];return u>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];s.permute=function(l){for(var c=0,u=0;u<o.length;u++)c<<=1,c|=l>>>o[u]&1;return c>>>0},s.padSplit=function(l,c,u){for(var d=l.toString(2);d.length<c;)d="0"+d;for(var h=[],f=0;f<c;f+=u)h.push(d.slice(f,f+u));return h.join(" ")}},{}],400:[function(t,n,s){(function(i){(function(){var a=t("./lib/generatePrime"),o=t("./lib/primes.json"),l=t("./lib/dh"),c={binary:!0,hex:!0,base64:!0};s.DiffieHellmanGroup=s.createDiffieHellmanGroup=s.getDiffieHellman=function(u){var d=new i(o[u].prime,"hex"),h=new i(o[u].gen,"hex");return new l(d,h)},s.createDiffieHellman=s.DiffieHellman=function u(d,h,f,m){return i.isBuffer(h)||c[h]===void 0?u(d,"binary",h,f):(h=h||"binary",m=m||"binary",f=f||new i([2]),i.isBuffer(f)||(f=new i(f,m)),typeof d=="number"?new l(a(d,f),f,!0):(i.isBuffer(d)||(d=new i(d,h)),new l(d,f,!0)))}}).call(this)}).call(this,t("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(t,n,s){(function(i){(function(){var a=t("bn.js"),o=new(t("miller-rabin")),l=new a(24),c=new a(11),u=new a(10),d=new a(3),h=new a(7),f=t("./generatePrime"),m=t("randombytes");function g(E,N){return N=N||"utf8",i.isBuffer(E)||(E=new i(E,N)),this._pub=new a(E),this}function p(E,N){return N=N||"utf8",i.isBuffer(E)||(E=new i(E,N)),this._priv=new a(E),this}n.exports=y;var v={};function y(E,N,j){this.setGenerator(N),this.__prime=new a(E),this._prime=a.mont(this.__prime),this._primeLen=E.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,j?(this.setPublicKey=g,this.setPrivateKey=p):this._primeCode=8}function b(E,N){var j=new i(E.toArray());return N?j.toString(N):j}Object.defineProperty(y.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(E,N){var j=N.toString("hex"),D=[j,E.toString(16)].join("_");if(D in v)return v[D];var C,I=0;if(E.isEven()||!f.simpleSieve||!f.fermatTest(E)||!o.test(E))return I+=1,I+=j==="02"||j==="05"?8:4,v[D]=I,I;switch(o.test(E.shrn(1))||(I+=2),j){case"02":E.mod(l).cmp(c)&&(I+=8);break;case"05":(C=E.mod(u)).cmp(d)&&C.cmp(h)&&(I+=8);break;default:I+=4}return v[D]=I,I}(this.__prime,this.__gen)),this._primeCode}}),y.prototype.generateKeys=function(){return this._priv||(this._priv=new a(m(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},y.prototype.computeSecret=function(E){var N=(E=(E=new a(E)).toRed(this._prime)).redPow(this._priv).fromRed(),j=new i(N.toArray()),D=this.getPrime();if(j.length<D.length){var C=new i(D.length-j.length);C.fill(0),j=i.concat([C,j])}return j},y.prototype.getPublicKey=function(E){return b(this._pub,E)},y.prototype.getPrivateKey=function(E){return b(this._priv,E)},y.prototype.getPrime=function(E){return b(this.__prime,E)},y.prototype.getGenerator=function(E){return b(this._gen,E)},y.prototype.setGenerator=function(E,N){return N=N||"utf8",i.isBuffer(E)||(E=new i(E,N)),this.__gen=E,this._gen=new a(E),this}}).call(this)}).call(this,t("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(t,n,s){var i=t("randombytes");n.exports=E,E.simpleSieve=y,E.fermatTest=b;var a=t("bn.js"),o=new a(24),l=new(t("miller-rabin")),c=new a(1),u=new a(2),d=new a(5),h=(new a(16),new a(8),new a(10)),f=new a(3),m=(new a(7),new a(11)),g=new a(4),p=(new a(12),null);function v(){if(p!==null)return p;var N=[];N[0]=2;for(var j=1,D=3;D<1048576;D+=2){for(var C=Math.ceil(Math.sqrt(D)),I=0;I<j&&N[I]<=C&&D%N[I]!=0;I++);j!==I&&N[I]<=C||(N[j++]=D)}return p=N,N}function y(N){for(var j=v(),D=0;D<j.length;D++)if(N.modn(j[D])===0)return N.cmpn(j[D])===0;return!0}function b(N){var j=a.mont(N);return u.toRed(j).redPow(N.subn(1)).fromRed().cmpn(1)===0}function E(N,j){if(N<16)return new a(j===2||j===5?[140,123]:[140,39]);var D,C;for(j=new a(j);;){for(D=new a(i(Math.ceil(N/8)));D.bitLength()>N;)D.ishrn(1);if(D.isEven()&&D.iadd(c),D.testn(1)||D.iadd(u),j.cmp(u)){if(!j.cmp(d))for(;D.mod(h).cmp(f);)D.iadd(g)}else for(;D.mod(o).cmp(m);)D.iadd(g);if(y(C=D.shrn(1))&&y(D)&&b(C)&&b(D)&&l.test(C)&&l.test(D))return D}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(t,n,s){n.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(t,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],405:[function(t,n,s){var i=s;i.version=t("../package.json").version,i.utils=t("./elliptic/utils"),i.rand=t("brorand"),i.curve=t("./elliptic/curve"),i.curves=t("./elliptic/curves"),i.ec=t("./elliptic/ec"),i.eddsa=t("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(t,n,s){var i=t("bn.js"),a=t("../utils"),o=a.getNAF,l=a.getJSF,c=a.assert;function u(h,f){this.type=h,this.p=new i(f.p,16),this.red=f.prime?i.red(f.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=f.n&&new i(f.n,16),this.g=f.g&&this.pointFromJSON(f.g,f.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var m=this.n&&this.p.div(this.n);!m||m.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function d(h,f){this.curve=h,this.type=f,this.precomputed=null}n.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(h,f){c(h.precomputed);var m=h._getDoubles(),g=o(f,1,this._bitLength),p=(1<<m.step+1)-(m.step%2==0?2:1);p/=3;var v,y,b=[];for(v=0;v<g.length;v+=m.step){y=0;for(var E=v+m.step-1;E>=v;E--)y=(y<<1)+g[E];b.push(y)}for(var N=this.jpoint(null,null,null),j=this.jpoint(null,null,null),D=p;D>0;D--){for(v=0;v<b.length;v++)(y=b[v])===D?j=j.mixedAdd(m.points[v]):y===-D&&(j=j.mixedAdd(m.points[v].neg()));N=N.add(j)}return N.toP()},u.prototype._wnafMul=function(h,f){var m=4,g=h._getNAFPoints(m);m=g.wnd;for(var p=g.points,v=o(f,m,this._bitLength),y=this.jpoint(null,null,null),b=v.length-1;b>=0;b--){for(var E=0;b>=0&&v[b]===0;b--)E++;if(b>=0&&E++,y=y.dblp(E),b<0)break;var N=v[b];c(N!==0),y=h.type==="affine"?N>0?y.mixedAdd(p[N-1>>1]):y.mixedAdd(p[-N-1>>1].neg()):N>0?y.add(p[N-1>>1]):y.add(p[-N-1>>1].neg())}return h.type==="affine"?y.toP():y},u.prototype._wnafMulAdd=function(h,f,m,g,p){var v,y,b,E=this._wnafT1,N=this._wnafT2,j=this._wnafT3,D=0;for(v=0;v<g;v++){var C=(b=f[v])._getNAFPoints(h);E[v]=C.wnd,N[v]=C.points}for(v=g-1;v>=1;v-=2){var I=v-1,V=v;if(E[I]===1&&E[V]===1){var B=[f[I],null,null,f[V]];f[I].y.cmp(f[V].y)===0?(B[1]=f[I].add(f[V]),B[2]=f[I].toJ().mixedAdd(f[V].neg())):f[I].y.cmp(f[V].y.redNeg())===0?(B[1]=f[I].toJ().mixedAdd(f[V]),B[2]=f[I].add(f[V].neg())):(B[1]=f[I].toJ().mixedAdd(f[V]),B[2]=f[I].toJ().mixedAdd(f[V].neg()));var P=[-3,-1,-5,-7,0,7,5,1,3],k=l(m[I],m[V]);for(D=Math.max(k[0].length,D),j[I]=new Array(D),j[V]=new Array(D),y=0;y<D;y++){var M=0|k[0][y],A=0|k[1][y];j[I][y]=P[3*(M+1)+(A+1)],j[V][y]=0,N[I]=B}}else j[I]=o(m[I],E[I],this._bitLength),j[V]=o(m[V],E[V],this._bitLength),D=Math.max(j[I].length,D),D=Math.max(j[V].length,D)}var w=this.jpoint(null,null,null),S=this._wnafT4;for(v=D;v>=0;v--){for(var _=0;v>=0;){var x=!0;for(y=0;y<g;y++)S[y]=0|j[y][v],S[y]!==0&&(x=!1);if(!x)break;_++,v--}if(v>=0&&_++,w=w.dblp(_),v<0)break;for(y=0;y<g;y++){var R=S[y];R!==0&&(R>0?b=N[y][R-1>>1]:R<0&&(b=N[y][-R-1>>1].neg()),w=b.type==="affine"?w.mixedAdd(b):w.add(b))}}for(v=0;v<g;v++)N[v]=null;return p?w:w.toP()},u.BasePoint=d,d.prototype.eq=function(){throw new Error("Not implemented")},d.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(h,f){h=a.toArray(h,f);var m=this.p.byteLength();if((h[0]===4||h[0]===6||h[0]===7)&&h.length-1==2*m)return h[0]===6?c(h[h.length-1]%2==0):h[0]===7&&c(h[h.length-1]%2==1),this.point(h.slice(1,1+m),h.slice(1+m,1+2*m));if((h[0]===2||h[0]===3)&&h.length-1===m)return this.pointFromX(h.slice(1,1+m),h[0]===3);throw new Error("Unknown point format")},d.prototype.encodeCompressed=function(h){return this.encode(h,!0)},d.prototype._encode=function(h){var f=this.curve.p.byteLength(),m=this.getX().toArray("be",f);return h?[this.getY().isEven()?2:3].concat(m):[4].concat(m,this.getY().toArray("be",f))},d.prototype.encode=function(h,f){return a.encode(this._encode(f),h)},d.prototype.precompute=function(h){if(this.precomputed)return this;var f={doubles:null,naf:null,beta:null};return f.naf=this._getNAFPoints(8),f.doubles=this._getDoubles(4,h),f.beta=this._getBeta(),this.precomputed=f,this},d.prototype._hasDoubles=function(h){if(!this.precomputed)return!1;var f=this.precomputed.doubles;return!!f&&f.points.length>=Math.ceil((h.bitLength()+1)/f.step)},d.prototype._getDoubles=function(h,f){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var m=[this],g=this,p=0;p<f;p+=h){for(var v=0;v<h;v++)g=g.dbl();m.push(g)}return{step:h,points:m}},d.prototype._getNAFPoints=function(h){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var f=[this],m=(1<<h)-1,g=m===1?null:this.dbl(),p=1;p<m;p++)f[p]=f[p-1].add(g);return{wnd:h,points:f}},d.prototype._getBeta=function(){return null},d.prototype.dblp=function(h){for(var f=this,m=0;m<h;m++)f=f.dbl();return f}},{"../utils":419,"bn.js":420}],407:[function(t,n,s){var i=t("../utils"),a=t("bn.js"),o=t("inherits"),l=t("./base"),c=i.assert;function u(h){this.twisted=(0|h.a)!=1,this.mOneA=this.twisted&&(0|h.a)==-1,this.extended=this.mOneA,l.call(this,"edwards",h),this.a=new a(h.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new a(h.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new a(h.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),c(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|h.c)==1}function d(h,f,m,g,p){l.BasePoint.call(this,h,"projective"),f===null&&m===null&&g===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new a(f,16),this.y=new a(m,16),this.z=g?new a(g,16):this.curve.one,this.t=p&&new a(p,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(u,l),n.exports=u,u.prototype._mulA=function(h){return this.mOneA?h.redNeg():this.a.redMul(h)},u.prototype._mulC=function(h){return this.oneC?h:this.c.redMul(h)},u.prototype.jpoint=function(h,f,m,g){return this.point(h,f,m,g)},u.prototype.pointFromX=function(h,f){(h=new a(h,16)).red||(h=h.toRed(this.red));var m=h.redSqr(),g=this.c2.redSub(this.a.redMul(m)),p=this.one.redSub(this.c2.redMul(this.d).redMul(m)),v=g.redMul(p.redInvm()),y=v.redSqrt();if(y.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");var b=y.fromRed().isOdd();return(f&&!b||!f&&b)&&(y=y.redNeg()),this.point(h,y)},u.prototype.pointFromY=function(h,f){(h=new a(h,16)).red||(h=h.toRed(this.red));var m=h.redSqr(),g=m.redSub(this.c2),p=m.redMul(this.d).redMul(this.c2).redSub(this.a),v=g.redMul(p.redInvm());if(v.cmp(this.zero)===0){if(f)throw new Error("invalid point");return this.point(this.zero,h)}var y=v.redSqrt();if(y.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");return y.fromRed().isOdd()!==f&&(y=y.redNeg()),this.point(y,h)},u.prototype.validate=function(h){if(h.isInfinity())return!0;h.normalize();var f=h.x.redSqr(),m=h.y.redSqr(),g=f.redMul(this.a).redAdd(m),p=this.c2.redMul(this.one.redAdd(this.d.redMul(f).redMul(m)));return g.cmp(p)===0},o(d,l.BasePoint),u.prototype.pointFromJSON=function(h){return d.fromJSON(this,h)},u.prototype.point=function(h,f,m,g){return new d(this,h,f,m,g)},d.fromJSON=function(h,f){return new d(h,f[0],f[1],f[2])},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},d.prototype._extDbl=function(){var h=this.x.redSqr(),f=this.y.redSqr(),m=this.z.redSqr();m=m.redIAdd(m);var g=this.curve._mulA(h),p=this.x.redAdd(this.y).redSqr().redISub(h).redISub(f),v=g.redAdd(f),y=v.redSub(m),b=g.redSub(f),E=p.redMul(y),N=v.redMul(b),j=p.redMul(b),D=y.redMul(v);return this.curve.point(E,N,D,j)},d.prototype._projDbl=function(){var h,f,m,g,p,v,y=this.x.redAdd(this.y).redSqr(),b=this.x.redSqr(),E=this.y.redSqr();if(this.curve.twisted){var N=(g=this.curve._mulA(b)).redAdd(E);this.zOne?(h=y.redSub(b).redSub(E).redMul(N.redSub(this.curve.two)),f=N.redMul(g.redSub(E)),m=N.redSqr().redSub(N).redSub(N)):(p=this.z.redSqr(),v=N.redSub(p).redISub(p),h=y.redSub(b).redISub(E).redMul(v),f=N.redMul(g.redSub(E)),m=N.redMul(v))}else g=b.redAdd(E),p=this.curve._mulC(this.z).redSqr(),v=g.redSub(p).redSub(p),h=this.curve._mulC(y.redISub(g)).redMul(v),f=this.curve._mulC(g).redMul(b.redISub(E)),m=g.redMul(v);return this.curve.point(h,f,m)},d.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},d.prototype._extAdd=function(h){var f=this.y.redSub(this.x).redMul(h.y.redSub(h.x)),m=this.y.redAdd(this.x).redMul(h.y.redAdd(h.x)),g=this.t.redMul(this.curve.dd).redMul(h.t),p=this.z.redMul(h.z.redAdd(h.z)),v=m.redSub(f),y=p.redSub(g),b=p.redAdd(g),E=m.redAdd(f),N=v.redMul(y),j=b.redMul(E),D=v.redMul(E),C=y.redMul(b);return this.curve.point(N,j,C,D)},d.prototype._projAdd=function(h){var f,m,g=this.z.redMul(h.z),p=g.redSqr(),v=this.x.redMul(h.x),y=this.y.redMul(h.y),b=this.curve.d.redMul(v).redMul(y),E=p.redSub(b),N=p.redAdd(b),j=this.x.redAdd(this.y).redMul(h.x.redAdd(h.y)).redISub(v).redISub(y),D=g.redMul(E).redMul(j);return this.curve.twisted?(f=g.redMul(N).redMul(y.redSub(this.curve._mulA(v))),m=E.redMul(N)):(f=g.redMul(N).redMul(y.redSub(v)),m=this.curve._mulC(E).redMul(N)),this.curve.point(D,f,m)},d.prototype.add=function(h){return this.isInfinity()?h:h.isInfinity()?this:this.curve.extended?this._extAdd(h):this._projAdd(h)},d.prototype.mul=function(h){return this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve._wnafMul(this,h)},d.prototype.mulAdd=function(h,f,m){return this.curve._wnafMulAdd(1,[this,f],[h,m],2,!1)},d.prototype.jmulAdd=function(h,f,m){return this.curve._wnafMulAdd(1,[this,f],[h,m],2,!0)},d.prototype.normalize=function(){if(this.zOne)return this;var h=this.z.redInvm();return this.x=this.x.redMul(h),this.y=this.y.redMul(h),this.t&&(this.t=this.t.redMul(h)),this.z=this.curve.one,this.zOne=!0,this},d.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},d.prototype.getX=function(){return this.normalize(),this.x.fromRed()},d.prototype.getY=function(){return this.normalize(),this.y.fromRed()},d.prototype.eq=function(h){return this===h||this.getX().cmp(h.getX())===0&&this.getY().cmp(h.getY())===0},d.prototype.eqXToP=function(h){var f=h.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(f)===0)return!0;for(var m=h.clone(),g=this.curve.redN.redMul(this.z);;){if(m.iadd(this.curve.n),m.cmp(this.curve.p)>=0)return!1;if(f.redIAdd(g),this.x.cmp(f)===0)return!0}},d.prototype.toP=d.prototype.normalize,d.prototype.mixedAdd=d.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(t,n,s){var i=s;i.base=t("./base"),i.short=t("./short"),i.mont=t("./mont"),i.edwards=t("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(t,n,s){var i=t("bn.js"),a=t("inherits"),o=t("./base"),l=t("../utils");function c(d){o.call(this,"mont",d),this.a=new i(d.a,16).toRed(this.red),this.b=new i(d.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(d,h,f){o.BasePoint.call(this,d,"projective"),h===null&&f===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(h,16),this.z=new i(f,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}a(c,o),n.exports=c,c.prototype.validate=function(d){var h=d.normalize().x,f=h.redSqr(),m=f.redMul(h).redAdd(f.redMul(this.a)).redAdd(h);return m.redSqrt().redSqr().cmp(m)===0},a(u,o.BasePoint),c.prototype.decodePoint=function(d,h){return this.point(l.toArray(d,h),1)},c.prototype.point=function(d,h){return new u(this,d,h)},c.prototype.pointFromJSON=function(d){return u.fromJSON(this,d)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(d,h){return new u(d,h[0],h[1]||d.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.z.cmpn(0)===0},u.prototype.dbl=function(){var d=this.x.redAdd(this.z).redSqr(),h=this.x.redSub(this.z).redSqr(),f=d.redSub(h),m=d.redMul(h),g=f.redMul(h.redAdd(this.curve.a24.redMul(f)));return this.curve.point(m,g)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(d,h){var f=this.x.redAdd(this.z),m=this.x.redSub(this.z),g=d.x.redAdd(d.z),p=d.x.redSub(d.z).redMul(f),v=g.redMul(m),y=h.z.redMul(p.redAdd(v).redSqr()),b=h.x.redMul(p.redISub(v).redSqr());return this.curve.point(y,b)},u.prototype.mul=function(d){for(var h=d.clone(),f=this,m=this.curve.point(null,null),g=[];h.cmpn(0)!==0;h.iushrn(1))g.push(h.andln(1));for(var p=g.length-1;p>=0;p--)g[p]===0?(f=f.diffAdd(m,this),m=m.dbl()):(m=f.diffAdd(m,this),f=f.dbl());return m},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(d){return this.getX().cmp(d.getX())===0},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(t,n,s){var i=t("../utils"),a=t("bn.js"),o=t("inherits"),l=t("./base"),c=i.assert;function u(f){l.call(this,"short",f),this.a=new a(f.a,16).toRed(this.red),this.b=new a(f.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(f),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function d(f,m,g,p){l.BasePoint.call(this,f,"affine"),m===null&&g===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new a(m,16),this.y=new a(g,16),p&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function h(f,m,g,p){l.BasePoint.call(this,f,"jacobian"),m===null&&g===null&&p===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new a(0)):(this.x=new a(m,16),this.y=new a(g,16),this.z=new a(p,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(u,l),n.exports=u,u.prototype._getEndomorphism=function(f){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var m,g;if(f.beta)m=new a(f.beta,16).toRed(this.red);else{var p=this._getEndoRoots(this.p);m=(m=p[0].cmp(p[1])<0?p[0]:p[1]).toRed(this.red)}if(f.lambda)g=new a(f.lambda,16);else{var v=this._getEndoRoots(this.n);this.g.mul(v[0]).x.cmp(this.g.x.redMul(m))===0?g=v[0]:(g=v[1],c(this.g.mul(g).x.cmp(this.g.x.redMul(m))===0))}return{beta:m,lambda:g,basis:f.basis?f.basis.map(function(y){return{a:new a(y.a,16),b:new a(y.b,16)}}):this._getEndoBasis(g)}}},u.prototype._getEndoRoots=function(f){var m=f===this.p?this.red:a.mont(f),g=new a(2).toRed(m).redInvm(),p=g.redNeg(),v=new a(3).toRed(m).redNeg().redSqrt().redMul(g);return[p.redAdd(v).fromRed(),p.redSub(v).fromRed()]},u.prototype._getEndoBasis=function(f){for(var m,g,p,v,y,b,E,N,j,D=this.n.ushrn(Math.floor(this.n.bitLength()/2)),C=f,I=this.n.clone(),V=new a(1),B=new a(0),P=new a(0),k=new a(1),M=0;C.cmpn(0)!==0;){var A=I.div(C);N=I.sub(A.mul(C)),j=P.sub(A.mul(V));var w=k.sub(A.mul(B));if(!p&&N.cmp(D)<0)m=E.neg(),g=V,p=N.neg(),v=j;else if(p&&++M==2)break;E=N,I=C,C=N,P=V,V=j,k=B,B=w}y=N.neg(),b=j;var S=p.sqr().add(v.sqr());return y.sqr().add(b.sqr()).cmp(S)>=0&&(y=m,b=g),p.negative&&(p=p.neg(),v=v.neg()),y.negative&&(y=y.neg(),b=b.neg()),[{a:p,b:v},{a:y,b}]},u.prototype._endoSplit=function(f){var m=this.endo.basis,g=m[0],p=m[1],v=p.b.mul(f).divRound(this.n),y=g.b.neg().mul(f).divRound(this.n),b=v.mul(g.a),E=y.mul(p.a),N=v.mul(g.b),j=y.mul(p.b);return{k1:f.sub(b).sub(E),k2:N.add(j).neg()}},u.prototype.pointFromX=function(f,m){(f=new a(f,16)).red||(f=f.toRed(this.red));var g=f.redSqr().redMul(f).redIAdd(f.redMul(this.a)).redIAdd(this.b),p=g.redSqrt();if(p.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");var v=p.fromRed().isOdd();return(m&&!v||!m&&v)&&(p=p.redNeg()),this.point(f,p)},u.prototype.validate=function(f){if(f.inf)return!0;var m=f.x,g=f.y,p=this.a.redMul(m),v=m.redSqr().redMul(m).redIAdd(p).redIAdd(this.b);return g.redSqr().redISub(v).cmpn(0)===0},u.prototype._endoWnafMulAdd=function(f,m,g){for(var p=this._endoWnafT1,v=this._endoWnafT2,y=0;y<f.length;y++){var b=this._endoSplit(m[y]),E=f[y],N=E._getBeta();b.k1.negative&&(b.k1.ineg(),E=E.neg(!0)),b.k2.negative&&(b.k2.ineg(),N=N.neg(!0)),p[2*y]=E,p[2*y+1]=N,v[2*y]=b.k1,v[2*y+1]=b.k2}for(var j=this._wnafMulAdd(1,p,v,2*y,g),D=0;D<2*y;D++)p[D]=null,v[D]=null;return j},o(d,l.BasePoint),u.prototype.point=function(f,m,g){return new d(this,f,m,g)},u.prototype.pointFromJSON=function(f,m){return d.fromJSON(this,f,m)},d.prototype._getBeta=function(){if(this.curve.endo){var f=this.precomputed;if(f&&f.beta)return f.beta;var m=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(f){var g=this.curve,p=function(v){return g.point(v.x.redMul(g.endo.beta),v.y)};f.beta=m,m.precomputed={beta:null,naf:f.naf&&{wnd:f.naf.wnd,points:f.naf.points.map(p)},doubles:f.doubles&&{step:f.doubles.step,points:f.doubles.points.map(p)}}}return m}},d.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},d.fromJSON=function(f,m,g){typeof m=="string"&&(m=JSON.parse(m));var p=f.point(m[0],m[1],g);if(!m[2])return p;function v(b){return f.point(b[0],b[1],g)}var y=m[2];return p.precomputed={beta:null,doubles:y.doubles&&{step:y.doubles.step,points:[p].concat(y.doubles.points.map(v))},naf:y.naf&&{wnd:y.naf.wnd,points:[p].concat(y.naf.points.map(v))}},p},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return this.inf},d.prototype.add=function(f){if(this.inf)return f;if(f.inf)return this;if(this.eq(f))return this.dbl();if(this.neg().eq(f))return this.curve.point(null,null);if(this.x.cmp(f.x)===0)return this.curve.point(null,null);var m=this.y.redSub(f.y);m.cmpn(0)!==0&&(m=m.redMul(this.x.redSub(f.x).redInvm()));var g=m.redSqr().redISub(this.x).redISub(f.x),p=m.redMul(this.x.redSub(g)).redISub(this.y);return this.curve.point(g,p)},d.prototype.dbl=function(){if(this.inf)return this;var f=this.y.redAdd(this.y);if(f.cmpn(0)===0)return this.curve.point(null,null);var m=this.curve.a,g=this.x.redSqr(),p=f.redInvm(),v=g.redAdd(g).redIAdd(g).redIAdd(m).redMul(p),y=v.redSqr().redISub(this.x.redAdd(this.x)),b=v.redMul(this.x.redSub(y)).redISub(this.y);return this.curve.point(y,b)},d.prototype.getX=function(){return this.x.fromRed()},d.prototype.getY=function(){return this.y.fromRed()},d.prototype.mul=function(f){return f=new a(f,16),this.isInfinity()?this:this._hasDoubles(f)?this.curve._fixedNafMul(this,f):this.curve.endo?this.curve._endoWnafMulAdd([this],[f]):this.curve._wnafMul(this,f)},d.prototype.mulAdd=function(f,m,g){var p=[this,m],v=[f,g];return this.curve.endo?this.curve._endoWnafMulAdd(p,v):this.curve._wnafMulAdd(1,p,v,2)},d.prototype.jmulAdd=function(f,m,g){var p=[this,m],v=[f,g];return this.curve.endo?this.curve._endoWnafMulAdd(p,v,!0):this.curve._wnafMulAdd(1,p,v,2,!0)},d.prototype.eq=function(f){return this===f||this.inf===f.inf&&(this.inf||this.x.cmp(f.x)===0&&this.y.cmp(f.y)===0)},d.prototype.neg=function(f){if(this.inf)return this;var m=this.curve.point(this.x,this.y.redNeg());if(f&&this.precomputed){var g=this.precomputed,p=function(v){return v.neg()};m.precomputed={naf:g.naf&&{wnd:g.naf.wnd,points:g.naf.points.map(p)},doubles:g.doubles&&{step:g.doubles.step,points:g.doubles.points.map(p)}}}return m},d.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(h,l.BasePoint),u.prototype.jpoint=function(f,m,g){return new h(this,f,m,g)},h.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var f=this.z.redInvm(),m=f.redSqr(),g=this.x.redMul(m),p=this.y.redMul(m).redMul(f);return this.curve.point(g,p)},h.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},h.prototype.add=function(f){if(this.isInfinity())return f;if(f.isInfinity())return this;var m=f.z.redSqr(),g=this.z.redSqr(),p=this.x.redMul(m),v=f.x.redMul(g),y=this.y.redMul(m.redMul(f.z)),b=f.y.redMul(g.redMul(this.z)),E=p.redSub(v),N=y.redSub(b);if(E.cmpn(0)===0)return N.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var j=E.redSqr(),D=j.redMul(E),C=p.redMul(j),I=N.redSqr().redIAdd(D).redISub(C).redISub(C),V=N.redMul(C.redISub(I)).redISub(y.redMul(D)),B=this.z.redMul(f.z).redMul(E);return this.curve.jpoint(I,V,B)},h.prototype.mixedAdd=function(f){if(this.isInfinity())return f.toJ();if(f.isInfinity())return this;var m=this.z.redSqr(),g=this.x,p=f.x.redMul(m),v=this.y,y=f.y.redMul(m).redMul(this.z),b=g.redSub(p),E=v.redSub(y);if(b.cmpn(0)===0)return E.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var N=b.redSqr(),j=N.redMul(b),D=g.redMul(N),C=E.redSqr().redIAdd(j).redISub(D).redISub(D),I=E.redMul(D.redISub(C)).redISub(v.redMul(j)),V=this.z.redMul(b);return this.curve.jpoint(C,I,V)},h.prototype.dblp=function(f){if(f===0)return this;if(this.isInfinity())return this;if(!f)return this.dbl();var m;if(this.curve.zeroA||this.curve.threeA){var g=this;for(m=0;m<f;m++)g=g.dbl();return g}var p=this.curve.a,v=this.curve.tinv,y=this.x,b=this.y,E=this.z,N=E.redSqr().redSqr(),j=b.redAdd(b);for(m=0;m<f;m++){var D=y.redSqr(),C=j.redSqr(),I=C.redSqr(),V=D.redAdd(D).redIAdd(D).redIAdd(p.redMul(N)),B=y.redMul(C),P=V.redSqr().redISub(B.redAdd(B)),k=B.redISub(P),M=V.redMul(k);M=M.redIAdd(M).redISub(I);var A=j.redMul(E);m+1<f&&(N=N.redMul(I)),y=P,E=A,j=M}return this.curve.jpoint(y,j.redMul(v),E)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},h.prototype._zeroDbl=function(){var f,m,g;if(this.zOne){var p=this.x.redSqr(),v=this.y.redSqr(),y=v.redSqr(),b=this.x.redAdd(v).redSqr().redISub(p).redISub(y);b=b.redIAdd(b);var E=p.redAdd(p).redIAdd(p),N=E.redSqr().redISub(b).redISub(b),j=y.redIAdd(y);j=(j=j.redIAdd(j)).redIAdd(j),f=N,m=E.redMul(b.redISub(N)).redISub(j),g=this.y.redAdd(this.y)}else{var D=this.x.redSqr(),C=this.y.redSqr(),I=C.redSqr(),V=this.x.redAdd(C).redSqr().redISub(D).redISub(I);V=V.redIAdd(V);var B=D.redAdd(D).redIAdd(D),P=B.redSqr(),k=I.redIAdd(I);k=(k=k.redIAdd(k)).redIAdd(k),f=P.redISub(V).redISub(V),m=B.redMul(V.redISub(f)).redISub(k),g=(g=this.y.redMul(this.z)).redIAdd(g)}return this.curve.jpoint(f,m,g)},h.prototype._threeDbl=function(){var f,m,g;if(this.zOne){var p=this.x.redSqr(),v=this.y.redSqr(),y=v.redSqr(),b=this.x.redAdd(v).redSqr().redISub(p).redISub(y);b=b.redIAdd(b);var E=p.redAdd(p).redIAdd(p).redIAdd(this.curve.a),N=E.redSqr().redISub(b).redISub(b);f=N;var j=y.redIAdd(y);j=(j=j.redIAdd(j)).redIAdd(j),m=E.redMul(b.redISub(N)).redISub(j),g=this.y.redAdd(this.y)}else{var D=this.z.redSqr(),C=this.y.redSqr(),I=this.x.redMul(C),V=this.x.redSub(D).redMul(this.x.redAdd(D));V=V.redAdd(V).redIAdd(V);var B=I.redIAdd(I),P=(B=B.redIAdd(B)).redAdd(B);f=V.redSqr().redISub(P),g=this.y.redAdd(this.z).redSqr().redISub(C).redISub(D);var k=C.redSqr();k=(k=(k=k.redIAdd(k)).redIAdd(k)).redIAdd(k),m=V.redMul(B.redISub(f)).redISub(k)}return this.curve.jpoint(f,m,g)},h.prototype._dbl=function(){var f=this.curve.a,m=this.x,g=this.y,p=this.z,v=p.redSqr().redSqr(),y=m.redSqr(),b=g.redSqr(),E=y.redAdd(y).redIAdd(y).redIAdd(f.redMul(v)),N=m.redAdd(m),j=(N=N.redIAdd(N)).redMul(b),D=E.redSqr().redISub(j.redAdd(j)),C=j.redISub(D),I=b.redSqr();I=(I=(I=I.redIAdd(I)).redIAdd(I)).redIAdd(I);var V=E.redMul(C).redISub(I),B=g.redAdd(g).redMul(p);return this.curve.jpoint(D,V,B)},h.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var f=this.x.redSqr(),m=this.y.redSqr(),g=this.z.redSqr(),p=m.redSqr(),v=f.redAdd(f).redIAdd(f),y=v.redSqr(),b=this.x.redAdd(m).redSqr().redISub(f).redISub(p),E=(b=(b=(b=b.redIAdd(b)).redAdd(b).redIAdd(b)).redISub(y)).redSqr(),N=p.redIAdd(p);N=(N=(N=N.redIAdd(N)).redIAdd(N)).redIAdd(N);var j=v.redIAdd(b).redSqr().redISub(y).redISub(E).redISub(N),D=m.redMul(j);D=(D=D.redIAdd(D)).redIAdd(D);var C=this.x.redMul(E).redISub(D);C=(C=C.redIAdd(C)).redIAdd(C);var I=this.y.redMul(j.redMul(N.redISub(j)).redISub(b.redMul(E)));I=(I=(I=I.redIAdd(I)).redIAdd(I)).redIAdd(I);var V=this.z.redAdd(b).redSqr().redISub(g).redISub(E);return this.curve.jpoint(C,I,V)},h.prototype.mul=function(f,m){return f=new a(f,m),this.curve._wnafMul(this,f)},h.prototype.eq=function(f){if(f.type==="affine")return this.eq(f.toJ());if(this===f)return!0;var m=this.z.redSqr(),g=f.z.redSqr();if(this.x.redMul(g).redISub(f.x.redMul(m)).cmpn(0)!==0)return!1;var p=m.redMul(this.z),v=g.redMul(f.z);return this.y.redMul(v).redISub(f.y.redMul(p)).cmpn(0)===0},h.prototype.eqXToP=function(f){var m=this.z.redSqr(),g=f.toRed(this.curve.red).redMul(m);if(this.x.cmp(g)===0)return!0;for(var p=f.clone(),v=this.curve.redN.redMul(m);;){if(p.iadd(this.curve.n),p.cmp(this.curve.p)>=0)return!1;if(g.redIAdd(v),this.x.cmp(g)===0)return!0}},h.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},h.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(t,n,s){var i,a=s,o=t("hash.js"),l=t("./curve"),c=t("./utils").assert;function u(h){h.type==="short"?this.curve=new l.short(h):h.type==="edwards"?this.curve=new l.edwards(h):this.curve=new l.mont(h),this.g=this.curve.g,this.n=this.curve.n,this.hash=h.hash,c(this.g.validate(),"Invalid curve"),c(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function d(h,f){Object.defineProperty(a,h,{configurable:!0,enumerable:!0,get:function(){var m=new u(f);return Object.defineProperty(a,h,{configurable:!0,enumerable:!0,value:m}),m}})}a.PresetCurve=u,d("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),d("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),d("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),d("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),d("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),d("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),d("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=t("./precomputed/secp256k1")}catch{i=void 0}d("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(t,n,s){var i=t("bn.js"),a=t("hmac-drbg"),o=t("../utils"),l=t("../curves"),c=t("brorand"),u=o.assert,d=t("./key"),h=t("./signature");function f(m){if(!(this instanceof f))return new f(m);typeof m=="string"&&(u(Object.prototype.hasOwnProperty.call(l,m),"Unknown curve "+m),m=l[m]),m instanceof l.PresetCurve&&(m={curve:m}),this.curve=m.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=m.curve.g,this.g.precompute(m.curve.n.bitLength()+1),this.hash=m.hash||m.curve.hash}n.exports=f,f.prototype.keyPair=function(m){return new d(this,m)},f.prototype.keyFromPrivate=function(m,g){return d.fromPrivate(this,m,g)},f.prototype.keyFromPublic=function(m,g){return d.fromPublic(this,m,g)},f.prototype.genKeyPair=function(m){m||(m={});for(var g=new a({hash:this.hash,pers:m.pers,persEnc:m.persEnc||"utf8",entropy:m.entropy||c(this.hash.hmacStrength),entropyEnc:m.entropy&&m.entropyEnc||"utf8",nonce:this.n.toArray()}),p=this.n.byteLength(),v=this.n.sub(new i(2));;){var y=new i(g.generate(p));if(!(y.cmp(v)>0))return y.iaddn(1),this.keyFromPrivate(y)}},f.prototype._truncateToN=function(m,g){var p=8*m.byteLength()-this.n.bitLength();return p>0&&(m=m.ushrn(p)),!g&&m.cmp(this.n)>=0?m.sub(this.n):m},f.prototype.sign=function(m,g,p,v){typeof p=="object"&&(v=p,p=null),v||(v={}),g=this.keyFromPrivate(g,p),m=this._truncateToN(new i(m,16));for(var y=this.n.byteLength(),b=g.getPrivate().toArray("be",y),E=m.toArray("be",y),N=new a({hash:this.hash,entropy:b,nonce:E,pers:v.pers,persEnc:v.persEnc||"utf8"}),j=this.n.sub(new i(1)),D=0;;D++){var C=v.k?v.k(D):new i(N.generate(this.n.byteLength()));if(!((C=this._truncateToN(C,!0)).cmpn(1)<=0||C.cmp(j)>=0)){var I=this.g.mul(C);if(!I.isInfinity()){var V=I.getX(),B=V.umod(this.n);if(B.cmpn(0)!==0){var P=C.invm(this.n).mul(B.mul(g.getPrivate()).iadd(m));if((P=P.umod(this.n)).cmpn(0)!==0){var k=(I.getY().isOdd()?1:0)|(V.cmp(B)!==0?2:0);return v.canonical&&P.cmp(this.nh)>0&&(P=this.n.sub(P),k^=1),new h({r:B,s:P,recoveryParam:k})}}}}}},f.prototype.verify=function(m,g,p,v){m=this._truncateToN(new i(m,16)),p=this.keyFromPublic(p,v);var y=(g=new h(g,"hex")).r,b=g.s;if(y.cmpn(1)<0||y.cmp(this.n)>=0||b.cmpn(1)<0||b.cmp(this.n)>=0)return!1;var E,N=b.invm(this.n),j=N.mul(m).umod(this.n),D=N.mul(y).umod(this.n);return this.curve._maxwellTrick?!(E=this.g.jmulAdd(j,p.getPublic(),D)).isInfinity()&&E.eqXToP(y):!(E=this.g.mulAdd(j,p.getPublic(),D)).isInfinity()&&E.getX().umod(this.n).cmp(y)===0},f.prototype.recoverPubKey=function(m,g,p,v){u((3&p)===p,"The recovery param is more than two bits"),g=new h(g,v);var y=this.n,b=new i(m),E=g.r,N=g.s,j=1&p,D=p>>1;if(E.cmp(this.curve.p.umod(this.curve.n))>=0&&D)throw new Error("Unable to find sencond key candinate");E=D?this.curve.pointFromX(E.add(this.curve.n),j):this.curve.pointFromX(E,j);var C=g.r.invm(y),I=y.sub(b).mul(C).umod(y),V=N.mul(C).umod(y);return this.g.mulAdd(I,E,V)},f.prototype.getKeyRecoveryParam=function(m,g,p,v){if((g=new h(g,v)).recoveryParam!==null)return g.recoveryParam;for(var y=0;y<4;y++){var b;try{b=this.recoverPubKey(m,g,y)}catch{continue}if(b.eq(p))return y}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(t,n,s){var i=t("bn.js"),a=t("../utils").assert;function o(l,c){this.ec=l,this.priv=null,this.pub=null,c.priv&&this._importPrivate(c.priv,c.privEnc),c.pub&&this._importPublic(c.pub,c.pubEnc)}n.exports=o,o.fromPublic=function(l,c,u){return c instanceof o?c:new o(l,{pub:c,pubEnc:u})},o.fromPrivate=function(l,c,u){return c instanceof o?c:new o(l,{priv:c,privEnc:u})},o.prototype.validate=function(){var l=this.getPublic();return l.isInfinity()?{result:!1,reason:"Invalid public key"}:l.validate()?l.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(l,c){return typeof l=="string"&&(c=l,l=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),c?this.pub.encode(c,l):this.pub},o.prototype.getPrivate=function(l){return l==="hex"?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(l,c){this.priv=new i(l,c||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(l,c){if(l.x||l.y)return this.ec.curve.type==="mont"?a(l.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||a(l.x&&l.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(l.x,l.y));this.pub=this.ec.curve.decodePoint(l,c)},o.prototype.derive=function(l){return l.validate()||a(l.validate(),"public point not validated"),l.mul(this.priv).getX()},o.prototype.sign=function(l,c,u){return this.ec.sign(l,this,c,u)},o.prototype.verify=function(l,c){return this.ec.verify(l,c,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(t,n,s){var i=t("bn.js"),a=t("../utils"),o=a.assert;function l(f,m){if(f instanceof l)return f;this._importDER(f,m)||(o(f.r&&f.s,"Signature without r or s"),this.r=new i(f.r,16),this.s=new i(f.s,16),f.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=f.recoveryParam)}function c(){this.place=0}function u(f,m){var g=f[m.place++];if(!(128&g))return g;var p=15&g;if(p===0||p>4)return!1;for(var v=0,y=0,b=m.place;y<p;y++,b++)v<<=8,v|=f[b],v>>>=0;return!(v<=127)&&(m.place=b,v)}function d(f){for(var m=0,g=f.length-1;!f[m]&&!(128&f[m+1])&&m<g;)m++;return m===0?f:f.slice(m)}function h(f,m){if(m<128)f.push(m);else{var g=1+(Math.log(m)/Math.LN2>>>3);for(f.push(128|g);--g;)f.push(m>>>(g<<3)&255);f.push(m)}}n.exports=l,l.prototype._importDER=function(f,m){f=a.toArray(f,m);var g=new c;if(f[g.place++]!==48)return!1;var p=u(f,g);if(p===!1||p+g.place!==f.length||f[g.place++]!==2)return!1;var v=u(f,g);if(v===!1)return!1;var y=f.slice(g.place,v+g.place);if(g.place+=v,f[g.place++]!==2)return!1;var b=u(f,g);if(b===!1||f.length!==b+g.place)return!1;var E=f.slice(g.place,b+g.place);if(y[0]===0){if(!(128&y[1]))return!1;y=y.slice(1)}if(E[0]===0){if(!(128&E[1]))return!1;E=E.slice(1)}return this.r=new i(y),this.s=new i(E),this.recoveryParam=null,!0},l.prototype.toDER=function(f){var m=this.r.toArray(),g=this.s.toArray();for(128&m[0]&&(m=[0].concat(m)),128&g[0]&&(g=[0].concat(g)),m=d(m),g=d(g);!(g[0]||128&g[1]);)g=g.slice(1);var p=[2];h(p,m.length),(p=p.concat(m)).push(2),h(p,g.length);var v=p.concat(g),y=[48];return h(y,v.length),y=y.concat(v),a.encode(y,f)}},{"../utils":419,"bn.js":420}],415:[function(t,n,s){var i=t("hash.js"),a=t("../curves"),o=t("../utils"),l=o.assert,c=o.parseBytes,u=t("./key"),d=t("./signature");function h(f){if(l(f==="ed25519","only tested with ed25519 so far"),!(this instanceof h))return new h(f);f=a[f].curve,this.curve=f,this.g=f.g,this.g.precompute(f.n.bitLength()+1),this.pointClass=f.point().constructor,this.encodingLength=Math.ceil(f.n.bitLength()/8),this.hash=i.sha512}n.exports=h,h.prototype.sign=function(f,m){f=c(f);var g=this.keyFromSecret(m),p=this.hashInt(g.messagePrefix(),f),v=this.g.mul(p),y=this.encodePoint(v),b=this.hashInt(y,g.pubBytes(),f).mul(g.priv()),E=p.add(b).umod(this.curve.n);return this.makeSignature({R:v,S:E,Rencoded:y})},h.prototype.verify=function(f,m,g){f=c(f),m=this.makeSignature(m);var p=this.keyFromPublic(g),v=this.hashInt(m.Rencoded(),p.pubBytes(),f),y=this.g.mul(m.S());return m.R().add(p.pub().mul(v)).eq(y)},h.prototype.hashInt=function(){for(var f=this.hash(),m=0;m<arguments.length;m++)f.update(arguments[m]);return o.intFromLE(f.digest()).umod(this.curve.n)},h.prototype.keyFromPublic=function(f){return u.fromPublic(this,f)},h.prototype.keyFromSecret=function(f){return u.fromSecret(this,f)},h.prototype.makeSignature=function(f){return f instanceof d?f:new d(this,f)},h.prototype.encodePoint=function(f){var m=f.getY().toArray("le",this.encodingLength);return m[this.encodingLength-1]|=f.getX().isOdd()?128:0,m},h.prototype.decodePoint=function(f){var m=(f=o.parseBytes(f)).length-1,g=f.slice(0,m).concat(-129&f[m]),p=(128&f[m])!=0,v=o.intFromLE(g);return this.curve.pointFromY(v,p)},h.prototype.encodeInt=function(f){return f.toArray("le",this.encodingLength)},h.prototype.decodeInt=function(f){return o.intFromLE(f)},h.prototype.isPoint=function(f){return f instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(t,n,s){var i=t("../utils"),a=i.assert,o=i.parseBytes,l=i.cachedProperty;function c(u,d){this.eddsa=u,this._secret=o(d.secret),u.isPoint(d.pub)?this._pub=d.pub:this._pubBytes=o(d.pub)}c.fromPublic=function(u,d){return d instanceof c?d:new c(u,{pub:d})},c.fromSecret=function(u,d){return d instanceof c?d:new c(u,{secret:d})},c.prototype.secret=function(){return this._secret},l(c,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),l(c,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),l(c,"privBytes",function(){var u=this.eddsa,d=this.hash(),h=u.encodingLength-1,f=d.slice(0,u.encodingLength);return f[0]&=248,f[h]&=127,f[h]|=64,f}),l(c,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),l(c,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),l(c,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),c.prototype.sign=function(u){return a(this._secret,"KeyPair can only verify"),this.eddsa.sign(u,this)},c.prototype.verify=function(u,d){return this.eddsa.verify(u,d,this)},c.prototype.getSecret=function(u){return a(this._secret,"KeyPair is public only"),i.encode(this.secret(),u)},c.prototype.getPublic=function(u){return i.encode(this.pubBytes(),u)},n.exports=c},{"../utils":419}],417:[function(t,n,s){var i=t("bn.js"),a=t("../utils"),o=a.assert,l=a.cachedProperty,c=a.parseBytes;function u(d,h){this.eddsa=d,typeof h!="object"&&(h=c(h)),Array.isArray(h)&&(h={R:h.slice(0,d.encodingLength),S:h.slice(d.encodingLength)}),o(h.R&&h.S,"Signature without R or S"),d.isPoint(h.R)&&(this._R=h.R),h.S instanceof i&&(this._S=h.S),this._Rencoded=Array.isArray(h.R)?h.R:h.Rencoded,this._Sencoded=Array.isArray(h.S)?h.S:h.Sencoded}l(u,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),l(u,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),l(u,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),l(u,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return a.encode(this.toBytes(),"hex").toUpperCase()},n.exports=u},{"../utils":419,"bn.js":420}],418:[function(t,n,s){n.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(t,n,s){var i=s,a=t("bn.js"),o=t("minimalistic-assert"),l=t("minimalistic-crypto-utils");i.assert=o,i.toArray=l.toArray,i.zero2=l.zero2,i.toHex=l.toHex,i.encode=l.encode,i.getNAF=function(c,u,d){var h=new Array(Math.max(c.bitLength(),d)+1);h.fill(0);for(var f=1<<u+1,m=c.clone(),g=0;g<h.length;g++){var p,v=m.andln(f-1);m.isOdd()?(p=v>(f>>1)-1?(f>>1)-v:v,m.isubn(p)):p=0,h[g]=p,m.iushrn(1)}return h},i.getJSF=function(c,u){var d=[[],[]];c=c.clone(),u=u.clone();for(var h,f=0,m=0;c.cmpn(-f)>0||u.cmpn(-m)>0;){var g,p,v=c.andln(3)+f&3,y=u.andln(3)+m&3;v===3&&(v=-1),y===3&&(y=-1),g=1&v?(h=c.andln(7)+f&7)!==3&&h!==5||y!==2?v:-v:0,d[0].push(g),p=1&y?(h=u.andln(7)+m&7)!==3&&h!==5||v!==2?y:-y:0,d[1].push(p),2*f===g+1&&(f=1-f),2*m===p+1&&(m=1-m),c.iushrn(1),u.iushrn(1)}return d},i.cachedProperty=function(c,u,d){var h="_"+u;c.prototype[u]=function(){return this[h]!==void 0?this[h]:this[h]=d.call(this)}},i.parseBytes=function(c){return typeof c=="string"?i.toArray(c,"hex"):c},i.intFromLE=function(c){return new a(c,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(t,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],421:[function(t,n,s){n.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(t,n,s){var i=Object.create||function(C){var I=function(){};return I.prototype=C,new I},a=Object.keys||function(C){var I=[];for(var V in C)Object.prototype.hasOwnProperty.call(C,V)&&I.push(V);return V},o=Function.prototype.bind||function(C){var I=this;return function(){return I.apply(C,arguments)}};function l(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=i(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}n.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._maxListeners=void 0;var c,u=10;try{var d={};Object.defineProperty&&Object.defineProperty(d,"x",{value:0}),c=d.x===0}catch{c=!1}function h(C){return C._maxListeners===void 0?l.defaultMaxListeners:C._maxListeners}function f(C,I,V){if(I)C.call(V);else for(var B=C.length,P=D(C,B),k=0;k<B;++k)P[k].call(V)}function m(C,I,V,B){if(I)C.call(V,B);else for(var P=C.length,k=D(C,P),M=0;M<P;++M)k[M].call(V,B)}function g(C,I,V,B,P){if(I)C.call(V,B,P);else for(var k=C.length,M=D(C,k),A=0;A<k;++A)M[A].call(V,B,P)}function p(C,I,V,B,P,k){if(I)C.call(V,B,P,k);else for(var M=C.length,A=D(C,M),w=0;w<M;++w)A[w].call(V,B,P,k)}function v(C,I,V,B){if(I)C.apply(V,B);else for(var P=C.length,k=D(C,P),M=0;M<P;++M)k[M].apply(V,B)}function y(C,I,V,B){var P,k,M;if(typeof V!="function")throw new TypeError('"listener" argument must be a function');if((k=C._events)?(k.newListener&&(C.emit("newListener",I,V.listener?V.listener:V),k=C._events),M=k[I]):(k=C._events=i(null),C._eventsCount=0),M){if(typeof M=="function"?M=k[I]=B?[V,M]:[M,V]:B?M.unshift(V):M.push(V),!M.warned&&(P=h(C))&&P>0&&M.length>P){M.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+M.length+' "'+String(I)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');A.name="MaxListenersExceededWarning",A.emitter=C,A.type=I,A.count=M.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",A.name,A.message)}}else M=k[I]=V,++C._eventsCount;return C}function b(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var C=new Array(arguments.length),I=0;I<C.length;++I)C[I]=arguments[I];this.listener.apply(this.target,C)}}function E(C,I,V){var B={fired:!1,wrapFn:void 0,target:C,type:I,listener:V},P=o.call(b,B);return P.listener=V,B.wrapFn=P,P}function N(C,I,V){var B=C._events;if(!B)return[];var P=B[I];return P?typeof P=="function"?V?[P.listener||P]:[P]:V?function(k){for(var M=new Array(k.length),A=0;A<M.length;++A)M[A]=k[A].listener||k[A];return M}(P):D(P,P.length):[]}function j(C){var I=this._events;if(I){var V=I[C];if(typeof V=="function")return 1;if(V)return V.length}return 0}function D(C,I){for(var V=new Array(I),B=0;B<I;++B)V[B]=C[B];return V}c?Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(C){if(typeof C!="number"||C<0||C!=C)throw new TypeError('"defaultMaxListeners" must be a positive number');u=C}}):l.defaultMaxListeners=u,l.prototype.setMaxListeners=function(C){if(typeof C!="number"||C<0||isNaN(C))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=C,this},l.prototype.getMaxListeners=function(){return h(this)},l.prototype.emit=function(C){var I,V,B,P,k,M,A=C==="error";if(M=this._events)A=A&&M.error==null;else if(!A)return!1;if(A){if(arguments.length>1&&(I=arguments[1]),I instanceof Error)throw I;var w=new Error('Unhandled "error" event. ('+I+")");throw w.context=I,w}if(!(V=M[C]))return!1;var S=typeof V=="function";switch(B=arguments.length){case 1:f(V,S,this);break;case 2:m(V,S,this,arguments[1]);break;case 3:g(V,S,this,arguments[1],arguments[2]);break;case 4:p(V,S,this,arguments[1],arguments[2],arguments[3]);break;default:for(P=new Array(B-1),k=1;k<B;k++)P[k-1]=arguments[k];v(V,S,this,P)}return!0},l.prototype.addListener=function(C,I){return y(this,C,I,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(C,I){return y(this,C,I,!0)},l.prototype.once=function(C,I){if(typeof I!="function")throw new TypeError('"listener" argument must be a function');return this.on(C,E(this,C,I)),this},l.prototype.prependOnceListener=function(C,I){if(typeof I!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(C,E(this,C,I)),this},l.prototype.removeListener=function(C,I){var V,B,P,k,M;if(typeof I!="function")throw new TypeError('"listener" argument must be a function');if(!(B=this._events))return this;if(!(V=B[C]))return this;if(V===I||V.listener===I)--this._eventsCount==0?this._events=i(null):(delete B[C],B.removeListener&&this.emit("removeListener",C,V.listener||I));else if(typeof V!="function"){for(P=-1,k=V.length-1;k>=0;k--)if(V[k]===I||V[k].listener===I){M=V[k].listener,P=k;break}if(P<0)return this;P===0?V.shift():function(A,w){for(var S=w,_=S+1,x=A.length;_<x;S+=1,_+=1)A[S]=A[_];A.pop()}(V,P),V.length===1&&(B[C]=V[0]),B.removeListener&&this.emit("removeListener",C,M||I)}return this},l.prototype.removeAllListeners=function(C){var I,V,B;if(!(V=this._events))return this;if(!V.removeListener)return arguments.length===0?(this._events=i(null),this._eventsCount=0):V[C]&&(--this._eventsCount==0?this._events=i(null):delete V[C]),this;if(arguments.length===0){var P,k=a(V);for(B=0;B<k.length;++B)(P=k[B])!=="removeListener"&&this.removeAllListeners(P);return this.removeAllListeners("removeListener"),this._events=i(null),this._eventsCount=0,this}if(typeof(I=V[C])=="function")this.removeListener(C,I);else if(I)for(B=I.length-1;B>=0;B--)this.removeListener(C,I[B]);return this},l.prototype.listeners=function(C){return N(this,C,!0)},l.prototype.rawListeners=function(C){return N(this,C,!1)},l.listenerCount=function(C,I){return typeof C.listenerCount=="function"?C.listenerCount(I):j.call(C,I)},l.prototype.listenerCount=j,l.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(t,n,s){var i=t("safe-buffer").Buffer,a=t("md5.js");n.exports=function(o,l,c,u){if(i.isBuffer(o)||(o=i.from(o,"binary")),l&&(i.isBuffer(l)||(l=i.from(l,"binary")),l.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var d=c/8,h=i.alloc(d),f=i.alloc(u||0),m=i.alloc(0);d>0||u>0;){var g=new a;g.update(m),g.update(o),l&&g.update(l),m=g.digest();var p=0;if(d>0){var v=h.length-d;p=Math.min(d,m.length),m.copy(h,v,0,p),d-=p}if(p<m.length&&u>0){var y=f.length-u,b=Math.min(u,m.length-p);m.copy(f,y,p,p+b),u-=b}}return m.fill(0),{key:h,iv:f}}},{"md5.js":450,"safe-buffer":494}],424:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvParserStream=s.ParserOptions=s.parseFile=s.parseStream=s.parseString=s.parse=s.FormatterOptions=s.CsvFormatterStream=s.writeToPath=s.writeToString=s.writeToBuffer=s.writeToStream=s.write=s.format=void 0;var i=t("@fast-csv/format");Object.defineProperty(s,"format",{enumerable:!0,get:function(){return i.format}}),Object.defineProperty(s,"write",{enumerable:!0,get:function(){return i.write}}),Object.defineProperty(s,"writeToStream",{enumerable:!0,get:function(){return i.writeToStream}}),Object.defineProperty(s,"writeToBuffer",{enumerable:!0,get:function(){return i.writeToBuffer}}),Object.defineProperty(s,"writeToString",{enumerable:!0,get:function(){return i.writeToString}}),Object.defineProperty(s,"writeToPath",{enumerable:!0,get:function(){return i.writeToPath}}),Object.defineProperty(s,"CsvFormatterStream",{enumerable:!0,get:function(){return i.CsvFormatterStream}}),Object.defineProperty(s,"FormatterOptions",{enumerable:!0,get:function(){return i.FormatterOptions}});var a=t("@fast-csv/parse");Object.defineProperty(s,"parse",{enumerable:!0,get:function(){return a.parse}}),Object.defineProperty(s,"parseString",{enumerable:!0,get:function(){return a.parseString}}),Object.defineProperty(s,"parseStream",{enumerable:!0,get:function(){return a.parseStream}}),Object.defineProperty(s,"parseFile",{enumerable:!0,get:function(){return a.parseFile}}),Object.defineProperty(s,"ParserOptions",{enumerable:!0,get:function(){return a.ParserOptions}}),Object.defineProperty(s,"CsvParserStream",{enumerable:!0,get:function(){return a.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(t,n,s){var i=t("safe-buffer").Buffer,a=t("readable-stream").Transform;function o(l){a.call(this),this._block=i.allocUnsafe(l),this._blockSize=l,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}t("inherits")(o,a),o.prototype._transform=function(l,c,u){var d=null;try{this.update(l,c)}catch(h){d=h}u(d)},o.prototype._flush=function(l){var c=null;try{this.push(this.digest())}catch(u){c=u}l(c)},o.prototype.update=function(l,c){if(function(g,p){if(!i.isBuffer(g)&&typeof g!="string")throw new TypeError(p+" must be a string or a buffer")}(l,"Data"),this._finalized)throw new Error("Digest already called");i.isBuffer(l)||(l=i.from(l,c));for(var u=this._block,d=0;this._blockOffset+l.length-d>=this._blockSize;){for(var h=this._blockOffset;h<this._blockSize;)u[h++]=l[d++];this._update(),this._blockOffset=0}for(;d<l.length;)u[this._blockOffset++]=l[d++];for(var f=0,m=8*l.length;m>0;++f)this._length[f]+=m,(m=this._length[f]/4294967296|0)>0&&(this._length[f]-=4294967296*m);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(l){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var c=this._digest();l!==void 0&&(c=c.toString(l)),this._block.fill(0),this._blockOffset=0;for(var u=0;u<4;++u)this._length[u]=0;return c},o.prototype._digest=function(){throw new Error("_digest is not implemented")},n.exports=o},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(t,n,s){var i=s;i.utils=t("./hash/utils"),i.common=t("./hash/common"),i.sha=t("./hash/sha"),i.ripemd=t("./hash/ripemd"),i.hmac=t("./hash/hmac"),i.sha1=i.sha.sha1,i.sha256=i.sha.sha256,i.sha224=i.sha.sha224,i.sha384=i.sha.sha384,i.sha512=i.sha.sha512,i.ripemd160=i.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(t,n,s){var i=t("./utils"),a=t("minimalistic-assert");function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}s.BlockHash=o,o.prototype.update=function(l,c){if(l=i.toArray(l,c),this.pending?this.pending=this.pending.concat(l):this.pending=l,this.pendingTotal+=l.length,this.pending.length>=this._delta8){var u=(l=this.pending).length%this._delta8;this.pending=l.slice(l.length-u,l.length),this.pending.length===0&&(this.pending=null),l=i.join32(l,0,l.length-u,this.endian);for(var d=0;d<l.length;d+=this._delta32)this._update(l,d,d+this._delta32)}return this},o.prototype.digest=function(l){return this.update(this._pad()),a(this.pending===null),this._digest(l)},o.prototype._pad=function(){var l=this.pendingTotal,c=this._delta8,u=c-(l+this.padLength)%c,d=new Array(u+this.padLength);d[0]=128;for(var h=1;h<u;h++)d[h]=0;if(l<<=3,this.endian==="big"){for(var f=8;f<this.padLength;f++)d[h++]=0;d[h++]=0,d[h++]=0,d[h++]=0,d[h++]=0,d[h++]=l>>>24&255,d[h++]=l>>>16&255,d[h++]=l>>>8&255,d[h++]=255&l}else for(d[h++]=255&l,d[h++]=l>>>8&255,d[h++]=l>>>16&255,d[h++]=l>>>24&255,d[h++]=0,d[h++]=0,d[h++]=0,d[h++]=0,f=8;f<this.padLength;f++)d[h++]=0;return d}},{"./utils":437,"minimalistic-assert":453}],428:[function(t,n,s){var i=t("./utils"),a=t("minimalistic-assert");function o(l,c,u){if(!(this instanceof o))return new o(l,c,u);this.Hash=l,this.blockSize=l.blockSize/8,this.outSize=l.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(c,u))}n.exports=o,o.prototype._init=function(l){l.length>this.blockSize&&(l=new this.Hash().update(l).digest()),a(l.length<=this.blockSize);for(var c=l.length;c<this.blockSize;c++)l.push(0);for(c=0;c<l.length;c++)l[c]^=54;for(this.inner=new this.Hash().update(l),c=0;c<l.length;c++)l[c]^=106;this.outer=new this.Hash().update(l)},o.prototype.update=function(l,c){return this.inner.update(l,c),this},o.prototype.digest=function(l){return this.outer.update(this.inner.digest()),this.outer.digest(l)}},{"./utils":437,"minimalistic-assert":453}],429:[function(t,n,s){var i=t("./utils"),a=t("./common"),o=i.rotl32,l=i.sum32,c=i.sum32_3,u=i.sum32_4,d=a.BlockHash;function h(){if(!(this instanceof h))return new h;d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(E,N,j,D){return E<=15?N^j^D:E<=31?N&j|~N&D:E<=47?(N|~j)^D:E<=63?N&D|j&~D:N^(j|~D)}function m(E){return E<=15?0:E<=31?1518500249:E<=47?1859775393:E<=63?2400959708:2840853838}function g(E){return E<=15?1352829926:E<=31?1548603684:E<=47?1836072691:E<=63?2053994217:0}i.inherits(h,d),s.ripemd160=h,h.blockSize=512,h.outSize=160,h.hmacStrength=192,h.padLength=64,h.prototype._update=function(E,N){for(var j=this.h[0],D=this.h[1],C=this.h[2],I=this.h[3],V=this.h[4],B=j,P=D,k=C,M=I,A=V,w=0;w<80;w++){var S=l(o(u(j,f(w,D,C,I),E[p[w]+N],m(w)),y[w]),V);j=V,V=I,I=o(C,10),C=D,D=S,S=l(o(u(B,f(79-w,P,k,M),E[v[w]+N],g(w)),b[w]),A),B=A,A=M,M=o(k,10),k=P,P=S}S=c(this.h[1],C,M),this.h[1]=c(this.h[2],I,A),this.h[2]=c(this.h[3],V,B),this.h[3]=c(this.h[4],j,P),this.h[4]=c(this.h[0],D,k),this.h[0]=S},h.prototype._digest=function(E){return E==="hex"?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],v=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],b=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(t,n,s){s.sha1=t("./sha/1"),s.sha224=t("./sha/224"),s.sha256=t("./sha/256"),s.sha384=t("./sha/384"),s.sha512=t("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(t,n,s){var i=t("../utils"),a=t("../common"),o=t("./common"),l=i.rotl32,c=i.sum32,u=i.sum32_5,d=o.ft_1,h=a.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function m(){if(!(this instanceof m))return new m;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}i.inherits(m,h),n.exports=m,m.blockSize=512,m.outSize=160,m.hmacStrength=80,m.padLength=64,m.prototype._update=function(g,p){for(var v=this.W,y=0;y<16;y++)v[y]=g[p+y];for(;y<v.length;y++)v[y]=l(v[y-3]^v[y-8]^v[y-14]^v[y-16],1);var b=this.h[0],E=this.h[1],N=this.h[2],j=this.h[3],D=this.h[4];for(y=0;y<v.length;y++){var C=~~(y/20),I=u(l(b,5),d(C,E,N,j),D,v[y],f[C]);D=j,j=N,N=l(E,30),E=b,b=I}this.h[0]=c(this.h[0],b),this.h[1]=c(this.h[1],E),this.h[2]=c(this.h[2],N),this.h[3]=c(this.h[3],j),this.h[4]=c(this.h[4],D)},m.prototype._digest=function(g){return g==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(t,n,s){var i=t("../utils"),a=t("./256");function o(){if(!(this instanceof o))return new o;a.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}i.inherits(o,a),n.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(l){return l==="hex"?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(t,n,s){var i=t("../utils"),a=t("../common"),o=t("./common"),l=t("minimalistic-assert"),c=i.sum32,u=i.sum32_4,d=i.sum32_5,h=o.ch32,f=o.maj32,m=o.s0_256,g=o.s1_256,p=o.g0_256,v=o.g1_256,y=a.BlockHash,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function E(){if(!(this instanceof E))return new E;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=b,this.W=new Array(64)}i.inherits(E,y),n.exports=E,E.blockSize=512,E.outSize=256,E.hmacStrength=192,E.padLength=64,E.prototype._update=function(N,j){for(var D=this.W,C=0;C<16;C++)D[C]=N[j+C];for(;C<D.length;C++)D[C]=u(v(D[C-2]),D[C-7],p(D[C-15]),D[C-16]);var I=this.h[0],V=this.h[1],B=this.h[2],P=this.h[3],k=this.h[4],M=this.h[5],A=this.h[6],w=this.h[7];for(l(this.k.length===D.length),C=0;C<D.length;C++){var S=d(w,g(k),h(k,M,A),this.k[C],D[C]),_=c(m(I),f(I,V,B));w=A,A=M,M=k,k=c(P,S),P=B,B=V,V=I,I=c(S,_)}this.h[0]=c(this.h[0],I),this.h[1]=c(this.h[1],V),this.h[2]=c(this.h[2],B),this.h[3]=c(this.h[3],P),this.h[4]=c(this.h[4],k),this.h[5]=c(this.h[5],M),this.h[6]=c(this.h[6],A),this.h[7]=c(this.h[7],w)},E.prototype._digest=function(N){return N==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(t,n,s){var i=t("../utils"),a=t("./512");function o(){if(!(this instanceof o))return new o;a.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}i.inherits(o,a),n.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(l){return l==="hex"?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(t,n,s){var i=t("../utils"),a=t("../common"),o=t("minimalistic-assert"),l=i.rotr64_hi,c=i.rotr64_lo,u=i.shr64_hi,d=i.shr64_lo,h=i.sum64,f=i.sum64_hi,m=i.sum64_lo,g=i.sum64_4_hi,p=i.sum64_4_lo,v=i.sum64_5_hi,y=i.sum64_5_lo,b=a.BlockHash,E=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function N(){if(!(this instanceof N))return new N;b.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=E,this.W=new Array(160)}function j(_,x,R,W,T){var z=_&R^~_&T;return z<0&&(z+=4294967296),z}function D(_,x,R,W,T,z){var q=x&W^~x&z;return q<0&&(q+=4294967296),q}function C(_,x,R,W,T){var z=_&R^_&T^R&T;return z<0&&(z+=4294967296),z}function I(_,x,R,W,T,z){var q=x&W^x&z^W&z;return q<0&&(q+=4294967296),q}function V(_,x){var R=l(_,x,28)^l(x,_,2)^l(x,_,7);return R<0&&(R+=4294967296),R}function B(_,x){var R=c(_,x,28)^c(x,_,2)^c(x,_,7);return R<0&&(R+=4294967296),R}function P(_,x){var R=l(_,x,14)^l(_,x,18)^l(x,_,9);return R<0&&(R+=4294967296),R}function k(_,x){var R=c(_,x,14)^c(_,x,18)^c(x,_,9);return R<0&&(R+=4294967296),R}function M(_,x){var R=l(_,x,1)^l(_,x,8)^u(_,x,7);return R<0&&(R+=4294967296),R}function A(_,x){var R=c(_,x,1)^c(_,x,8)^d(_,x,7);return R<0&&(R+=4294967296),R}function w(_,x){var R=l(_,x,19)^l(x,_,29)^u(_,x,6);return R<0&&(R+=4294967296),R}function S(_,x){var R=c(_,x,19)^c(x,_,29)^d(_,x,6);return R<0&&(R+=4294967296),R}i.inherits(N,b),n.exports=N,N.blockSize=1024,N.outSize=512,N.hmacStrength=192,N.padLength=128,N.prototype._prepareBlock=function(_,x){for(var R=this.W,W=0;W<32;W++)R[W]=_[x+W];for(;W<R.length;W+=2){var T=w(R[W-4],R[W-3]),z=S(R[W-4],R[W-3]),q=R[W-14],Y=R[W-13],U=M(R[W-30],R[W-29]),Q=A(R[W-30],R[W-29]),F=R[W-32],O=R[W-31];R[W]=g(T,z,q,Y,U,Q,F,O),R[W+1]=p(T,z,q,Y,U,Q,F,O)}},N.prototype._update=function(_,x){this._prepareBlock(_,x);var R=this.W,W=this.h[0],T=this.h[1],z=this.h[2],q=this.h[3],Y=this.h[4],U=this.h[5],Q=this.h[6],F=this.h[7],O=this.h[8],K=this.h[9],ne=this.h[10],ee=this.h[11],ie=this.h[12],he=this.h[13],ce=this.h[14],te=this.h[15];o(this.k.length===R.length);for(var se=0;se<R.length;se+=2){var ge=ce,de=te,Te=P(O,K),De=k(O,K),_e=j(O,K,ne,ee,ie),fe=D(O,K,ne,ee,ie,he),ae=this.k[se],ve=this.k[se+1],Ee=R[se],Fe=R[se+1],Ue=v(ge,de,Te,De,_e,fe,ae,ve,Ee,Fe),Ge=y(ge,de,Te,De,_e,fe,ae,ve,Ee,Fe);ge=V(W,T),de=B(W,T),Te=C(W,T,z,q,Y),De=I(W,T,z,q,Y,U);var Ve=f(ge,de,Te,De),ze=m(ge,de,Te,De);ce=ie,te=he,ie=ne,he=ee,ne=O,ee=K,O=f(Q,F,Ue,Ge),K=m(F,F,Ue,Ge),Q=Y,F=U,Y=z,U=q,z=W,q=T,W=f(Ue,Ge,Ve,ze),T=m(Ue,Ge,Ve,ze)}h(this.h,0,W,T),h(this.h,2,z,q),h(this.h,4,Y,U),h(this.h,6,Q,F),h(this.h,8,O,K),h(this.h,10,ne,ee),h(this.h,12,ie,he),h(this.h,14,ce,te)},N.prototype._digest=function(_){return _==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(t,n,s){var i=t("../utils").rotr32;function a(c,u,d){return c&u^~c&d}function o(c,u,d){return c&u^c&d^u&d}function l(c,u,d){return c^u^d}s.ft_1=function(c,u,d,h){return c===0?a(u,d,h):c===1||c===3?l(u,d,h):c===2?o(u,d,h):void 0},s.ch32=a,s.maj32=o,s.p32=l,s.s0_256=function(c){return i(c,2)^i(c,13)^i(c,22)},s.s1_256=function(c){return i(c,6)^i(c,11)^i(c,25)},s.g0_256=function(c){return i(c,7)^i(c,18)^c>>>3},s.g1_256=function(c){return i(c,17)^i(c,19)^c>>>10}},{"../utils":437}],437:[function(t,n,s){var i=t("minimalistic-assert"),a=t("inherits");function o(d,h){return(64512&d.charCodeAt(h))==55296&&!(h<0||h+1>=d.length)&&(64512&d.charCodeAt(h+1))==56320}function l(d){return(d>>>24|d>>>8&65280|d<<8&16711680|(255&d)<<24)>>>0}function c(d){return d.length===1?"0"+d:d}function u(d){return d.length===7?"0"+d:d.length===6?"00"+d:d.length===5?"000"+d:d.length===4?"0000"+d:d.length===3?"00000"+d:d.length===2?"000000"+d:d.length===1?"0000000"+d:d}s.inherits=a,s.toArray=function(d,h){if(Array.isArray(d))return d.slice();if(!d)return[];var f=[];if(typeof d=="string")if(h){if(h==="hex")for((d=d.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(d="0"+d),g=0;g<d.length;g+=2)f.push(parseInt(d[g]+d[g+1],16))}else for(var m=0,g=0;g<d.length;g++){var p=d.charCodeAt(g);p<128?f[m++]=p:p<2048?(f[m++]=p>>6|192,f[m++]=63&p|128):o(d,g)?(p=65536+((1023&p)<<10)+(1023&d.charCodeAt(++g)),f[m++]=p>>18|240,f[m++]=p>>12&63|128,f[m++]=p>>6&63|128,f[m++]=63&p|128):(f[m++]=p>>12|224,f[m++]=p>>6&63|128,f[m++]=63&p|128)}else for(g=0;g<d.length;g++)f[g]=0|d[g];return f},s.toHex=function(d){for(var h="",f=0;f<d.length;f++)h+=c(d[f].toString(16));return h},s.htonl=l,s.toHex32=function(d,h){for(var f="",m=0;m<d.length;m++){var g=d[m];h==="little"&&(g=l(g)),f+=u(g.toString(16))}return f},s.zero2=c,s.zero8=u,s.join32=function(d,h,f,m){var g=f-h;i(g%4==0);for(var p=new Array(g/4),v=0,y=h;v<p.length;v++,y+=4){var b;b=m==="big"?d[y]<<24|d[y+1]<<16|d[y+2]<<8|d[y+3]:d[y+3]<<24|d[y+2]<<16|d[y+1]<<8|d[y],p[v]=b>>>0}return p},s.split32=function(d,h){for(var f=new Array(4*d.length),m=0,g=0;m<d.length;m++,g+=4){var p=d[m];h==="big"?(f[g]=p>>>24,f[g+1]=p>>>16&255,f[g+2]=p>>>8&255,f[g+3]=255&p):(f[g+3]=p>>>24,f[g+2]=p>>>16&255,f[g+1]=p>>>8&255,f[g]=255&p)}return f},s.rotr32=function(d,h){return d>>>h|d<<32-h},s.rotl32=function(d,h){return d<<h|d>>>32-h},s.sum32=function(d,h){return d+h>>>0},s.sum32_3=function(d,h,f){return d+h+f>>>0},s.sum32_4=function(d,h,f,m){return d+h+f+m>>>0},s.sum32_5=function(d,h,f,m,g){return d+h+f+m+g>>>0},s.sum64=function(d,h,f,m){var g=d[h],p=m+d[h+1]>>>0,v=(p<m?1:0)+f+g;d[h]=v>>>0,d[h+1]=p},s.sum64_hi=function(d,h,f,m){return(h+m>>>0<h?1:0)+d+f>>>0},s.sum64_lo=function(d,h,f,m){return h+m>>>0},s.sum64_4_hi=function(d,h,f,m,g,p,v,y){var b=0,E=h;return b+=(E=E+m>>>0)<h?1:0,b+=(E=E+p>>>0)<p?1:0,d+f+g+v+(b+=(E=E+y>>>0)<y?1:0)>>>0},s.sum64_4_lo=function(d,h,f,m,g,p,v,y){return h+m+p+y>>>0},s.sum64_5_hi=function(d,h,f,m,g,p,v,y,b,E){var N=0,j=h;return N+=(j=j+m>>>0)<h?1:0,N+=(j=j+p>>>0)<p?1:0,N+=(j=j+y>>>0)<y?1:0,d+f+g+v+b+(N+=(j=j+E>>>0)<E?1:0)>>>0},s.sum64_5_lo=function(d,h,f,m,g,p,v,y,b,E){return h+m+p+y+E>>>0},s.rotr64_hi=function(d,h,f){return(h<<32-f|d>>>f)>>>0},s.rotr64_lo=function(d,h,f){return(d<<32-f|h>>>f)>>>0},s.shr64_hi=function(d,h,f){return d>>>f},s.shr64_lo=function(d,h,f){return(d<<32-f|h>>>f)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(t,n,s){var i=t("hash.js"),a=t("minimalistic-crypto-utils"),o=t("minimalistic-assert");function l(c){if(!(this instanceof l))return new l(c);this.hash=c.hash,this.predResist=!!c.predResist,this.outLen=this.hash.outSize,this.minEntropy=c.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var u=a.toArray(c.entropy,c.entropyEnc||"hex"),d=a.toArray(c.nonce,c.nonceEnc||"hex"),h=a.toArray(c.pers,c.persEnc||"hex");o(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(u,d,h)}n.exports=l,l.prototype._init=function(c,u,d){var h=c.concat(u).concat(d);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var f=0;f<this.V.length;f++)this.K[f]=0,this.V[f]=1;this._update(h),this._reseed=1,this.reseedInterval=281474976710656},l.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},l.prototype._update=function(c){var u=this._hmac().update(this.V).update([0]);c&&(u=u.update(c)),this.K=u.digest(),this.V=this._hmac().update(this.V).digest(),c&&(this.K=this._hmac().update(this.V).update([1]).update(c).digest(),this.V=this._hmac().update(this.V).digest())},l.prototype.reseed=function(c,u,d,h){typeof u!="string"&&(h=d,d=u,u=null),c=a.toArray(c,u),d=a.toArray(d,h),o(c.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(c.concat(d||[])),this._reseed=1},l.prototype.generate=function(c,u,d,h){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof u!="string"&&(h=d,d=u,u=null),d&&(d=a.toArray(d,h||"hex"),this._update(d));for(var f=[];f.length<c;)this.V=this._hmac().update(this.V).digest(),f=f.concat(this.V);var m=f.slice(0,c);return this._update(d),this._reseed++,a.encode(m,u)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(t,n,s){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */s.read=function(i,a,o,l,c){var u,d,h=8*c-l-1,f=(1<<h)-1,m=f>>1,g=-7,p=o?c-1:0,v=o?-1:1,y=i[a+p];for(p+=v,u=y&(1<<-g)-1,y>>=-g,g+=h;g>0;u=256*u+i[a+p],p+=v,g-=8);for(d=u&(1<<-g)-1,u>>=-g,g+=l;g>0;d=256*d+i[a+p],p+=v,g-=8);if(u===0)u=1-m;else{if(u===f)return d?NaN:1/0*(y?-1:1);d+=Math.pow(2,l),u-=m}return(y?-1:1)*d*Math.pow(2,u-l)},s.write=function(i,a,o,l,c,u){var d,h,f,m=8*u-c-1,g=(1<<m)-1,p=g>>1,v=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=l?0:u-1,b=l?1:-1,E=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(h=isNaN(a)?1:0,d=g):(d=Math.floor(Math.log(a)/Math.LN2),a*(f=Math.pow(2,-d))<1&&(d--,f*=2),(a+=d+p>=1?v/f:v*Math.pow(2,1-p))*f>=2&&(d++,f/=2),d+p>=g?(h=0,d=g):d+p>=1?(h=(a*f-1)*Math.pow(2,c),d+=p):(h=a*Math.pow(2,p-1)*Math.pow(2,c),d=0));c>=8;i[o+y]=255&h,y+=b,h/=256,c-=8);for(d=d<<c|h,m+=c;m>0;i[o+y]=255&d,y+=b,d/=256,m-=8);i[o+y-b]|=128*E}},{}],440:[function(t,n,s){typeof Object.create=="function"?n.exports=function(i,a){a&&(i.super_=a,i.prototype=Object.create(a.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(i,a){if(a){i.super_=a;var o=function(){};o.prototype=a.prototype,i.prototype=new o,i.prototype.constructor=i}}},{}],441:[function(t,n,s){(function(i,a,o,l,c,u,d,h){(function(){/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(f){typeof s=="object"&&n!==void 0?n.exports=f():(typeof window<"u"?window:a!==void 0?a:typeof self<"u"?self:this).JSZip=f()})(function(){return function f(m,g,p){function v(E,N){if(!g[E]){if(!m[E]){var j=typeof t=="function"&&t;if(!N&&j)return j(E,!0);if(y)return y(E,!0);var D=new Error("Cannot find module '"+E+"'");throw D.code="MODULE_NOT_FOUND",D}var C=g[E]={exports:{}};m[E][0].call(C.exports,function(I){return v(m[E][1][I]||I)},C,C.exports,f,m,g,p)}return g[E].exports}for(var y=typeof t=="function"&&t,b=0;b<p.length;b++)v(p[b]);return v}({1:[function(f,m,g){var p=f("./utils"),v=f("./support"),y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";g.encode=function(b){for(var E,N,j,D,C,I,V,B=[],P=0,k=b.length,M=k,A=p.getTypeOf(b)!=="string";P<b.length;)M=k-P,j=A?(E=b[P++],N=P<k?b[P++]:0,P<k?b[P++]:0):(E=b.charCodeAt(P++),N=P<k?b.charCodeAt(P++):0,P<k?b.charCodeAt(P++):0),D=E>>2,C=(3&E)<<4|N>>4,I=1<M?(15&N)<<2|j>>6:64,V=2<M?63&j:64,B.push(y.charAt(D)+y.charAt(C)+y.charAt(I)+y.charAt(V));return B.join("")},g.decode=function(b){var E,N,j,D,C,I,V=0,B=0,P="data:";if(b.substr(0,P.length)===P)throw new Error("Invalid base64 input, it looks like a data url.");var k,M=3*(b=b.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(b.charAt(b.length-1)===y.charAt(64)&&M--,b.charAt(b.length-2)===y.charAt(64)&&M--,M%1!=0)throw new Error("Invalid base64 input, bad content length.");for(k=v.uint8array?new Uint8Array(0|M):new Array(0|M);V<b.length;)E=y.indexOf(b.charAt(V++))<<2|(D=y.indexOf(b.charAt(V++)))>>4,N=(15&D)<<4|(C=y.indexOf(b.charAt(V++)))>>2,j=(3&C)<<6|(I=y.indexOf(b.charAt(V++))),k[B++]=E,C!==64&&(k[B++]=N),I!==64&&(k[B++]=j);return k}},{"./support":30,"./utils":32}],2:[function(f,m,g){var p=f("./external"),v=f("./stream/DataWorker"),y=f("./stream/Crc32Probe"),b=f("./stream/DataLengthProbe");function E(N,j,D,C,I){this.compressedSize=N,this.uncompressedSize=j,this.crc32=D,this.compression=C,this.compressedContent=I}E.prototype={getContentWorker:function(){var N=new v(p.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new b("data_length")),j=this;return N.on("end",function(){if(this.streamInfo.data_length!==j.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),N},getCompressedWorker:function(){return new v(p.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},E.createWorkerFrom=function(N,j,D){return N.pipe(new y).pipe(new b("uncompressedSize")).pipe(j.compressWorker(D)).pipe(new b("compressedSize")).withStreamInfo("compression",j)},m.exports=E},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(f,m,g){var p=f("./stream/GenericWorker");g.STORE={magic:"\0\0",compressWorker:function(){return new p("STORE compression")},uncompressWorker:function(){return new p("STORE decompression")}},g.DEFLATE=f("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(f,m,g){var p=f("./utils"),v=function(){for(var y,b=[],E=0;E<256;E++){y=E;for(var N=0;N<8;N++)y=1&y?3988292384^y>>>1:y>>>1;b[E]=y}return b}();m.exports=function(y,b){return y!==void 0&&y.length?p.getTypeOf(y)!=="string"?function(E,N,j,D){var C=v,I=0+j;E^=-1;for(var V=0;V<I;V++)E=E>>>8^C[255&(E^N[V])];return-1^E}(0|b,y,y.length):function(E,N,j,D){var C=v,I=0+j;E^=-1;for(var V=0;V<I;V++)E=E>>>8^C[255&(E^N.charCodeAt(V))];return-1^E}(0|b,y,y.length):0}},{"./utils":32}],5:[function(f,m,g){g.base64=!1,g.binary=!1,g.dir=!1,g.createFolders=!0,g.date=null,g.compression=null,g.compressionOptions=null,g.comment=null,g.unixPermissions=null,g.dosPermissions=null},{}],6:[function(f,m,g){var p;p=typeof Promise<"u"?Promise:f("lie"),m.exports={Promise:p}},{lie:37}],7:[function(f,m,g){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",v=f("pako"),y=f("./utils"),b=f("./stream/GenericWorker"),E=p?"uint8array":"array";function N(j,D){b.call(this,"FlateWorker/"+j),this._pako=null,this._pakoAction=j,this._pakoOptions=D,this.meta={}}g.magic="\b\0",y.inherits(N,b),N.prototype.processChunk=function(j){this.meta=j.meta,this._pako===null&&this._createPako(),this._pako.push(y.transformTo(E,j.data),!1)},N.prototype.flush=function(){b.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},N.prototype.cleanUp=function(){b.prototype.cleanUp.call(this),this._pako=null},N.prototype._createPako=function(){this._pako=new v[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var j=this;this._pako.onData=function(D){j.push({data:D,meta:j.meta})}},g.compressWorker=function(j){return new N("Deflate",j)},g.uncompressWorker=function(){return new N("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(f,m,g){function p(C,I){var V,B="";for(V=0;V<I;V++)B+=String.fromCharCode(255&C),C>>>=8;return B}function v(C,I,V,B,P,k){var M,A,w=C.file,S=C.compression,_=k!==E.utf8encode,x=y.transformTo("string",k(w.name)),R=y.transformTo("string",E.utf8encode(w.name)),W=w.comment,T=y.transformTo("string",k(W)),z=y.transformTo("string",E.utf8encode(W)),q=R.length!==w.name.length,Y=z.length!==W.length,U="",Q="",F="",O=w.dir,K=w.date,ne={crc32:0,compressedSize:0,uncompressedSize:0};I&&!V||(ne.crc32=C.crc32,ne.compressedSize=C.compressedSize,ne.uncompressedSize=C.uncompressedSize);var ee=0;I&&(ee|=8),_||!q&&!Y||(ee|=2048);var ie=0,he=0;O&&(ie|=16),P==="UNIX"?(he=798,ie|=function(te,se){var ge=te;return te||(ge=se?16893:33204),(65535&ge)<<16}(w.unixPermissions,O)):(he=20,ie|=function(te){return 63&(te||0)}(w.dosPermissions)),M=K.getUTCHours(),M<<=6,M|=K.getUTCMinutes(),M<<=5,M|=K.getUTCSeconds()/2,A=K.getUTCFullYear()-1980,A<<=4,A|=K.getUTCMonth()+1,A<<=5,A|=K.getUTCDate(),q&&(Q=p(1,1)+p(N(x),4)+R,U+="up"+p(Q.length,2)+Q),Y&&(F=p(1,1)+p(N(T),4)+z,U+="uc"+p(F.length,2)+F);var ce="";return ce+=`
\0`,ce+=p(ee,2),ce+=S.magic,ce+=p(M,2),ce+=p(A,2),ce+=p(ne.crc32,4),ce+=p(ne.compressedSize,4),ce+=p(ne.uncompressedSize,4),ce+=p(x.length,2),ce+=p(U.length,2),{fileRecord:j.LOCAL_FILE_HEADER+ce+x+U,dirRecord:j.CENTRAL_FILE_HEADER+p(he,2)+ce+p(T.length,2)+"\0\0\0\0"+p(ie,4)+p(B,4)+x+U+T}}var y=f("../utils"),b=f("../stream/GenericWorker"),E=f("../utf8"),N=f("../crc32"),j=f("../signature");function D(C,I,V,B){b.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=I,this.zipPlatform=V,this.encodeFileName=B,this.streamFiles=C,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}y.inherits(D,b),D.prototype.push=function(C){var I=C.meta.percent||0,V=this.entriesCount,B=this._sources.length;this.accumulate?this.contentBuffer.push(C):(this.bytesWritten+=C.data.length,b.prototype.push.call(this,{data:C.data,meta:{currentFile:this.currentFile,percent:V?(I+100*(V-B-1))/V:100}}))},D.prototype.openedSource=function(C){this.currentSourceOffset=this.bytesWritten,this.currentFile=C.file.name;var I=this.streamFiles&&!C.file.dir;if(I){var V=v(C,I,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:V.fileRecord,meta:{percent:0}})}else this.accumulate=!0},D.prototype.closedSource=function(C){this.accumulate=!1;var I=this.streamFiles&&!C.file.dir,V=v(C,I,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(V.dirRecord),I)this.push({data:function(B){return j.DATA_DESCRIPTOR+p(B.crc32,4)+p(B.compressedSize,4)+p(B.uncompressedSize,4)}(C),meta:{percent:100}});else for(this.push({data:V.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},D.prototype.flush=function(){for(var C=this.bytesWritten,I=0;I<this.dirRecords.length;I++)this.push({data:this.dirRecords[I],meta:{percent:100}});var V=this.bytesWritten-C,B=function(P,k,M,A,w){var S=y.transformTo("string",w(A));return j.CENTRAL_DIRECTORY_END+"\0\0\0\0"+p(P,2)+p(P,2)+p(k,4)+p(M,4)+p(S.length,2)+S}(this.dirRecords.length,V,C,this.zipComment,this.encodeFileName);this.push({data:B,meta:{percent:100}})},D.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},D.prototype.registerPrevious=function(C){this._sources.push(C);var I=this;return C.on("data",function(V){I.processChunk(V)}),C.on("end",function(){I.closedSource(I.previous.streamInfo),I._sources.length?I.prepareNextSource():I.end()}),C.on("error",function(V){I.error(V)}),this},D.prototype.resume=function(){return!!b.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},D.prototype.error=function(C){var I=this._sources;if(!b.prototype.error.call(this,C))return!1;for(var V=0;V<I.length;V++)try{I[V].error(C)}catch{}return!0},D.prototype.lock=function(){b.prototype.lock.call(this);for(var C=this._sources,I=0;I<C.length;I++)C[I].lock()},m.exports=D},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(f,m,g){var p=f("../compressions"),v=f("./ZipFileWorker");g.generateWorker=function(y,b,E){var N=new v(b.streamFiles,E,b.platform,b.encodeFileName),j=0;try{y.forEach(function(D,C){j++;var I=function(k,M){var A=k||M,w=p[A];if(!w)throw new Error(A+" is not a valid compression method !");return w}(C.options.compression,b.compression),V=C.options.compressionOptions||b.compressionOptions||{},B=C.dir,P=C.date;C._compressWorker(I,V).withStreamInfo("file",{name:D,dir:B,date:P,comment:C.comment||"",unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions}).pipe(N)}),N.entriesCount=j}catch(D){N.error(D)}return N}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(f,m,g){function p(){if(!(this instanceof p))return new p;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var v=new p;for(var y in this)typeof this[y]!="function"&&(v[y]=this[y]);return v}}(p.prototype=f("./object")).loadAsync=f("./load"),p.support=f("./support"),p.defaults=f("./defaults"),p.version="3.10.1",p.loadAsync=function(v,y){return new p().loadAsync(v,y)},p.external=f("./external"),m.exports=p},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(f,m,g){var p=f("./utils"),v=f("./external"),y=f("./utf8"),b=f("./zipEntries"),E=f("./stream/Crc32Probe"),N=f("./nodejsUtils");function j(D){return new v.Promise(function(C,I){var V=D.decompressed.getContentWorker().pipe(new E);V.on("error",function(B){I(B)}).on("end",function(){V.streamInfo.crc32!==D.decompressed.crc32?I(new Error("Corrupted zip : CRC32 mismatch")):C()}).resume()})}m.exports=function(D,C){var I=this;return C=p.extend(C||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:y.utf8decode}),N.isNode&&N.isStream(D)?v.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):p.prepareContent("the loaded zip file",D,!0,C.optimizedBinaryString,C.base64).then(function(V){var B=new b(C);return B.load(V),B}).then(function(V){var B=[v.Promise.resolve(V)],P=V.files;if(C.checkCRC32)for(var k=0;k<P.length;k++)B.push(j(P[k]));return v.Promise.all(B)}).then(function(V){for(var B=V.shift(),P=B.files,k=0;k<P.length;k++){var M=P[k],A=M.fileNameStr,w=p.resolve(M.fileNameStr);I.file(w,M.decompressed,{binary:!0,optimizedBinaryString:!0,date:M.date,dir:M.dir,comment:M.fileCommentStr.length?M.fileCommentStr:null,unixPermissions:M.unixPermissions,dosPermissions:M.dosPermissions,createFolders:C.createFolders}),M.dir||(I.file(w).unsafeOriginalName=A)}return B.zipComment.length&&(I.comment=B.zipComment),I})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(f,m,g){var p=f("../utils"),v=f("../stream/GenericWorker");function y(b,E){v.call(this,"Nodejs stream input adapter for "+b),this._upstreamEnded=!1,this._bindStream(E)}p.inherits(y,v),y.prototype._bindStream=function(b){var E=this;(this._stream=b).pause(),b.on("data",function(N){E.push({data:N,meta:{percent:0}})}).on("error",function(N){E.isPaused?this.generatedError=N:E.error(N)}).on("end",function(){E.isPaused?E._upstreamEnded=!0:E.end()})},y.prototype.pause=function(){return!!v.prototype.pause.call(this)&&(this._stream.pause(),!0)},y.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},m.exports=y},{"../stream/GenericWorker":28,"../utils":32}],13:[function(f,m,g){var p=f("readable-stream").Readable;function v(y,b,E){p.call(this,b),this._helper=y;var N=this;y.on("data",function(j,D){N.push(j)||N._helper.pause(),E&&E(D)}).on("error",function(j){N.emit("error",j)}).on("end",function(){N.push(null)})}f("../utils").inherits(v,p),v.prototype._read=function(){this._helper.resume()},m.exports=v},{"../utils":32,"readable-stream":16}],14:[function(f,m,g){m.exports={isNode:o!==void 0,newBufferFrom:function(p,v){if(o.from&&o.from!==Uint8Array.from)return o.from(p,v);if(typeof p=="number")throw new Error('The "data" argument must not be a number');return new o(p,v)},allocBuffer:function(p){if(o.alloc)return o.alloc(p);var v=new o(p);return v.fill(0),v},isBuffer:function(p){return o.isBuffer(p)},isStream:function(p){return p&&typeof p.on=="function"&&typeof p.pause=="function"&&typeof p.resume=="function"}}},{}],15:[function(f,m,g){function p(w,S,_){var x,R=y.getTypeOf(S),W=y.extend(_||{},N);W.date=W.date||new Date,W.compression!==null&&(W.compression=W.compression.toUpperCase()),typeof W.unixPermissions=="string"&&(W.unixPermissions=parseInt(W.unixPermissions,8)),W.unixPermissions&&16384&W.unixPermissions&&(W.dir=!0),W.dosPermissions&&16&W.dosPermissions&&(W.dir=!0),W.dir&&(w=P(w)),W.createFolders&&(x=B(w))&&k.call(this,x,!0);var T=R==="string"&&W.binary===!1&&W.base64===!1;_&&_.binary!==void 0||(W.binary=!T),(S instanceof j&&S.uncompressedSize===0||W.dir||!S||S.length===0)&&(W.base64=!1,W.binary=!0,S="",W.compression="STORE",R="string");var z;z=S instanceof j||S instanceof b?S:I.isNode&&I.isStream(S)?new V(w,S):y.prepareContent(w,S,W.binary,W.optimizedBinaryString,W.base64);var q=new D(w,z,W);this.files[w]=q}var v=f("./utf8"),y=f("./utils"),b=f("./stream/GenericWorker"),E=f("./stream/StreamHelper"),N=f("./defaults"),j=f("./compressedObject"),D=f("./zipObject"),C=f("./generate"),I=f("./nodejsUtils"),V=f("./nodejs/NodejsStreamInputAdapter"),B=function(w){w.slice(-1)==="/"&&(w=w.substring(0,w.length-1));var S=w.lastIndexOf("/");return 0<S?w.substring(0,S):""},P=function(w){return w.slice(-1)!=="/"&&(w+="/"),w},k=function(w,S){return S=S!==void 0?S:N.createFolders,w=P(w),this.files[w]||p.call(this,w,null,{dir:!0,createFolders:S}),this.files[w]};function M(w){return Object.prototype.toString.call(w)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var S,_,x;for(S in this.files)x=this.files[S],(_=S.slice(this.root.length,S.length))&&S.slice(0,this.root.length)===this.root&&w(_,x)},filter:function(w){var S=[];return this.forEach(function(_,x){w(_,x)&&S.push(x)}),S},file:function(w,S,_){if(arguments.length!==1)return w=this.root+w,p.call(this,w,S,_),this;if(M(w)){var x=w;return this.filter(function(W,T){return!T.dir&&x.test(W)})}var R=this.files[this.root+w];return R&&!R.dir?R:null},folder:function(w){if(!w)return this;if(M(w))return this.filter(function(R,W){return W.dir&&w.test(R)});var S=this.root+w,_=k.call(this,S),x=this.clone();return x.root=_.name,x},remove:function(w){w=this.root+w;var S=this.files[w];if(S||(w.slice(-1)!=="/"&&(w+="/"),S=this.files[w]),S&&!S.dir)delete this.files[w];else for(var _=this.filter(function(R,W){return W.name.slice(0,w.length)===w}),x=0;x<_.length;x++)delete this.files[_[x].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var S,_={};try{if((_=y.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:v.utf8encode})).type=_.type.toLowerCase(),_.compression=_.compression.toUpperCase(),_.type==="binarystring"&&(_.type="string"),!_.type)throw new Error("No output type specified.");y.checkSupport(_.type),_.platform!=="darwin"&&_.platform!=="freebsd"&&_.platform!=="linux"&&_.platform!=="sunos"||(_.platform="UNIX"),_.platform==="win32"&&(_.platform="DOS");var x=_.comment||this.comment||"";S=C.generateWorker(this,_,x)}catch(R){(S=new b("error")).error(R)}return new E(S,_.type||"string",_.mimeType)},generateAsync:function(w,S){return this.generateInternalStream(w).accumulate(S)},generateNodeStream:function(w,S){return(w=w||{}).type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(S)}};m.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(f,m,g){m.exports=f("stream")},{stream:void 0}],17:[function(f,m,g){var p=f("./DataReader");function v(y){p.call(this,y);for(var b=0;b<this.data.length;b++)y[b]=255&y[b]}f("../utils").inherits(v,p),v.prototype.byteAt=function(y){return this.data[this.zero+y]},v.prototype.lastIndexOfSignature=function(y){for(var b=y.charCodeAt(0),E=y.charCodeAt(1),N=y.charCodeAt(2),j=y.charCodeAt(3),D=this.length-4;0<=D;--D)if(this.data[D]===b&&this.data[D+1]===E&&this.data[D+2]===N&&this.data[D+3]===j)return D-this.zero;return-1},v.prototype.readAndCheckSignature=function(y){var b=y.charCodeAt(0),E=y.charCodeAt(1),N=y.charCodeAt(2),j=y.charCodeAt(3),D=this.readData(4);return b===D[0]&&E===D[1]&&N===D[2]&&j===D[3]},v.prototype.readData=function(y){if(this.checkOffset(y),y===0)return[];var b=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,b},m.exports=v},{"../utils":32,"./DataReader":18}],18:[function(f,m,g){var p=f("../utils");function v(y){this.data=y,this.length=y.length,this.index=0,this.zero=0}v.prototype={checkOffset:function(y){this.checkIndex(this.index+y)},checkIndex:function(y){if(this.length<this.zero+y||y<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+y+"). Corrupted zip ?")},setIndex:function(y){this.checkIndex(y),this.index=y},skip:function(y){this.setIndex(this.index+y)},byteAt:function(){},readInt:function(y){var b,E=0;for(this.checkOffset(y),b=this.index+y-1;b>=this.index;b--)E=(E<<8)+this.byteAt(b);return this.index+=y,E},readString:function(y){return p.transformTo("string",this.readData(y))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var y=this.readInt(4);return new Date(Date.UTC(1980+(y>>25&127),(y>>21&15)-1,y>>16&31,y>>11&31,y>>5&63,(31&y)<<1))}},m.exports=v},{"../utils":32}],19:[function(f,m,g){var p=f("./Uint8ArrayReader");function v(y){p.call(this,y)}f("../utils").inherits(v,p),v.prototype.readData=function(y){this.checkOffset(y);var b=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,b},m.exports=v},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(f,m,g){var p=f("./DataReader");function v(y){p.call(this,y)}f("../utils").inherits(v,p),v.prototype.byteAt=function(y){return this.data.charCodeAt(this.zero+y)},v.prototype.lastIndexOfSignature=function(y){return this.data.lastIndexOf(y)-this.zero},v.prototype.readAndCheckSignature=function(y){return y===this.readData(4)},v.prototype.readData=function(y){this.checkOffset(y);var b=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,b},m.exports=v},{"../utils":32,"./DataReader":18}],21:[function(f,m,g){var p=f("./ArrayReader");function v(y){p.call(this,y)}f("../utils").inherits(v,p),v.prototype.readData=function(y){if(this.checkOffset(y),y===0)return new Uint8Array(0);var b=this.data.subarray(this.zero+this.index,this.zero+this.index+y);return this.index+=y,b},m.exports=v},{"../utils":32,"./ArrayReader":17}],22:[function(f,m,g){var p=f("../utils"),v=f("../support"),y=f("./ArrayReader"),b=f("./StringReader"),E=f("./NodeBufferReader"),N=f("./Uint8ArrayReader");m.exports=function(j){var D=p.getTypeOf(j);return p.checkSupport(D),D!=="string"||v.uint8array?D==="nodebuffer"?new E(j):v.uint8array?new N(p.transformTo("uint8array",j)):new y(p.transformTo("array",j)):new b(j)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(f,m,g){g.LOCAL_FILE_HEADER="PK",g.CENTRAL_FILE_HEADER="PK",g.CENTRAL_DIRECTORY_END="PK",g.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",g.ZIP64_CENTRAL_DIRECTORY_END="PK",g.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(f,m,g){var p=f("./GenericWorker"),v=f("../utils");function y(b){p.call(this,"ConvertWorker to "+b),this.destType=b}v.inherits(y,p),y.prototype.processChunk=function(b){this.push({data:v.transformTo(this.destType,b.data),meta:b.meta})},m.exports=y},{"../utils":32,"./GenericWorker":28}],25:[function(f,m,g){var p=f("./GenericWorker"),v=f("../crc32");function y(){p.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}f("../utils").inherits(y,p),y.prototype.processChunk=function(b){this.streamInfo.crc32=v(b.data,this.streamInfo.crc32||0),this.push(b)},m.exports=y},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(f,m,g){var p=f("../utils"),v=f("./GenericWorker");function y(b){v.call(this,"DataLengthProbe for "+b),this.propName=b,this.withStreamInfo(b,0)}p.inherits(y,v),y.prototype.processChunk=function(b){if(b){var E=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=E+b.data.length}v.prototype.processChunk.call(this,b)},m.exports=y},{"../utils":32,"./GenericWorker":28}],27:[function(f,m,g){var p=f("../utils"),v=f("./GenericWorker");function y(b){v.call(this,"DataWorker");var E=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,b.then(function(N){E.dataIsReady=!0,E.data=N,E.max=N&&N.length||0,E.type=p.getTypeOf(N),E.isPaused||E._tickAndRepeat()},function(N){E.error(N)})}p.inherits(y,v),y.prototype.cleanUp=function(){v.prototype.cleanUp.call(this),this.data=null},y.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,p.delay(this._tickAndRepeat,[],this)),!0)},y.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(p.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},y.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var b=null,E=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":b=this.data.substring(this.index,E);break;case"uint8array":b=this.data.subarray(this.index,E);break;case"array":case"nodebuffer":b=this.data.slice(this.index,E)}return this.index=E,this.push({data:b,meta:{percent:this.max?this.index/this.max*100:0}})},m.exports=y},{"../utils":32,"./GenericWorker":28}],28:[function(f,m,g){function p(v){this.name=v||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}p.prototype={push:function(v){this.emit("data",v)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(v){this.emit("error",v)}return!0},error:function(v){return!this.isFinished&&(this.isPaused?this.generatedError=v:(this.isFinished=!0,this.emit("error",v),this.previous&&this.previous.error(v),this.cleanUp()),!0)},on:function(v,y){return this._listeners[v].push(y),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(v,y){if(this._listeners[v])for(var b=0;b<this._listeners[v].length;b++)this._listeners[v][b].call(this,y)},pipe:function(v){return v.registerPrevious(this)},registerPrevious:function(v){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=v.streamInfo,this.mergeStreamInfo(),this.previous=v;var y=this;return v.on("data",function(b){y.processChunk(b)}),v.on("end",function(){y.end()}),v.on("error",function(b){y.error(b)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var v=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),v=!0),this.previous&&this.previous.resume(),!v},flush:function(){},processChunk:function(v){this.push(v)},withStreamInfo:function(v,y){return this.extraStreamInfo[v]=y,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var v in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,v)&&(this.streamInfo[v]=this.extraStreamInfo[v])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var v="Worker "+this.name;return this.previous?this.previous+" -> "+v:v}},m.exports=p},{}],29:[function(f,m,g){var p=f("../utils"),v=f("./ConvertWorker"),y=f("./GenericWorker"),b=f("../base64"),E=f("../support"),N=f("../external"),j=null;if(E.nodestream)try{j=f("../nodejs/NodejsStreamOutputAdapter")}catch{}function D(C,I,V){var B=I;switch(I){case"blob":case"arraybuffer":B="uint8array";break;case"base64":B="string"}try{this._internalType=B,this._outputType=I,this._mimeType=V,p.checkSupport(B),this._worker=C.pipe(new v(B)),C.lock()}catch(P){this._worker=new y("error"),this._worker.error(P)}}D.prototype={accumulate:function(C){return function(I,V){return new N.Promise(function(B,P){var k=[],M=I._internalType,A=I._outputType,w=I._mimeType;I.on("data",function(S,_){k.push(S),V&&V(_)}).on("error",function(S){k=[],P(S)}).on("end",function(){try{var S=function(_,x,R){switch(_){case"blob":return p.newBlob(p.transformTo("arraybuffer",x),R);case"base64":return b.encode(x);default:return p.transformTo(_,x)}}(A,function(_,x){var R,W=0,T=null,z=0;for(R=0;R<x.length;R++)z+=x[R].length;switch(_){case"string":return x.join("");case"array":return Array.prototype.concat.apply([],x);case"uint8array":for(T=new Uint8Array(z),R=0;R<x.length;R++)T.set(x[R],W),W+=x[R].length;return T;case"nodebuffer":return o.concat(x);default:throw new Error("concat : unsupported type '"+_+"'")}}(M,k),w);B(S)}catch(_){P(_)}k=[]}).resume()})}(this,C)},on:function(C,I){var V=this;return C==="data"?this._worker.on(C,function(B){I.call(V,B.data,B.meta)}):this._worker.on(C,function(){p.delay(I,arguments,V)}),this},resume:function(){return p.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(C){if(p.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new j(this,{objectMode:this._outputType!=="nodebuffer"},C)}},m.exports=D},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(f,m,g){if(g.base64=!0,g.array=!0,g.string=!0,g.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",g.nodebuffer=o!==void 0,g.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")g.blob=!1;else{var p=new ArrayBuffer(0);try{g.blob=new Blob([p],{type:"application/zip"}).size===0}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);v.append(p),g.blob=v.getBlob("application/zip").size===0}catch{g.blob=!1}}}try{g.nodestream=!!f("readable-stream").Readable}catch{g.nodestream=!1}},{"readable-stream":16}],31:[function(f,m,g){for(var p=f("./utils"),v=f("./support"),y=f("./nodejsUtils"),b=f("./stream/GenericWorker"),E=new Array(256),N=0;N<256;N++)E[N]=252<=N?6:248<=N?5:240<=N?4:224<=N?3:192<=N?2:1;function j(){b.call(this,"utf-8 decode"),this.leftOver=null}function D(){b.call(this,"utf-8 encode")}E[254]=E[254]=1,g.utf8encode=function(C){return v.nodebuffer?y.newBufferFrom(C,"utf-8"):function(I){var V,B,P,k,M,A=I.length,w=0;for(k=0;k<A;k++)(64512&(B=I.charCodeAt(k)))==55296&&k+1<A&&(64512&(P=I.charCodeAt(k+1)))==56320&&(B=65536+(B-55296<<10)+(P-56320),k++),w+=B<128?1:B<2048?2:B<65536?3:4;for(V=v.uint8array?new Uint8Array(w):new Array(w),k=M=0;M<w;k++)(64512&(B=I.charCodeAt(k)))==55296&&k+1<A&&(64512&(P=I.charCodeAt(k+1)))==56320&&(B=65536+(B-55296<<10)+(P-56320),k++),B<128?V[M++]=B:(B<2048?V[M++]=192|B>>>6:(B<65536?V[M++]=224|B>>>12:(V[M++]=240|B>>>18,V[M++]=128|B>>>12&63),V[M++]=128|B>>>6&63),V[M++]=128|63&B);return V}(C)},g.utf8decode=function(C){return v.nodebuffer?p.transformTo("nodebuffer",C).toString("utf-8"):function(I){var V,B,P,k,M=I.length,A=new Array(2*M);for(V=B=0;V<M;)if((P=I[V++])<128)A[B++]=P;else if(4<(k=E[P]))A[B++]=65533,V+=k-1;else{for(P&=k===2?31:k===3?15:7;1<k&&V<M;)P=P<<6|63&I[V++],k--;1<k?A[B++]=65533:P<65536?A[B++]=P:(P-=65536,A[B++]=55296|P>>10&1023,A[B++]=56320|1023&P)}return A.length!==B&&(A.subarray?A=A.subarray(0,B):A.length=B),p.applyFromCharCode(A)}(C=p.transformTo(v.uint8array?"uint8array":"array",C))},p.inherits(j,b),j.prototype.processChunk=function(C){var I=p.transformTo(v.uint8array?"uint8array":"array",C.data);if(this.leftOver&&this.leftOver.length){if(v.uint8array){var V=I;(I=new Uint8Array(V.length+this.leftOver.length)).set(this.leftOver,0),I.set(V,this.leftOver.length)}else I=this.leftOver.concat(I);this.leftOver=null}var B=function(k,M){var A;for((M=M||k.length)>k.length&&(M=k.length),A=M-1;0<=A&&(192&k[A])==128;)A--;return A<0||A===0?M:A+E[k[A]]>M?A:M}(I),P=I;B!==I.length&&(v.uint8array?(P=I.subarray(0,B),this.leftOver=I.subarray(B,I.length)):(P=I.slice(0,B),this.leftOver=I.slice(B,I.length))),this.push({data:g.utf8decode(P),meta:C.meta})},j.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:g.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},g.Utf8DecodeWorker=j,p.inherits(D,b),D.prototype.processChunk=function(C){this.push({data:g.utf8encode(C.data),meta:C.meta})},g.Utf8EncodeWorker=D},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(f,m,g){var p=f("./support"),v=f("./base64"),y=f("./nodejsUtils"),b=f("./external");function E(V){return V}function N(V,B){for(var P=0;P<V.length;++P)B[P]=255&V.charCodeAt(P);return B}f("setimmediate"),g.newBlob=function(V,B){g.checkSupport("blob");try{return new Blob([V],{type:B})}catch{try{var P=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return P.append(V),P.getBlob(B)}catch{throw new Error("Bug : can't construct the Blob.")}}};var j={stringifyByChunk:function(V,B,P){var k=[],M=0,A=V.length;if(A<=P)return String.fromCharCode.apply(null,V);for(;M<A;)B==="array"||B==="nodebuffer"?k.push(String.fromCharCode.apply(null,V.slice(M,Math.min(M+P,A)))):k.push(String.fromCharCode.apply(null,V.subarray(M,Math.min(M+P,A)))),M+=P;return k.join("")},stringifyByChar:function(V){for(var B="",P=0;P<V.length;P++)B+=String.fromCharCode(V[P]);return B},applyCanBeUsed:{uint8array:function(){try{return p.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return p.nodebuffer&&String.fromCharCode.apply(null,y.allocBuffer(1)).length===1}catch{return!1}}()}};function D(V){var B=65536,P=g.getTypeOf(V),k=!0;if(P==="uint8array"?k=j.applyCanBeUsed.uint8array:P==="nodebuffer"&&(k=j.applyCanBeUsed.nodebuffer),k)for(;1<B;)try{return j.stringifyByChunk(V,P,B)}catch{B=Math.floor(B/2)}return j.stringifyByChar(V)}function C(V,B){for(var P=0;P<V.length;P++)B[P]=V[P];return B}g.applyFromCharCode=D;var I={};I.string={string:E,array:function(V){return N(V,new Array(V.length))},arraybuffer:function(V){return I.string.uint8array(V).buffer},uint8array:function(V){return N(V,new Uint8Array(V.length))},nodebuffer:function(V){return N(V,y.allocBuffer(V.length))}},I.array={string:D,array:E,arraybuffer:function(V){return new Uint8Array(V).buffer},uint8array:function(V){return new Uint8Array(V)},nodebuffer:function(V){return y.newBufferFrom(V)}},I.arraybuffer={string:function(V){return D(new Uint8Array(V))},array:function(V){return C(new Uint8Array(V),new Array(V.byteLength))},arraybuffer:E,uint8array:function(V){return new Uint8Array(V)},nodebuffer:function(V){return y.newBufferFrom(new Uint8Array(V))}},I.uint8array={string:D,array:function(V){return C(V,new Array(V.length))},arraybuffer:function(V){return V.buffer},uint8array:E,nodebuffer:function(V){return y.newBufferFrom(V)}},I.nodebuffer={string:D,array:function(V){return C(V,new Array(V.length))},arraybuffer:function(V){return I.nodebuffer.uint8array(V).buffer},uint8array:function(V){return C(V,new Uint8Array(V.length))},nodebuffer:E},g.transformTo=function(V,B){if(B=B||"",!V)return B;g.checkSupport(V);var P=g.getTypeOf(B);return I[P][V](B)},g.resolve=function(V){for(var B=V.split("/"),P=[],k=0;k<B.length;k++){var M=B[k];M==="."||M===""&&k!==0&&k!==B.length-1||(M===".."?P.pop():P.push(M))}return P.join("/")},g.getTypeOf=function(V){return typeof V=="string"?"string":Object.prototype.toString.call(V)==="[object Array]"?"array":p.nodebuffer&&y.isBuffer(V)?"nodebuffer":p.uint8array&&V instanceof Uint8Array?"uint8array":p.arraybuffer&&V instanceof ArrayBuffer?"arraybuffer":void 0},g.checkSupport=function(V){if(!p[V.toLowerCase()])throw new Error(V+" is not supported by this platform")},g.MAX_VALUE_16BITS=65535,g.MAX_VALUE_32BITS=-1,g.pretty=function(V){var B,P,k="";for(P=0;P<(V||"").length;P++)k+="\\x"+((B=V.charCodeAt(P))<16?"0":"")+B.toString(16).toUpperCase();return k},g.delay=function(V,B,P){h(function(){V.apply(P||null,B||[])})},g.inherits=function(V,B){function P(){}P.prototype=B.prototype,V.prototype=new P},g.extend=function(){var V,B,P={};for(V=0;V<arguments.length;V++)for(B in arguments[V])Object.prototype.hasOwnProperty.call(arguments[V],B)&&P[B]===void 0&&(P[B]=arguments[V][B]);return P},g.prepareContent=function(V,B,P,k,M){return b.Promise.resolve(B).then(function(A){return p.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new b.Promise(function(w,S){var _=new FileReader;_.onload=function(x){w(x.target.result)},_.onerror=function(x){S(x.target.error)},_.readAsArrayBuffer(A)}):A}).then(function(A){var w=g.getTypeOf(A);return w?(w==="arraybuffer"?A=g.transformTo("uint8array",A):w==="string"&&(M?A=v.decode(A):P&&k!==!0&&(A=function(S){return N(S,p.uint8array?new Uint8Array(S.length):new Array(S.length))}(A))),A):b.Promise.reject(new Error("Can't read the data of '"+V+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(f,m,g){var p=f("./reader/readerFor"),v=f("./utils"),y=f("./signature"),b=f("./zipEntry"),E=f("./support");function N(j){this.files=[],this.loadOptions=j}N.prototype={checkSignature:function(j){if(!this.reader.readAndCheckSignature(j)){this.reader.index-=4;var D=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+v.pretty(D)+", expected "+v.pretty(j)+")")}},isSignature:function(j,D){var C=this.reader.index;this.reader.setIndex(j);var I=this.reader.readString(4)===D;return this.reader.setIndex(C),I},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var j=this.reader.readData(this.zipCommentLength),D=E.uint8array?"uint8array":"array",C=v.transformTo(D,j);this.zipComment=this.loadOptions.decodeFileName(C)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var j,D,C,I=this.zip64EndOfCentralSize-44;0<I;)j=this.reader.readInt(2),D=this.reader.readInt(4),C=this.reader.readData(D),this.zip64ExtensibleData[j]={id:j,length:D,value:C}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var j,D;for(j=0;j<this.files.length;j++)D=this.files[j],this.reader.setIndex(D.localHeaderOffset),this.checkSignature(y.LOCAL_FILE_HEADER),D.readLocalPart(this.reader),D.handleUTF8(),D.processAttributes()},readCentralDir:function(){var j;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(y.CENTRAL_FILE_HEADER);)(j=new b({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(j);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var j=this.reader.lastIndexOfSignature(y.CENTRAL_DIRECTORY_END);if(j<0)throw this.isSignature(0,y.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(j);var D=j;if(this.checkSignature(y.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===v.MAX_VALUE_16BITS||this.diskWithCentralDirStart===v.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===v.MAX_VALUE_16BITS||this.centralDirRecords===v.MAX_VALUE_16BITS||this.centralDirSize===v.MAX_VALUE_32BITS||this.centralDirOffset===v.MAX_VALUE_32BITS){if(this.zip64=!0,(j=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(j),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,y.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var C=this.centralDirOffset+this.centralDirSize;this.zip64&&(C+=20,C+=12+this.zip64EndOfCentralSize);var I=D-C;if(0<I)this.isSignature(D,y.CENTRAL_FILE_HEADER)||(this.reader.zero=I);else if(I<0)throw new Error("Corrupted zip: missing "+Math.abs(I)+" bytes.")},prepareReader:function(j){this.reader=p(j)},load:function(j){this.prepareReader(j),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},m.exports=N},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(f,m,g){var p=f("./reader/readerFor"),v=f("./utils"),y=f("./compressedObject"),b=f("./crc32"),E=f("./utf8"),N=f("./compressions"),j=f("./support");function D(C,I){this.options=C,this.loadOptions=I}D.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(C){var I,V;if(C.skip(22),this.fileNameLength=C.readInt(2),V=C.readInt(2),this.fileName=C.readData(this.fileNameLength),C.skip(V),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((I=function(B){for(var P in N)if(Object.prototype.hasOwnProperty.call(N,P)&&N[P].magic===B)return N[P];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+v.pretty(this.compressionMethod)+" unknown (inner file : "+v.transformTo("string",this.fileName)+")");this.decompressed=new y(this.compressedSize,this.uncompressedSize,this.crc32,I,C.readData(this.compressedSize))},readCentralPart:function(C){this.versionMadeBy=C.readInt(2),C.skip(2),this.bitFlag=C.readInt(2),this.compressionMethod=C.readString(2),this.date=C.readDate(),this.crc32=C.readInt(4),this.compressedSize=C.readInt(4),this.uncompressedSize=C.readInt(4);var I=C.readInt(2);if(this.extraFieldsLength=C.readInt(2),this.fileCommentLength=C.readInt(2),this.diskNumberStart=C.readInt(2),this.internalFileAttributes=C.readInt(2),this.externalFileAttributes=C.readInt(4),this.localHeaderOffset=C.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");C.skip(I),this.readExtraFields(C),this.parseZIP64ExtraField(C),this.fileComment=C.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var C=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),C==0&&(this.dosPermissions=63&this.externalFileAttributes),C==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var C=p(this.extraFields[1].value);this.uncompressedSize===v.MAX_VALUE_32BITS&&(this.uncompressedSize=C.readInt(8)),this.compressedSize===v.MAX_VALUE_32BITS&&(this.compressedSize=C.readInt(8)),this.localHeaderOffset===v.MAX_VALUE_32BITS&&(this.localHeaderOffset=C.readInt(8)),this.diskNumberStart===v.MAX_VALUE_32BITS&&(this.diskNumberStart=C.readInt(4))}},readExtraFields:function(C){var I,V,B,P=C.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});C.index+4<P;)I=C.readInt(2),V=C.readInt(2),B=C.readData(V),this.extraFields[I]={id:I,length:V,value:B};C.setIndex(P)},handleUTF8:function(){var C=j.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=E.utf8decode(this.fileName),this.fileCommentStr=E.utf8decode(this.fileComment);else{var I=this.findExtraFieldUnicodePath();if(I!==null)this.fileNameStr=I;else{var V=v.transformTo(C,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(V)}var B=this.findExtraFieldUnicodeComment();if(B!==null)this.fileCommentStr=B;else{var P=v.transformTo(C,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(P)}}},findExtraFieldUnicodePath:function(){var C=this.extraFields[28789];if(C){var I=p(C.value);return I.readInt(1)!==1||b(this.fileName)!==I.readInt(4)?null:E.utf8decode(I.readData(C.length-5))}return null},findExtraFieldUnicodeComment:function(){var C=this.extraFields[25461];if(C){var I=p(C.value);return I.readInt(1)!==1||b(this.fileComment)!==I.readInt(4)?null:E.utf8decode(I.readData(C.length-5))}return null}},m.exports=D},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(f,m,g){function p(I,V,B){this.name=I,this.dir=B.dir,this.date=B.date,this.comment=B.comment,this.unixPermissions=B.unixPermissions,this.dosPermissions=B.dosPermissions,this._data=V,this._dataBinary=B.binary,this.options={compression:B.compression,compressionOptions:B.compressionOptions}}var v=f("./stream/StreamHelper"),y=f("./stream/DataWorker"),b=f("./utf8"),E=f("./compressedObject"),N=f("./stream/GenericWorker");p.prototype={internalStream:function(I){var V=null,B="string";try{if(!I)throw new Error("No output type specified.");var P=(B=I.toLowerCase())==="string"||B==="text";B!=="binarystring"&&B!=="text"||(B="string"),V=this._decompressWorker();var k=!this._dataBinary;k&&!P&&(V=V.pipe(new b.Utf8EncodeWorker)),!k&&P&&(V=V.pipe(new b.Utf8DecodeWorker))}catch(M){(V=new N("error")).error(M)}return new v(V,B,"")},async:function(I,V){return this.internalStream(I).accumulate(V)},nodeStream:function(I,V){return this.internalStream(I||"nodebuffer").toNodejsStream(V)},_compressWorker:function(I,V){if(this._data instanceof E&&this._data.compression.magic===I.magic)return this._data.getCompressedWorker();var B=this._decompressWorker();return this._dataBinary||(B=B.pipe(new b.Utf8EncodeWorker)),E.createWorkerFrom(B,I,V)},_decompressWorker:function(){return this._data instanceof E?this._data.getContentWorker():this._data instanceof N?this._data:new y(this._data)}};for(var j=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],D=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},C=0;C<j.length;C++)p.prototype[j[C]]=D;m.exports=p},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(f,m,g){(function(p){var v,y,b=p.MutationObserver||p.WebKitMutationObserver;if(b){var E=0,N=new b(I),j=p.document.createTextNode("");N.observe(j,{characterData:!0}),v=function(){j.data=E=++E%2}}else if(p.setImmediate||p.MessageChannel===void 0)v="document"in p&&"onreadystatechange"in p.document.createElement("script")?function(){var V=p.document.createElement("script");V.onreadystatechange=function(){I(),V.onreadystatechange=null,V.parentNode.removeChild(V),V=null},p.document.documentElement.appendChild(V)}:function(){setTimeout(I,0)};else{var D=new p.MessageChannel;D.port1.onmessage=I,v=function(){D.port2.postMessage(0)}}var C=[];function I(){var V,B;y=!0;for(var P=C.length;P;){for(B=C,C=[],V=-1;++V<P;)B[V]();P=C.length}y=!1}m.exports=function(V){C.push(V)!==1||y||v()}}).call(this,a!==void 0?a:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(f,m,g){var p=f("immediate");function v(){}var y={},b=["REJECTED"],E=["FULFILLED"],N=["PENDING"];function j(P){if(typeof P!="function")throw new TypeError("resolver must be a function");this.state=N,this.queue=[],this.outcome=void 0,P!==v&&V(this,P)}function D(P,k,M){this.promise=P,typeof k=="function"&&(this.onFulfilled=k,this.callFulfilled=this.otherCallFulfilled),typeof M=="function"&&(this.onRejected=M,this.callRejected=this.otherCallRejected)}function C(P,k,M){p(function(){var A;try{A=k(M)}catch(w){return y.reject(P,w)}A===P?y.reject(P,new TypeError("Cannot resolve promise with itself")):y.resolve(P,A)})}function I(P){var k=P&&P.then;if(P&&(typeof P=="object"||typeof P=="function")&&typeof k=="function")return function(){k.apply(P,arguments)}}function V(P,k){var M=!1;function A(_){M||(M=!0,y.reject(P,_))}function w(_){M||(M=!0,y.resolve(P,_))}var S=B(function(){k(w,A)});S.status==="error"&&A(S.value)}function B(P,k){var M={};try{M.value=P(k),M.status="success"}catch(A){M.status="error",M.value=A}return M}(m.exports=j).prototype.finally=function(P){if(typeof P!="function")return this;var k=this.constructor;return this.then(function(M){return k.resolve(P()).then(function(){return M})},function(M){return k.resolve(P()).then(function(){throw M})})},j.prototype.catch=function(P){return this.then(null,P)},j.prototype.then=function(P,k){if(typeof P!="function"&&this.state===E||typeof k!="function"&&this.state===b)return this;var M=new this.constructor(v);return this.state!==N?C(M,this.state===E?P:k,this.outcome):this.queue.push(new D(M,P,k)),M},D.prototype.callFulfilled=function(P){y.resolve(this.promise,P)},D.prototype.otherCallFulfilled=function(P){C(this.promise,this.onFulfilled,P)},D.prototype.callRejected=function(P){y.reject(this.promise,P)},D.prototype.otherCallRejected=function(P){C(this.promise,this.onRejected,P)},y.resolve=function(P,k){var M=B(I,k);if(M.status==="error")return y.reject(P,M.value);var A=M.value;if(A)V(P,A);else{P.state=E,P.outcome=k;for(var w=-1,S=P.queue.length;++w<S;)P.queue[w].callFulfilled(k)}return P},y.reject=function(P,k){P.state=b,P.outcome=k;for(var M=-1,A=P.queue.length;++M<A;)P.queue[M].callRejected(k);return P},j.resolve=function(P){return P instanceof this?P:y.resolve(new this(v),P)},j.reject=function(P){var k=new this(v);return y.reject(k,P)},j.all=function(P){var k=this;if(Object.prototype.toString.call(P)!=="[object Array]")return this.reject(new TypeError("must be an array"));var M=P.length,A=!1;if(!M)return this.resolve([]);for(var w=new Array(M),S=0,_=-1,x=new this(v);++_<M;)R(P[_],_);return x;function R(W,T){k.resolve(W).then(function(z){w[T]=z,++S!==M||A||(A=!0,y.resolve(x,w))},function(z){A||(A=!0,y.reject(x,z))})}},j.race=function(P){if(Object.prototype.toString.call(P)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=P.length,M=!1;if(!k)return this.resolve([]);for(var A,w=-1,S=new this(v);++w<k;)A=P[w],this.resolve(A).then(function(_){M||(M=!0,y.resolve(S,_))},function(_){M||(M=!0,y.reject(S,_))});return S}},{immediate:36}],38:[function(f,m,g){var p={};(0,f("./lib/utils/common").assign)(p,f("./lib/deflate"),f("./lib/inflate"),f("./lib/zlib/constants")),m.exports=p},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(f,m,g){var p=f("./zlib/deflate"),v=f("./utils/common"),y=f("./utils/strings"),b=f("./zlib/messages"),E=f("./zlib/zstream"),N=Object.prototype.toString;function j(C){if(!(this instanceof j))return new j(C);this.options=v.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},C||{});var I=this.options;I.raw&&0<I.windowBits?I.windowBits=-I.windowBits:I.gzip&&0<I.windowBits&&I.windowBits<16&&(I.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new E,this.strm.avail_out=0;var V=p.deflateInit2(this.strm,I.level,I.method,I.windowBits,I.memLevel,I.strategy);if(V!==0)throw new Error(b[V]);if(I.header&&p.deflateSetHeader(this.strm,I.header),I.dictionary){var B;if(B=typeof I.dictionary=="string"?y.string2buf(I.dictionary):N.call(I.dictionary)==="[object ArrayBuffer]"?new Uint8Array(I.dictionary):I.dictionary,(V=p.deflateSetDictionary(this.strm,B))!==0)throw new Error(b[V]);this._dict_set=!0}}function D(C,I){var V=new j(I);if(V.push(C,!0),V.err)throw V.msg||b[V.err];return V.result}j.prototype.push=function(C,I){var V,B,P=this.strm,k=this.options.chunkSize;if(this.ended)return!1;B=I===~~I?I:I===!0?4:0,typeof C=="string"?P.input=y.string2buf(C):N.call(C)==="[object ArrayBuffer]"?P.input=new Uint8Array(C):P.input=C,P.next_in=0,P.avail_in=P.input.length;do{if(P.avail_out===0&&(P.output=new v.Buf8(k),P.next_out=0,P.avail_out=k),(V=p.deflate(P,B))!==1&&V!==0)return this.onEnd(V),!(this.ended=!0);P.avail_out!==0&&(P.avail_in!==0||B!==4&&B!==2)||(this.options.to==="string"?this.onData(y.buf2binstring(v.shrinkBuf(P.output,P.next_out))):this.onData(v.shrinkBuf(P.output,P.next_out)))}while((0<P.avail_in||P.avail_out===0)&&V!==1);return B===4?(V=p.deflateEnd(this.strm),this.onEnd(V),this.ended=!0,V===0):B!==2||(this.onEnd(0),!(P.avail_out=0))},j.prototype.onData=function(C){this.chunks.push(C)},j.prototype.onEnd=function(C){C===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg},g.Deflate=j,g.deflate=D,g.deflateRaw=function(C,I){return(I=I||{}).raw=!0,D(C,I)},g.gzip=function(C,I){return(I=I||{}).gzip=!0,D(C,I)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(f,m,g){var p=f("./zlib/inflate"),v=f("./utils/common"),y=f("./utils/strings"),b=f("./zlib/constants"),E=f("./zlib/messages"),N=f("./zlib/zstream"),j=f("./zlib/gzheader"),D=Object.prototype.toString;function C(V){if(!(this instanceof C))return new C(V);this.options=v.assign({chunkSize:16384,windowBits:0,to:""},V||{});var B=this.options;B.raw&&0<=B.windowBits&&B.windowBits<16&&(B.windowBits=-B.windowBits,B.windowBits===0&&(B.windowBits=-15)),!(0<=B.windowBits&&B.windowBits<16)||V&&V.windowBits||(B.windowBits+=32),15<B.windowBits&&B.windowBits<48&&!(15&B.windowBits)&&(B.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new N,this.strm.avail_out=0;var P=p.inflateInit2(this.strm,B.windowBits);if(P!==b.Z_OK)throw new Error(E[P]);this.header=new j,p.inflateGetHeader(this.strm,this.header)}function I(V,B){var P=new C(B);if(P.push(V,!0),P.err)throw P.msg||E[P.err];return P.result}C.prototype.push=function(V,B){var P,k,M,A,w,S,_=this.strm,x=this.options.chunkSize,R=this.options.dictionary,W=!1;if(this.ended)return!1;k=B===~~B?B:B===!0?b.Z_FINISH:b.Z_NO_FLUSH,typeof V=="string"?_.input=y.binstring2buf(V):D.call(V)==="[object ArrayBuffer]"?_.input=new Uint8Array(V):_.input=V,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new v.Buf8(x),_.next_out=0,_.avail_out=x),(P=p.inflate(_,b.Z_NO_FLUSH))===b.Z_NEED_DICT&&R&&(S=typeof R=="string"?y.string2buf(R):D.call(R)==="[object ArrayBuffer]"?new Uint8Array(R):R,P=p.inflateSetDictionary(this.strm,S)),P===b.Z_BUF_ERROR&&W===!0&&(P=b.Z_OK,W=!1),P!==b.Z_STREAM_END&&P!==b.Z_OK)return this.onEnd(P),!(this.ended=!0);_.next_out&&(_.avail_out!==0&&P!==b.Z_STREAM_END&&(_.avail_in!==0||k!==b.Z_FINISH&&k!==b.Z_SYNC_FLUSH)||(this.options.to==="string"?(M=y.utf8border(_.output,_.next_out),A=_.next_out-M,w=y.buf2string(_.output,M),_.next_out=A,_.avail_out=x-A,A&&v.arraySet(_.output,_.output,M,A,0),this.onData(w)):this.onData(v.shrinkBuf(_.output,_.next_out)))),_.avail_in===0&&_.avail_out===0&&(W=!0)}while((0<_.avail_in||_.avail_out===0)&&P!==b.Z_STREAM_END);return P===b.Z_STREAM_END&&(k=b.Z_FINISH),k===b.Z_FINISH?(P=p.inflateEnd(this.strm),this.onEnd(P),this.ended=!0,P===b.Z_OK):k!==b.Z_SYNC_FLUSH||(this.onEnd(b.Z_OK),!(_.avail_out=0))},C.prototype.onData=function(V){this.chunks.push(V)},C.prototype.onEnd=function(V){V===b.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=V,this.msg=this.strm.msg},g.Inflate=C,g.inflate=I,g.inflateRaw=function(V,B){return(B=B||{}).raw=!0,I(V,B)},g.ungzip=I},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(f,m,g){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";g.assign=function(b){for(var E=Array.prototype.slice.call(arguments,1);E.length;){var N=E.shift();if(N){if(typeof N!="object")throw new TypeError(N+"must be non-object");for(var j in N)N.hasOwnProperty(j)&&(b[j]=N[j])}}return b},g.shrinkBuf=function(b,E){return b.length===E?b:b.subarray?b.subarray(0,E):(b.length=E,b)};var v={arraySet:function(b,E,N,j,D){if(E.subarray&&b.subarray)b.set(E.subarray(N,N+j),D);else for(var C=0;C<j;C++)b[D+C]=E[N+C]},flattenChunks:function(b){var E,N,j,D,C,I;for(E=j=0,N=b.length;E<N;E++)j+=b[E].length;for(I=new Uint8Array(j),E=D=0,N=b.length;E<N;E++)C=b[E],I.set(C,D),D+=C.length;return I}},y={arraySet:function(b,E,N,j,D){for(var C=0;C<j;C++)b[D+C]=E[N+C]},flattenChunks:function(b){return[].concat.apply([],b)}};g.setTyped=function(b){b?(g.Buf8=Uint8Array,g.Buf16=Uint16Array,g.Buf32=Int32Array,g.assign(g,v)):(g.Buf8=Array,g.Buf16=Array,g.Buf32=Array,g.assign(g,y))},g.setTyped(p)},{}],42:[function(f,m,g){var p=f("./common"),v=!0,y=!0;try{String.fromCharCode.apply(null,[0])}catch{v=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{y=!1}for(var b=new p.Buf8(256),E=0;E<256;E++)b[E]=252<=E?6:248<=E?5:240<=E?4:224<=E?3:192<=E?2:1;function N(j,D){if(D<65537&&(j.subarray&&y||!j.subarray&&v))return String.fromCharCode.apply(null,p.shrinkBuf(j,D));for(var C="",I=0;I<D;I++)C+=String.fromCharCode(j[I]);return C}b[254]=b[254]=1,g.string2buf=function(j){var D,C,I,V,B,P=j.length,k=0;for(V=0;V<P;V++)(64512&(C=j.charCodeAt(V)))==55296&&V+1<P&&(64512&(I=j.charCodeAt(V+1)))==56320&&(C=65536+(C-55296<<10)+(I-56320),V++),k+=C<128?1:C<2048?2:C<65536?3:4;for(D=new p.Buf8(k),V=B=0;B<k;V++)(64512&(C=j.charCodeAt(V)))==55296&&V+1<P&&(64512&(I=j.charCodeAt(V+1)))==56320&&(C=65536+(C-55296<<10)+(I-56320),V++),C<128?D[B++]=C:(C<2048?D[B++]=192|C>>>6:(C<65536?D[B++]=224|C>>>12:(D[B++]=240|C>>>18,D[B++]=128|C>>>12&63),D[B++]=128|C>>>6&63),D[B++]=128|63&C);return D},g.buf2binstring=function(j){return N(j,j.length)},g.binstring2buf=function(j){for(var D=new p.Buf8(j.length),C=0,I=D.length;C<I;C++)D[C]=j.charCodeAt(C);return D},g.buf2string=function(j,D){var C,I,V,B,P=D||j.length,k=new Array(2*P);for(C=I=0;C<P;)if((V=j[C++])<128)k[I++]=V;else if(4<(B=b[V]))k[I++]=65533,C+=B-1;else{for(V&=B===2?31:B===3?15:7;1<B&&C<P;)V=V<<6|63&j[C++],B--;1<B?k[I++]=65533:V<65536?k[I++]=V:(V-=65536,k[I++]=55296|V>>10&1023,k[I++]=56320|1023&V)}return N(k,I)},g.utf8border=function(j,D){var C;for((D=D||j.length)>j.length&&(D=j.length),C=D-1;0<=C&&(192&j[C])==128;)C--;return C<0||C===0?D:C+b[j[C]]>D?C:D}},{"./common":41}],43:[function(f,m,g){m.exports=function(p,v,y,b){for(var E=65535&p|0,N=p>>>16&65535|0,j=0;y!==0;){for(y-=j=2e3<y?2e3:y;N=N+(E=E+v[b++]|0)|0,--j;);E%=65521,N%=65521}return E|N<<16|0}},{}],44:[function(f,m,g){m.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(f,m,g){var p=function(){for(var v,y=[],b=0;b<256;b++){v=b;for(var E=0;E<8;E++)v=1&v?3988292384^v>>>1:v>>>1;y[b]=v}return y}();m.exports=function(v,y,b,E){var N=p,j=E+b;v^=-1;for(var D=E;D<j;D++)v=v>>>8^N[255&(v^y[D])];return-1^v}},{}],46:[function(f,m,g){var p,v=f("../utils/common"),y=f("./trees"),b=f("./adler32"),E=f("./crc32"),N=f("./messages"),j=-2,D=258,C=262,I=113;function V(U,Q){return U.msg=N[Q],Q}function B(U){return(U<<1)-(4<U?9:0)}function P(U){for(var Q=U.length;0<=--Q;)U[Q]=0}function k(U){var Q=U.state,F=Q.pending;F>U.avail_out&&(F=U.avail_out),F!==0&&(v.arraySet(U.output,Q.pending_buf,Q.pending_out,F,U.next_out),U.next_out+=F,Q.pending_out+=F,U.total_out+=F,U.avail_out-=F,Q.pending-=F,Q.pending===0&&(Q.pending_out=0))}function M(U,Q){y._tr_flush_block(U,0<=U.block_start?U.block_start:-1,U.strstart-U.block_start,Q),U.block_start=U.strstart,k(U.strm)}function A(U,Q){U.pending_buf[U.pending++]=Q}function w(U,Q){U.pending_buf[U.pending++]=Q>>>8&255,U.pending_buf[U.pending++]=255&Q}function S(U,Q){var F,O,K=U.max_chain_length,ne=U.strstart,ee=U.prev_length,ie=U.nice_match,he=U.strstart>U.w_size-C?U.strstart-(U.w_size-C):0,ce=U.window,te=U.w_mask,se=U.prev,ge=U.strstart+D,de=ce[ne+ee-1],Te=ce[ne+ee];U.prev_length>=U.good_match&&(K>>=2),ie>U.lookahead&&(ie=U.lookahead);do if(ce[(F=Q)+ee]===Te&&ce[F+ee-1]===de&&ce[F]===ce[ne]&&ce[++F]===ce[ne+1]){ne+=2,F++;do;while(ce[++ne]===ce[++F]&&ce[++ne]===ce[++F]&&ce[++ne]===ce[++F]&&ce[++ne]===ce[++F]&&ce[++ne]===ce[++F]&&ce[++ne]===ce[++F]&&ce[++ne]===ce[++F]&&ce[++ne]===ce[++F]&&ne<ge);if(O=D-(ge-ne),ne=ge-D,ee<O){if(U.match_start=Q,ie<=(ee=O))break;de=ce[ne+ee-1],Te=ce[ne+ee]}}while((Q=se[Q&te])>he&&--K!=0);return ee<=U.lookahead?ee:U.lookahead}function _(U){var Q,F,O,K,ne,ee,ie,he,ce,te,se=U.w_size;do{if(K=U.window_size-U.lookahead-U.strstart,U.strstart>=se+(se-C)){for(v.arraySet(U.window,U.window,se,se,0),U.match_start-=se,U.strstart-=se,U.block_start-=se,Q=F=U.hash_size;O=U.head[--Q],U.head[Q]=se<=O?O-se:0,--F;);for(Q=F=se;O=U.prev[--Q],U.prev[Q]=se<=O?O-se:0,--F;);K+=se}if(U.strm.avail_in===0)break;if(ee=U.strm,ie=U.window,he=U.strstart+U.lookahead,te=void 0,(ce=K)<(te=ee.avail_in)&&(te=ce),F=te===0?0:(ee.avail_in-=te,v.arraySet(ie,ee.input,ee.next_in,te,he),ee.state.wrap===1?ee.adler=b(ee.adler,ie,te,he):ee.state.wrap===2&&(ee.adler=E(ee.adler,ie,te,he)),ee.next_in+=te,ee.total_in+=te,te),U.lookahead+=F,U.lookahead+U.insert>=3)for(ne=U.strstart-U.insert,U.ins_h=U.window[ne],U.ins_h=(U.ins_h<<U.hash_shift^U.window[ne+1])&U.hash_mask;U.insert&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[ne+3-1])&U.hash_mask,U.prev[ne&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=ne,ne++,U.insert--,!(U.lookahead+U.insert<3)););}while(U.lookahead<C&&U.strm.avail_in!==0)}function x(U,Q){for(var F,O;;){if(U.lookahead<C){if(_(U),U.lookahead<C&&Q===0)return 1;if(U.lookahead===0)break}if(F=0,U.lookahead>=3&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+3-1])&U.hash_mask,F=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),F!==0&&U.strstart-F<=U.w_size-C&&(U.match_length=S(U,F)),U.match_length>=3)if(O=y._tr_tally(U,U.strstart-U.match_start,U.match_length-3),U.lookahead-=U.match_length,U.match_length<=U.max_lazy_match&&U.lookahead>=3){for(U.match_length--;U.strstart++,U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+3-1])&U.hash_mask,F=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart,--U.match_length!=0;);U.strstart++}else U.strstart+=U.match_length,U.match_length=0,U.ins_h=U.window[U.strstart],U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+1])&U.hash_mask;else O=y._tr_tally(U,0,U.window[U.strstart]),U.lookahead--,U.strstart++;if(O&&(M(U,!1),U.strm.avail_out===0))return 1}return U.insert=U.strstart<2?U.strstart:2,Q===4?(M(U,!0),U.strm.avail_out===0?3:4):U.last_lit&&(M(U,!1),U.strm.avail_out===0)?1:2}function R(U,Q){for(var F,O,K;;){if(U.lookahead<C){if(_(U),U.lookahead<C&&Q===0)return 1;if(U.lookahead===0)break}if(F=0,U.lookahead>=3&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+3-1])&U.hash_mask,F=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),U.prev_length=U.match_length,U.prev_match=U.match_start,U.match_length=2,F!==0&&U.prev_length<U.max_lazy_match&&U.strstart-F<=U.w_size-C&&(U.match_length=S(U,F),U.match_length<=5&&(U.strategy===1||U.match_length===3&&4096<U.strstart-U.match_start)&&(U.match_length=2)),U.prev_length>=3&&U.match_length<=U.prev_length){for(K=U.strstart+U.lookahead-3,O=y._tr_tally(U,U.strstart-1-U.prev_match,U.prev_length-3),U.lookahead-=U.prev_length-1,U.prev_length-=2;++U.strstart<=K&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+3-1])&U.hash_mask,F=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),--U.prev_length!=0;);if(U.match_available=0,U.match_length=2,U.strstart++,O&&(M(U,!1),U.strm.avail_out===0))return 1}else if(U.match_available){if((O=y._tr_tally(U,0,U.window[U.strstart-1]))&&M(U,!1),U.strstart++,U.lookahead--,U.strm.avail_out===0)return 1}else U.match_available=1,U.strstart++,U.lookahead--}return U.match_available&&(O=y._tr_tally(U,0,U.window[U.strstart-1]),U.match_available=0),U.insert=U.strstart<2?U.strstart:2,Q===4?(M(U,!0),U.strm.avail_out===0?3:4):U.last_lit&&(M(U,!1),U.strm.avail_out===0)?1:2}function W(U,Q,F,O,K){this.good_length=U,this.max_lazy=Q,this.nice_length=F,this.max_chain=O,this.func=K}function T(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new v.Buf16(1146),this.dyn_dtree=new v.Buf16(122),this.bl_tree=new v.Buf16(78),P(this.dyn_ltree),P(this.dyn_dtree),P(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new v.Buf16(16),this.heap=new v.Buf16(573),P(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new v.Buf16(573),P(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function z(U){var Q;return U&&U.state?(U.total_in=U.total_out=0,U.data_type=2,(Q=U.state).pending=0,Q.pending_out=0,Q.wrap<0&&(Q.wrap=-Q.wrap),Q.status=Q.wrap?42:I,U.adler=Q.wrap===2?0:1,Q.last_flush=0,y._tr_init(Q),0):V(U,j)}function q(U){var Q=z(U);return Q===0&&function(F){F.window_size=2*F.w_size,P(F.head),F.max_lazy_match=p[F.level].max_lazy,F.good_match=p[F.level].good_length,F.nice_match=p[F.level].nice_length,F.max_chain_length=p[F.level].max_chain,F.strstart=0,F.block_start=0,F.lookahead=0,F.insert=0,F.match_length=F.prev_length=2,F.match_available=0,F.ins_h=0}(U.state),Q}function Y(U,Q,F,O,K,ne){if(!U)return j;var ee=1;if(Q===-1&&(Q=6),O<0?(ee=0,O=-O):15<O&&(ee=2,O-=16),K<1||9<K||F!==8||O<8||15<O||Q<0||9<Q||ne<0||4<ne)return V(U,j);O===8&&(O=9);var ie=new T;return(U.state=ie).strm=U,ie.wrap=ee,ie.gzhead=null,ie.w_bits=O,ie.w_size=1<<ie.w_bits,ie.w_mask=ie.w_size-1,ie.hash_bits=K+7,ie.hash_size=1<<ie.hash_bits,ie.hash_mask=ie.hash_size-1,ie.hash_shift=~~((ie.hash_bits+3-1)/3),ie.window=new v.Buf8(2*ie.w_size),ie.head=new v.Buf16(ie.hash_size),ie.prev=new v.Buf16(ie.w_size),ie.lit_bufsize=1<<K+6,ie.pending_buf_size=4*ie.lit_bufsize,ie.pending_buf=new v.Buf8(ie.pending_buf_size),ie.d_buf=1*ie.lit_bufsize,ie.l_buf=3*ie.lit_bufsize,ie.level=Q,ie.strategy=ne,ie.method=F,q(U)}p=[new W(0,0,0,0,function(U,Q){var F=65535;for(F>U.pending_buf_size-5&&(F=U.pending_buf_size-5);;){if(U.lookahead<=1){if(_(U),U.lookahead===0&&Q===0)return 1;if(U.lookahead===0)break}U.strstart+=U.lookahead,U.lookahead=0;var O=U.block_start+F;if((U.strstart===0||U.strstart>=O)&&(U.lookahead=U.strstart-O,U.strstart=O,M(U,!1),U.strm.avail_out===0)||U.strstart-U.block_start>=U.w_size-C&&(M(U,!1),U.strm.avail_out===0))return 1}return U.insert=0,Q===4?(M(U,!0),U.strm.avail_out===0?3:4):(U.strstart>U.block_start&&(M(U,!1),U.strm.avail_out),1)}),new W(4,4,8,4,x),new W(4,5,16,8,x),new W(4,6,32,32,x),new W(4,4,16,16,R),new W(8,16,32,32,R),new W(8,16,128,128,R),new W(8,32,128,256,R),new W(32,128,258,1024,R),new W(32,258,258,4096,R)],g.deflateInit=function(U,Q){return Y(U,Q,8,15,8,0)},g.deflateInit2=Y,g.deflateReset=q,g.deflateResetKeep=z,g.deflateSetHeader=function(U,Q){return U&&U.state?U.state.wrap!==2?j:(U.state.gzhead=Q,0):j},g.deflate=function(U,Q){var F,O,K,ne;if(!U||!U.state||5<Q||Q<0)return U?V(U,j):j;if(O=U.state,!U.output||!U.input&&U.avail_in!==0||O.status===666&&Q!==4)return V(U,U.avail_out===0?-5:j);if(O.strm=U,F=O.last_flush,O.last_flush=Q,O.status===42)if(O.wrap===2)U.adler=0,A(O,31),A(O,139),A(O,8),O.gzhead?(A(O,(O.gzhead.text?1:0)+(O.gzhead.hcrc?2:0)+(O.gzhead.extra?4:0)+(O.gzhead.name?8:0)+(O.gzhead.comment?16:0)),A(O,255&O.gzhead.time),A(O,O.gzhead.time>>8&255),A(O,O.gzhead.time>>16&255),A(O,O.gzhead.time>>24&255),A(O,O.level===9?2:2<=O.strategy||O.level<2?4:0),A(O,255&O.gzhead.os),O.gzhead.extra&&O.gzhead.extra.length&&(A(O,255&O.gzhead.extra.length),A(O,O.gzhead.extra.length>>8&255)),O.gzhead.hcrc&&(U.adler=E(U.adler,O.pending_buf,O.pending,0)),O.gzindex=0,O.status=69):(A(O,0),A(O,0),A(O,0),A(O,0),A(O,0),A(O,O.level===9?2:2<=O.strategy||O.level<2?4:0),A(O,3),O.status=I);else{var ee=8+(O.w_bits-8<<4)<<8;ee|=(2<=O.strategy||O.level<2?0:O.level<6?1:O.level===6?2:3)<<6,O.strstart!==0&&(ee|=32),ee+=31-ee%31,O.status=I,w(O,ee),O.strstart!==0&&(w(O,U.adler>>>16),w(O,65535&U.adler)),U.adler=1}if(O.status===69)if(O.gzhead.extra){for(K=O.pending;O.gzindex<(65535&O.gzhead.extra.length)&&(O.pending!==O.pending_buf_size||(O.gzhead.hcrc&&O.pending>K&&(U.adler=E(U.adler,O.pending_buf,O.pending-K,K)),k(U),K=O.pending,O.pending!==O.pending_buf_size));)A(O,255&O.gzhead.extra[O.gzindex]),O.gzindex++;O.gzhead.hcrc&&O.pending>K&&(U.adler=E(U.adler,O.pending_buf,O.pending-K,K)),O.gzindex===O.gzhead.extra.length&&(O.gzindex=0,O.status=73)}else O.status=73;if(O.status===73)if(O.gzhead.name){K=O.pending;do{if(O.pending===O.pending_buf_size&&(O.gzhead.hcrc&&O.pending>K&&(U.adler=E(U.adler,O.pending_buf,O.pending-K,K)),k(U),K=O.pending,O.pending===O.pending_buf_size)){ne=1;break}ne=O.gzindex<O.gzhead.name.length?255&O.gzhead.name.charCodeAt(O.gzindex++):0,A(O,ne)}while(ne!==0);O.gzhead.hcrc&&O.pending>K&&(U.adler=E(U.adler,O.pending_buf,O.pending-K,K)),ne===0&&(O.gzindex=0,O.status=91)}else O.status=91;if(O.status===91)if(O.gzhead.comment){K=O.pending;do{if(O.pending===O.pending_buf_size&&(O.gzhead.hcrc&&O.pending>K&&(U.adler=E(U.adler,O.pending_buf,O.pending-K,K)),k(U),K=O.pending,O.pending===O.pending_buf_size)){ne=1;break}ne=O.gzindex<O.gzhead.comment.length?255&O.gzhead.comment.charCodeAt(O.gzindex++):0,A(O,ne)}while(ne!==0);O.gzhead.hcrc&&O.pending>K&&(U.adler=E(U.adler,O.pending_buf,O.pending-K,K)),ne===0&&(O.status=103)}else O.status=103;if(O.status===103&&(O.gzhead.hcrc?(O.pending+2>O.pending_buf_size&&k(U),O.pending+2<=O.pending_buf_size&&(A(O,255&U.adler),A(O,U.adler>>8&255),U.adler=0,O.status=I)):O.status=I),O.pending!==0){if(k(U),U.avail_out===0)return O.last_flush=-1,0}else if(U.avail_in===0&&B(Q)<=B(F)&&Q!==4)return V(U,-5);if(O.status===666&&U.avail_in!==0)return V(U,-5);if(U.avail_in!==0||O.lookahead!==0||Q!==0&&O.status!==666){var ie=O.strategy===2?function(he,ce){for(var te;;){if(he.lookahead===0&&(_(he),he.lookahead===0)){if(ce===0)return 1;break}if(he.match_length=0,te=y._tr_tally(he,0,he.window[he.strstart]),he.lookahead--,he.strstart++,te&&(M(he,!1),he.strm.avail_out===0))return 1}return he.insert=0,ce===4?(M(he,!0),he.strm.avail_out===0?3:4):he.last_lit&&(M(he,!1),he.strm.avail_out===0)?1:2}(O,Q):O.strategy===3?function(he,ce){for(var te,se,ge,de,Te=he.window;;){if(he.lookahead<=D){if(_(he),he.lookahead<=D&&ce===0)return 1;if(he.lookahead===0)break}if(he.match_length=0,he.lookahead>=3&&0<he.strstart&&(se=Te[ge=he.strstart-1])===Te[++ge]&&se===Te[++ge]&&se===Te[++ge]){de=he.strstart+D;do;while(se===Te[++ge]&&se===Te[++ge]&&se===Te[++ge]&&se===Te[++ge]&&se===Te[++ge]&&se===Te[++ge]&&se===Te[++ge]&&se===Te[++ge]&&ge<de);he.match_length=D-(de-ge),he.match_length>he.lookahead&&(he.match_length=he.lookahead)}if(he.match_length>=3?(te=y._tr_tally(he,1,he.match_length-3),he.lookahead-=he.match_length,he.strstart+=he.match_length,he.match_length=0):(te=y._tr_tally(he,0,he.window[he.strstart]),he.lookahead--,he.strstart++),te&&(M(he,!1),he.strm.avail_out===0))return 1}return he.insert=0,ce===4?(M(he,!0),he.strm.avail_out===0?3:4):he.last_lit&&(M(he,!1),he.strm.avail_out===0)?1:2}(O,Q):p[O.level].func(O,Q);if(ie!==3&&ie!==4||(O.status=666),ie===1||ie===3)return U.avail_out===0&&(O.last_flush=-1),0;if(ie===2&&(Q===1?y._tr_align(O):Q!==5&&(y._tr_stored_block(O,0,0,!1),Q===3&&(P(O.head),O.lookahead===0&&(O.strstart=0,O.block_start=0,O.insert=0))),k(U),U.avail_out===0))return O.last_flush=-1,0}return Q!==4?0:O.wrap<=0?1:(O.wrap===2?(A(O,255&U.adler),A(O,U.adler>>8&255),A(O,U.adler>>16&255),A(O,U.adler>>24&255),A(O,255&U.total_in),A(O,U.total_in>>8&255),A(O,U.total_in>>16&255),A(O,U.total_in>>24&255)):(w(O,U.adler>>>16),w(O,65535&U.adler)),k(U),0<O.wrap&&(O.wrap=-O.wrap),O.pending!==0?0:1)},g.deflateEnd=function(U){var Q;return U&&U.state?(Q=U.state.status)!==42&&Q!==69&&Q!==73&&Q!==91&&Q!==103&&Q!==I&&Q!==666?V(U,j):(U.state=null,Q===I?V(U,-3):0):j},g.deflateSetDictionary=function(U,Q){var F,O,K,ne,ee,ie,he,ce,te=Q.length;if(!U||!U.state||(ne=(F=U.state).wrap)===2||ne===1&&F.status!==42||F.lookahead)return j;for(ne===1&&(U.adler=b(U.adler,Q,te,0)),F.wrap=0,te>=F.w_size&&(ne===0&&(P(F.head),F.strstart=0,F.block_start=0,F.insert=0),ce=new v.Buf8(F.w_size),v.arraySet(ce,Q,te-F.w_size,F.w_size,0),Q=ce,te=F.w_size),ee=U.avail_in,ie=U.next_in,he=U.input,U.avail_in=te,U.next_in=0,U.input=Q,_(F);F.lookahead>=3;){for(O=F.strstart,K=F.lookahead-2;F.ins_h=(F.ins_h<<F.hash_shift^F.window[O+3-1])&F.hash_mask,F.prev[O&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=O,O++,--K;);F.strstart=O,F.lookahead=2,_(F)}return F.strstart+=F.lookahead,F.block_start=F.strstart,F.insert=F.lookahead,F.lookahead=0,F.match_length=F.prev_length=2,F.match_available=0,U.next_in=ie,U.input=he,U.avail_in=ee,F.wrap=ne,0},g.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(f,m,g){m.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(f,m,g){m.exports=function(p,v){var y,b,E,N,j,D,C,I,V,B,P,k,M,A,w,S,_,x,R,W,T,z,q,Y,U;y=p.state,b=p.next_in,Y=p.input,E=b+(p.avail_in-5),N=p.next_out,U=p.output,j=N-(v-p.avail_out),D=N+(p.avail_out-257),C=y.dmax,I=y.wsize,V=y.whave,B=y.wnext,P=y.window,k=y.hold,M=y.bits,A=y.lencode,w=y.distcode,S=(1<<y.lenbits)-1,_=(1<<y.distbits)-1;e:do{M<15&&(k+=Y[b++]<<M,M+=8,k+=Y[b++]<<M,M+=8),x=A[k&S];t:for(;;){if(k>>>=R=x>>>24,M-=R,(R=x>>>16&255)==0)U[N++]=65535&x;else{if(!(16&R)){if(!(64&R)){x=A[(65535&x)+(k&(1<<R)-1)];continue t}if(32&R){y.mode=12;break e}p.msg="invalid literal/length code",y.mode=30;break e}W=65535&x,(R&=15)&&(M<R&&(k+=Y[b++]<<M,M+=8),W+=k&(1<<R)-1,k>>>=R,M-=R),M<15&&(k+=Y[b++]<<M,M+=8,k+=Y[b++]<<M,M+=8),x=w[k&_];r:for(;;){if(k>>>=R=x>>>24,M-=R,!(16&(R=x>>>16&255))){if(!(64&R)){x=w[(65535&x)+(k&(1<<R)-1)];continue r}p.msg="invalid distance code",y.mode=30;break e}if(T=65535&x,M<(R&=15)&&(k+=Y[b++]<<M,(M+=8)<R&&(k+=Y[b++]<<M,M+=8)),C<(T+=k&(1<<R)-1)){p.msg="invalid distance too far back",y.mode=30;break e}if(k>>>=R,M-=R,(R=N-j)<T){if(V<(R=T-R)&&y.sane){p.msg="invalid distance too far back",y.mode=30;break e}if(q=P,(z=0)===B){if(z+=I-R,R<W){for(W-=R;U[N++]=P[z++],--R;);z=N-T,q=U}}else if(B<R){if(z+=I+B-R,(R-=B)<W){for(W-=R;U[N++]=P[z++],--R;);if(z=0,B<W){for(W-=R=B;U[N++]=P[z++],--R;);z=N-T,q=U}}}else if(z+=B-R,R<W){for(W-=R;U[N++]=P[z++],--R;);z=N-T,q=U}for(;2<W;)U[N++]=q[z++],U[N++]=q[z++],U[N++]=q[z++],W-=3;W&&(U[N++]=q[z++],1<W&&(U[N++]=q[z++]))}else{for(z=N-T;U[N++]=U[z++],U[N++]=U[z++],U[N++]=U[z++],2<(W-=3););W&&(U[N++]=U[z++],1<W&&(U[N++]=U[z++]))}break}}break}}while(b<E&&N<D);b-=W=M>>3,k&=(1<<(M-=W<<3))-1,p.next_in=b,p.next_out=N,p.avail_in=b<E?E-b+5:5-(b-E),p.avail_out=N<D?D-N+257:257-(N-D),y.hold=k,y.bits=M}},{}],49:[function(f,m,g){var p=f("../utils/common"),v=f("./adler32"),y=f("./crc32"),b=f("./inffast"),E=f("./inftrees"),N=-2;function j(S){return(S>>>24&255)+(S>>>8&65280)+((65280&S)<<8)+((255&S)<<24)}function D(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new p.Buf16(320),this.work=new p.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function C(S){var _;return S&&S.state?(_=S.state,S.total_in=S.total_out=_.total=0,S.msg="",_.wrap&&(S.adler=1&_.wrap),_.mode=1,_.last=0,_.havedict=0,_.dmax=32768,_.head=null,_.hold=0,_.bits=0,_.lencode=_.lendyn=new p.Buf32(852),_.distcode=_.distdyn=new p.Buf32(592),_.sane=1,_.back=-1,0):N}function I(S){var _;return S&&S.state?((_=S.state).wsize=0,_.whave=0,_.wnext=0,C(S)):N}function V(S,_){var x,R;return S&&S.state?(R=S.state,_<0?(x=0,_=-_):(x=1+(_>>4),_<48&&(_&=15)),_&&(_<8||15<_)?N:(R.window!==null&&R.wbits!==_&&(R.window=null),R.wrap=x,R.wbits=_,I(S))):N}function B(S,_){var x,R;return S?(R=new D,(S.state=R).window=null,(x=V(S,_))!==0&&(S.state=null),x):N}var P,k,M=!0;function A(S){if(M){var _;for(P=new p.Buf32(512),k=new p.Buf32(32),_=0;_<144;)S.lens[_++]=8;for(;_<256;)S.lens[_++]=9;for(;_<280;)S.lens[_++]=7;for(;_<288;)S.lens[_++]=8;for(E(1,S.lens,0,288,P,0,S.work,{bits:9}),_=0;_<32;)S.lens[_++]=5;E(2,S.lens,0,32,k,0,S.work,{bits:5}),M=!1}S.lencode=P,S.lenbits=9,S.distcode=k,S.distbits=5}function w(S,_,x,R){var W,T=S.state;return T.window===null&&(T.wsize=1<<T.wbits,T.wnext=0,T.whave=0,T.window=new p.Buf8(T.wsize)),R>=T.wsize?(p.arraySet(T.window,_,x-T.wsize,T.wsize,0),T.wnext=0,T.whave=T.wsize):(R<(W=T.wsize-T.wnext)&&(W=R),p.arraySet(T.window,_,x-R,W,T.wnext),(R-=W)?(p.arraySet(T.window,_,x-R,R,0),T.wnext=R,T.whave=T.wsize):(T.wnext+=W,T.wnext===T.wsize&&(T.wnext=0),T.whave<T.wsize&&(T.whave+=W))),0}g.inflateReset=I,g.inflateReset2=V,g.inflateResetKeep=C,g.inflateInit=function(S){return B(S,15)},g.inflateInit2=B,g.inflate=function(S,_){var x,R,W,T,z,q,Y,U,Q,F,O,K,ne,ee,ie,he,ce,te,se,ge,de,Te,De,_e,fe=0,ae=new p.Buf8(4),ve=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&S.avail_in!==0)return N;(x=S.state).mode===12&&(x.mode=13),z=S.next_out,W=S.output,Y=S.avail_out,T=S.next_in,R=S.input,q=S.avail_in,U=x.hold,Q=x.bits,F=q,O=Y,Te=0;e:for(;;)switch(x.mode){case 1:if(x.wrap===0){x.mode=13;break}for(;Q<16;){if(q===0)break e;q--,U+=R[T++]<<Q,Q+=8}if(2&x.wrap&&U===35615){ae[x.check=0]=255&U,ae[1]=U>>>8&255,x.check=y(x.check,ae,2,0),Q=U=0,x.mode=2;break}if(x.flags=0,x.head&&(x.head.done=!1),!(1&x.wrap)||(((255&U)<<8)+(U>>8))%31){S.msg="incorrect header check",x.mode=30;break}if((15&U)!=8){S.msg="unknown compression method",x.mode=30;break}if(Q-=4,de=8+(15&(U>>>=4)),x.wbits===0)x.wbits=de;else if(de>x.wbits){S.msg="invalid window size",x.mode=30;break}x.dmax=1<<de,S.adler=x.check=1,x.mode=512&U?10:12,Q=U=0;break;case 2:for(;Q<16;){if(q===0)break e;q--,U+=R[T++]<<Q,Q+=8}if(x.flags=U,(255&x.flags)!=8){S.msg="unknown compression method",x.mode=30;break}if(57344&x.flags){S.msg="unknown header flags set",x.mode=30;break}x.head&&(x.head.text=U>>8&1),512&x.flags&&(ae[0]=255&U,ae[1]=U>>>8&255,x.check=y(x.check,ae,2,0)),Q=U=0,x.mode=3;case 3:for(;Q<32;){if(q===0)break e;q--,U+=R[T++]<<Q,Q+=8}x.head&&(x.head.time=U),512&x.flags&&(ae[0]=255&U,ae[1]=U>>>8&255,ae[2]=U>>>16&255,ae[3]=U>>>24&255,x.check=y(x.check,ae,4,0)),Q=U=0,x.mode=4;case 4:for(;Q<16;){if(q===0)break e;q--,U+=R[T++]<<Q,Q+=8}x.head&&(x.head.xflags=255&U,x.head.os=U>>8),512&x.flags&&(ae[0]=255&U,ae[1]=U>>>8&255,x.check=y(x.check,ae,2,0)),Q=U=0,x.mode=5;case 5:if(1024&x.flags){for(;Q<16;){if(q===0)break e;q--,U+=R[T++]<<Q,Q+=8}x.length=U,x.head&&(x.head.extra_len=U),512&x.flags&&(ae[0]=255&U,ae[1]=U>>>8&255,x.check=y(x.check,ae,2,0)),Q=U=0}else x.head&&(x.head.extra=null);x.mode=6;case 6:if(1024&x.flags&&(q<(K=x.length)&&(K=q),K&&(x.head&&(de=x.head.extra_len-x.length,x.head.extra||(x.head.extra=new Array(x.head.extra_len)),p.arraySet(x.head.extra,R,T,K,de)),512&x.flags&&(x.check=y(x.check,R,K,T)),q-=K,T+=K,x.length-=K),x.length))break e;x.length=0,x.mode=7;case 7:if(2048&x.flags){if(q===0)break e;for(K=0;de=R[T+K++],x.head&&de&&x.length<65536&&(x.head.name+=String.fromCharCode(de)),de&&K<q;);if(512&x.flags&&(x.check=y(x.check,R,K,T)),q-=K,T+=K,de)break e}else x.head&&(x.head.name=null);x.length=0,x.mode=8;case 8:if(4096&x.flags){if(q===0)break e;for(K=0;de=R[T+K++],x.head&&de&&x.length<65536&&(x.head.comment+=String.fromCharCode(de)),de&&K<q;);if(512&x.flags&&(x.check=y(x.check,R,K,T)),q-=K,T+=K,de)break e}else x.head&&(x.head.comment=null);x.mode=9;case 9:if(512&x.flags){for(;Q<16;){if(q===0)break e;q--,U+=R[T++]<<Q,Q+=8}if(U!==(65535&x.check)){S.msg="header crc mismatch",x.mode=30;break}Q=U=0}x.head&&(x.head.hcrc=x.flags>>9&1,x.head.done=!0),S.adler=x.check=0,x.mode=12;break;case 10:for(;Q<32;){if(q===0)break e;q--,U+=R[T++]<<Q,Q+=8}S.adler=x.check=j(U),Q=U=0,x.mode=11;case 11:if(x.havedict===0)return S.next_out=z,S.avail_out=Y,S.next_in=T,S.avail_in=q,x.hold=U,x.bits=Q,2;S.adler=x.check=1,x.mode=12;case 12:if(_===5||_===6)break e;case 13:if(x.last){U>>>=7&Q,Q-=7&Q,x.mode=27;break}for(;Q<3;){if(q===0)break e;q--,U+=R[T++]<<Q,Q+=8}switch(x.last=1&U,Q-=1,3&(U>>>=1)){case 0:x.mode=14;break;case 1:if(A(x),x.mode=20,_!==6)break;U>>>=2,Q-=2;break e;case 2:x.mode=17;break;case 3:S.msg="invalid block type",x.mode=30}U>>>=2,Q-=2;break;case 14:for(U>>>=7&Q,Q-=7&Q;Q<32;){if(q===0)break e;q--,U+=R[T++]<<Q,Q+=8}if((65535&U)!=(U>>>16^65535)){S.msg="invalid stored block lengths",x.mode=30;break}if(x.length=65535&U,Q=U=0,x.mode=15,_===6)break e;case 15:x.mode=16;case 16:if(K=x.length){if(q<K&&(K=q),Y<K&&(K=Y),K===0)break e;p.arraySet(W,R,T,K,z),q-=K,T+=K,Y-=K,z+=K,x.length-=K;break}x.mode=12;break;case 17:for(;Q<14;){if(q===0)break e;q--,U+=R[T++]<<Q,Q+=8}if(x.nlen=257+(31&U),U>>>=5,Q-=5,x.ndist=1+(31&U),U>>>=5,Q-=5,x.ncode=4+(15&U),U>>>=4,Q-=4,286<x.nlen||30<x.ndist){S.msg="too many length or distance symbols",x.mode=30;break}x.have=0,x.mode=18;case 18:for(;x.have<x.ncode;){for(;Q<3;){if(q===0)break e;q--,U+=R[T++]<<Q,Q+=8}x.lens[ve[x.have++]]=7&U,U>>>=3,Q-=3}for(;x.have<19;)x.lens[ve[x.have++]]=0;if(x.lencode=x.lendyn,x.lenbits=7,De={bits:x.lenbits},Te=E(0,x.lens,0,19,x.lencode,0,x.work,De),x.lenbits=De.bits,Te){S.msg="invalid code lengths set",x.mode=30;break}x.have=0,x.mode=19;case 19:for(;x.have<x.nlen+x.ndist;){for(;he=(fe=x.lencode[U&(1<<x.lenbits)-1])>>>16&255,ce=65535&fe,!((ie=fe>>>24)<=Q);){if(q===0)break e;q--,U+=R[T++]<<Q,Q+=8}if(ce<16)U>>>=ie,Q-=ie,x.lens[x.have++]=ce;else{if(ce===16){for(_e=ie+2;Q<_e;){if(q===0)break e;q--,U+=R[T++]<<Q,Q+=8}if(U>>>=ie,Q-=ie,x.have===0){S.msg="invalid bit length repeat",x.mode=30;break}de=x.lens[x.have-1],K=3+(3&U),U>>>=2,Q-=2}else if(ce===17){for(_e=ie+3;Q<_e;){if(q===0)break e;q--,U+=R[T++]<<Q,Q+=8}Q-=ie,de=0,K=3+(7&(U>>>=ie)),U>>>=3,Q-=3}else{for(_e=ie+7;Q<_e;){if(q===0)break e;q--,U+=R[T++]<<Q,Q+=8}Q-=ie,de=0,K=11+(127&(U>>>=ie)),U>>>=7,Q-=7}if(x.have+K>x.nlen+x.ndist){S.msg="invalid bit length repeat",x.mode=30;break}for(;K--;)x.lens[x.have++]=de}}if(x.mode===30)break;if(x.lens[256]===0){S.msg="invalid code -- missing end-of-block",x.mode=30;break}if(x.lenbits=9,De={bits:x.lenbits},Te=E(1,x.lens,0,x.nlen,x.lencode,0,x.work,De),x.lenbits=De.bits,Te){S.msg="invalid literal/lengths set",x.mode=30;break}if(x.distbits=6,x.distcode=x.distdyn,De={bits:x.distbits},Te=E(2,x.lens,x.nlen,x.ndist,x.distcode,0,x.work,De),x.distbits=De.bits,Te){S.msg="invalid distances set",x.mode=30;break}if(x.mode=20,_===6)break e;case 20:x.mode=21;case 21:if(6<=q&&258<=Y){S.next_out=z,S.avail_out=Y,S.next_in=T,S.avail_in=q,x.hold=U,x.bits=Q,b(S,O),z=S.next_out,W=S.output,Y=S.avail_out,T=S.next_in,R=S.input,q=S.avail_in,U=x.hold,Q=x.bits,x.mode===12&&(x.back=-1);break}for(x.back=0;he=(fe=x.lencode[U&(1<<x.lenbits)-1])>>>16&255,ce=65535&fe,!((ie=fe>>>24)<=Q);){if(q===0)break e;q--,U+=R[T++]<<Q,Q+=8}if(he&&!(240&he)){for(te=ie,se=he,ge=ce;he=(fe=x.lencode[ge+((U&(1<<te+se)-1)>>te)])>>>16&255,ce=65535&fe,!(te+(ie=fe>>>24)<=Q);){if(q===0)break e;q--,U+=R[T++]<<Q,Q+=8}U>>>=te,Q-=te,x.back+=te}if(U>>>=ie,Q-=ie,x.back+=ie,x.length=ce,he===0){x.mode=26;break}if(32&he){x.back=-1,x.mode=12;break}if(64&he){S.msg="invalid literal/length code",x.mode=30;break}x.extra=15&he,x.mode=22;case 22:if(x.extra){for(_e=x.extra;Q<_e;){if(q===0)break e;q--,U+=R[T++]<<Q,Q+=8}x.length+=U&(1<<x.extra)-1,U>>>=x.extra,Q-=x.extra,x.back+=x.extra}x.was=x.length,x.mode=23;case 23:for(;he=(fe=x.distcode[U&(1<<x.distbits)-1])>>>16&255,ce=65535&fe,!((ie=fe>>>24)<=Q);){if(q===0)break e;q--,U+=R[T++]<<Q,Q+=8}if(!(240&he)){for(te=ie,se=he,ge=ce;he=(fe=x.distcode[ge+((U&(1<<te+se)-1)>>te)])>>>16&255,ce=65535&fe,!(te+(ie=fe>>>24)<=Q);){if(q===0)break e;q--,U+=R[T++]<<Q,Q+=8}U>>>=te,Q-=te,x.back+=te}if(U>>>=ie,Q-=ie,x.back+=ie,64&he){S.msg="invalid distance code",x.mode=30;break}x.offset=ce,x.extra=15&he,x.mode=24;case 24:if(x.extra){for(_e=x.extra;Q<_e;){if(q===0)break e;q--,U+=R[T++]<<Q,Q+=8}x.offset+=U&(1<<x.extra)-1,U>>>=x.extra,Q-=x.extra,x.back+=x.extra}if(x.offset>x.dmax){S.msg="invalid distance too far back",x.mode=30;break}x.mode=25;case 25:if(Y===0)break e;if(K=O-Y,x.offset>K){if((K=x.offset-K)>x.whave&&x.sane){S.msg="invalid distance too far back",x.mode=30;break}ne=K>x.wnext?(K-=x.wnext,x.wsize-K):x.wnext-K,K>x.length&&(K=x.length),ee=x.window}else ee=W,ne=z-x.offset,K=x.length;for(Y<K&&(K=Y),Y-=K,x.length-=K;W[z++]=ee[ne++],--K;);x.length===0&&(x.mode=21);break;case 26:if(Y===0)break e;W[z++]=x.length,Y--,x.mode=21;break;case 27:if(x.wrap){for(;Q<32;){if(q===0)break e;q--,U|=R[T++]<<Q,Q+=8}if(O-=Y,S.total_out+=O,x.total+=O,O&&(S.adler=x.check=x.flags?y(x.check,W,O,z-O):v(x.check,W,O,z-O)),O=Y,(x.flags?U:j(U))!==x.check){S.msg="incorrect data check",x.mode=30;break}Q=U=0}x.mode=28;case 28:if(x.wrap&&x.flags){for(;Q<32;){if(q===0)break e;q--,U+=R[T++]<<Q,Q+=8}if(U!==(4294967295&x.total)){S.msg="incorrect length check",x.mode=30;break}Q=U=0}x.mode=29;case 29:Te=1;break e;case 30:Te=-3;break e;case 31:return-4;case 32:default:return N}return S.next_out=z,S.avail_out=Y,S.next_in=T,S.avail_in=q,x.hold=U,x.bits=Q,(x.wsize||O!==S.avail_out&&x.mode<30&&(x.mode<27||_!==4))&&w(S,S.output,S.next_out,O-S.avail_out)?(x.mode=31,-4):(F-=S.avail_in,O-=S.avail_out,S.total_in+=F,S.total_out+=O,x.total+=O,x.wrap&&O&&(S.adler=x.check=x.flags?y(x.check,W,O,S.next_out-O):v(x.check,W,O,S.next_out-O)),S.data_type=x.bits+(x.last?64:0)+(x.mode===12?128:0)+(x.mode===20||x.mode===15?256:0),(F==0&&O===0||_===4)&&Te===0&&(Te=-5),Te)},g.inflateEnd=function(S){if(!S||!S.state)return N;var _=S.state;return _.window&&(_.window=null),S.state=null,0},g.inflateGetHeader=function(S,_){var x;return S&&S.state&&2&(x=S.state).wrap?((x.head=_).done=!1,0):N},g.inflateSetDictionary=function(S,_){var x,R=_.length;return S&&S.state?(x=S.state).wrap!==0&&x.mode!==11?N:x.mode===11&&v(1,_,R,0)!==x.check?-3:w(S,_,R,R)?(x.mode=31,-4):(x.havedict=1,0):N},g.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(f,m,g){var p=f("../utils/common"),v=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],y=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],b=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],E=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];m.exports=function(N,j,D,C,I,V,B,P){var k,M,A,w,S,_,x,R,W,T=P.bits,z=0,q=0,Y=0,U=0,Q=0,F=0,O=0,K=0,ne=0,ee=0,ie=null,he=0,ce=new p.Buf16(16),te=new p.Buf16(16),se=null,ge=0;for(z=0;z<=15;z++)ce[z]=0;for(q=0;q<C;q++)ce[j[D+q]]++;for(Q=T,U=15;1<=U&&ce[U]===0;U--);if(U<Q&&(Q=U),U===0)return I[V++]=20971520,I[V++]=20971520,P.bits=1,0;for(Y=1;Y<U&&ce[Y]===0;Y++);for(Q<Y&&(Q=Y),z=K=1;z<=15;z++)if(K<<=1,(K-=ce[z])<0)return-1;if(0<K&&(N===0||U!==1))return-1;for(te[1]=0,z=1;z<15;z++)te[z+1]=te[z]+ce[z];for(q=0;q<C;q++)j[D+q]!==0&&(B[te[j[D+q]]++]=q);if(_=N===0?(ie=se=B,19):N===1?(ie=v,he-=257,se=y,ge-=257,256):(ie=b,se=E,-1),z=Y,S=V,O=q=ee=0,A=-1,w=(ne=1<<(F=Q))-1,N===1&&852<ne||N===2&&592<ne)return 1;for(;;){for(x=z-O,W=B[q]<_?(R=0,B[q]):B[q]>_?(R=se[ge+B[q]],ie[he+B[q]]):(R=96,0),k=1<<z-O,Y=M=1<<F;I[S+(ee>>O)+(M-=k)]=x<<24|R<<16|W|0,M!==0;);for(k=1<<z-1;ee&k;)k>>=1;if(k!==0?(ee&=k-1,ee+=k):ee=0,q++,--ce[z]==0){if(z===U)break;z=j[D+B[q]]}if(Q<z&&(ee&w)!==A){for(O===0&&(O=Q),S+=Y,K=1<<(F=z-O);F+O<U&&!((K-=ce[F+O])<=0);)F++,K<<=1;if(ne+=1<<F,N===1&&852<ne||N===2&&592<ne)return 1;I[A=ee&w]=Q<<24|F<<16|S-V|0}}return ee!==0&&(I[S+ee]=z-O<<24|64<<16|0),P.bits=Q,0}},{"../utils/common":41}],51:[function(f,m,g){m.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(f,m,g){var p=f("../utils/common");function v(se){for(var ge=se.length;0<=--ge;)se[ge]=0}var y=256,b=286,E=30,N=15,j=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],D=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],V=new Array(576);v(V);var B=new Array(60);v(B);var P=new Array(512);v(P);var k=new Array(256);v(k);var M=new Array(29);v(M);var A,w,S,_=new Array(E);function x(se,ge,de,Te,De){this.static_tree=se,this.extra_bits=ge,this.extra_base=de,this.elems=Te,this.max_length=De,this.has_stree=se&&se.length}function R(se,ge){this.dyn_tree=se,this.max_code=0,this.stat_desc=ge}function W(se){return se<256?P[se]:P[256+(se>>>7)]}function T(se,ge){se.pending_buf[se.pending++]=255&ge,se.pending_buf[se.pending++]=ge>>>8&255}function z(se,ge,de){se.bi_valid>16-de?(se.bi_buf|=ge<<se.bi_valid&65535,T(se,se.bi_buf),se.bi_buf=ge>>16-se.bi_valid,se.bi_valid+=de-16):(se.bi_buf|=ge<<se.bi_valid&65535,se.bi_valid+=de)}function q(se,ge,de){z(se,de[2*ge],de[2*ge+1])}function Y(se,ge){for(var de=0;de|=1&se,se>>>=1,de<<=1,0<--ge;);return de>>>1}function U(se,ge,de){var Te,De,_e=new Array(16),fe=0;for(Te=1;Te<=N;Te++)_e[Te]=fe=fe+de[Te-1]<<1;for(De=0;De<=ge;De++){var ae=se[2*De+1];ae!==0&&(se[2*De]=Y(_e[ae]++,ae))}}function Q(se){var ge;for(ge=0;ge<b;ge++)se.dyn_ltree[2*ge]=0;for(ge=0;ge<E;ge++)se.dyn_dtree[2*ge]=0;for(ge=0;ge<19;ge++)se.bl_tree[2*ge]=0;se.dyn_ltree[512]=1,se.opt_len=se.static_len=0,se.last_lit=se.matches=0}function F(se){8<se.bi_valid?T(se,se.bi_buf):0<se.bi_valid&&(se.pending_buf[se.pending++]=se.bi_buf),se.bi_buf=0,se.bi_valid=0}function O(se,ge,de,Te){var De=2*ge,_e=2*de;return se[De]<se[_e]||se[De]===se[_e]&&Te[ge]<=Te[de]}function K(se,ge,de){for(var Te=se.heap[de],De=de<<1;De<=se.heap_len&&(De<se.heap_len&&O(ge,se.heap[De+1],se.heap[De],se.depth)&&De++,!O(ge,Te,se.heap[De],se.depth));)se.heap[de]=se.heap[De],de=De,De<<=1;se.heap[de]=Te}function ne(se,ge,de){var Te,De,_e,fe,ae=0;if(se.last_lit!==0)for(;Te=se.pending_buf[se.d_buf+2*ae]<<8|se.pending_buf[se.d_buf+2*ae+1],De=se.pending_buf[se.l_buf+ae],ae++,Te===0?q(se,De,ge):(q(se,(_e=k[De])+y+1,ge),(fe=j[_e])!==0&&z(se,De-=M[_e],fe),q(se,_e=W(--Te),de),(fe=D[_e])!==0&&z(se,Te-=_[_e],fe)),ae<se.last_lit;);q(se,256,ge)}function ee(se,ge){var de,Te,De,_e=ge.dyn_tree,fe=ge.stat_desc.static_tree,ae=ge.stat_desc.has_stree,ve=ge.stat_desc.elems,Ee=-1;for(se.heap_len=0,se.heap_max=573,de=0;de<ve;de++)_e[2*de]!==0?(se.heap[++se.heap_len]=Ee=de,se.depth[de]=0):_e[2*de+1]=0;for(;se.heap_len<2;)_e[2*(De=se.heap[++se.heap_len]=Ee<2?++Ee:0)]=1,se.depth[De]=0,se.opt_len--,ae&&(se.static_len-=fe[2*De+1]);for(ge.max_code=Ee,de=se.heap_len>>1;1<=de;de--)K(se,_e,de);for(De=ve;de=se.heap[1],se.heap[1]=se.heap[se.heap_len--],K(se,_e,1),Te=se.heap[1],se.heap[--se.heap_max]=de,se.heap[--se.heap_max]=Te,_e[2*De]=_e[2*de]+_e[2*Te],se.depth[De]=(se.depth[de]>=se.depth[Te]?se.depth[de]:se.depth[Te])+1,_e[2*de+1]=_e[2*Te+1]=De,se.heap[1]=De++,K(se,_e,1),2<=se.heap_len;);se.heap[--se.heap_max]=se.heap[1],function(Fe,Ue){var Ge,Ve,ze,Ke,be,Be,He=Ue.dyn_tree,Me=Ue.max_code,Le=Ue.stat_desc.static_tree,Xe=Ue.stat_desc.has_stree,Je=Ue.stat_desc.extra_bits,et=Ue.stat_desc.extra_base,xt=Ue.stat_desc.max_length,pt=0;for(Ke=0;Ke<=N;Ke++)Fe.bl_count[Ke]=0;for(He[2*Fe.heap[Fe.heap_max]+1]=0,Ge=Fe.heap_max+1;Ge<573;Ge++)xt<(Ke=He[2*He[2*(Ve=Fe.heap[Ge])+1]+1]+1)&&(Ke=xt,pt++),He[2*Ve+1]=Ke,Me<Ve||(Fe.bl_count[Ke]++,be=0,et<=Ve&&(be=Je[Ve-et]),Be=He[2*Ve],Fe.opt_len+=Be*(Ke+be),Xe&&(Fe.static_len+=Be*(Le[2*Ve+1]+be)));if(pt!==0){do{for(Ke=xt-1;Fe.bl_count[Ke]===0;)Ke--;Fe.bl_count[Ke]--,Fe.bl_count[Ke+1]+=2,Fe.bl_count[xt]--,pt-=2}while(0<pt);for(Ke=xt;Ke!==0;Ke--)for(Ve=Fe.bl_count[Ke];Ve!==0;)Me<(ze=Fe.heap[--Ge])||(He[2*ze+1]!==Ke&&(Fe.opt_len+=(Ke-He[2*ze+1])*He[2*ze],He[2*ze+1]=Ke),Ve--)}}(se,ge),U(_e,Ee,se.bl_count)}function ie(se,ge,de){var Te,De,_e=-1,fe=ge[1],ae=0,ve=7,Ee=4;for(fe===0&&(ve=138,Ee=3),ge[2*(de+1)+1]=65535,Te=0;Te<=de;Te++)De=fe,fe=ge[2*(Te+1)+1],++ae<ve&&De===fe||(ae<Ee?se.bl_tree[2*De]+=ae:De!==0?(De!==_e&&se.bl_tree[2*De]++,se.bl_tree[32]++):ae<=10?se.bl_tree[34]++:se.bl_tree[36]++,_e=De,Ee=(ae=0)===fe?(ve=138,3):De===fe?(ve=6,3):(ve=7,4))}function he(se,ge,de){var Te,De,_e=-1,fe=ge[1],ae=0,ve=7,Ee=4;for(fe===0&&(ve=138,Ee=3),Te=0;Te<=de;Te++)if(De=fe,fe=ge[2*(Te+1)+1],!(++ae<ve&&De===fe)){if(ae<Ee)for(;q(se,De,se.bl_tree),--ae!=0;);else De!==0?(De!==_e&&(q(se,De,se.bl_tree),ae--),q(se,16,se.bl_tree),z(se,ae-3,2)):ae<=10?(q(se,17,se.bl_tree),z(se,ae-3,3)):(q(se,18,se.bl_tree),z(se,ae-11,7));_e=De,Ee=(ae=0)===fe?(ve=138,3):De===fe?(ve=6,3):(ve=7,4)}}v(_);var ce=!1;function te(se,ge,de,Te){z(se,0+(Te?1:0),3),function(De,_e,fe,ae){F(De),T(De,fe),T(De,~fe),p.arraySet(De.pending_buf,De.window,_e,fe,De.pending),De.pending+=fe}(se,ge,de)}g._tr_init=function(se){ce||(function(){var ge,de,Te,De,_e,fe=new Array(16);for(De=Te=0;De<28;De++)for(M[De]=Te,ge=0;ge<1<<j[De];ge++)k[Te++]=De;for(k[Te-1]=De,De=_e=0;De<16;De++)for(_[De]=_e,ge=0;ge<1<<D[De];ge++)P[_e++]=De;for(_e>>=7;De<E;De++)for(_[De]=_e<<7,ge=0;ge<1<<D[De]-7;ge++)P[256+_e++]=De;for(de=0;de<=N;de++)fe[de]=0;for(ge=0;ge<=143;)V[2*ge+1]=8,ge++,fe[8]++;for(;ge<=255;)V[2*ge+1]=9,ge++,fe[9]++;for(;ge<=279;)V[2*ge+1]=7,ge++,fe[7]++;for(;ge<=287;)V[2*ge+1]=8,ge++,fe[8]++;for(U(V,287,fe),ge=0;ge<E;ge++)B[2*ge+1]=5,B[2*ge]=Y(ge,5);A=new x(V,j,257,b,N),w=new x(B,D,0,E,N),S=new x(new Array(0),C,0,19,7)}(),ce=!0),se.l_desc=new R(se.dyn_ltree,A),se.d_desc=new R(se.dyn_dtree,w),se.bl_desc=new R(se.bl_tree,S),se.bi_buf=0,se.bi_valid=0,Q(se)},g._tr_stored_block=te,g._tr_flush_block=function(se,ge,de,Te){var De,_e,fe=0;0<se.level?(se.strm.data_type===2&&(se.strm.data_type=function(ae){var ve,Ee=4093624447;for(ve=0;ve<=31;ve++,Ee>>>=1)if(1&Ee&&ae.dyn_ltree[2*ve]!==0)return 0;if(ae.dyn_ltree[18]!==0||ae.dyn_ltree[20]!==0||ae.dyn_ltree[26]!==0)return 1;for(ve=32;ve<y;ve++)if(ae.dyn_ltree[2*ve]!==0)return 1;return 0}(se)),ee(se,se.l_desc),ee(se,se.d_desc),fe=function(ae){var ve;for(ie(ae,ae.dyn_ltree,ae.l_desc.max_code),ie(ae,ae.dyn_dtree,ae.d_desc.max_code),ee(ae,ae.bl_desc),ve=18;3<=ve&&ae.bl_tree[2*I[ve]+1]===0;ve--);return ae.opt_len+=3*(ve+1)+5+5+4,ve}(se),De=se.opt_len+3+7>>>3,(_e=se.static_len+3+7>>>3)<=De&&(De=_e)):De=_e=de+5,de+4<=De&&ge!==-1?te(se,ge,de,Te):se.strategy===4||_e===De?(z(se,2+(Te?1:0),3),ne(se,V,B)):(z(se,4+(Te?1:0),3),function(ae,ve,Ee,Fe){var Ue;for(z(ae,ve-257,5),z(ae,Ee-1,5),z(ae,Fe-4,4),Ue=0;Ue<Fe;Ue++)z(ae,ae.bl_tree[2*I[Ue]+1],3);he(ae,ae.dyn_ltree,ve-1),he(ae,ae.dyn_dtree,Ee-1)}(se,se.l_desc.max_code+1,se.d_desc.max_code+1,fe+1),ne(se,se.dyn_ltree,se.dyn_dtree)),Q(se),Te&&F(se)},g._tr_tally=function(se,ge,de){return se.pending_buf[se.d_buf+2*se.last_lit]=ge>>>8&255,se.pending_buf[se.d_buf+2*se.last_lit+1]=255&ge,se.pending_buf[se.l_buf+se.last_lit]=255&de,se.last_lit++,ge===0?se.dyn_ltree[2*de]++:(se.matches++,ge--,se.dyn_ltree[2*(k[de]+y+1)]++,se.dyn_dtree[2*W(ge)]++),se.last_lit===se.lit_bufsize-1},g._tr_align=function(se){z(se,2,3),q(se,256,V),function(ge){ge.bi_valid===16?(T(ge,ge.bi_buf),ge.bi_buf=0,ge.bi_valid=0):8<=ge.bi_valid&&(ge.pending_buf[ge.pending++]=255&ge.bi_buf,ge.bi_buf>>=8,ge.bi_valid-=8)}(se)}},{"../utils/common":41}],53:[function(f,m,g){m.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(f,m,g){(function(p){(function(v,y){if(!v.setImmediate){var b,E,N,j,D=1,C={},I=!1,V=v.document,B=Object.getPrototypeOf&&Object.getPrototypeOf(v);B=B&&B.setTimeout?B:v,b={}.toString.call(v.process)==="[object process]"?function(A){i.nextTick(function(){k(A)})}:function(){if(v.postMessage&&!v.importScripts){var A=!0,w=v.onmessage;return v.onmessage=function(){A=!1},v.postMessage("","*"),v.onmessage=w,A}}()?(j="setImmediate$"+Math.random()+"$",v.addEventListener?v.addEventListener("message",M,!1):v.attachEvent("onmessage",M),function(A){v.postMessage(j+A,"*")}):v.MessageChannel?((N=new MessageChannel).port1.onmessage=function(A){k(A.data)},function(A){N.port2.postMessage(A)}):V&&"onreadystatechange"in V.createElement("script")?(E=V.documentElement,function(A){var w=V.createElement("script");w.onreadystatechange=function(){k(A),w.onreadystatechange=null,E.removeChild(w),w=null},E.appendChild(w)}):function(A){setTimeout(k,0,A)},B.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var w=new Array(arguments.length-1),S=0;S<w.length;S++)w[S]=arguments[S+1];var _={callback:A,args:w};return C[D]=_,b(D),D++},B.clearImmediate=P}function P(A){delete C[A]}function k(A){if(I)setTimeout(k,0,A);else{var w=C[A];if(w){I=!0;try{(function(S){var _=S.callback,x=S.args;switch(x.length){case 0:_();break;case 1:_(x[0]);break;case 2:_(x[0],x[1]);break;case 3:_(x[0],x[1],x[2]);break;default:_.apply(void 0,x)}})(w)}finally{P(A),I=!1}}}}function M(A){A.source===v&&typeof A.data=="string"&&A.data.indexOf(j)===0&&k(+A.data.slice(j.length))}})(typeof self>"u"?p===void 0?this:p:self)}).call(this,a!==void 0?a:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,t("_process"),typeof gr<"u"?gr:typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],t("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(t,n,s){(function(i){(function(){var a=/[\\^$.*+?()[\]{}|]/g,o=RegExp(a.source),l=typeof i=="object"&&i&&i.Object===Object&&i,c=typeof self=="object"&&self&&self.Object===Object&&self,u=l||c||Function("return this")(),d=Object.prototype.toString,h=u.Symbol,f=h?h.prototype:void 0,m=f?f.toString:void 0;function g(p){if(typeof p=="string")return p;if(function(y){return typeof y=="symbol"||function(b){return!!b&&typeof b=="object"}(y)&&d.call(y)=="[object Symbol]"}(p))return m?m.call(p):"";var v=p+"";return v=="0"&&1/p==-1/0?"-0":v}n.exports=function(p){var v;return(p=(v=p)==null?"":g(v))&&o.test(p)?p.replace(a,"\\$&"):p}}).call(this)}).call(this,typeof gr<"u"?gr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(t,n,s){(function(i){(function(){var a="[object Arguments]",o="[object Map]",l="[object Object]",c="[object Set]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,d=/^\w*$/,h=/^\./,f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,m=/\\(\\)?/g,g=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[a]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v["[object Function]"]=v[o]=v["[object Number]"]=v[l]=v["[object RegExp]"]=v[c]=v["[object String]"]=v["[object WeakMap]"]=!1;var y=typeof i=="object"&&i&&i.Object===Object&&i,b=typeof self=="object"&&self&&self.Object===Object&&self,E=y||b||Function("return this")(),N=typeof s=="object"&&s&&!s.nodeType&&s,j=N&&typeof n=="object"&&n&&!n.nodeType&&n,D=j&&j.exports===N&&y.process,C=function(){try{return D&&D.binding("util")}catch{}}(),I=C&&C.isTypedArray;function V(Se,qe,dt,St){for(var Bt=-1,Tt=Se?Se.length:0;++Bt<Tt;){var jt=Se[Bt];qe(St,jt,dt(jt),Se)}return St}function B(Se,qe){for(var dt=-1,St=Se?Se.length:0;++dt<St;)if(qe(Se[dt],dt,Se))return!0;return!1}function P(Se){var qe=!1;if(Se!=null&&typeof Se.toString!="function")try{qe=!!(Se+"")}catch{}return qe}function k(Se){var qe=-1,dt=Array(Se.size);return Se.forEach(function(St,Bt){dt[++qe]=[Bt,St]}),dt}function M(Se){var qe=-1,dt=Array(Se.size);return Se.forEach(function(St){dt[++qe]=St}),dt}var A,w,S,_=Array.prototype,x=Function.prototype,R=Object.prototype,W=E["__core-js_shared__"],T=(A=/[^.]+$/.exec(W&&W.keys&&W.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"",z=x.toString,q=R.hasOwnProperty,Y=R.toString,U=RegExp("^"+z.call(q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Q=E.Symbol,F=E.Uint8Array,O=R.propertyIsEnumerable,K=_.splice,ne=(w=Object.keys,S=Object,function(Se){return w(S(Se))}),ee=ft(E,"DataView"),ie=ft(E,"Map"),he=ft(E,"Promise"),ce=ft(E,"Set"),te=ft(E,"WeakMap"),se=ft(Object,"create"),ge=Qe(ee),de=Qe(ie),Te=Qe(he),De=Qe(ce),_e=Qe(te),fe=Q?Q.prototype:void 0,ae=fe?fe.valueOf:void 0,ve=fe?fe.toString:void 0;function Ee(Se){var qe=-1,dt=Se?Se.length:0;for(this.clear();++qe<dt;){var St=Se[qe];this.set(St[0],St[1])}}function Fe(Se){var qe=-1,dt=Se?Se.length:0;for(this.clear();++qe<dt;){var St=Se[qe];this.set(St[0],St[1])}}function Ue(Se){var qe=-1,dt=Se?Se.length:0;for(this.clear();++qe<dt;){var St=Se[qe];this.set(St[0],St[1])}}function Ge(Se){var qe=-1,dt=Se?Se.length:0;for(this.__data__=new Ue;++qe<dt;)this.add(Se[qe])}function Ve(Se){this.__data__=new Fe(Se)}function ze(Se,qe){var dt=Re(Se)||ke(Se)?function(jt,pr){for(var rr=-1,sr=Array(jt);++rr<jt;)sr[rr]=pr(rr);return sr}(Se.length,String):[],St=dt.length,Bt=!!St;for(var Tt in Se)!q.call(Se,Tt)||Bt&&(Tt=="length"||Ht(Tt,St))||dt.push(Tt);return dt}function Ke(Se,qe){for(var dt=Se.length;dt--;)if(ye(Se[dt][0],qe))return dt;return-1}function be(Se,qe,dt,St){return He(Se,function(Bt,Tt,jt){qe(St,Bt,dt(Bt),jt)}),St}Ee.prototype.clear=function(){this.__data__=se?se(null):{}},Ee.prototype.delete=function(Se){return this.has(Se)&&delete this.__data__[Se]},Ee.prototype.get=function(Se){var qe=this.__data__;if(se){var dt=qe[Se];return dt==="__lodash_hash_undefined__"?void 0:dt}return q.call(qe,Se)?qe[Se]:void 0},Ee.prototype.has=function(Se){var qe=this.__data__;return se?qe[Se]!==void 0:q.call(qe,Se)},Ee.prototype.set=function(Se,qe){return this.__data__[Se]=se&&qe===void 0?"__lodash_hash_undefined__":qe,this},Fe.prototype.clear=function(){this.__data__=[]},Fe.prototype.delete=function(Se){var qe=this.__data__,dt=Ke(qe,Se);return!(dt<0)&&(dt==qe.length-1?qe.pop():K.call(qe,dt,1),!0)},Fe.prototype.get=function(Se){var qe=this.__data__,dt=Ke(qe,Se);return dt<0?void 0:qe[dt][1]},Fe.prototype.has=function(Se){return Ke(this.__data__,Se)>-1},Fe.prototype.set=function(Se,qe){var dt=this.__data__,St=Ke(dt,Se);return St<0?dt.push([Se,qe]):dt[St][1]=qe,this},Ue.prototype.clear=function(){this.__data__={hash:new Ee,map:new(ie||Fe),string:new Ee}},Ue.prototype.delete=function(Se){return gt(this,Se).delete(Se)},Ue.prototype.get=function(Se){return gt(this,Se).get(Se)},Ue.prototype.has=function(Se){return gt(this,Se).has(Se)},Ue.prototype.set=function(Se,qe){return gt(this,Se).set(Se,qe),this},Ge.prototype.add=Ge.prototype.push=function(Se){return this.__data__.set(Se,"__lodash_hash_undefined__"),this},Ge.prototype.has=function(Se){return this.__data__.has(Se)},Ve.prototype.clear=function(){this.__data__=new Fe},Ve.prototype.delete=function(Se){return this.__data__.delete(Se)},Ve.prototype.get=function(Se){return this.__data__.get(Se)},Ve.prototype.has=function(Se){return this.__data__.has(Se)},Ve.prototype.set=function(Se,qe){var dt=this.__data__;if(dt instanceof Fe){var St=dt.__data__;if(!ie||St.length<199)return St.push([Se,qe]),this;dt=this.__data__=new Ue(St)}return dt.set(Se,qe),this};var Be,He=(Be=function(Se,qe){return Se&&Me(Se,qe,Ot)},function(Se,qe){if(Se==null)return Se;if(!Ie(Se))return Be(Se,qe);for(var dt=Se.length,St=-1,Bt=Object(Se);++St<dt&&qe(Bt[St],St,Bt)!==!1;);return Se}),Me=function(Se){return function(qe,dt,St){for(var Bt=-1,Tt=Object(qe),jt=St(qe),pr=jt.length;pr--;){var rr=jt[++Bt];if(dt(Tt[rr],rr,Tt)===!1)break}return qe}}();function Le(Se,qe){for(var dt=0,St=(qe=$t(qe,Se)?[qe]:wt(qe)).length;Se!=null&&dt<St;)Se=Se[We(qe[dt++])];return dt&&dt==St?Se:void 0}function Xe(Se,qe){return Se!=null&&qe in Object(Se)}function Je(Se,qe,dt,St,Bt){return Se===qe||(Se==null||qe==null||!tt(Se)&&!ct(qe)?Se!=Se&&qe!=qe:function(Tt,jt,pr,rr,sr,Qt){var mr=Re(Tt),nr=Re(jt),Rr="[object Array]",Kr="[object Array]";mr||(Rr=(Rr=Nt(Tt))==a?l:Rr),nr||(Kr=(Kr=Nt(jt))==a?l:Kr);var yn=Rr==l&&!P(Tt),An=Kr==l&&!P(jt),gs=Rr==Kr;if(gs&&!yn)return Qt||(Qt=new Ve),mr||At(Tt)?mt(Tt,jt,pr,rr,sr,Qt):function(Dr,Ar,Hs,Ir,Ci,Tn,Un){switch(Hs){case"[object DataView]":if(Dr.byteLength!=Ar.byteLength||Dr.byteOffset!=Ar.byteOffset)return!1;Dr=Dr.buffer,Ar=Ar.buffer;case"[object ArrayBuffer]":return!(Dr.byteLength!=Ar.byteLength||!Ir(new F(Dr),new F(Ar)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ye(+Dr,+Ar);case"[object Error]":return Dr.name==Ar.name&&Dr.message==Ar.message;case"[object RegExp]":case"[object String]":return Dr==Ar+"";case o:var Ni=k;case c:var fa=2&Tn;if(Ni||(Ni=M),Dr.size!=Ar.size&&!fa)return!1;var yo=Un.get(Dr);if(yo)return yo==Ar;Tn|=1,Un.set(Dr,Ar);var vs=mt(Ni(Dr),Ni(Ar),Ir,Ci,Tn,Un);return Un.delete(Dr),vs;case"[object Symbol]":if(ae)return ae.call(Dr)==ae.call(Ar)}return!1}(Tt,jt,Rr,pr,rr,sr,Qt);if(!(2&sr)){var In=yn&&q.call(Tt,"__wrapped__"),di=An&&q.call(jt,"__wrapped__");if(In||di){var tn=In?Tt.value():Tt,Pn=di?jt.value():jt;return Qt||(Qt=new Ve),pr(tn,Pn,rr,sr,Qt)}}return gs?(Qt||(Qt=new Ve),function(Dr,Ar,Hs,Ir,Ci,Tn){var Un=2&Ci,Ni=Ot(Dr),fa=Ni.length,yo=Ot(Ar).length;if(fa!=yo&&!Un)return!1;for(var vs=fa;vs--;){var Cs=Ni[vs];if(!(Un?Cs in Ar:q.call(Ar,Cs)))return!1}var Fa=Tn.get(Dr);if(Fa&&Tn.get(Ar))return Fa==Ar;var pi=!0;Tn.set(Dr,Ar),Tn.set(Ar,Dr);for(var rn=Un;++vs<fa;){Cs=Ni[vs];var La=Dr[Cs],da=Ar[Cs];if(Ir)var cr=Un?Ir(da,La,Cs,Ar,Dr,Tn):Ir(La,da,Cs,Dr,Ar,Tn);if(!(cr===void 0?La===da||Hs(La,da,Ir,Ci,Tn):cr)){pi=!1;break}rn||(rn=Cs=="constructor")}if(pi&&!rn){var mi=Dr.constructor,bo=Ar.constructor;mi==bo||!("constructor"in Dr)||!("constructor"in Ar)||typeof mi=="function"&&mi instanceof mi&&typeof bo=="function"&&bo instanceof bo||(pi=!1)}return Tn.delete(Dr),Tn.delete(Ar),pi}(Tt,jt,pr,rr,sr,Qt)):!1}(Se,qe,Je,dt,St,Bt))}function et(Se){return!(!tt(Se)||function(qe){return!!T&&T in qe}(Se))&&(Ye(Se)||P(Se)?U:g).test(Qe(Se))}function xt(Se){return typeof Se=="function"?Se:Se==null?Vt:typeof Se=="object"?Re(Se)?function(St,Bt){return $t(St)&&_t(Bt)?er(We(St),Bt):function(Tt){var jt=function(pr,rr,sr){var Qt=pr==null?void 0:Le(pr,rr);return Qt===void 0?sr:Qt}(Tt,St);return jt===void 0&&jt===Bt?function(pr,rr){return pr!=null&&function(sr,Qt,mr){Qt=$t(Qt,sr)?[Qt]:wt(Qt);for(var nr,Rr=-1,Kr=Qt.length;++Rr<Kr;){var yn=We(Qt[Rr]);if(!(nr=sr!=null&&mr(sr,yn)))break;sr=sr[yn]}return nr||!!(Kr=sr?sr.length:0)&&st(Kr)&&Ht(yn,Kr)&&(Re(sr)||ke(sr))}(pr,rr,Xe)}(Tt,St):Je(Bt,jt,void 0,3)}}(Se[0],Se[1]):function(St){var Bt=function(Tt){for(var jt=Ot(Tt),pr=jt.length;pr--;){var rr=jt[pr],sr=Tt[rr];jt[pr]=[rr,sr,_t(sr)]}return jt}(St);return Bt.length==1&&Bt[0][2]?er(Bt[0][0],Bt[0][1]):function(Tt){return Tt===St||function(jt,pr,rr,sr){var Qt=rr.length,mr=Qt;if(jt==null)return!mr;for(jt=Object(jt);Qt--;){var nr=rr[Qt];if(nr[2]?nr[1]!==jt[nr[0]]:!(nr[0]in jt))return!1}for(;++Qt<mr;){var Rr=(nr=rr[Qt])[0],Kr=jt[Rr],yn=nr[1];if(nr[2]){if(Kr===void 0&&!(Rr in jt))return!1}else{var An=new Ve,gs;if(!(gs===void 0?Je(yn,Kr,sr,3,An):gs))return!1}}return!0}(Tt,St,Bt)}}(Se):$t(qe=Se)?(dt=We(qe),function(St){return St==null?void 0:St[dt]}):function(St){return function(Bt){return Le(Bt,St)}}(qe);var qe,dt}function pt(Se){if(dt=(qe=Se)&&qe.constructor,St=typeof dt=="function"&&dt.prototype||R,qe!==St)return ne(Se);var qe,dt,St,Bt=[];for(var Tt in Object(Se))q.call(Se,Tt)&&Tt!="constructor"&&Bt.push(Tt);return Bt}function wt(Se){return Re(Se)?Se:Gt(Se)}function mt(Se,qe,dt,St,Bt,Tt){var jt=2&Bt,pr=Se.length,rr=qe.length;if(pr!=rr&&!(jt&&rr>pr))return!1;var sr=Tt.get(Se);if(sr&&Tt.get(qe))return sr==qe;var Qt=-1,mr=!0,nr=1&Bt?new Ge:void 0;for(Tt.set(Se,qe),Tt.set(qe,Se);++Qt<pr;){var Rr=Se[Qt],Kr=qe[Qt];if(St)var yn=jt?St(Kr,Rr,Qt,qe,Se,Tt):St(Rr,Kr,Qt,Se,qe,Tt);if(yn!==void 0){if(yn)continue;mr=!1;break}if(nr){if(!B(qe,function(An,gs){if(!nr.has(gs)&&(Rr===An||dt(Rr,An,St,Bt,Tt)))return nr.add(gs)})){mr=!1;break}}else if(Rr!==Kr&&!dt(Rr,Kr,St,Bt,Tt)){mr=!1;break}}return Tt.delete(Se),Tt.delete(qe),mr}function gt(Se,qe){var dt,St,Bt=Se.__data__;return((St=typeof(dt=qe))=="string"||St=="number"||St=="symbol"||St=="boolean"?dt!=="__proto__":dt===null)?Bt[typeof qe=="string"?"string":"hash"]:Bt.map}function ft(Se,qe){var dt=function(St,Bt){return St==null?void 0:St[Bt]}(Se,qe);return et(dt)?dt:void 0}var Nt=function(Se){return Y.call(Se)};function Ht(Se,qe){return!!(qe=qe??9007199254740991)&&(typeof Se=="number"||p.test(Se))&&Se>-1&&Se%1==0&&Se<qe}function $t(Se,qe){if(Re(Se))return!1;var dt=typeof Se;return!(dt!="number"&&dt!="symbol"&&dt!="boolean"&&Se!=null&&!ot(Se))||d.test(Se)||!u.test(Se)||qe!=null&&Se in Object(qe)}function _t(Se){return Se==Se&&!tt(Se)}function er(Se,qe){return function(dt){return dt!=null&&dt[Se]===qe&&(qe!==void 0||Se in Object(dt))}}(ee&&Nt(new ee(new ArrayBuffer(1)))!="[object DataView]"||ie&&Nt(new ie)!=o||he&&Nt(he.resolve())!="[object Promise]"||ce&&Nt(new ce)!=c||te&&Nt(new te)!="[object WeakMap]")&&(Nt=function(Se){var qe=Y.call(Se),dt=qe==l?Se.constructor:void 0,St=dt?Qe(dt):void 0;if(St)switch(St){case ge:return"[object DataView]";case de:return o;case Te:return"[object Promise]";case De:return c;case _e:return"[object WeakMap]"}return qe});var Gt=Pe(function(Se){var qe;Se=(qe=Se)==null?"":function(St){if(typeof St=="string")return St;if(ot(St))return ve?ve.call(St):"";var Bt=St+"";return Bt=="0"&&1/St==-1/0?"-0":Bt}(qe);var dt=[];return h.test(Se)&&dt.push(""),Se.replace(f,function(St,Bt,Tt,jt){dt.push(Tt?jt.replace(m,"$1"):Bt||St)}),dt});function We(Se){if(typeof Se=="string"||ot(Se))return Se;var qe=Se+"";return qe=="0"&&1/Se==-1/0?"-0":qe}function Qe(Se){if(Se!=null){try{return z.call(Se)}catch{}try{return Se+""}catch{}}return""}var ht,ue=(ht=function(Se,qe,dt){q.call(Se,dt)?Se[dt].push(qe):Se[dt]=[qe]},function(Se,qe){var dt=Re(Se)?V:be,St={};return dt(Se,ht,xt(qe),St)});function Pe(Se,qe){if(typeof Se!="function"||qe&&typeof qe!="function")throw new TypeError("Expected a function");var dt=function(){var St=arguments,Bt=qe?qe.apply(this,St):St[0],Tt=dt.cache;if(Tt.has(Bt))return Tt.get(Bt);var jt=Se.apply(this,St);return dt.cache=Tt.set(Bt,jt),jt};return dt.cache=new(Pe.Cache||Ue),dt}function ye(Se,qe){return Se===qe||Se!=Se&&qe!=qe}function ke(Se){return function(qe){return ct(qe)&&Ie(qe)}(Se)&&q.call(Se,"callee")&&(!O.call(Se,"callee")||Y.call(Se)==a)}Pe.Cache=Ue;var Re=Array.isArray;function Ie(Se){return Se!=null&&st(Se.length)&&!Ye(Se)}function Ye(Se){var qe=tt(Se)?Y.call(Se):"";return qe=="[object Function]"||qe=="[object GeneratorFunction]"}function st(Se){return typeof Se=="number"&&Se>-1&&Se%1==0&&Se<=9007199254740991}function tt(Se){var qe=typeof Se;return!!Se&&(qe=="object"||qe=="function")}function ct(Se){return!!Se&&typeof Se=="object"}function ot(Se){return typeof Se=="symbol"||ct(Se)&&Y.call(Se)=="[object Symbol]"}var At=I?function(Se){return function(qe){return Se(qe)}}(I):function(Se){return ct(Se)&&st(Se.length)&&!!v[Y.call(Se)]};function Ot(Se){return Ie(Se)?ze(Se):pt(Se)}function Vt(Se){return Se}n.exports=ue}).call(this)}).call(this,typeof gr<"u"?gr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(t,n,s){var i=Object.prototype.toString;n.exports=function(a){return a===!0||a===!1||function(o){return!!o&&typeof o=="object"}(a)&&i.call(a)=="[object Boolean]"}},{}],445:[function(t,n,s){(function(i){(function(){var a="[object Arguments]",o="[object Map]",l="[object Object]",c="[object Set]",u=/^\[object .+?Constructor\]$/,d=/^(?:0|[1-9]\d*)$/,h={};h["[object Float32Array]"]=h["[object Float64Array]"]=h["[object Int8Array]"]=h["[object Int16Array]"]=h["[object Int32Array]"]=h["[object Uint8Array]"]=h["[object Uint8ClampedArray]"]=h["[object Uint16Array]"]=h["[object Uint32Array]"]=!0,h[a]=h["[object Array]"]=h["[object ArrayBuffer]"]=h["[object Boolean]"]=h["[object DataView]"]=h["[object Date]"]=h["[object Error]"]=h["[object Function]"]=h[o]=h["[object Number]"]=h[l]=h["[object RegExp]"]=h[c]=h["[object String]"]=h["[object WeakMap]"]=!1;var f=typeof i=="object"&&i&&i.Object===Object&&i,m=typeof self=="object"&&self&&self.Object===Object&&self,g=f||m||Function("return this")(),p=typeof s=="object"&&s&&!s.nodeType&&s,v=p&&typeof n=="object"&&n&&!n.nodeType&&n,y=v&&v.exports===p,b=y&&f.process,E=function(){try{return b&&b.binding&&b.binding("util")}catch{}}(),N=E&&E.isTypedArray;function j(We,Qe){for(var ht=-1,ue=We==null?0:We.length;++ht<ue;)if(Qe(We[ht],ht,We))return!0;return!1}function D(We){var Qe=-1,ht=Array(We.size);return We.forEach(function(ue,Pe){ht[++Qe]=[Pe,ue]}),ht}function C(We){var Qe=-1,ht=Array(We.size);return We.forEach(function(ue){ht[++Qe]=ue}),ht}var I,V,B,P=Array.prototype,k=Function.prototype,M=Object.prototype,A=g["__core-js_shared__"],w=k.toString,S=M.hasOwnProperty,_=(I=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+I:"",x=M.toString,R=RegExp("^"+w.call(S).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),W=y?g.Buffer:void 0,T=g.Symbol,z=g.Uint8Array,q=M.propertyIsEnumerable,Y=P.splice,U=T?T.toStringTag:void 0,Q=Object.getOwnPropertySymbols,F=W?W.isBuffer:void 0,O=(V=Object.keys,B=Object,function(We){return V(B(We))}),K=Xe(g,"DataView"),ne=Xe(g,"Map"),ee=Xe(g,"Promise"),ie=Xe(g,"Set"),he=Xe(g,"WeakMap"),ce=Xe(Object,"create"),te=pt(K),se=pt(ne),ge=pt(ee),de=pt(ie),Te=pt(he),De=T?T.prototype:void 0,_e=De?De.valueOf:void 0;function fe(We){var Qe=-1,ht=We==null?0:We.length;for(this.clear();++Qe<ht;){var ue=We[Qe];this.set(ue[0],ue[1])}}function ae(We){var Qe=-1,ht=We==null?0:We.length;for(this.clear();++Qe<ht;){var ue=We[Qe];this.set(ue[0],ue[1])}}function ve(We){var Qe=-1,ht=We==null?0:We.length;for(this.clear();++Qe<ht;){var ue=We[Qe];this.set(ue[0],ue[1])}}function Ee(We){var Qe=-1,ht=We==null?0:We.length;for(this.__data__=new ve;++Qe<ht;)this.add(We[Qe])}function Fe(We){var Qe=this.__data__=new ae(We);this.size=Qe.size}function Ue(We,Qe){var ht=gt(We),ue=!ht&&mt(We),Pe=!ht&&!ue&&ft(We),ye=!ht&&!ue&&!Pe&&er(We),ke=ht||ue||Pe||ye,Re=ke?function(st,tt){for(var ct=-1,ot=Array(st);++ct<st;)ot[ct]=tt(ct);return ot}(We.length,String):[],Ie=Re.length;for(var Ye in We)!S.call(We,Ye)||ke&&(Ye=="length"||Pe&&(Ye=="offset"||Ye=="parent")||ye&&(Ye=="buffer"||Ye=="byteLength"||Ye=="byteOffset")||xt(Ye,Ie))||Re.push(Ye);return Re}function Ge(We,Qe){for(var ht=We.length;ht--;)if(wt(We[ht][0],Qe))return ht;return-1}function Ve(We){return We==null?We===void 0?"[object Undefined]":"[object Null]":U&&U in Object(We)?function(Qe){var ht=S.call(Qe,U),ue=Qe[U];try{Qe[U]=void 0;var Pe=!0}catch{}var ye=x.call(Qe);return Pe&&(ht?Qe[U]=ue:delete Qe[U]),ye}(We):function(Qe){return x.call(Qe)}(We)}function ze(We){return _t(We)&&Ve(We)==a}function Ke(We,Qe,ht,ue,Pe){return We===Qe||(We==null||Qe==null||!_t(We)&&!_t(Qe)?We!=We&&Qe!=Qe:function(ye,ke,Re,Ie,Ye,st){var tt=gt(ye),ct=gt(ke),ot=tt?"[object Array]":et(ye),At=ct?"[object Array]":et(ke),Ot=(ot=ot==a?l:ot)==l,Vt=(At=At==a?l:At)==l,Se=ot==At;if(Se&&ft(ye)){if(!ft(ke))return!1;tt=!0,Ot=!1}if(Se&&!Ot)return st||(st=new Fe),tt||er(ye)?He(ye,ke,Re,Ie,Ye,st):function(Tt,jt,pr,rr,sr,Qt,mr){switch(pr){case"[object DataView]":if(Tt.byteLength!=jt.byteLength||Tt.byteOffset!=jt.byteOffset)return!1;Tt=Tt.buffer,jt=jt.buffer;case"[object ArrayBuffer]":return!(Tt.byteLength!=jt.byteLength||!Qt(new z(Tt),new z(jt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return wt(+Tt,+jt);case"[object Error]":return Tt.name==jt.name&&Tt.message==jt.message;case"[object RegExp]":case"[object String]":return Tt==jt+"";case o:var nr=D;case c:var Rr=1&rr;if(nr||(nr=C),Tt.size!=jt.size&&!Rr)return!1;var Kr=mr.get(Tt);if(Kr)return Kr==jt;rr|=2,mr.set(Tt,jt);var yn=He(nr(Tt),nr(jt),rr,sr,Qt,mr);return mr.delete(Tt),yn;case"[object Symbol]":if(_e)return _e.call(Tt)==_e.call(jt)}return!1}(ye,ke,ot,Re,Ie,Ye,st);if(!(1&Re)){var qe=Ot&&S.call(ye,"__wrapped__"),dt=Vt&&S.call(ke,"__wrapped__");if(qe||dt){var St=qe?ye.value():ye,Bt=dt?ke.value():ke;return st||(st=new Fe),Ye(St,Bt,Re,Ie,st)}}return Se?(st||(st=new Fe),function(Tt,jt,pr,rr,sr,Qt){var mr=1&pr,nr=Me(Tt),Rr=nr.length,Kr=Me(jt).length;if(Rr!=Kr&&!mr)return!1;for(var yn=Rr;yn--;){var An=nr[yn];if(!(mr?An in jt:S.call(jt,An)))return!1}var gs=Qt.get(Tt);if(gs&&Qt.get(jt))return gs==jt;var In=!0;Qt.set(Tt,jt),Qt.set(jt,Tt);for(var di=mr;++yn<Rr;){An=nr[yn];var tn=Tt[An],Pn=jt[An];if(rr)var Dr=mr?rr(Pn,tn,An,jt,Tt,Qt):rr(tn,Pn,An,Tt,jt,Qt);if(!(Dr===void 0?tn===Pn||sr(tn,Pn,pr,rr,Qt):Dr)){In=!1;break}di||(di=An=="constructor")}if(In&&!di){var Ar=Tt.constructor,Hs=jt.constructor;Ar==Hs||!("constructor"in Tt)||!("constructor"in jt)||typeof Ar=="function"&&Ar instanceof Ar&&typeof Hs=="function"&&Hs instanceof Hs||(In=!1)}return Qt.delete(Tt),Qt.delete(jt),In}(ye,ke,Re,Ie,Ye,st)):!1}(We,Qe,ht,ue,Ke,Pe))}function be(We){return!(!$t(We)||function(Qe){return!!_&&_ in Qe}(We))&&(Nt(We)?R:u).test(pt(We))}function Be(We){if(ht=(Qe=We)&&Qe.constructor,ue=typeof ht=="function"&&ht.prototype||M,Qe!==ue)return O(We);var Qe,ht,ue,Pe=[];for(var ye in Object(We))S.call(We,ye)&&ye!="constructor"&&Pe.push(ye);return Pe}function He(We,Qe,ht,ue,Pe,ye){var ke=1&ht,Re=We.length,Ie=Qe.length;if(Re!=Ie&&!(ke&&Ie>Re))return!1;var Ye=ye.get(We);if(Ye&&ye.get(Qe))return Ye==Qe;var st=-1,tt=!0,ct=2&ht?new Ee:void 0;for(ye.set(We,Qe),ye.set(Qe,We);++st<Re;){var ot=We[st],At=Qe[st];if(ue)var Ot=ke?ue(At,ot,st,Qe,We,ye):ue(ot,At,st,We,Qe,ye);if(Ot!==void 0){if(Ot)continue;tt=!1;break}if(ct){if(!j(Qe,function(Vt,Se){if(qe=Se,!ct.has(qe)&&(ot===Vt||Pe(ot,Vt,ht,ue,ye)))return ct.push(Se);var qe})){tt=!1;break}}else if(ot!==At&&!Pe(ot,At,ht,ue,ye)){tt=!1;break}}return ye.delete(We),ye.delete(Qe),tt}function Me(We){return function(Qe,ht,ue){var Pe=ht(Qe);return gt(Qe)?Pe:function(ye,ke){for(var Re=-1,Ie=ke.length,Ye=ye.length;++Re<Ie;)ye[Ye+Re]=ke[Re];return ye}(Pe,ue(Qe))}(We,Gt,Je)}function Le(We,Qe){var ht,ue,Pe=We.__data__;return((ue=typeof(ht=Qe))=="string"||ue=="number"||ue=="symbol"||ue=="boolean"?ht!=="__proto__":ht===null)?Pe[typeof Qe=="string"?"string":"hash"]:Pe.map}function Xe(We,Qe){var ht=function(ue,Pe){return ue==null?void 0:ue[Pe]}(We,Qe);return be(ht)?ht:void 0}fe.prototype.clear=function(){this.__data__=ce?ce(null):{},this.size=0},fe.prototype.delete=function(We){var Qe=this.has(We)&&delete this.__data__[We];return this.size-=Qe?1:0,Qe},fe.prototype.get=function(We){var Qe=this.__data__;if(ce){var ht=Qe[We];return ht==="__lodash_hash_undefined__"?void 0:ht}return S.call(Qe,We)?Qe[We]:void 0},fe.prototype.has=function(We){var Qe=this.__data__;return ce?Qe[We]!==void 0:S.call(Qe,We)},fe.prototype.set=function(We,Qe){var ht=this.__data__;return this.size+=this.has(We)?0:1,ht[We]=ce&&Qe===void 0?"__lodash_hash_undefined__":Qe,this},ae.prototype.clear=function(){this.__data__=[],this.size=0},ae.prototype.delete=function(We){var Qe=this.__data__,ht=Ge(Qe,We);return!(ht<0)&&(ht==Qe.length-1?Qe.pop():Y.call(Qe,ht,1),--this.size,!0)},ae.prototype.get=function(We){var Qe=this.__data__,ht=Ge(Qe,We);return ht<0?void 0:Qe[ht][1]},ae.prototype.has=function(We){return Ge(this.__data__,We)>-1},ae.prototype.set=function(We,Qe){var ht=this.__data__,ue=Ge(ht,We);return ue<0?(++this.size,ht.push([We,Qe])):ht[ue][1]=Qe,this},ve.prototype.clear=function(){this.size=0,this.__data__={hash:new fe,map:new(ne||ae),string:new fe}},ve.prototype.delete=function(We){var Qe=Le(this,We).delete(We);return this.size-=Qe?1:0,Qe},ve.prototype.get=function(We){return Le(this,We).get(We)},ve.prototype.has=function(We){return Le(this,We).has(We)},ve.prototype.set=function(We,Qe){var ht=Le(this,We),ue=ht.size;return ht.set(We,Qe),this.size+=ht.size==ue?0:1,this},Ee.prototype.add=Ee.prototype.push=function(We){return this.__data__.set(We,"__lodash_hash_undefined__"),this},Ee.prototype.has=function(We){return this.__data__.has(We)},Fe.prototype.clear=function(){this.__data__=new ae,this.size=0},Fe.prototype.delete=function(We){var Qe=this.__data__,ht=Qe.delete(We);return this.size=Qe.size,ht},Fe.prototype.get=function(We){return this.__data__.get(We)},Fe.prototype.has=function(We){return this.__data__.has(We)},Fe.prototype.set=function(We,Qe){var ht=this.__data__;if(ht instanceof ae){var ue=ht.__data__;if(!ne||ue.length<199)return ue.push([We,Qe]),this.size=++ht.size,this;ht=this.__data__=new ve(ue)}return ht.set(We,Qe),this.size=ht.size,this};var Je=Q?function(We){return We==null?[]:(We=Object(We),function(Qe,ht){for(var ue=-1,Pe=Qe==null?0:Qe.length,ye=0,ke=[];++ue<Pe;){var Re=Qe[ue];ht(Re,ue,Qe)&&(ke[ye++]=Re)}return ke}(Q(We),function(Qe){return q.call(We,Qe)}))}:function(){return[]},et=Ve;function xt(We,Qe){return!!(Qe=Qe??9007199254740991)&&(typeof We=="number"||d.test(We))&&We>-1&&We%1==0&&We<Qe}function pt(We){if(We!=null){try{return w.call(We)}catch{}try{return We+""}catch{}}return""}function wt(We,Qe){return We===Qe||We!=We&&Qe!=Qe}(K&&et(new K(new ArrayBuffer(1)))!="[object DataView]"||ne&&et(new ne)!=o||ee&&et(ee.resolve())!="[object Promise]"||ie&&et(new ie)!=c||he&&et(new he)!="[object WeakMap]")&&(et=function(We){var Qe=Ve(We),ht=Qe==l?We.constructor:void 0,ue=ht?pt(ht):"";if(ue)switch(ue){case te:return"[object DataView]";case se:return o;case ge:return"[object Promise]";case de:return c;case Te:return"[object WeakMap]"}return Qe});var mt=ze(function(){return arguments}())?ze:function(We){return _t(We)&&S.call(We,"callee")&&!q.call(We,"callee")},gt=Array.isArray,ft=F||function(){return!1};function Nt(We){if(!$t(We))return!1;var Qe=Ve(We);return Qe=="[object Function]"||Qe=="[object GeneratorFunction]"||Qe=="[object AsyncFunction]"||Qe=="[object Proxy]"}function Ht(We){return typeof We=="number"&&We>-1&&We%1==0&&We<=9007199254740991}function $t(We){var Qe=typeof We;return We!=null&&(Qe=="object"||Qe=="function")}function _t(We){return We!=null&&typeof We=="object"}var er=N?function(We){return function(Qe){return We(Qe)}}(N):function(We){return _t(We)&&Ht(We.length)&&!!h[Ve(We)]};function Gt(We){return(Qe=We)!=null&&Ht(Qe.length)&&!Nt(Qe)?Ue(We):Be(We);var Qe}n.exports=function(We,Qe){return Ke(We,Qe)}}).call(this)}).call(this,typeof gr<"u"?gr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(t,n,s){(function(i){(function(){var a=typeof i=="object"&&i&&i.Object===Object&&i,o=typeof self=="object"&&self&&self.Object===Object&&self,l=a||o||Function("return this")(),c=Object.prototype,u=c.hasOwnProperty,d=c.toString,h=l.Symbol,f=h?h.toStringTag:void 0;function m(g){return g==null?g===void 0?"[object Undefined]":"[object Null]":f&&f in Object(g)?function(p){var v=u.call(p,f),y=p[f];try{p[f]=void 0;var b=!0}catch{}var E=d.call(p);return b&&(v?p[f]=y:delete p[f]),E}(g):function(p){return d.call(p)}(g)}n.exports=function(g){if(!function(v){var y=typeof v;return v!=null&&(y=="object"||y=="function")}(g))return!1;var p=m(g);return p=="[object Function]"||p=="[object GeneratorFunction]"||p=="[object AsyncFunction]"||p=="[object Proxy]"}}).call(this)}).call(this,typeof gr<"u"?gr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(t,n,s){n.exports=function(i){return i==null}},{}],448:[function(t,n,s){n.exports=function(i){return i===void 0}},{}],449:[function(t,n,s){(function(i){(function(){var a=/^\[object .+?Constructor\]$/,o=typeof i=="object"&&i&&i.Object===Object&&i,l=typeof self=="object"&&self&&self.Object===Object&&self,c=o||l||Function("return this")();function u(T,z){return!!(T&&T.length)&&function(q,Y,U){if(Y!=Y)return function(O,K,ne,ee){for(var ie=O.length,he=ne+-1;++he<ie;)if(K(O[he],he,O))return he;return-1}(q,d,U);for(var Q=U-1,F=q.length;++Q<F;)if(q[Q]===Y)return Q;return-1}(T,z,0)>-1}function d(T){return T!=T}function h(T,z){return T.has(z)}function f(T){var z=-1,q=Array(T.size);return T.forEach(function(Y){q[++z]=Y}),q}var m,g=Array.prototype,p=Function.prototype,v=Object.prototype,y=c["__core-js_shared__"],b=(m=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||""))?"Symbol(src)_1."+m:"",E=p.toString,N=v.hasOwnProperty,j=v.toString,D=RegExp("^"+E.call(N).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),C=g.splice,I=R(c,"Map"),V=R(c,"Set"),B=R(Object,"create");function P(T){var z=-1,q=T?T.length:0;for(this.clear();++z<q;){var Y=T[z];this.set(Y[0],Y[1])}}function k(T){var z=-1,q=T?T.length:0;for(this.clear();++z<q;){var Y=T[z];this.set(Y[0],Y[1])}}function M(T){var z=-1,q=T?T.length:0;for(this.clear();++z<q;){var Y=T[z];this.set(Y[0],Y[1])}}function A(T){var z=-1,q=T?T.length:0;for(this.__data__=new M;++z<q;)this.add(T[z])}function w(T,z){for(var q,Y,U=T.length;U--;)if((q=T[U][0])===(Y=z)||q!=q&&Y!=Y)return U;return-1}function S(T){return!(!W(T)||(z=T,b&&b in z))&&(function(q){var Y=W(q)?j.call(q):"";return Y=="[object Function]"||Y=="[object GeneratorFunction]"}(T)||function(q){var Y=!1;if(q!=null&&typeof q.toString!="function")try{Y=!!(q+"")}catch{}return Y}(T)?D:a).test(function(q){if(q!=null){try{return E.call(q)}catch{}try{return q+""}catch{}}return""}(T));var z}P.prototype.clear=function(){this.__data__=B?B(null):{}},P.prototype.delete=function(T){return this.has(T)&&delete this.__data__[T]},P.prototype.get=function(T){var z=this.__data__;if(B){var q=z[T];return q==="__lodash_hash_undefined__"?void 0:q}return N.call(z,T)?z[T]:void 0},P.prototype.has=function(T){var z=this.__data__;return B?z[T]!==void 0:N.call(z,T)},P.prototype.set=function(T,z){return this.__data__[T]=B&&z===void 0?"__lodash_hash_undefined__":z,this},k.prototype.clear=function(){this.__data__=[]},k.prototype.delete=function(T){var z=this.__data__,q=w(z,T);return!(q<0)&&(q==z.length-1?z.pop():C.call(z,q,1),!0)},k.prototype.get=function(T){var z=this.__data__,q=w(z,T);return q<0?void 0:z[q][1]},k.prototype.has=function(T){return w(this.__data__,T)>-1},k.prototype.set=function(T,z){var q=this.__data__,Y=w(q,T);return Y<0?q.push([T,z]):q[Y][1]=z,this},M.prototype.clear=function(){this.__data__={hash:new P,map:new(I||k),string:new P}},M.prototype.delete=function(T){return x(this,T).delete(T)},M.prototype.get=function(T){return x(this,T).get(T)},M.prototype.has=function(T){return x(this,T).has(T)},M.prototype.set=function(T,z){return x(this,T).set(T,z),this},A.prototype.add=A.prototype.push=function(T){return this.__data__.set(T,"__lodash_hash_undefined__"),this},A.prototype.has=function(T){return this.__data__.has(T)};var _=V&&1/f(new V([,-0]))[1]==1/0?function(T){return new V(T)}:function(){};function x(T,z){var q,Y,U=T.__data__;return((Y=typeof(q=z))=="string"||Y=="number"||Y=="symbol"||Y=="boolean"?q!=="__proto__":q===null)?U[typeof z=="string"?"string":"hash"]:U.map}function R(T,z){var q=function(Y,U){return Y==null?void 0:Y[U]}(T,z);return S(q)?q:void 0}function W(T){var z=typeof T;return!!T&&(z=="object"||z=="function")}n.exports=function(T){return T&&T.length?function(z,q,Y){var U=-1,Q=u,F=z.length,O=!0,K=[],ne=K;if(F>=200){var ee=_(z);if(ee)return f(ee);O=!1,Q=h,ne=new A}else ne=K;e:for(;++U<F;){var ie=z[U],he=ie;if(ie=ie!==0?ie:0,O&&he==he){for(var ce=ne.length;ce--;)if(ne[ce]===he)continue e;K.push(ie)}else Q(ne,he,Y)||(ne!==K&&ne.push(he),K.push(ie))}return K}(T):[]}}).call(this)}).call(this,typeof gr<"u"?gr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(t,n,s){var i=t("inherits"),a=t("hash-base"),o=t("safe-buffer").Buffer,l=new Array(16);function c(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(g,p){return g<<p|g>>>32-p}function d(g,p,v,y,b,E,N){return u(g+(p&v|~p&y)+b+E|0,N)+p|0}function h(g,p,v,y,b,E,N){return u(g+(p&y|v&~y)+b+E|0,N)+p|0}function f(g,p,v,y,b,E,N){return u(g+(p^v^y)+b+E|0,N)+p|0}function m(g,p,v,y,b,E,N){return u(g+(v^(p|~y))+b+E|0,N)+p|0}i(c,a),c.prototype._update=function(){for(var g=l,p=0;p<16;++p)g[p]=this._block.readInt32LE(4*p);var v=this._a,y=this._b,b=this._c,E=this._d;v=d(v,y,b,E,g[0],3614090360,7),E=d(E,v,y,b,g[1],3905402710,12),b=d(b,E,v,y,g[2],606105819,17),y=d(y,b,E,v,g[3],3250441966,22),v=d(v,y,b,E,g[4],4118548399,7),E=d(E,v,y,b,g[5],1200080426,12),b=d(b,E,v,y,g[6],2821735955,17),y=d(y,b,E,v,g[7],4249261313,22),v=d(v,y,b,E,g[8],1770035416,7),E=d(E,v,y,b,g[9],2336552879,12),b=d(b,E,v,y,g[10],4294925233,17),y=d(y,b,E,v,g[11],2304563134,22),v=d(v,y,b,E,g[12],1804603682,7),E=d(E,v,y,b,g[13],4254626195,12),b=d(b,E,v,y,g[14],2792965006,17),v=h(v,y=d(y,b,E,v,g[15],1236535329,22),b,E,g[1],4129170786,5),E=h(E,v,y,b,g[6],3225465664,9),b=h(b,E,v,y,g[11],643717713,14),y=h(y,b,E,v,g[0],3921069994,20),v=h(v,y,b,E,g[5],3593408605,5),E=h(E,v,y,b,g[10],38016083,9),b=h(b,E,v,y,g[15],3634488961,14),y=h(y,b,E,v,g[4],3889429448,20),v=h(v,y,b,E,g[9],568446438,5),E=h(E,v,y,b,g[14],3275163606,9),b=h(b,E,v,y,g[3],4107603335,14),y=h(y,b,E,v,g[8],1163531501,20),v=h(v,y,b,E,g[13],2850285829,5),E=h(E,v,y,b,g[2],4243563512,9),b=h(b,E,v,y,g[7],1735328473,14),v=f(v,y=h(y,b,E,v,g[12],2368359562,20),b,E,g[5],4294588738,4),E=f(E,v,y,b,g[8],2272392833,11),b=f(b,E,v,y,g[11],1839030562,16),y=f(y,b,E,v,g[14],4259657740,23),v=f(v,y,b,E,g[1],2763975236,4),E=f(E,v,y,b,g[4],1272893353,11),b=f(b,E,v,y,g[7],4139469664,16),y=f(y,b,E,v,g[10],3200236656,23),v=f(v,y,b,E,g[13],681279174,4),E=f(E,v,y,b,g[0],3936430074,11),b=f(b,E,v,y,g[3],3572445317,16),y=f(y,b,E,v,g[6],76029189,23),v=f(v,y,b,E,g[9],3654602809,4),E=f(E,v,y,b,g[12],3873151461,11),b=f(b,E,v,y,g[15],530742520,16),v=m(v,y=f(y,b,E,v,g[2],3299628645,23),b,E,g[0],4096336452,6),E=m(E,v,y,b,g[7],1126891415,10),b=m(b,E,v,y,g[14],2878612391,15),y=m(y,b,E,v,g[5],4237533241,21),v=m(v,y,b,E,g[12],1700485571,6),E=m(E,v,y,b,g[3],2399980690,10),b=m(b,E,v,y,g[10],4293915773,15),y=m(y,b,E,v,g[1],2240044497,21),v=m(v,y,b,E,g[8],1873313359,6),E=m(E,v,y,b,g[15],4264355552,10),b=m(b,E,v,y,g[6],2734768916,15),y=m(y,b,E,v,g[13],1309151649,21),v=m(v,y,b,E,g[4],4149444226,6),E=m(E,v,y,b,g[11],3174756917,10),b=m(b,E,v,y,g[2],718787259,15),y=m(y,b,E,v,g[9],3951481745,21),this._a=this._a+v|0,this._b=this._b+y|0,this._c=this._c+b|0,this._d=this._d+E|0},c.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var g=o.allocUnsafe(16);return g.writeInt32LE(this._a,0),g.writeInt32LE(this._b,4),g.writeInt32LE(this._c,8),g.writeInt32LE(this._d,12),g},n.exports=c},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(t,n,s){var i=t("bn.js"),a=t("brorand");function o(l){this.rand=l||new a.Rand}n.exports=o,o.create=function(l){return new o(l)},o.prototype._randbelow=function(l){var c=l.bitLength(),u=Math.ceil(c/8);do var d=new i(this.rand.generate(u));while(d.cmp(l)>=0);return d},o.prototype._randrange=function(l,c){var u=c.sub(l);return l.add(this._randbelow(u))},o.prototype.test=function(l,c,u){var d=l.bitLength(),h=i.mont(l),f=new i(1).toRed(h);c||(c=Math.max(1,d/48|0));for(var m=l.subn(1),g=0;!m.testn(g);g++);for(var p=l.shrn(g),v=m.toRed(h);c>0;c--){var y=this._randrange(new i(2),m);u&&u(y);var b=y.toRed(h).redPow(p);if(b.cmp(f)!==0&&b.cmp(v)!==0){for(var E=1;E<g;E++){if((b=b.redSqr()).cmp(f)===0)return!1;if(b.cmp(v)===0)break}if(E===g)return!1}}return!0},o.prototype.getDivisor=function(l,c){var u=l.bitLength(),d=i.mont(l),h=new i(1).toRed(d);c||(c=Math.max(1,u/48|0));for(var f=l.subn(1),m=0;!f.testn(m);m++);for(var g=l.shrn(m),p=f.toRed(d);c>0;c--){var v=this._randrange(new i(2),f),y=l.gcd(v);if(y.cmpn(1)!==0)return y;var b=v.toRed(d).redPow(g);if(b.cmp(h)!==0&&b.cmp(p)!==0){for(var E=1;E<m;E++){if((b=b.redSqr()).cmp(h)===0)return b.fromRed().subn(1).gcd(l);if(b.cmp(p)===0)break}if(E===m)return(b=b.redSqr()).fromRed().subn(1).gcd(l)}}return!1}},{"bn.js":452,brorand:187}],452:[function(t,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],453:[function(t,n,s){function i(a,o){if(!a)throw new Error(o||"Assertion failed")}n.exports=i,i.equal=function(a,o,l){if(a!=o)throw new Error(l||"Assertion failed: "+a+" != "+o)}},{}],454:[function(t,n,s){var i=s;function a(l){return l.length===1?"0"+l:l}function o(l){for(var c="",u=0;u<l.length;u++)c+=a(l[u].toString(16));return c}i.toArray=function(l,c){if(Array.isArray(l))return l.slice();if(!l)return[];var u=[];if(typeof l!="string"){for(var d=0;d<l.length;d++)u[d]=0|l[d];return u}if(c==="hex")for((l=l.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(l="0"+l),d=0;d<l.length;d+=2)u.push(parseInt(l[d]+l[d+1],16));else for(d=0;d<l.length;d++){var h=l.charCodeAt(d),f=h>>8,m=255&h;f?u.push(f,m):u.push(m)}return u},i.zero2=a,i.toHex=o,i.encode=function(l,c){return c==="hex"?o(l):l}},{}],455:[function(t,n,s){n.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(t,n,s){var i=t("asn1.js");s.certificate=t("./certificate");var a=i.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});s.RSAPrivateKey=a;var o=i.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});s.RSAPublicKey=o;var l=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(c),this.key("subjectPublicKey").bitstr())});s.PublicKey=l;var c=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),u=i.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(c),this.key("subjectPrivateKey").octstr())});s.PrivateKey=u;var d=i.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});s.EncryptedPrivateKey=d;var h=i.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});s.DSAPrivateKey=h,s.DSAparam=i.define("DSAparam",function(){this.int()});var f=i.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(m),this.key("publicKey").optional().explicit(1).bitstr())});s.ECPrivateKey=f;var m=i.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});s.signature=i.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(t,n,s){var i=t("asn1.js"),a=i.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),o=i.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),l=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),c=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(l),this.key("subjectPublicKey").bitstr())}),u=i.define("RelativeDistinguishedName",function(){this.setof(o)}),d=i.define("RDNSequence",function(){this.seqof(u)}),h=i.define("Name",function(){this.choice({rdnSequence:this.use(d)})}),f=i.define("Validity",function(){this.seq().obj(this.key("notBefore").use(a),this.key("notAfter").use(a))}),m=i.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),g=i.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(l),this.key("issuer").use(h),this.key("validity").use(f),this.key("subject").use(h),this.key("subjectPublicKeyInfo").use(c),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(m).optional())}),p=i.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(g),this.key("signatureAlgorithm").use(l),this.key("signatureValue").bitstr())});n.exports=p},{"asn1.js":170}],458:[function(t,n,s){var i=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,l=t("evp_bytestokey"),c=t("browserify-aes"),u=t("safe-buffer").Buffer;n.exports=function(d,h){var f,m=d.toString(),g=m.match(i);if(g){var p="aes"+g[1],v=u.from(g[2],"hex"),y=u.from(g[3].replace(/[\r\n]/g,""),"base64"),b=l(h,v.slice(0,8),parseInt(g[1],10)).key,E=[],N=c.createDecipheriv(p,b,v);E.push(N.update(y)),E.push(N.final()),f=u.concat(E)}else{var j=m.match(o);f=u.from(j[2].replace(/[\r\n]/g,""),"base64")}return{tag:m.match(a)[1],data:f}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(t,n,s){var i=t("./asn1"),a=t("./aesid.json"),o=t("./fixProc"),l=t("browserify-aes"),c=t("pbkdf2"),u=t("safe-buffer").Buffer;function d(h){var f;typeof h!="object"||u.isBuffer(h)||(f=h.passphrase,h=h.key),typeof h=="string"&&(h=u.from(h));var m,g,p=o(h,f),v=p.tag,y=p.data;switch(v){case"CERTIFICATE":g=i.certificate.decode(y,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(g||(g=i.PublicKey.decode(y,"der")),m=g.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(g.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return g.subjectPrivateKey=g.subjectPublicKey,{type:"ec",data:g};case"1.2.840.10040.4.1":return g.algorithm.params.pub_key=i.DSAparam.decode(g.subjectPublicKey.data,"der"),{type:"dsa",data:g.algorithm.params};default:throw new Error("unknown key id "+m)}case"ENCRYPTED PRIVATE KEY":y=function(b,E){var N=b.algorithm.decrypt.kde.kdeparams.salt,j=parseInt(b.algorithm.decrypt.kde.kdeparams.iters.toString(),10),D=a[b.algorithm.decrypt.cipher.algo.join(".")],C=b.algorithm.decrypt.cipher.iv,I=b.subjectPrivateKey,V=parseInt(D.split("-")[1],10)/8,B=c.pbkdf2Sync(E,N,j,V,"sha1"),P=l.createDecipheriv(D,B,C),k=[];return k.push(P.update(I)),k.push(P.final()),u.concat(k)}(y=i.EncryptedPrivateKey.decode(y,"der"),f);case"PRIVATE KEY":switch(m=(g=i.PrivateKey.decode(y,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(g.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:g.algorithm.curve,privateKey:i.ECPrivateKey.decode(g.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return g.algorithm.params.priv_key=i.DSAparam.decode(g.subjectPrivateKey,"der"),{type:"dsa",params:g.algorithm.params};default:throw new Error("unknown key id "+m)}case"RSA PUBLIC KEY":return i.RSAPublicKey.decode(y,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode(y,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode(y,"der")};case"EC PRIVATE KEY":return{curve:(y=i.ECPrivateKey.decode(y,"der")).parameters.value,privateKey:y.privateKey};default:throw new Error("unknown key type "+v)}}n.exports=d,d.signature=i.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(t,n,s){s.pbkdf2=t("./lib/async"),s.pbkdf2Sync=t("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(t,n,s){(function(i){(function(){var a,o,l=t("safe-buffer").Buffer,c=t("./precondition"),u=t("./default-encoding"),d=t("./sync"),h=t("./to-buffer"),f=i.crypto&&i.crypto.subtle,m={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},g=[];function p(){return o||(o=i.process&&i.process.nextTick?i.process.nextTick:i.queueMicrotask?i.queueMicrotask:i.setImmediate?i.setImmediate:i.setTimeout)}function v(y,b,E,N,j){return f.importKey("raw",y,{name:"PBKDF2"},!1,["deriveBits"]).then(function(D){return f.deriveBits({name:"PBKDF2",salt:b,iterations:E,hash:{name:j}},D,N<<3)}).then(function(D){return l.from(D)})}n.exports=function(y,b,E,N,j,D){typeof j=="function"&&(D=j,j=void 0);var C=m[(j=j||"sha1").toLowerCase()];if(C&&typeof i.Promise=="function"){if(c(E,N),y=h(y,u,"Password"),b=h(b,u,"Salt"),typeof D!="function")throw new Error("No callback provided to pbkdf2");(function(I,V){I.then(function(B){p()(function(){V(null,B)})},function(B){p()(function(){V(B)})})})(function(I){if(i.process&&!i.process.browser||!f||!f.importKey||!f.deriveBits)return Promise.resolve(!1);if(g[I]!==void 0)return g[I];var V=v(a=a||l.alloc(8),a,10,128,I).then(function(){return!0}).catch(function(){return!1});return g[I]=V,V}(C).then(function(I){return I?v(y,b,E,N,C):d(y,b,E,N,j)}),D)}else p()(function(){var I;try{I=d(y,b,E,N,j)}catch(V){return D(V)}D(null,I)})}}).call(this)}).call(this,typeof gr<"u"?gr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(t,n,s){(function(i,a){(function(){var o;a.process&&a.process.browser?o="utf-8":a.process&&a.process.version?o=parseInt(i.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":o="utf-8",n.exports=o}).call(this)}).call(this,t("_process"),typeof gr<"u"?gr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(t,n,s){var i=Math.pow(2,30)-1;n.exports=function(a,o){if(typeof a!="number")throw new TypeError("Iterations not a number");if(a<0)throw new TypeError("Bad iterations");if(typeof o!="number")throw new TypeError("Key length not a number");if(o<0||o>i||o!=o)throw new TypeError("Bad key length")}},{}],464:[function(t,n,s){var i=t("create-hash/md5"),a=t("ripemd160"),o=t("sha.js"),l=t("safe-buffer").Buffer,c=t("./precondition"),u=t("./default-encoding"),d=t("./to-buffer"),h=l.alloc(128),f={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function m(g,p,v){var y=function(C){function I(V){return o(C).update(V).digest()}return C==="rmd160"||C==="ripemd160"?function(V){return new a().update(V).digest()}:C==="md5"?i:I}(g),b=g==="sha512"||g==="sha384"?128:64;p.length>b?p=y(p):p.length<b&&(p=l.concat([p,h],b));for(var E=l.allocUnsafe(b+f[g]),N=l.allocUnsafe(b+f[g]),j=0;j<b;j++)E[j]=54^p[j],N[j]=92^p[j];var D=l.allocUnsafe(b+v+4);E.copy(D,0,0,b),this.ipad1=D,this.ipad2=E,this.opad=N,this.alg=g,this.blocksize=b,this.hash=y,this.size=f[g]}m.prototype.run=function(g,p){return g.copy(p,this.blocksize),this.hash(p).copy(this.opad,this.blocksize),this.hash(this.opad)},n.exports=function(g,p,v,y,b){c(v,y);var E=new m(b=b||"sha1",g=d(g,u,"Password"),(p=d(p,u,"Salt")).length),N=l.allocUnsafe(y),j=l.allocUnsafe(p.length+4);p.copy(j,0,0,p.length);for(var D=0,C=f[b],I=Math.ceil(y/C),V=1;V<=I;V++){j.writeUInt32BE(V,p.length);for(var B=E.run(j,E.ipad1),P=B,k=1;k<v;k++){P=E.run(P,E.ipad2);for(var M=0;M<C;M++)B[M]^=P[M]}B.copy(N,D),D+=C}return N}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(t,n,s){var i=t("safe-buffer").Buffer;n.exports=function(a,o,l){if(i.isBuffer(a))return a;if(typeof a=="string")return i.from(a,o);if(ArrayBuffer.isView(a))return i.from(a.buffer);throw new TypeError(l+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(t,n,s){(function(i){(function(){i===void 0||!i.version||i.version.indexOf("v0.")===0||i.version.indexOf("v1.")===0&&i.version.indexOf("v1.8.")!==0?n.exports={nextTick:function(a,o,l,c){if(typeof a!="function")throw new TypeError('"callback" argument must be a function');var u,d,h=arguments.length;switch(h){case 0:case 1:return i.nextTick(a);case 2:return i.nextTick(function(){a.call(null,o)});case 3:return i.nextTick(function(){a.call(null,o,l)});case 4:return i.nextTick(function(){a.call(null,o,l,c)});default:for(u=new Array(h-1),d=0;d<u.length;)u[d++]=arguments[d];return i.nextTick(function(){a.apply(null,u)})}}}:n.exports=i}).call(this)}).call(this,t("_process"))},{_process:467}],467:[function(t,n,s){var i,a,o=n.exports={};function l(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function u(b){if(i===setTimeout)return setTimeout(b,0);if((i===l||!i)&&setTimeout)return i=setTimeout,setTimeout(b,0);try{return i(b,0)}catch{try{return i.call(null,b,0)}catch{return i.call(this,b,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:l}catch{i=l}try{a=typeof clearTimeout=="function"?clearTimeout:c}catch{a=c}})();var d,h=[],f=!1,m=-1;function g(){f&&d&&(f=!1,d.length?h=d.concat(h):m=-1,h.length&&p())}function p(){if(!f){var b=u(g);f=!0;for(var E=h.length;E;){for(d=h,h=[];++m<E;)d&&d[m].run();m=-1,E=h.length}d=null,f=!1,function(N){if(a===clearTimeout)return clearTimeout(N);if((a===c||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(N);try{a(N)}catch{try{return a.call(null,N)}catch{return a.call(this,N)}}}(b)}}function v(b,E){this.fun=b,this.array=E}function y(){}o.nextTick=function(b){var E=new Array(arguments.length-1);if(arguments.length>1)for(var N=1;N<arguments.length;N++)E[N-1]=arguments[N];h.push(new v(b,E)),h.length!==1||f||u(p)},v.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(b){return[]},o.binding=function(b){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(b){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],468:[function(t,n,s){s.publicEncrypt=t("./publicEncrypt"),s.privateDecrypt=t("./privateDecrypt"),s.privateEncrypt=function(i,a){return s.publicEncrypt(i,a,!0)},s.publicDecrypt=function(i,a){return s.privateDecrypt(i,a,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(t,n,s){var i=t("create-hash"),a=t("safe-buffer").Buffer;function o(l){var c=a.allocUnsafe(4);return c.writeUInt32BE(l,0),c}n.exports=function(l,c){for(var u,d=a.alloc(0),h=0;d.length<c;)u=o(h++),d=a.concat([d,i("sha1").update(l).update(u).digest()]);return d.slice(0,c)}},{"create-hash":386,"safe-buffer":494}],470:[function(t,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],471:[function(t,n,s){var i=t("parse-asn1"),a=t("./mgf"),o=t("./xor"),l=t("bn.js"),c=t("browserify-rsa"),u=t("create-hash"),d=t("./withPublic"),h=t("safe-buffer").Buffer;n.exports=function(f,m,g){var p;p=f.padding?f.padding:g?1:4;var v,y=i(f),b=y.modulus.byteLength();if(m.length>b||new l(m).cmp(y.modulus)>=0)throw new Error("decryption error");v=g?d(new l(m),y):c(m,y);var E=h.alloc(b-v.length);if(v=h.concat([E,v],b),p===4)return function(N,j){var D=N.modulus.byteLength(),C=u("sha1").update(h.alloc(0)).digest(),I=C.length;if(j[0]!==0)throw new Error("decryption error");var V=j.slice(1,I+1),B=j.slice(I+1),P=o(V,a(B,I)),k=o(B,a(P,D-I-1));if(function(A,w){A=h.from(A),w=h.from(w);var S=0,_=A.length;A.length!==w.length&&(S++,_=Math.min(A.length,w.length));for(var x=-1;++x<_;)S+=A[x]^w[x];return S}(C,k.slice(0,I)))throw new Error("decryption error");for(var M=I;k[M]===0;)M++;if(k[M++]!==1)throw new Error("decryption error");return k.slice(M)}(y,v);if(p===1)return function(N,j,D){for(var C=j.slice(0,2),I=2,V=0;j[I++]!==0;)if(I>=j.length){V++;break}var B=j.slice(2,I-1);if((C.toString("hex")!=="0002"&&!D||C.toString("hex")!=="0001"&&D)&&V++,B.length<8&&V++,V)throw new Error("decryption error");return j.slice(I)}(0,v,g);if(p===3)return v;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(t,n,s){var i=t("parse-asn1"),a=t("randombytes"),o=t("create-hash"),l=t("./mgf"),c=t("./xor"),u=t("bn.js"),d=t("./withPublic"),h=t("browserify-rsa"),f=t("safe-buffer").Buffer;n.exports=function(m,g,p){var v;v=m.padding?m.padding:p?1:4;var y,b=i(m);if(v===4)y=function(E,N){var j=E.modulus.byteLength(),D=N.length,C=o("sha1").update(f.alloc(0)).digest(),I=C.length,V=2*I;if(D>j-V-2)throw new Error("message too long");var B=f.alloc(j-D-V-2),P=j-I-1,k=a(I),M=c(f.concat([C,B,f.alloc(1,1),N],P),l(k,P)),A=c(k,l(M,I));return new u(f.concat([f.alloc(1),A,M],j))}(b,g);else if(v===1)y=function(E,N,j){var D,C=N.length,I=E.modulus.byteLength();if(C>I-11)throw new Error("message too long");return D=j?f.alloc(I-C-3,255):function(V){for(var B,P=f.allocUnsafe(V),k=0,M=a(2*V),A=0;k<V;)A===M.length&&(M=a(2*V),A=0),(B=M[A++])&&(P[k++]=B);return P}(I-C-3),new u(f.concat([f.from([0,j?1:2]),D,f.alloc(1),N],I))}(b,g,p);else{if(v!==3)throw new Error("unknown padding");if((y=new u(g)).cmp(b.modulus)>=0)throw new Error("data too long for modulus")}return p?h(y,b):d(y,b)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(t,n,s){var i=t("bn.js"),a=t("safe-buffer").Buffer;n.exports=function(o,l){return a.from(o.toRed(i.mont(l.modulus)).redPow(new i(l.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(t,n,s){n.exports=function(i,a){for(var o=i.length,l=-1;++l<o;)i[l]^=a[l];return i}},{}],475:[function(t,n,s){(function(i,a){(function(){var o=t("safe-buffer").Buffer,l=a.crypto||a.msCrypto;l&&l.getRandomValues?n.exports=function(c,u){if(c>4294967295)throw new RangeError("requested too many random bytes");var d=o.allocUnsafe(c);if(c>0)if(c>65536)for(var h=0;h<c;h+=65536)l.getRandomValues(d.slice(h,h+65536));else l.getRandomValues(d);return typeof u=="function"?i.nextTick(function(){u(null,d)}):d}:n.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,t("_process"),typeof gr<"u"?gr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(t,n,s){(function(i,a){(function(){function o(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var l=t("safe-buffer"),c=t("randombytes"),u=l.Buffer,d=l.kMaxLength,h=a.crypto||a.msCrypto,f=Math.pow(2,32)-1;function m(v,y){if(typeof v!="number"||v!=v)throw new TypeError("offset must be a number");if(v>f||v<0)throw new TypeError("offset must be a uint32");if(v>d||v>y)throw new RangeError("offset out of range")}function g(v,y,b){if(typeof v!="number"||v!=v)throw new TypeError("size must be a number");if(v>f||v<0)throw new TypeError("size must be a uint32");if(v+y>b||v>d)throw new RangeError("buffer too small")}function p(v,y,b,E){if(i.browser){var N=v.buffer,j=new Uint8Array(N,y,b);return h.getRandomValues(j),E?void i.nextTick(function(){E(null,v)}):v}if(!E)return c(b).copy(v,y),v;c(b,function(D,C){if(D)return E(D);C.copy(v,y),E(null,v)})}h&&h.getRandomValues||!i.browser?(s.randomFill=function(v,y,b,E){if(!(u.isBuffer(v)||v instanceof a.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof y=="function")E=y,y=0,b=v.length;else if(typeof b=="function")E=b,b=v.length-y;else if(typeof E!="function")throw new TypeError('"cb" argument must be a function');return m(y,v.length),g(b,y,v.length),p(v,y,b,E)},s.randomFillSync=function(v,y,b){if(y===void 0&&(y=0),!(u.isBuffer(v)||v instanceof a.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return m(y,v.length),b===void 0&&(b=v.length-y),g(b,y,v.length),p(v,y,b)}):(s.randomFill=o,s.randomFillSync=o)}).call(this)}).call(this,t("_process"),typeof gr<"u"?gr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(t,n,s){var i={};function a(l,c,u){u||(u=Error);var d=function(h){var f,m;function g(p,v,y){return h.call(this,function(b,E,N){return typeof c=="string"?c:c(b,E,N)}(p,v,y))||this}return m=h,(f=g).prototype=Object.create(m.prototype),f.prototype.constructor=f,f.__proto__=m,g}(u);d.prototype.name=u.name,d.prototype.code=l,i[l]=d}function o(l,c){if(Array.isArray(l)){var u=l.length;return l=l.map(function(d){return String(d)}),u>2?"one of ".concat(c," ").concat(l.slice(0,u-1).join(", "),", or ")+l[u-1]:u===2?"one of ".concat(c," ").concat(l[0]," or ").concat(l[1]):"of ".concat(c," ").concat(l[0])}return"of ".concat(c," ").concat(String(l))}a("ERR_INVALID_OPT_VALUE",function(l,c){return'The value "'+c+'" is invalid for option "'+l+'"'},TypeError),a("ERR_INVALID_ARG_TYPE",function(l,c,u){var d,h,f;if(typeof c=="string"&&(h="not ",c.substr(0,h.length)===h)?(d="must not be",c=c.replace(/^not /,"")):d="must be",function(g,p,v){return(v===void 0||v>g.length)&&(v=g.length),g.substring(v-p.length,v)===p}(l," argument"))f="The ".concat(l," ").concat(d," ").concat(o(c,"type"));else{var m=function(g,p,v){return typeof v!="number"&&(v=0),!(v+p.length>g.length)&&g.indexOf(p,v)!==-1}(l,".")?"property":"argument";f='The "'.concat(l,'" ').concat(m," ").concat(d," ").concat(o(c,"type"))}return f+=". Received type ".concat(typeof u)},TypeError),a("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),a("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),a("ERR_STREAM_PREMATURE_CLOSE","Premature close"),a("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),a("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),a("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),a("ERR_STREAM_WRITE_AFTER_END","write after end"),a("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),a("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),a("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),n.exports.codes=i},{}],478:[function(t,n,s){(function(i){(function(){var a=Object.keys||function(g){var p=[];for(var v in g)p.push(v);return p};n.exports=h;var o=t("./_stream_readable"),l=t("./_stream_writable");t("inherits")(h,o);for(var c=a(l.prototype),u=0;u<c.length;u++){var d=c[u];h.prototype[d]||(h.prototype[d]=l.prototype[d])}function h(g){if(!(this instanceof h))return new h(g);o.call(this,g),l.call(this,g),this.allowHalfOpen=!0,g&&(g.readable===!1&&(this.readable=!1),g.writable===!1&&(this.writable=!1),g.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||i.nextTick(m,this)}function m(g){g.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=g,this._writableState.destroyed=g)}})}).call(this)}).call(this,t("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(t,n,s){n.exports=a;var i=t("./_stream_transform");function a(o){if(!(this instanceof a))return new a(o);i.call(this,o)}t("inherits")(a,i),a.prototype._transform=function(o,l,c){c(null,o)}},{"./_stream_transform":481,inherits:440}],480:[function(t,n,s){(function(i,a){(function(){var o;n.exports=P,P.ReadableState=B,t("events").EventEmitter;var l=function(F,O){return F.listeners(O).length},c=t("./internal/streams/stream"),u=t("buffer").Buffer,d=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h,f=t("util");h=f&&f.debuglog?f.debuglog("stream"):function(){};var m,g,p,v=t("./internal/streams/buffer_list"),y=t("./internal/streams/destroy"),b=t("./internal/streams/state").getHighWaterMark,E=t("../errors").codes,N=E.ERR_INVALID_ARG_TYPE,j=E.ERR_STREAM_PUSH_AFTER_EOF,D=E.ERR_METHOD_NOT_IMPLEMENTED,C=E.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;t("inherits")(P,c);var I=y.errorOrDestroy,V=["error","close","destroy","pause","resume"];function B(F,O,K){o=o||t("./_stream_duplex"),F=F||{},typeof K!="boolean"&&(K=O instanceof o),this.objectMode=!!F.objectMode,K&&(this.objectMode=this.objectMode||!!F.readableObjectMode),this.highWaterMark=b(this,F,"readableHighWaterMark",K),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=F.emitClose!==!1,this.autoDestroy=!!F.autoDestroy,this.destroyed=!1,this.defaultEncoding=F.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,F.encoding&&(m||(m=t("string_decoder/").StringDecoder),this.decoder=new m(F.encoding),this.encoding=F.encoding)}function P(F){if(o=o||t("./_stream_duplex"),!(this instanceof P))return new P(F);var O=this instanceof o;this._readableState=new B(F,this,O),this.readable=!0,F&&(typeof F.read=="function"&&(this._read=F.read),typeof F.destroy=="function"&&(this._destroy=F.destroy)),c.call(this)}function k(F,O,K,ne,ee){h("readableAddChunk",O);var ie,he=F._readableState;if(O===null)he.reading=!1,function(ce,te){if(h("onEofChunk"),!te.ended){if(te.decoder){var se=te.decoder.end();se&&se.length&&(te.buffer.push(se),te.length+=te.objectMode?1:se.length)}te.ended=!0,te.sync?w(ce):(te.needReadable=!1,te.emittedReadable||(te.emittedReadable=!0,S(ce)))}}(F,he);else if(ee||(ie=function(ce,te){var se;ge=te,u.isBuffer(ge)||ge instanceof d||typeof te=="string"||te===void 0||ce.objectMode||(se=new N("chunk",["string","Buffer","Uint8Array"],te));var ge;return se}(he,O)),ie)I(F,ie);else if(he.objectMode||O&&O.length>0)if(typeof O=="string"||he.objectMode||Object.getPrototypeOf(O)===u.prototype||(O=function(ce){return u.from(ce)}(O)),ne)he.endEmitted?I(F,new C):M(F,he,O,!0);else if(he.ended)I(F,new j);else{if(he.destroyed)return!1;he.reading=!1,he.decoder&&!K?(O=he.decoder.write(O),he.objectMode||O.length!==0?M(F,he,O,!1):_(F,he)):M(F,he,O,!1)}else ne||(he.reading=!1,_(F,he));return!he.ended&&(he.length<he.highWaterMark||he.length===0)}function M(F,O,K,ne){O.flowing&&O.length===0&&!O.sync?(O.awaitDrain=0,F.emit("data",K)):(O.length+=O.objectMode?1:K.length,ne?O.buffer.unshift(K):O.buffer.push(K),O.needReadable&&w(F)),_(F,O)}Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(F){this._readableState&&(this._readableState.destroyed=F)}}),P.prototype.destroy=y.destroy,P.prototype._undestroy=y.undestroy,P.prototype._destroy=function(F,O){O(F)},P.prototype.push=function(F,O){var K,ne=this._readableState;return ne.objectMode?K=!0:typeof F=="string"&&((O=O||ne.defaultEncoding)!==ne.encoding&&(F=u.from(F,O),O=""),K=!0),k(this,F,O,!1,K)},P.prototype.unshift=function(F){return k(this,F,null,!0,!1)},P.prototype.isPaused=function(){return this._readableState.flowing===!1},P.prototype.setEncoding=function(F){m||(m=t("string_decoder/").StringDecoder);var O=new m(F);this._readableState.decoder=O,this._readableState.encoding=this._readableState.decoder.encoding;for(var K=this._readableState.buffer.head,ne="";K!==null;)ne+=O.write(K.data),K=K.next;return this._readableState.buffer.clear(),ne!==""&&this._readableState.buffer.push(ne),this._readableState.length=ne.length,this};function A(F,O){return F<=0||O.length===0&&O.ended?0:O.objectMode?1:F!=F?O.flowing&&O.length?O.buffer.head.data.length:O.length:(F>O.highWaterMark&&(O.highWaterMark=function(K){return K>=1073741824?K=1073741824:(K--,K|=K>>>1,K|=K>>>2,K|=K>>>4,K|=K>>>8,K|=K>>>16,K++),K}(F)),F<=O.length?F:O.ended?O.length:(O.needReadable=!0,0))}function w(F){var O=F._readableState;h("emitReadable",O.needReadable,O.emittedReadable),O.needReadable=!1,O.emittedReadable||(h("emitReadable",O.flowing),O.emittedReadable=!0,i.nextTick(S,F))}function S(F){var O=F._readableState;h("emitReadable_",O.destroyed,O.length,O.ended),O.destroyed||!O.length&&!O.ended||(F.emit("readable"),O.emittedReadable=!1),O.needReadable=!O.flowing&&!O.ended&&O.length<=O.highWaterMark,z(F)}function _(F,O){O.readingMore||(O.readingMore=!0,i.nextTick(x,F,O))}function x(F,O){for(;!O.reading&&!O.ended&&(O.length<O.highWaterMark||O.flowing&&O.length===0);){var K=O.length;if(h("maybeReadMore read 0"),F.read(0),K===O.length)break}O.readingMore=!1}function R(F){var O=F._readableState;O.readableListening=F.listenerCount("readable")>0,O.resumeScheduled&&!O.paused?O.flowing=!0:F.listenerCount("data")>0&&F.resume()}function W(F){h("readable nexttick read 0"),F.read(0)}function T(F,O){h("resume",O.reading),O.reading||F.read(0),O.resumeScheduled=!1,F.emit("resume"),z(F),O.flowing&&!O.reading&&F.read(0)}function z(F){var O=F._readableState;for(h("flow",O.flowing);O.flowing&&F.read()!==null;);}function q(F,O){return O.length===0?null:(O.objectMode?K=O.buffer.shift():!F||F>=O.length?(K=O.decoder?O.buffer.join(""):O.buffer.length===1?O.buffer.first():O.buffer.concat(O.length),O.buffer.clear()):K=O.buffer.consume(F,O.decoder),K);var K}function Y(F){var O=F._readableState;h("endReadable",O.endEmitted),O.endEmitted||(O.ended=!0,i.nextTick(U,O,F))}function U(F,O){if(h("endReadableNT",F.endEmitted,F.length),!F.endEmitted&&F.length===0&&(F.endEmitted=!0,O.readable=!1,O.emit("end"),F.autoDestroy)){var K=O._writableState;(!K||K.autoDestroy&&K.finished)&&O.destroy()}}function Q(F,O){for(var K=0,ne=F.length;K<ne;K++)if(F[K]===O)return K;return-1}P.prototype.read=function(F){h("read",F),F=parseInt(F,10);var O=this._readableState,K=F;if(F!==0&&(O.emittedReadable=!1),F===0&&O.needReadable&&((O.highWaterMark!==0?O.length>=O.highWaterMark:O.length>0)||O.ended))return h("read: emitReadable",O.length,O.ended),O.length===0&&O.ended?Y(this):w(this),null;if((F=A(F,O))===0&&O.ended)return O.length===0&&Y(this),null;var ne,ee=O.needReadable;return h("need readable",ee),(O.length===0||O.length-F<O.highWaterMark)&&h("length less than watermark",ee=!0),O.ended||O.reading?h("reading or ended",ee=!1):ee&&(h("do read"),O.reading=!0,O.sync=!0,O.length===0&&(O.needReadable=!0),this._read(O.highWaterMark),O.sync=!1,O.reading||(F=A(K,O))),(ne=F>0?q(F,O):null)===null?(O.needReadable=O.length<=O.highWaterMark,F=0):(O.length-=F,O.awaitDrain=0),O.length===0&&(O.ended||(O.needReadable=!0),K!==F&&O.ended&&Y(this)),ne!==null&&this.emit("data",ne),ne},P.prototype._read=function(F){I(this,new D("_read()"))},P.prototype.pipe=function(F,O){var K=this,ne=this._readableState;switch(ne.pipesCount){case 0:ne.pipes=F;break;case 1:ne.pipes=[ne.pipes,F];break;default:ne.pipes.push(F)}ne.pipesCount+=1,h("pipe count=%d opts=%j",ne.pipesCount,O);var ee=(!O||O.end!==!1)&&F!==i.stdout&&F!==i.stderr?he:De;function ie(_e,fe){h("onunpipe"),_e===K&&fe&&fe.hasUnpiped===!1&&(fe.hasUnpiped=!0,h("cleanup"),F.removeListener("close",de),F.removeListener("finish",Te),F.removeListener("drain",ce),F.removeListener("error",ge),F.removeListener("unpipe",ie),K.removeListener("end",he),K.removeListener("end",De),K.removeListener("data",se),te=!0,!ne.awaitDrain||F._writableState&&!F._writableState.needDrain||ce())}function he(){h("onend"),F.end()}ne.endEmitted?i.nextTick(ee):K.once("end",ee),F.on("unpipe",ie);var ce=function(_e){return function(){var fe=_e._readableState;h("pipeOnDrain",fe.awaitDrain),fe.awaitDrain&&fe.awaitDrain--,fe.awaitDrain===0&&l(_e,"data")&&(fe.flowing=!0,z(_e))}}(K);F.on("drain",ce);var te=!1;function se(_e){h("ondata");var fe=F.write(_e);h("dest.write",fe),fe===!1&&((ne.pipesCount===1&&ne.pipes===F||ne.pipesCount>1&&Q(ne.pipes,F)!==-1)&&!te&&(h("false write response, pause",ne.awaitDrain),ne.awaitDrain++),K.pause())}function ge(_e){h("onerror",_e),De(),F.removeListener("error",ge),l(F,"error")===0&&I(F,_e)}function de(){F.removeListener("finish",Te),De()}function Te(){h("onfinish"),F.removeListener("close",de),De()}function De(){h("unpipe"),K.unpipe(F)}return K.on("data",se),function(_e,fe,ae){if(typeof _e.prependListener=="function")return _e.prependListener(fe,ae);_e._events&&_e._events[fe]?Array.isArray(_e._events[fe])?_e._events[fe].unshift(ae):_e._events[fe]=[ae,_e._events[fe]]:_e.on(fe,ae)}(F,"error",ge),F.once("close",de),F.once("finish",Te),F.emit("pipe",K),ne.flowing||(h("pipe resume"),K.resume()),F},P.prototype.unpipe=function(F){var O=this._readableState,K={hasUnpiped:!1};if(O.pipesCount===0)return this;if(O.pipesCount===1)return F&&F!==O.pipes||(F||(F=O.pipes),O.pipes=null,O.pipesCount=0,O.flowing=!1,F&&F.emit("unpipe",this,K)),this;if(!F){var ne=O.pipes,ee=O.pipesCount;O.pipes=null,O.pipesCount=0,O.flowing=!1;for(var ie=0;ie<ee;ie++)ne[ie].emit("unpipe",this,{hasUnpiped:!1});return this}var he=Q(O.pipes,F);return he===-1||(O.pipes.splice(he,1),O.pipesCount-=1,O.pipesCount===1&&(O.pipes=O.pipes[0]),F.emit("unpipe",this,K)),this},P.prototype.on=function(F,O){var K=c.prototype.on.call(this,F,O),ne=this._readableState;return F==="data"?(ne.readableListening=this.listenerCount("readable")>0,ne.flowing!==!1&&this.resume()):F==="readable"&&(ne.endEmitted||ne.readableListening||(ne.readableListening=ne.needReadable=!0,ne.flowing=!1,ne.emittedReadable=!1,h("on readable",ne.length,ne.reading),ne.length?w(this):ne.reading||i.nextTick(W,this))),K},P.prototype.addListener=P.prototype.on,P.prototype.removeListener=function(F,O){var K=c.prototype.removeListener.call(this,F,O);return F==="readable"&&i.nextTick(R,this),K},P.prototype.removeAllListeners=function(F){var O=c.prototype.removeAllListeners.apply(this,arguments);return F!=="readable"&&F!==void 0||i.nextTick(R,this),O},P.prototype.resume=function(){var F=this._readableState;return F.flowing||(h("resume"),F.flowing=!F.readableListening,function(O,K){K.resumeScheduled||(K.resumeScheduled=!0,i.nextTick(T,O,K))}(this,F)),F.paused=!1,this},P.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},P.prototype.wrap=function(F){var O=this,K=this._readableState,ne=!1;for(var ee in F.on("end",function(){if(h("wrapped end"),K.decoder&&!K.ended){var he=K.decoder.end();he&&he.length&&O.push(he)}O.push(null)}),F.on("data",function(he){h("wrapped data"),K.decoder&&(he=K.decoder.write(he)),K.objectMode&&he==null||(K.objectMode||he&&he.length)&&(O.push(he)||(ne=!0,F.pause()))}),F)this[ee]===void 0&&typeof F[ee]=="function"&&(this[ee]=function(he){return function(){return F[he].apply(F,arguments)}}(ee));for(var ie=0;ie<V.length;ie++)F.on(V[ie],this.emit.bind(this,V[ie]));return this._read=function(he){h("wrapped _read",he),ne&&(ne=!1,F.resume())},this},typeof Symbol=="function"&&(P.prototype[Symbol.asyncIterator]=function(){return g===void 0&&(g=t("./internal/streams/async_iterator")),g(this)}),Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(P.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(P.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(F){this._readableState&&(this._readableState.flowing=F)}}),P._fromList=q,Object.defineProperty(P.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(P.from=function(F,O){return p===void 0&&(p=t("./internal/streams/from")),p(P,F,O)})}).call(this)}).call(this,t("_process"),typeof gr<"u"?gr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(t,n,s){n.exports=h;var i=t("../errors").codes,a=i.ERR_METHOD_NOT_IMPLEMENTED,o=i.ERR_MULTIPLE_CALLBACK,l=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,c=i.ERR_TRANSFORM_WITH_LENGTH_0,u=t("./_stream_duplex");function d(g,p){var v=this._transformState;v.transforming=!1;var y=v.writecb;if(y===null)return this.emit("error",new o);v.writechunk=null,v.writecb=null,p!=null&&this.push(p),y(g);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function h(g){if(!(this instanceof h))return new h(g);u.call(this,g),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,g&&(typeof g.transform=="function"&&(this._transform=g.transform),typeof g.flush=="function"&&(this._flush=g.flush)),this.on("prefinish",f)}function f(){var g=this;typeof this._flush!="function"||this._readableState.destroyed?m(this,null,null):this._flush(function(p,v){m(g,p,v)})}function m(g,p,v){if(p)return g.emit("error",p);if(v!=null&&g.push(v),g._writableState.length)throw new c;if(g._transformState.transforming)throw new l;return g.push(null)}t("inherits")(h,u),h.prototype.push=function(g,p){return this._transformState.needTransform=!1,u.prototype.push.call(this,g,p)},h.prototype._transform=function(g,p,v){v(new a("_transform()"))},h.prototype._write=function(g,p,v){var y=this._transformState;if(y.writecb=v,y.writechunk=g,y.writeencoding=p,!y.transforming){var b=this._readableState;(y.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},h.prototype._read=function(g){var p=this._transformState;p.writechunk===null||p.transforming?p.needTransform=!0:(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform))},h.prototype._destroy=function(g,p){u.prototype._destroy.call(this,g,function(v){p(v)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(t,n,s){(function(i,a){(function(){function o(x){var R=this;this.next=null,this.entry=null,this.finish=function(){(function(W,T,z){var q=W.entry;for(W.entry=null;q;){var Y=q.callback;T.pendingcb--,Y(z),q=q.next}T.corkedRequestsFree.next=W})(R,x)}}var l;n.exports=P,P.WritableState=B;var c={deprecate:t("util-deprecate")},u=t("./internal/streams/stream"),d=t("buffer").Buffer,h=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},f,m=t("./internal/streams/destroy"),g=t("./internal/streams/state").getHighWaterMark,p=t("../errors").codes,v=p.ERR_INVALID_ARG_TYPE,y=p.ERR_METHOD_NOT_IMPLEMENTED,b=p.ERR_MULTIPLE_CALLBACK,E=p.ERR_STREAM_CANNOT_PIPE,N=p.ERR_STREAM_DESTROYED,j=p.ERR_STREAM_NULL_VALUES,D=p.ERR_STREAM_WRITE_AFTER_END,C=p.ERR_UNKNOWN_ENCODING,I=m.errorOrDestroy;function V(){}function B(x,R,W){l=l||t("./_stream_duplex"),x=x||{},typeof W!="boolean"&&(W=R instanceof l),this.objectMode=!!x.objectMode,W&&(this.objectMode=this.objectMode||!!x.writableObjectMode),this.highWaterMark=g(this,x,"writableHighWaterMark",W),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var T=x.decodeStrings===!1;this.decodeStrings=!T,this.defaultEncoding=x.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(z){(function(q,Y){var U=q._writableState,Q=U.sync,F=U.writecb;if(typeof F!="function")throw new b;if(function(K){K.writing=!1,K.writecb=null,K.length-=K.writelen,K.writelen=0}(U),Y)(function(K,ne,ee,ie,he){--ne.pendingcb,ee?(i.nextTick(he,ie),i.nextTick(_,K,ne),K._writableState.errorEmitted=!0,I(K,ie)):(he(ie),K._writableState.errorEmitted=!0,I(K,ie),_(K,ne))})(q,U,Q,Y,F);else{var O=w(U)||q.destroyed;O||U.corked||U.bufferProcessing||!U.bufferedRequest||A(q,U),Q?i.nextTick(M,q,U,O,F):M(q,U,O,F)}})(R,z)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=x.emitClose!==!1,this.autoDestroy=!!x.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function P(x){var R=this instanceof(l=l||t("./_stream_duplex"));if(!R&&!f.call(P,this))return new P(x);this._writableState=new B(x,this,R),this.writable=!0,x&&(typeof x.write=="function"&&(this._write=x.write),typeof x.writev=="function"&&(this._writev=x.writev),typeof x.destroy=="function"&&(this._destroy=x.destroy),typeof x.final=="function"&&(this._final=x.final)),u.call(this)}function k(x,R,W,T,z,q,Y){R.writelen=T,R.writecb=Y,R.writing=!0,R.sync=!0,R.destroyed?R.onwrite(new N("write")):W?x._writev(z,R.onwrite):x._write(z,q,R.onwrite),R.sync=!1}function M(x,R,W,T){W||function(z,q){q.length===0&&q.needDrain&&(q.needDrain=!1,z.emit("drain"))}(x,R),R.pendingcb--,T(),_(x,R)}function A(x,R){R.bufferProcessing=!0;var W=R.bufferedRequest;if(x._writev&&W&&W.next){var T=R.bufferedRequestCount,z=new Array(T),q=R.corkedRequestsFree;q.entry=W;for(var Y=0,U=!0;W;)z[Y]=W,W.isBuf||(U=!1),W=W.next,Y+=1;z.allBuffers=U,k(x,R,!0,R.length,z,"",q.finish),R.pendingcb++,R.lastBufferedRequest=null,q.next?(R.corkedRequestsFree=q.next,q.next=null):R.corkedRequestsFree=new o(R),R.bufferedRequestCount=0}else{for(;W;){var Q=W.chunk,F=W.encoding,O=W.callback;if(k(x,R,!1,R.objectMode?1:Q.length,Q,F,O),W=W.next,R.bufferedRequestCount--,R.writing)break}W===null&&(R.lastBufferedRequest=null)}R.bufferedRequest=W,R.bufferProcessing=!1}function w(x){return x.ending&&x.length===0&&x.bufferedRequest===null&&!x.finished&&!x.writing}function S(x,R){x._final(function(W){R.pendingcb--,W&&I(x,W),R.prefinished=!0,x.emit("prefinish"),_(x,R)})}function _(x,R){var W=w(R);if(W&&(function(z,q){q.prefinished||q.finalCalled||(typeof z._final!="function"||q.destroyed?(q.prefinished=!0,z.emit("prefinish")):(q.pendingcb++,q.finalCalled=!0,i.nextTick(S,z,q)))}(x,R),R.pendingcb===0&&(R.finished=!0,x.emit("finish"),R.autoDestroy))){var T=x._readableState;(!T||T.autoDestroy&&T.endEmitted)&&x.destroy()}return W}t("inherits")(P,u),B.prototype.getBuffer=function(){for(var x=this.bufferedRequest,R=[];x;)R.push(x),x=x.next;return R},function(){try{Object.defineProperty(B.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(P,Symbol.hasInstance,{value:function(x){return!!f.call(this,x)||this===P&&x&&x._writableState instanceof B}})):f=function(x){return x instanceof this},P.prototype.pipe=function(){I(this,new E)},P.prototype.write=function(x,R,W){var T,z=this._writableState,q=!1,Y=!z.objectMode&&(T=x,d.isBuffer(T)||T instanceof h);return Y&&!d.isBuffer(x)&&(x=function(U){return d.from(U)}(x)),typeof R=="function"&&(W=R,R=null),Y?R="buffer":R||(R=z.defaultEncoding),typeof W!="function"&&(W=V),z.ending?function(U,Q){var F=new D;I(U,F),i.nextTick(Q,F)}(this,W):(Y||function(U,Q,F,O){var K;return F===null?K=new j:typeof F=="string"||Q.objectMode||(K=new v("chunk",["string","Buffer"],F)),!K||(I(U,K),i.nextTick(O,K),!1)}(this,z,x,W))&&(z.pendingcb++,q=function(U,Q,F,O,K,ne){if(!F){var ee=function(te,se,ge){return te.objectMode||te.decodeStrings===!1||typeof se!="string"||(se=d.from(se,ge)),se}(Q,O,K);O!==ee&&(F=!0,K="buffer",O=ee)}var ie=Q.objectMode?1:O.length;Q.length+=ie;var he=Q.length<Q.highWaterMark;if(he||(Q.needDrain=!0),Q.writing||Q.corked){var ce=Q.lastBufferedRequest;Q.lastBufferedRequest={chunk:O,encoding:K,isBuf:F,callback:ne,next:null},ce?ce.next=Q.lastBufferedRequest:Q.bufferedRequest=Q.lastBufferedRequest,Q.bufferedRequestCount+=1}else k(U,Q,!1,ie,O,K,ne);return he}(this,z,Y,x,R,W)),q},P.prototype.cork=function(){this._writableState.corked++},P.prototype.uncork=function(){var x=this._writableState;x.corked&&(x.corked--,x.writing||x.corked||x.bufferProcessing||!x.bufferedRequest||A(this,x))},P.prototype.setDefaultEncoding=function(x){if(typeof x=="string"&&(x=x.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((x+"").toLowerCase())>-1))throw new C(x);return this._writableState.defaultEncoding=x,this},Object.defineProperty(P.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(P.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),P.prototype._write=function(x,R,W){W(new y("_write()"))},P.prototype._writev=null,P.prototype.end=function(x,R,W){var T=this._writableState;return typeof x=="function"?(W=x,x=null,R=null):typeof R=="function"&&(W=R,R=null),x!=null&&this.write(x,R),T.corked&&(T.corked=1,this.uncork()),T.ending||function(z,q,Y){q.ending=!0,_(z,q),Y&&(q.finished?i.nextTick(Y):z.once("finish",Y)),q.ended=!0,z.writable=!1}(this,T,W),this},Object.defineProperty(P.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(x){this._writableState&&(this._writableState.destroyed=x)}}),P.prototype.destroy=m.destroy,P.prototype._undestroy=m.undestroy,P.prototype._destroy=function(x,R){R(x)}}).call(this)}).call(this,t("_process"),typeof gr<"u"?gr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(t,n,s){(function(i){(function(){var a;function o(N,j,D){return(j=function(C){var I=function(V,B){if(typeof V!="object"||V===null)return V;var P=V[Symbol.toPrimitive];if(P!==void 0){var k=P.call(V,B);if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(B==="string"?String:Number)(V)}(C,"string");return typeof I=="symbol"?I:String(I)}(j))in N?Object.defineProperty(N,j,{value:D,enumerable:!0,configurable:!0,writable:!0}):N[j]=D,N}var l=t("./end-of-stream"),c=Symbol("lastResolve"),u=Symbol("lastReject"),d=Symbol("error"),h=Symbol("ended"),f=Symbol("lastPromise"),m=Symbol("handlePromise"),g=Symbol("stream");function p(N,j){return{value:N,done:j}}function v(N){var j=N[c];if(j!==null){var D=N[g].read();D!==null&&(N[f]=null,N[c]=null,N[u]=null,j(p(D,!1)))}}function y(N){i.nextTick(v,N)}var b=Object.getPrototypeOf(function(){}),E=Object.setPrototypeOf((o(a={get stream(){return this[g]},next:function(){var N=this,j=this[d];if(j!==null)return Promise.reject(j);if(this[h])return Promise.resolve(p(void 0,!0));if(this[g].destroyed)return new Promise(function(V,B){i.nextTick(function(){N[d]?B(N[d]):V(p(void 0,!0))})});var D,C=this[f];if(C)D=new Promise(function(V,B){return function(P,k){V.then(function(){B[h]?P(p(void 0,!0)):B[m](P,k)},k)}}(C,this));else{var I=this[g].read();if(I!==null)return Promise.resolve(p(I,!1));D=new Promise(this[m])}return this[f]=D,D}},Symbol.asyncIterator,function(){return this}),o(a,"return",function(){var N=this;return new Promise(function(j,D){N[g].destroy(null,function(C){C?D(C):j(p(void 0,!0))})})}),a),b);n.exports=function(N){var j,D=Object.create(E,(o(j={},g,{value:N,writable:!0}),o(j,c,{value:null,writable:!0}),o(j,u,{value:null,writable:!0}),o(j,d,{value:null,writable:!0}),o(j,h,{value:N._readableState.endEmitted,writable:!0}),o(j,m,{value:function(C,I){var V=D[g].read();V?(D[f]=null,D[c]=null,D[u]=null,C(p(V,!1))):(D[c]=C,D[u]=I)},writable:!0}),j));return D[f]=null,l(N,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var I=D[u];return I!==null&&(D[f]=null,D[c]=null,D[u]=null,I(C)),void(D[d]=C)}var V=D[c];V!==null&&(D[f]=null,D[c]=null,D[u]=null,V(p(void 0,!0))),D[h]=!0}),N.on("readable",y.bind(null,D)),D}}).call(this)}).call(this,t("_process"))},{"./end-of-stream":486,_process:467}],484:[function(t,n,s){function i(f,m){var g=Object.keys(f);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(f);m&&(p=p.filter(function(v){return Object.getOwnPropertyDescriptor(f,v).enumerable})),g.push.apply(g,p)}return g}function a(f){for(var m=1;m<arguments.length;m++){var g=arguments[m]!=null?arguments[m]:{};m%2?i(Object(g),!0).forEach(function(p){o(f,p,g[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(g)):i(Object(g)).forEach(function(p){Object.defineProperty(f,p,Object.getOwnPropertyDescriptor(g,p))})}return f}function o(f,m,g){return(m=c(m))in f?Object.defineProperty(f,m,{value:g,enumerable:!0,configurable:!0,writable:!0}):f[m]=g,f}function l(f,m){for(var g=0;g<m.length;g++){var p=m[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(f,c(p.key),p)}}function c(f){var m=function(g,p){if(typeof g!="object"||g===null)return g;var v=g[Symbol.toPrimitive];if(v!==void 0){var y=v.call(g,p);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(g)}(f,"string");return typeof m=="symbol"?m:String(m)}var u=t("buffer").Buffer,d=t("util").inspect,h=d&&d.custom||"inspect";n.exports=function(){function f(){(function(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")})(this,f),this.head=null,this.tail=null,this.length=0}var m,g;return m=f,(g=[{key:"push",value:function(p){var v={data:p,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(p){var v={data:p,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var v=this.head,y=""+v.data;v=v.next;)y+=p+v.data;return y}},{key:"concat",value:function(p){if(this.length===0)return u.alloc(0);for(var v,y,b,E=u.allocUnsafe(p>>>0),N=this.head,j=0;N;)v=N.data,y=E,b=j,u.prototype.copy.call(v,y,b),j+=N.data.length,N=N.next;return E}},{key:"consume",value:function(p,v){var y;return p<this.head.data.length?(y=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):y=p===this.head.data.length?this.shift():v?this._getString(p):this._getBuffer(p),y}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var v=this.head,y=1,b=v.data;for(p-=b.length;v=v.next;){var E=v.data,N=p>E.length?E.length:p;if(N===E.length?b+=E:b+=E.slice(0,p),(p-=N)==0){N===E.length?(++y,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=E.slice(N));break}++y}return this.length-=y,b}},{key:"_getBuffer",value:function(p){var v=u.allocUnsafe(p),y=this.head,b=1;for(y.data.copy(v),p-=y.data.length;y=y.next;){var E=y.data,N=p>E.length?E.length:p;if(E.copy(v,v.length-p,0,N),(p-=N)==0){N===E.length?(++b,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=E.slice(N));break}++b}return this.length-=b,v}},{key:h,value:function(p,v){return d(this,a(a({},v),{},{depth:0,customInspect:!1}))}}])&&l(m.prototype,g),Object.defineProperty(m,"prototype",{writable:!1}),f}()},{buffer:220,util:188}],485:[function(t,n,s){(function(i){(function(){function a(c,u){l(c,u),o(c)}function o(c){c._writableState&&!c._writableState.emitClose||c._readableState&&!c._readableState.emitClose||c.emit("close")}function l(c,u){c.emit("error",u)}n.exports={destroy:function(c,u){var d=this,h=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return h||f?(u?u(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(l,this,c)):i.nextTick(l,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(m){!u&&m?d._writableState?d._writableState.errorEmitted?i.nextTick(o,d):(d._writableState.errorEmitted=!0,i.nextTick(a,d,m)):i.nextTick(a,d,m):u?(i.nextTick(o,d),u(m)):i.nextTick(o,d)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(c,u){var d=c._readableState,h=c._writableState;d&&d.autoDestroy||h&&h.autoDestroy?c.destroy(u):c.emit("error",u)}}}).call(this)}).call(this,t("_process"))},{_process:467}],486:[function(t,n,s){var i=t("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function a(){}n.exports=function o(l,c,u){if(typeof c=="function")return o(l,null,c);c||(c={}),u=function(N){var j=!1;return function(){if(!j){j=!0;for(var D=arguments.length,C=new Array(D),I=0;I<D;I++)C[I]=arguments[I];N.apply(this,C)}}}(u||a);var d=c.readable||c.readable!==!1&&l.readable,h=c.writable||c.writable!==!1&&l.writable,f=function(){l.writable||g()},m=l._writableState&&l._writableState.finished,g=function(){h=!1,m=!0,d||u.call(l)},p=l._readableState&&l._readableState.endEmitted,v=function(){d=!1,p=!0,h||u.call(l)},y=function(N){u.call(l,N)},b=function(){var N;return d&&!p?(l._readableState&&l._readableState.ended||(N=new i),u.call(l,N)):h&&!m?(l._writableState&&l._writableState.ended||(N=new i),u.call(l,N)):void 0},E=function(){l.req.on("finish",g)};return function(N){return N.setHeader&&typeof N.abort=="function"}(l)?(l.on("complete",g),l.on("abort",b),l.req?E():l.on("request",E)):h&&!l._writableState&&(l.on("end",f),l.on("close",f)),l.on("end",v),l.on("finish",g),c.error!==!1&&l.on("error",y),l.on("close",b),function(){l.removeListener("complete",g),l.removeListener("abort",b),l.removeListener("request",E),l.req&&l.req.removeListener("finish",g),l.removeListener("end",f),l.removeListener("close",f),l.removeListener("finish",g),l.removeListener("end",v),l.removeListener("error",y),l.removeListener("close",b)}}},{"../../../errors":477}],487:[function(t,n,s){n.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(t,n,s){var i,a=t("../../../errors").codes,o=a.ERR_MISSING_ARGS,l=a.ERR_STREAM_DESTROYED;function c(m){if(m)throw m}function u(m,g,p,v){v=function(E){var N=!1;return function(){N||(N=!0,E.apply(void 0,arguments))}}(v);var y=!1;m.on("close",function(){y=!0}),i===void 0&&(i=t("./end-of-stream")),i(m,{readable:g,writable:p},function(E){if(E)return v(E);y=!0,v()});var b=!1;return function(E){if(!y&&!b)return b=!0,function(N){return N.setHeader&&typeof N.abort=="function"}(m)?m.abort():typeof m.destroy=="function"?m.destroy():void v(E||new l("pipe"))}}function d(m){m()}function h(m,g){return m.pipe(g)}function f(m){return m.length?typeof m[m.length-1]!="function"?c:m.pop():c}n.exports=function(){for(var m=arguments.length,g=new Array(m),p=0;p<m;p++)g[p]=arguments[p];var v,y=f(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new o("streams");var b=g.map(function(E,N){var j=N<g.length-1;return u(E,j,N>0,function(D){v||(v=D),D&&b.forEach(d),j||(b.forEach(d),y(v))})});return g.reduce(h)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(t,n,s){var i=t("../../../errors").codes.ERR_INVALID_OPT_VALUE;n.exports={getHighWaterMark:function(a,o,l,c){var u=function(d,h,f){return d.highWaterMark!=null?d.highWaterMark:h?d[f]:null}(o,c,l);if(u!=null){if(!isFinite(u)||Math.floor(u)!==u||u<0)throw new i(c?l:"highWaterMark",u);return Math.floor(u)}return a.objectMode?16:16384}}},{"../../../errors":477}],490:[function(t,n,s){n.exports=t("events").EventEmitter},{events:422}],491:[function(t,n,s){(s=n.exports=t("./lib/_stream_readable.js")).Stream=s,s.Readable=s,s.Writable=t("./lib/_stream_writable.js"),s.Duplex=t("./lib/_stream_duplex.js"),s.Transform=t("./lib/_stream_transform.js"),s.PassThrough=t("./lib/_stream_passthrough.js"),s.finished=t("./lib/internal/streams/end-of-stream.js"),s.pipeline=t("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(t,n,s){var i=function(a){var o=Object.prototype,l=o.hasOwnProperty,c=Object.defineProperty||function(_,x,R){_[x]=R.value},u=typeof Symbol=="function"?Symbol:{},d=u.iterator||"@@iterator",h=u.asyncIterator||"@@asyncIterator",f=u.toStringTag||"@@toStringTag";function m(_,x,R){return Object.defineProperty(_,x,{value:R,enumerable:!0,configurable:!0,writable:!0}),_[x]}try{m({},"")}catch{m=function(x,R,W){return x[R]=W}}function g(_,x,R,W){var T=x&&x.prototype instanceof y?x:y,z=Object.create(T.prototype),q=new A(W||[]);return c(z,"_invoke",{value:B(_,R,q)}),z}function p(_,x,R){try{return{type:"normal",arg:_.call(x,R)}}catch(W){return{type:"throw",arg:W}}}a.wrap=g;var v={};function y(){}function b(){}function E(){}var N={};m(N,d,function(){return this});var j=Object.getPrototypeOf,D=j&&j(j(w([])));D&&D!==o&&l.call(D,d)&&(N=D);var C=E.prototype=y.prototype=Object.create(N);function I(_){["next","throw","return"].forEach(function(x){m(_,x,function(R){return this._invoke(x,R)})})}function V(_,x){var R;c(this,"_invoke",{value:function(W,T){function z(){return new x(function(q,Y){(function U(Q,F,O,K){var ne=p(_[Q],_,F);if(ne.type!=="throw"){var ee=ne.arg,ie=ee.value;return ie&&typeof ie=="object"&&l.call(ie,"__await")?x.resolve(ie.__await).then(function(he){U("next",he,O,K)},function(he){U("throw",he,O,K)}):x.resolve(ie).then(function(he){ee.value=he,O(ee)},function(he){return U("throw",he,O,K)})}K(ne.arg)})(W,T,q,Y)})}return R=R?R.then(z,z):z()}})}function B(_,x,R){var W="suspendedStart";return function(T,z){if(W==="executing")throw new Error("Generator is already running");if(W==="completed"){if(T==="throw")throw z;return S()}for(R.method=T,R.arg=z;;){var q=R.delegate;if(q){var Y=P(q,R);if(Y){if(Y===v)continue;return Y}}if(R.method==="next")R.sent=R._sent=R.arg;else if(R.method==="throw"){if(W==="suspendedStart")throw W="completed",R.arg;R.dispatchException(R.arg)}else R.method==="return"&&R.abrupt("return",R.arg);W="executing";var U=p(_,x,R);if(U.type==="normal"){if(W=R.done?"completed":"suspendedYield",U.arg===v)continue;return{value:U.arg,done:R.done}}U.type==="throw"&&(W="completed",R.method="throw",R.arg=U.arg)}}}function P(_,x){var R=x.method,W=_.iterator[R];if(W===void 0)return x.delegate=null,R==="throw"&&_.iterator.return&&(x.method="return",x.arg=void 0,P(_,x),x.method==="throw")||R!=="return"&&(x.method="throw",x.arg=new TypeError("The iterator does not provide a '"+R+"' method")),v;var T=p(W,_.iterator,x.arg);if(T.type==="throw")return x.method="throw",x.arg=T.arg,x.delegate=null,v;var z=T.arg;return z?z.done?(x[_.resultName]=z.value,x.next=_.nextLoc,x.method!=="return"&&(x.method="next",x.arg=void 0),x.delegate=null,v):z:(x.method="throw",x.arg=new TypeError("iterator result is not an object"),x.delegate=null,v)}function k(_){var x={tryLoc:_[0]};1 in _&&(x.catchLoc=_[1]),2 in _&&(x.finallyLoc=_[2],x.afterLoc=_[3]),this.tryEntries.push(x)}function M(_){var x=_.completion||{};x.type="normal",delete x.arg,_.completion=x}function A(_){this.tryEntries=[{tryLoc:"root"}],_.forEach(k,this),this.reset(!0)}function w(_){if(_){var x=_[d];if(x)return x.call(_);if(typeof _.next=="function")return _;if(!isNaN(_.length)){var R=-1,W=function T(){for(;++R<_.length;)if(l.call(_,R))return T.value=_[R],T.done=!1,T;return T.value=void 0,T.done=!0,T};return W.next=W}}return{next:S}}function S(){return{value:void 0,done:!0}}return b.prototype=E,c(C,"constructor",{value:E,configurable:!0}),c(E,"constructor",{value:b,configurable:!0}),b.displayName=m(E,f,"GeneratorFunction"),a.isGeneratorFunction=function(_){var x=typeof _=="function"&&_.constructor;return!!x&&(x===b||(x.displayName||x.name)==="GeneratorFunction")},a.mark=function(_){return Object.setPrototypeOf?Object.setPrototypeOf(_,E):(_.__proto__=E,m(_,f,"GeneratorFunction")),_.prototype=Object.create(C),_},a.awrap=function(_){return{__await:_}},I(V.prototype),m(V.prototype,h,function(){return this}),a.AsyncIterator=V,a.async=function(_,x,R,W,T){T===void 0&&(T=Promise);var z=new V(g(_,x,R,W),T);return a.isGeneratorFunction(x)?z:z.next().then(function(q){return q.done?q.value:z.next()})},I(C),m(C,f,"Generator"),m(C,d,function(){return this}),m(C,"toString",function(){return"[object Generator]"}),a.keys=function(_){var x=Object(_),R=[];for(var W in x)R.push(W);return R.reverse(),function T(){for(;R.length;){var z=R.pop();if(z in x)return T.value=z,T.done=!1,T}return T.done=!0,T}},a.values=w,A.prototype={constructor:A,reset:function(_){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!_)for(var x in this)x.charAt(0)==="t"&&l.call(this,x)&&!isNaN(+x.slice(1))&&(this[x]=void 0)},stop:function(){this.done=!0;var _=this.tryEntries[0].completion;if(_.type==="throw")throw _.arg;return this.rval},dispatchException:function(_){if(this.done)throw _;var x=this;function R(U,Q){return z.type="throw",z.arg=_,x.next=U,Q&&(x.method="next",x.arg=void 0),!!Q}for(var W=this.tryEntries.length-1;W>=0;--W){var T=this.tryEntries[W],z=T.completion;if(T.tryLoc==="root")return R("end");if(T.tryLoc<=this.prev){var q=l.call(T,"catchLoc"),Y=l.call(T,"finallyLoc");if(q&&Y){if(this.prev<T.catchLoc)return R(T.catchLoc,!0);if(this.prev<T.finallyLoc)return R(T.finallyLoc)}else if(q){if(this.prev<T.catchLoc)return R(T.catchLoc,!0)}else{if(!Y)throw new Error("try statement without catch or finally");if(this.prev<T.finallyLoc)return R(T.finallyLoc)}}}},abrupt:function(_,x){for(var R=this.tryEntries.length-1;R>=0;--R){var W=this.tryEntries[R];if(W.tryLoc<=this.prev&&l.call(W,"finallyLoc")&&this.prev<W.finallyLoc){var T=W;break}}T&&(_==="break"||_==="continue")&&T.tryLoc<=x&&x<=T.finallyLoc&&(T=null);var z=T?T.completion:{};return z.type=_,z.arg=x,T?(this.method="next",this.next=T.finallyLoc,v):this.complete(z)},complete:function(_,x){if(_.type==="throw")throw _.arg;return _.type==="break"||_.type==="continue"?this.next=_.arg:_.type==="return"?(this.rval=this.arg=_.arg,this.method="return",this.next="end"):_.type==="normal"&&x&&(this.next=x),v},finish:function(_){for(var x=this.tryEntries.length-1;x>=0;--x){var R=this.tryEntries[x];if(R.finallyLoc===_)return this.complete(R.completion,R.afterLoc),M(R),v}},catch:function(_){for(var x=this.tryEntries.length-1;x>=0;--x){var R=this.tryEntries[x];if(R.tryLoc===_){var W=R.completion;if(W.type==="throw"){var T=W.arg;M(R)}return T}}throw new Error("illegal catch attempt")},delegateYield:function(_,x,R){return this.delegate={iterator:w(_),resultName:x,nextLoc:R},this.method==="next"&&(this.arg=void 0),v}},a}(typeof n=="object"?n.exports:{});try{regeneratorRuntime=i}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},{}],493:[function(t,n,s){var i=t("buffer").Buffer,a=t("inherits"),o=t("hash-base"),l=new Array(16),c=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],d=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],f=[0,1518500249,1859775393,2400959708,2840853838],m=[1352829926,1548603684,1836072691,2053994217,0];function g(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(j,D){return j<<D|j>>>32-D}function v(j,D,C,I,V,B,P,k){return p(j+(D^C^I)+B+P|0,k)+V|0}function y(j,D,C,I,V,B,P,k){return p(j+(D&C|~D&I)+B+P|0,k)+V|0}function b(j,D,C,I,V,B,P,k){return p(j+((D|~C)^I)+B+P|0,k)+V|0}function E(j,D,C,I,V,B,P,k){return p(j+(D&I|C&~I)+B+P|0,k)+V|0}function N(j,D,C,I,V,B,P,k){return p(j+(D^(C|~I))+B+P|0,k)+V|0}a(g,o),g.prototype._update=function(){for(var j=l,D=0;D<16;++D)j[D]=this._block.readInt32LE(4*D);for(var C=0|this._a,I=0|this._b,V=0|this._c,B=0|this._d,P=0|this._e,k=0|this._a,M=0|this._b,A=0|this._c,w=0|this._d,S=0|this._e,_=0;_<80;_+=1){var x,R;_<16?(x=v(C,I,V,B,P,j[c[_]],f[0],d[_]),R=N(k,M,A,w,S,j[u[_]],m[0],h[_])):_<32?(x=y(C,I,V,B,P,j[c[_]],f[1],d[_]),R=E(k,M,A,w,S,j[u[_]],m[1],h[_])):_<48?(x=b(C,I,V,B,P,j[c[_]],f[2],d[_]),R=b(k,M,A,w,S,j[u[_]],m[2],h[_])):_<64?(x=E(C,I,V,B,P,j[c[_]],f[3],d[_]),R=y(k,M,A,w,S,j[u[_]],m[3],h[_])):(x=N(C,I,V,B,P,j[c[_]],f[4],d[_]),R=v(k,M,A,w,S,j[u[_]],m[4],h[_])),C=P,P=B,B=p(V,10),V=I,I=x,k=S,S=w,w=p(A,10),A=M,M=R}var W=this._b+V+w|0;this._b=this._c+B+S|0,this._c=this._d+P+k|0,this._d=this._e+C+M|0,this._e=this._a+I+A|0,this._a=W},g.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var j=i.alloc?i.alloc(20):new i(20);return j.writeInt32LE(this._a,0),j.writeInt32LE(this._b,4),j.writeInt32LE(this._c,8),j.writeInt32LE(this._d,12),j.writeInt32LE(this._e,16),j},n.exports=g},{buffer:220,"hash-base":425,inherits:440}],494:[function(t,n,s){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var i=t("buffer"),a=i.Buffer;function o(c,u){for(var d in c)u[d]=c[d]}function l(c,u,d){return a(c,u,d)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?n.exports=i:(o(i,s),s.Buffer=l),l.prototype=Object.create(a.prototype),o(a,l),l.from=function(c,u,d){if(typeof c=="number")throw new TypeError("Argument must not be a number");return a(c,u,d)},l.alloc=function(c,u,d){if(typeof c!="number")throw new TypeError("Argument must be a number");var h=a(c);return u!==void 0?typeof d=="string"?h.fill(u,d):h.fill(u):h.fill(0),h},l.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return a(c)},l.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(c)}},{buffer:220}],495:[function(t,n,s){(function(i){(function(){var a,o=t("buffer"),l=o.Buffer,c={};for(a in o)o.hasOwnProperty(a)&&a!=="SlowBuffer"&&a!=="Buffer"&&(c[a]=o[a]);var u=c.Buffer={};for(a in l)l.hasOwnProperty(a)&&a!=="allocUnsafe"&&a!=="allocUnsafeSlow"&&(u[a]=l[a]);if(c.Buffer.prototype=l.prototype,u.from&&u.from!==Uint8Array.from||(u.from=function(d,h,f){if(typeof d=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof d);if(d&&d.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d);return l(d,h,f)}),u.alloc||(u.alloc=function(d,h,f){if(typeof d!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof d);if(d<0||d>=2*(1<<30))throw new RangeError('The value "'+d+'" is invalid for option "size"');var m=l(d);return h&&h.length!==0?typeof f=="string"?m.fill(h,f):m.fill(h):m.fill(0),m}),!c.kStringMaxLength)try{c.kStringMaxLength=i.binding("buffer").kStringMaxLength}catch{}c.constants||(c.constants={MAX_LENGTH:c.kMaxLength},c.kStringMaxLength&&(c.constants.MAX_STRING_LENGTH=c.kStringMaxLength)),n.exports=c}).call(this)}).call(this,t("_process"))},{_process:467,buffer:220}],496:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0});const i=t("xmlchars/xml/1.0/ed5"),a=t("xmlchars/xml/1.1/ed2"),o=t("xmlchars/xmlns/1.0/ed3");var l=i.isS,c=i.isChar,u=i.isNameStartChar,d=i.isNameChar,h=i.S_LIST,f=i.NAME_RE,m=a.isChar,g=o.isNCNameStartChar,p=o.isNCNameChar,v=o.NC_NAME_RE;const y="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/2000/xmlns/",E={__proto__:null,xml:y,xmlns:b},N={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},j=w=>w===34||w===39,D=[34,39],C=[...D,91,62],I=[...D,60,93],V=[61,63,...h],B=[...h,62,38,60];function P(w,S,_){switch(S){case"xml":_!==y&&w.fail(`xml prefix must be bound to ${y}.`);break;case"xmlns":_!==b&&w.fail(`xmlns prefix must be bound to ${b}.`)}switch(_){case b:w.fail(S===""?`the default namespace may not be set to ${_}.`:`may not assign a prefix (even "xmlns") to the URI ${b}.`);break;case y:switch(S){case"xml":break;case"":w.fail(`the default namespace may not be set to ${_}.`);break;default:w.fail("may not assign the xml namespace to another prefix.")}}}const k=w=>v.test(w),M=w=>f.test(w);s.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const A={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};s.SaxesParser=class{constructor(w){this.opt=w??{},this.fragmentOpt=!!this.opt.fragment;const S=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,S){this.nameStartCheck=g,this.nameCheck=p,this.isName=k,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},E);const _=this.opt.additionalNamespaces;_!=null&&(function(x,R){for(const W of Object.keys(R))P(x,W,R[W])}(this,_),Object.assign(this.ns,_))}else this.nameStartCheck=u,this.nameCheck=d,this.isName=M,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var w;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:S}=this;this.state=S?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=S,this.xmlDeclPossible=!S,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:_}=this.opt;if(_===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");_="1.0"}this.setXMLVersion(_),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(N),(w=this.readyHandler)===null||w===void 0||w.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(w,S){this[A[w]]=S}off(w){this[A[w]]=void 0}makeError(w){var S;let _=(S=this.fileName)!==null&&S!==void 0?S:"";return this.trackPosition&&(_.length>0&&(_+=":"),_+=`${this.line}:${this.column}`),_.length>0&&(_+=": "),new Error(_+w)}fail(w){const S=this.makeError(w),_=this.errorHandler;if(_===void 0)throw S;return _(S),this}write(w){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let S=!1;w===null?(S=!0,w=""):typeof w=="object"&&(w=w.toString()),this.carriedFromPrevious!==void 0&&(w=`${this.carriedFromPrevious}${w}`,this.carriedFromPrevious=void 0);let _=w.length;const x=w.charCodeAt(_-1);!S&&(x===13||x>=55296&&x<=56319)&&(this.carriedFromPrevious=w[_-1],_--,w=w.slice(0,_));const{stateTable:R}=this;for(this.chunk=w,this.i=0;this.i<_;)R[this.state].call(this);return this.chunkPosition+=_,S?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:w,i:S}=this;if(this.prevI=S,this.i=S+1,S>=w.length)return-1;const _=w.charCodeAt(S);if(this.column++,_<55296){if(_>=32||_===9)return _;switch(_){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return w.charCodeAt(S+1)===10&&(this.i=S+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),_}}if(_>56319)return _>=57344&&_<=65533||this.fail("disallowed character."),_;const x=65536+1024*(_-55296)+(w.charCodeAt(S+1)-56320);return this.i=S+2,x>1114111&&this.fail("disallowed character."),x}getCode11(){const{chunk:w,i:S}=this;if(this.prevI=S,this.i=S+1,S>=w.length)return-1;const _=w.charCodeAt(S);if(this.column++,_<55296){if(_>31&&_<127||_>159&&_!==8232||_===9)return _;switch(_){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const R=w.charCodeAt(S+1);R!==10&&R!==133||(this.i=S+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),_}}if(_>56319)return _>=57344&&_<=65533||this.fail("disallowed character."),_;const x=65536+1024*(_-55296)+(w.charCodeAt(S+1)-56320);return this.i=S+2,x>1114111&&this.fail("disallowed character."),x}getCodeNorm(){const w=this.getCode();return w===-2?10:w}unget(){this.i=this.prevI,this.column--}captureTo(w){let{i:S}=this;const{chunk:_}=this;for(;;){const x=this.getCode(),R=x===-2,W=R?10:x;if(W===-1||w.includes(W))return this.text+=_.slice(S,this.prevI),W;R&&(this.text+=_.slice(S,this.prevI)+`
`,S=this.i)}}captureToChar(w){let{i:S}=this;const{chunk:_}=this;for(;;){let x=this.getCode();switch(x){case-2:this.text+=_.slice(S,this.prevI)+`
`,S=this.i,x=10;break;case-1:return this.text+=_.slice(S),!1}if(x===w)return this.text+=_.slice(S,this.prevI),!0}}captureNameChars(){const{chunk:w,i:S}=this;for(;;){const _=this.getCode();if(_===-1)return this.name+=w.slice(S),-1;if(!d(_))return this.name+=w.slice(S,this.prevI),_===-2?10:_}}skipSpaces(){for(;;){const w=this.getCodeNorm();if(w===-1||!l(w))return w}}setXMLVersion(w){this.currentXMLVersion=w,w==="1.0"?(this.isChar=c,this.getCode=this.getCode10):(this.isChar=m,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const w=this.i,S=this.skipSpaces();switch(this.prevI!==w&&(this.xmlDeclPossible=!1),S){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var w;const S=this.captureTo(C);switch(S){case 62:(w=this.doctypeHandler)===null||w===void 0||w.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(S),S===91?this.state=4:j(S)&&(this.state=3,this.q=S)}}sDoctypeQuote(){const w=this.q;this.captureToChar(w)&&(this.text+=String.fromCodePoint(w),this.q=null,this.state=2)}sDTD(){const w=this.captureTo(I);w!==-1&&(this.text+=String.fromCodePoint(w),w===93?this.state=2:w===60?this.state=6:j(w)&&(this.state=5,this.q=w))}sDTDQuoted(){const w=this.q;this.captureToChar(w)&&(this.text+=String.fromCodePoint(w),this.state=4,this.q=null)}sDTDOpenWaka(){const w=this.getCodeNorm();switch(this.text+=String.fromCodePoint(w),w){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const w=String.fromCodePoint(this.getCodeNorm()),S=this.openWakaBang+=w;this.text+=w,S!=="-"&&(this.state=S==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),this.state=w===45?10:8}sDTDCommentEnded(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),w===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),w===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:w}=this;const{chunk:S}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=S.slice(w,this.prevI)+`
`,w=this.i;break;case 59:{const{entityReturnState:_}=this,x=this.entity+S.slice(w,this.prevI);let R;this.state=_,x===""?(this.fail("empty entity name."),R="&;"):(R=this.parseEntity(x),this.entity=""),_===13&&this.textHandler===void 0||(this.text+=R);break e}case-1:this.entity+=S.slice(w);break e}}sOpenWaka(){const w=this.getCode();if(u(w))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(w){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var w;const S=this.getCodeNorm();S===45?(this.state=19,(w=this.commentHandler)===null||w===void 0||w.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(S),this.state=17)}sCommentEnded(){const w=this.getCodeNorm();w!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(w),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const w=this.getCodeNorm();w===93?this.state=22:(this.text+="]"+String.fromCodePoint(w),this.state=20)}sCDataEnding2(){var w;const S=this.getCodeNorm();switch(S){case 62:(w=this.cdataHandler)===null||w===void 0||w.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(S),this.state=20}}sPIFirstChar(){const w=this.getCodeNorm();this.nameStartCheck(w)?(this.piTarget+=String.fromCodePoint(w),this.state=24):w===63||l(w)?(this.fail("processing instruction without a target."),this.state=w===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(w),this.state=24)}sPIRest(){const{chunk:w,i:S}=this;for(;;){const _=this.getCodeNorm();if(_===-1)return void(this.piTarget+=w.slice(S));if(!this.nameCheck(_)){this.piTarget+=w.slice(S,this.prevI);const x=_===63;x||l(_)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=x?33:27):this.state=x?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(_));break}}}sPIBody(){if(this.text.length===0){const w=this.getCodeNorm();w===63?this.state=26:l(w)||(this.text=String.fromCodePoint(w))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var w;const S=this.getCodeNorm();if(S===62){const{piTarget:_}=this;_.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(w=this.piHandler)===null||w===void 0||w.call(this,{target:_,body:this.text}),this.piTarget=this.text="",this.state=13}else S===63?this.text+="?":(this.text+="?"+String.fromCodePoint(S),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const w=this.skipSpaces();w!==63?w!==-1&&(this.state=28,this.name=String.fromCodePoint(w)):this.state=33}sXMLDeclName(){const w=this.captureTo(V);if(w===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(l(w)||w===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=w===61?30:29}}sXMLDeclEq(){const w=this.getCodeNorm();if(w===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(w)||(w!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const w=this.getCodeNorm();if(w===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(w)||(j(w)?this.q=w:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const w=this.captureTo([this.q,63]);if(w===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(w===-1)return;const S=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const _=S;this.xmlDecl.version=_,/^1\.[0-9]+$/.test(_)?this.opt.forceXMLVersion||this.setXMLVersion(_):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(S)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=S;break;case"standalone":S!=="yes"&&S!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=S}this.name="",this.state=32}sXMLDeclSeparator(){const w=this.getCodeNorm();w!==63?(l(w)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var w;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(w=this.xmldeclHandler)===null||w===void 0||w.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var w;const S=this.captureNameChars();if(S===-1)return;const _=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=_.ns=Object.create(null)),(w=this.openTagStartHandler)===null||w===void 0||w.call(this,_),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),S){case 62:this.openTag();break;case 47:this.state=35;break;default:l(S)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const w=this.skipSpaces();w!==-1&&(u(w)?(this.unget(),this.state=37):w===62?this.openTag():w===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const w=this.captureNameChars();w===61?this.state=39:l(w)?this.state=38:w===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):w!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const w=this.skipSpaces();switch(w){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",w===62?this.openTag():u(w)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const w=this.getCodeNorm();j(w)?(this.q=w,this.state=40):l(w)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:w,chunk:S}=this;let{i:_}=this;for(;;)switch(this.getCode()){case w:return this.pushAttrib(this.name,this.text+S.slice(_,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=S.slice(_,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=S.slice(_,this.prevI)+" ",_=this.i;break;case 60:return this.text+=S.slice(_,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=S.slice(_))}}sAttribValueClosed(){const w=this.getCodeNorm();l(w)?this.state=36:w===62?this.openTag():w===47?this.state=35:u(w)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const w=this.captureTo(B);switch(w){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",w===62?this.openTag():this.state=36}}sCloseTag(){const w=this.captureNameChars();w===62?this.closeTag():l(w)?this.state=44:w!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:w,forbiddenState:S}=this;const{chunk:_,textHandler:x}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,x!==void 0){const{text:R}=this,W=_.slice(w,this.prevI);R.length!==0?(x(R+W),this.text=""):W.length!==0&&x(W)}S=0;break e;case 38:this.state=14,this.entityReturnState=13,x!==void 0&&(this.text+=_.slice(w,this.prevI)),S=0;break e;case 93:switch(S){case 0:S=1;break;case 1:S=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:S===2&&this.fail('the string "]]>" is disallowed in char data.'),S=0;break;case-2:x!==void 0&&(this.text+=_.slice(w,this.prevI)+`
`),w=this.i,S=0;break;case-1:x!==void 0&&(this.text+=_.slice(w));break e;default:S=0}this.forbiddenState=S}handleTextOutsideRoot(){let{i:w}=this;const{chunk:S,textHandler:_}=this;let x=!1;e:for(;;){const R=this.getCode();switch(R){case 60:if(this.state=15,_!==void 0){const{text:W}=this,T=S.slice(w,this.prevI);W.length!==0?(_(W+T),this.text=""):T.length!==0&&_(T)}break e;case 38:this.state=14,this.entityReturnState=13,_!==void 0&&(this.text+=S.slice(w,this.prevI)),x=!0;break e;case-2:_!==void 0&&(this.text+=S.slice(w,this.prevI)+`
`),w=this.i;break;case-1:_!==void 0&&(this.text+=S.slice(w));break e;default:l(R)||(x=!0)}}x&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(w,S){var _;const{prefix:x,local:R}=this.qname(w),W={name:w,prefix:x,local:R,value:S};if(this.attribList.push(W),(_=this.attributeHandler)===null||_===void 0||_.call(this,W),x==="xmlns"){const T=S.trim();this.currentXMLVersion==="1.0"&&T===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[R]=T,P(this,R,T)}else if(w==="xmlns"){const T=S.trim();this.topNS[""]=T,P(this,"",T)}}pushAttribPlain(w,S){var _;const x={name:w,value:S};this.attribList.push(x),(_=this.attributeHandler)===null||_===void 0||_.call(this,x)}end(){var w,S;this.sawRoot||this.fail("document must contain a root element.");const{tags:_}=this;for(;_.length>0;){const R=_.pop();this.fail("unclosed tag: "+R.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:x}=this;return x.length!==0&&((w=this.textHandler)===null||w===void 0||w.call(this,x),this.text=""),this._closed=!0,(S=this.endHandler)===null||S===void 0||S.call(this),this._init(),this}resolve(w){var S,_;let x=this.topNS[w];if(x!==void 0)return x;const{tags:R}=this;for(let W=R.length-1;W>=0;W--)if(x=R[W].ns[w],x!==void 0)return x;return x=this.ns[w],x!==void 0?x:(_=(S=this.opt).resolvePrefix)===null||_===void 0?void 0:_.call(S,w)}qname(w){const S=w.indexOf(":");if(S===-1)return{prefix:"",local:w};const _=w.slice(S+1),x=w.slice(0,S);return(x===""||_===""||_.includes(":"))&&this.fail(`malformed name: ${w}.`),{prefix:x,local:_}}processAttribsNS(){var w;const{attribList:S}=this,_=this.tag;{const{prefix:W,local:T}=this.qname(_.name);_.prefix=W,_.local=T;const z=_.uri=(w=this.resolve(W))!==null&&w!==void 0?w:"";W!==""&&(W==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),z===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(W)}.`),_.uri=W))}if(S.length===0)return;const{attributes:x}=_,R=new Set;for(const W of S){const{name:T,prefix:z,local:q}=W;let Y,U;z===""?(Y=T==="xmlns"?b:"",U=T):(Y=this.resolve(z),Y===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(z)}.`),Y=z),U=`{${Y}}${q}`),R.has(U)&&this.fail(`duplicate attribute: ${U}.`),R.add(U),W.uri=Y,x[T]=W}this.attribList=[]}processAttribsPlain(){const{attribList:w}=this,S=this.tag.attributes;for(const{name:_,value:x}of w)S[_]!==void 0&&this.fail(`duplicate attribute: ${_}.`),S[_]=x;this.attribList=[]}openTag(){var w;this.processAttribs();const{tags:S}=this,_=this.tag;_.isSelfClosing=!1,(w=this.openTagHandler)===null||w===void 0||w.call(this,_),S.push(_),this.state=13,this.name=""}openSelfClosingTag(){var w,S,_;this.processAttribs();const{tags:x}=this,R=this.tag;R.isSelfClosing=!0,(w=this.openTagHandler)===null||w===void 0||w.call(this,R),(S=this.closeTagHandler)===null||S===void 0||S.call(this,R),(this.tag=(_=x[x.length-1])!==null&&_!==void 0?_:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:w,name:S}=this;if(this.state=13,this.name="",S==="")return this.fail("weird empty close tag."),void(this.text+="</>");const _=this.closeTagHandler;let x=w.length;for(;x-- >0;){const R=this.tag=w.pop();if(this.topNS=R.ns,_==null||_(R),R.name===S)break;this.fail("unexpected close tag.")}x===0?this.closedRoot=!0:x<0&&(this.fail(`unmatched closing tag: ${S}.`),this.text+=`</${S}>`)}parseEntity(w){if(w[0]!=="#"){const _=this.ENTITIES[w];return _!==void 0?_:(this.fail(this.isName(w)?"undefined entity.":"disallowed character in entity name."),`&${w};`)}let S=NaN;return w[1]==="x"&&/^#x[0-9a-f]+$/i.test(w)?S=parseInt(w.slice(2),16):/^#[0-9]+$/.test(w)&&(S=parseInt(w.slice(1),10)),this.isChar(S)?String.fromCodePoint(S):(this.fail("malformed character entity."),`&${w};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(t,n,s){var i=t("safe-buffer").Buffer;function a(o,l){this._block=i.alloc(o),this._finalSize=l,this._blockSize=o,this._len=0}a.prototype.update=function(o,l){typeof o=="string"&&(l=l||"utf8",o=i.from(o,l));for(var c=this._block,u=this._blockSize,d=o.length,h=this._len,f=0;f<d;){for(var m=h%u,g=Math.min(d-f,u-m),p=0;p<g;p++)c[m+p]=o[f+p];f+=g,(h+=g)%u==0&&this._update(c)}return this._len+=d,this},a.prototype.digest=function(o){var l=this._len%this._blockSize;this._block[l]=128,this._block.fill(0,l+1),l>=this._finalSize&&(this._update(this._block),this._block.fill(0));var c=8*this._len;if(c<=4294967295)this._block.writeUInt32BE(c,this._blockSize-4);else{var u=(4294967295&c)>>>0,d=(c-u)/4294967296;this._block.writeUInt32BE(d,this._blockSize-8),this._block.writeUInt32BE(u,this._blockSize-4)}this._update(this._block);var h=this._hash();return o?h.toString(o):h},a.prototype._update=function(){throw new Error("_update must be implemented by subclass")},n.exports=a},{"safe-buffer":494}],498:[function(t,n,s){var i=n.exports=function(a){a=a.toLowerCase();var o=i[a];if(!o)throw new Error(a+" is not supported (we accept pull requests)");return new o};i.sha=t("./sha"),i.sha1=t("./sha1"),i.sha224=t("./sha224"),i.sha256=t("./sha256"),i.sha384=t("./sha384"),i.sha512=t("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(t,n,s){var i=t("inherits"),a=t("./hash"),o=t("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],c=new Array(80);function u(){this.init(),this._w=c,a.call(this,64,56)}function d(f){return f<<30|f>>>2}function h(f,m,g,p){return f===0?m&g|~m&p:f===2?m&g|m&p|g&p:m^g^p}i(u,a),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(f){for(var m,g=this._w,p=0|this._a,v=0|this._b,y=0|this._c,b=0|this._d,E=0|this._e,N=0;N<16;++N)g[N]=f.readInt32BE(4*N);for(;N<80;++N)g[N]=g[N-3]^g[N-8]^g[N-14]^g[N-16];for(var j=0;j<80;++j){var D=~~(j/20),C=0|((m=p)<<5|m>>>27)+h(D,v,y,b)+E+g[j]+l[D];E=b,b=y,y=d(v),v=p,p=C}this._a=p+this._a|0,this._b=v+this._b|0,this._c=y+this._c|0,this._d=b+this._d|0,this._e=E+this._e|0},u.prototype._hash=function(){var f=o.allocUnsafe(20);return f.writeInt32BE(0|this._a,0),f.writeInt32BE(0|this._b,4),f.writeInt32BE(0|this._c,8),f.writeInt32BE(0|this._d,12),f.writeInt32BE(0|this._e,16),f},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(t,n,s){var i=t("inherits"),a=t("./hash"),o=t("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],c=new Array(80);function u(){this.init(),this._w=c,a.call(this,64,56)}function d(m){return m<<5|m>>>27}function h(m){return m<<30|m>>>2}function f(m,g,p,v){return m===0?g&p|~g&v:m===2?g&p|g&v|p&v:g^p^v}i(u,a),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(m){for(var g,p=this._w,v=0|this._a,y=0|this._b,b=0|this._c,E=0|this._d,N=0|this._e,j=0;j<16;++j)p[j]=m.readInt32BE(4*j);for(;j<80;++j)p[j]=(g=p[j-3]^p[j-8]^p[j-14]^p[j-16])<<1|g>>>31;for(var D=0;D<80;++D){var C=~~(D/20),I=d(v)+f(C,y,b,E)+N+p[D]+l[C]|0;N=E,E=b,b=h(y),y=v,v=I}this._a=v+this._a|0,this._b=y+this._b|0,this._c=b+this._c|0,this._d=E+this._d|0,this._e=N+this._e|0},u.prototype._hash=function(){var m=o.allocUnsafe(20);return m.writeInt32BE(0|this._a,0),m.writeInt32BE(0|this._b,4),m.writeInt32BE(0|this._c,8),m.writeInt32BE(0|this._d,12),m.writeInt32BE(0|this._e,16),m},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(t,n,s){var i=t("inherits"),a=t("./sha256"),o=t("./hash"),l=t("safe-buffer").Buffer,c=new Array(64);function u(){this.init(),this._w=c,o.call(this,64,56)}i(u,a),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var d=l.allocUnsafe(28);return d.writeInt32BE(this._a,0),d.writeInt32BE(this._b,4),d.writeInt32BE(this._c,8),d.writeInt32BE(this._d,12),d.writeInt32BE(this._e,16),d.writeInt32BE(this._f,20),d.writeInt32BE(this._g,24),d},n.exports=u},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(t,n,s){var i=t("inherits"),a=t("./hash"),o=t("safe-buffer").Buffer,l=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],c=new Array(64);function u(){this.init(),this._w=c,a.call(this,64,56)}function d(p,v,y){return y^p&(v^y)}function h(p,v,y){return p&v|y&(p|v)}function f(p){return(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10)}function m(p){return(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7)}function g(p){return(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3}i(u,a),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(p){for(var v,y=this._w,b=0|this._a,E=0|this._b,N=0|this._c,j=0|this._d,D=0|this._e,C=0|this._f,I=0|this._g,V=0|this._h,B=0;B<16;++B)y[B]=p.readInt32BE(4*B);for(;B<64;++B)y[B]=0|(((v=y[B-2])>>>17|v<<15)^(v>>>19|v<<13)^v>>>10)+y[B-7]+g(y[B-15])+y[B-16];for(var P=0;P<64;++P){var k=V+m(D)+d(D,C,I)+l[P]+y[P]|0,M=f(b)+h(b,E,N)|0;V=I,I=C,C=D,D=j+k|0,j=N,N=E,E=b,b=k+M|0}this._a=b+this._a|0,this._b=E+this._b|0,this._c=N+this._c|0,this._d=j+this._d|0,this._e=D+this._e|0,this._f=C+this._f|0,this._g=I+this._g|0,this._h=V+this._h|0},u.prototype._hash=function(){var p=o.allocUnsafe(32);return p.writeInt32BE(this._a,0),p.writeInt32BE(this._b,4),p.writeInt32BE(this._c,8),p.writeInt32BE(this._d,12),p.writeInt32BE(this._e,16),p.writeInt32BE(this._f,20),p.writeInt32BE(this._g,24),p.writeInt32BE(this._h,28),p},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(t,n,s){var i=t("inherits"),a=t("./sha512"),o=t("./hash"),l=t("safe-buffer").Buffer,c=new Array(160);function u(){this.init(),this._w=c,o.call(this,128,112)}i(u,a),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var d=l.allocUnsafe(48);function h(f,m,g){d.writeInt32BE(f,g),d.writeInt32BE(m,g+4)}return h(this._ah,this._al,0),h(this._bh,this._bl,8),h(this._ch,this._cl,16),h(this._dh,this._dl,24),h(this._eh,this._el,32),h(this._fh,this._fl,40),d},n.exports=u},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(t,n,s){var i=t("inherits"),a=t("./hash"),o=t("safe-buffer").Buffer,l=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],c=new Array(160);function u(){this.init(),this._w=c,a.call(this,128,112)}function d(E,N,j){return j^E&(N^j)}function h(E,N,j){return E&N|j&(E|N)}function f(E,N){return(E>>>28|N<<4)^(N>>>2|E<<30)^(N>>>7|E<<25)}function m(E,N){return(E>>>14|N<<18)^(E>>>18|N<<14)^(N>>>9|E<<23)}function g(E,N){return(E>>>1|N<<31)^(E>>>8|N<<24)^E>>>7}function p(E,N){return(E>>>1|N<<31)^(E>>>8|N<<24)^(E>>>7|N<<25)}function v(E,N){return(E>>>19|N<<13)^(N>>>29|E<<3)^E>>>6}function y(E,N){return(E>>>19|N<<13)^(N>>>29|E<<3)^(E>>>6|N<<26)}function b(E,N){return E>>>0<N>>>0?1:0}i(u,a),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(E){for(var N=this._w,j=0|this._ah,D=0|this._bh,C=0|this._ch,I=0|this._dh,V=0|this._eh,B=0|this._fh,P=0|this._gh,k=0|this._hh,M=0|this._al,A=0|this._bl,w=0|this._cl,S=0|this._dl,_=0|this._el,x=0|this._fl,R=0|this._gl,W=0|this._hl,T=0;T<32;T+=2)N[T]=E.readInt32BE(4*T),N[T+1]=E.readInt32BE(4*T+4);for(;T<160;T+=2){var z=N[T-30],q=N[T-30+1],Y=g(z,q),U=p(q,z),Q=v(z=N[T-4],q=N[T-4+1]),F=y(q,z),O=N[T-14],K=N[T-14+1],ne=N[T-32],ee=N[T-32+1],ie=U+K|0,he=Y+O+b(ie,U)|0;he=(he=he+Q+b(ie=ie+F|0,F)|0)+ne+b(ie=ie+ee|0,ee)|0,N[T]=he,N[T+1]=ie}for(var ce=0;ce<160;ce+=2){he=N[ce],ie=N[ce+1];var te=h(j,D,C),se=h(M,A,w),ge=f(j,M),de=f(M,j),Te=m(V,_),De=m(_,V),_e=l[ce],fe=l[ce+1],ae=d(V,B,P),ve=d(_,x,R),Ee=W+De|0,Fe=k+Te+b(Ee,W)|0;Fe=(Fe=(Fe=Fe+ae+b(Ee=Ee+ve|0,ve)|0)+_e+b(Ee=Ee+fe|0,fe)|0)+he+b(Ee=Ee+ie|0,ie)|0;var Ue=de+se|0,Ge=ge+te+b(Ue,de)|0;k=P,W=R,P=B,R=x,B=V,x=_,V=I+Fe+b(_=S+Ee|0,S)|0,I=C,S=w,C=D,w=A,D=j,A=M,j=Fe+Ge+b(M=Ee+Ue|0,Ee)|0}this._al=this._al+M|0,this._bl=this._bl+A|0,this._cl=this._cl+w|0,this._dl=this._dl+S|0,this._el=this._el+_|0,this._fl=this._fl+x|0,this._gl=this._gl+R|0,this._hl=this._hl+W|0,this._ah=this._ah+j+b(this._al,M)|0,this._bh=this._bh+D+b(this._bl,A)|0,this._ch=this._ch+C+b(this._cl,w)|0,this._dh=this._dh+I+b(this._dl,S)|0,this._eh=this._eh+V+b(this._el,_)|0,this._fh=this._fh+B+b(this._fl,x)|0,this._gh=this._gh+P+b(this._gl,R)|0,this._hh=this._hh+k+b(this._hl,W)|0},u.prototype._hash=function(){var E=o.allocUnsafe(64);function N(j,D,C){E.writeInt32BE(j,C),E.writeInt32BE(D,C+4)}return N(this._ah,this._al,0),N(this._bh,this._bl,8),N(this._ch,this._cl,16),N(this._dh,this._dl,24),N(this._eh,this._el,32),N(this._fh,this._fl,40),N(this._gh,this._gl,48),N(this._hh,this._hl,56),E},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(t,n,s){n.exports=a;var i=t("events").EventEmitter;function a(){i.call(this)}t("inherits")(a,i),a.Readable=t("readable-stream/readable.js"),a.Writable=t("readable-stream/writable.js"),a.Duplex=t("readable-stream/duplex.js"),a.Transform=t("readable-stream/transform.js"),a.PassThrough=t("readable-stream/passthrough.js"),a.Stream=a,a.prototype.pipe=function(o,l){var c=this;function u(v){o.writable&&o.write(v)===!1&&c.pause&&c.pause()}function d(){c.readable&&c.resume&&c.resume()}c.on("data",u),o.on("drain",d),o._isStdio||l&&l.end===!1||(c.on("end",f),c.on("close",m));var h=!1;function f(){h||(h=!0,o.end())}function m(){h||(h=!0,typeof o.destroy=="function"&&o.destroy())}function g(v){if(p(),i.listenerCount(this,"error")===0)throw v}function p(){c.removeListener("data",u),o.removeListener("drain",d),c.removeListener("end",f),c.removeListener("close",m),c.removeListener("error",g),o.removeListener("error",g),c.removeListener("end",p),c.removeListener("close",p),o.removeListener("close",p)}return c.on("error",g),o.on("error",g),c.on("end",p),c.on("close",p),o.on("close",p),o.emit("pipe",c),o}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(t,n,s){var i={}.toString;n.exports=Array.isArray||function(a){return i.call(a)=="[object Array]"}},{}],507:[function(t,n,s){n.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(t,n,s){var i=t("process-nextick-args"),a=Object.keys||function(p){var v=[];for(var y in p)v.push(y);return v};n.exports=f;var o=Object.create(t("core-util-is"));o.inherits=t("inherits");var l=t("./_stream_readable"),c=t("./_stream_writable");o.inherits(f,l);for(var u=a(c.prototype),d=0;d<u.length;d++){var h=u[d];f.prototype[h]||(f.prototype[h]=c.prototype[h])}function f(p){if(!(this instanceof f))return new f(p);l.call(this,p),c.call(this,p),p&&p.readable===!1&&(this.readable=!1),p&&p.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,p&&p.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",m)}function m(){this.allowHalfOpen||this._writableState.ended||i.nextTick(g,this)}function g(p){p.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}}),f.prototype._destroy=function(p,v){this.push(null),this.end(),i.nextTick(v,p)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(t,n,s){n.exports=o;var i=t("./_stream_transform"),a=Object.create(t("core-util-is"));function o(l){if(!(this instanceof o))return new o(l);i.call(this,l)}a.inherits=t("inherits"),a.inherits(o,i),o.prototype._transform=function(l,c,u){u(null,l)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(t,n,s){(function(i,a){(function(){var o=t("process-nextick-args");n.exports=j;var l,c=t("isarray");j.ReadableState=N,t("events").EventEmitter;var u=function(W,T){return W.listeners(T).length},d=t("./internal/streams/stream"),h=t("safe-buffer").Buffer,f=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},m=Object.create(t("core-util-is"));m.inherits=t("inherits");var g=t("util"),p=void 0;p=g&&g.debuglog?g.debuglog("stream"):function(){};var v,y=t("./internal/streams/BufferList"),b=t("./internal/streams/destroy");m.inherits(j,d);var E=["error","close","destroy","pause","resume"];function N(W,T){W=W||{};var z=T instanceof(l=l||t("./_stream_duplex"));this.objectMode=!!W.objectMode,z&&(this.objectMode=this.objectMode||!!W.readableObjectMode);var q=W.highWaterMark,Y=W.readableHighWaterMark,U=this.objectMode?16:16384;this.highWaterMark=q||q===0?q:z&&(Y||Y===0)?Y:U,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=W.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,W.encoding&&(v||(v=t("string_decoder/").StringDecoder),this.decoder=new v(W.encoding),this.encoding=W.encoding)}function j(W){if(l=l||t("./_stream_duplex"),!(this instanceof j))return new j(W);this._readableState=new N(W,this),this.readable=!0,W&&(typeof W.read=="function"&&(this._read=W.read),typeof W.destroy=="function"&&(this._destroy=W.destroy)),d.call(this)}function D(W,T,z,q,Y){var U,Q=W._readableState;return T===null?(Q.reading=!1,function(F,O){if(!O.ended){if(O.decoder){var K=O.decoder.end();K&&K.length&&(O.buffer.push(K),O.length+=O.objectMode?1:K.length)}O.ended=!0,V(F)}}(W,Q)):(Y||(U=function(F,O){var K;ne=O,h.isBuffer(ne)||ne instanceof f||typeof O=="string"||O===void 0||F.objectMode||(K=new TypeError("Invalid non-string/buffer chunk"));var ne;return K}(Q,T)),U?W.emit("error",U):Q.objectMode||T&&T.length>0?(typeof T=="string"||Q.objectMode||Object.getPrototypeOf(T)===h.prototype||(T=function(F){return h.from(F)}(T)),q?Q.endEmitted?W.emit("error",new Error("stream.unshift() after end event")):C(W,Q,T,!0):Q.ended?W.emit("error",new Error("stream.push() after EOF")):(Q.reading=!1,Q.decoder&&!z?(T=Q.decoder.write(T),Q.objectMode||T.length!==0?C(W,Q,T,!1):P(W,Q)):C(W,Q,T,!1))):q||(Q.reading=!1)),function(F){return!F.ended&&(F.needReadable||F.length<F.highWaterMark||F.length===0)}(Q)}function C(W,T,z,q){T.flowing&&T.length===0&&!T.sync?(W.emit("data",z),W.read(0)):(T.length+=T.objectMode?1:z.length,q?T.buffer.unshift(z):T.buffer.push(z),T.needReadable&&V(W)),P(W,T)}Object.defineProperty(j.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(W){this._readableState&&(this._readableState.destroyed=W)}}),j.prototype.destroy=b.destroy,j.prototype._undestroy=b.undestroy,j.prototype._destroy=function(W,T){this.push(null),T(W)},j.prototype.push=function(W,T){var z,q=this._readableState;return q.objectMode?z=!0:typeof W=="string"&&((T=T||q.defaultEncoding)!==q.encoding&&(W=h.from(W,T),T=""),z=!0),D(this,W,T,!1,z)},j.prototype.unshift=function(W){return D(this,W,null,!0,!1)},j.prototype.isPaused=function(){return this._readableState.flowing===!1},j.prototype.setEncoding=function(W){return v||(v=t("string_decoder/").StringDecoder),this._readableState.decoder=new v(W),this._readableState.encoding=W,this};function I(W,T){return W<=0||T.length===0&&T.ended?0:T.objectMode?1:W!=W?T.flowing&&T.length?T.buffer.head.data.length:T.length:(W>T.highWaterMark&&(T.highWaterMark=function(z){return z>=8388608?z=8388608:(z--,z|=z>>>1,z|=z>>>2,z|=z>>>4,z|=z>>>8,z|=z>>>16,z++),z}(W)),W<=T.length?W:T.ended?T.length:(T.needReadable=!0,0))}function V(W){var T=W._readableState;T.needReadable=!1,T.emittedReadable||(p("emitReadable",T.flowing),T.emittedReadable=!0,T.sync?o.nextTick(B,W):B(W))}function B(W){p("emit readable"),W.emit("readable"),w(W)}function P(W,T){T.readingMore||(T.readingMore=!0,o.nextTick(k,W,T))}function k(W,T){for(var z=T.length;!T.reading&&!T.flowing&&!T.ended&&T.length<T.highWaterMark&&(p("maybeReadMore read 0"),W.read(0),z!==T.length);)z=T.length;T.readingMore=!1}function M(W){p("readable nexttick read 0"),W.read(0)}function A(W,T){T.reading||(p("resume read 0"),W.read(0)),T.resumeScheduled=!1,T.awaitDrain=0,W.emit("resume"),w(W),T.flowing&&!T.reading&&W.read(0)}function w(W){var T=W._readableState;for(p("flow",T.flowing);T.flowing&&W.read()!==null;);}function S(W,T){return T.length===0?null:(T.objectMode?z=T.buffer.shift():!W||W>=T.length?(z=T.decoder?T.buffer.join(""):T.buffer.length===1?T.buffer.head.data:T.buffer.concat(T.length),T.buffer.clear()):z=function(q,Y,U){var Q;return q<Y.head.data.length?(Q=Y.head.data.slice(0,q),Y.head.data=Y.head.data.slice(q)):Q=q===Y.head.data.length?Y.shift():U?function(F,O){var K=O.head,ne=1,ee=K.data;for(F-=ee.length;K=K.next;){var ie=K.data,he=F>ie.length?ie.length:F;if(he===ie.length?ee+=ie:ee+=ie.slice(0,F),(F-=he)===0){he===ie.length?(++ne,K.next?O.head=K.next:O.head=O.tail=null):(O.head=K,K.data=ie.slice(he));break}++ne}return O.length-=ne,ee}(q,Y):function(F,O){var K=h.allocUnsafe(F),ne=O.head,ee=1;for(ne.data.copy(K),F-=ne.data.length;ne=ne.next;){var ie=ne.data,he=F>ie.length?ie.length:F;if(ie.copy(K,K.length-F,0,he),(F-=he)===0){he===ie.length?(++ee,ne.next?O.head=ne.next:O.head=O.tail=null):(O.head=ne,ne.data=ie.slice(he));break}++ee}return O.length-=ee,K}(q,Y),Q}(W,T.buffer,T.decoder),z);var z}function _(W){var T=W._readableState;if(T.length>0)throw new Error('"endReadable()" called on non-empty stream');T.endEmitted||(T.ended=!0,o.nextTick(x,T,W))}function x(W,T){W.endEmitted||W.length!==0||(W.endEmitted=!0,T.readable=!1,T.emit("end"))}function R(W,T){for(var z=0,q=W.length;z<q;z++)if(W[z]===T)return z;return-1}j.prototype.read=function(W){p("read",W),W=parseInt(W,10);var T=this._readableState,z=W;if(W!==0&&(T.emittedReadable=!1),W===0&&T.needReadable&&(T.length>=T.highWaterMark||T.ended))return p("read: emitReadable",T.length,T.ended),T.length===0&&T.ended?_(this):V(this),null;if((W=I(W,T))===0&&T.ended)return T.length===0&&_(this),null;var q,Y=T.needReadable;return p("need readable",Y),(T.length===0||T.length-W<T.highWaterMark)&&p("length less than watermark",Y=!0),T.ended||T.reading?p("reading or ended",Y=!1):Y&&(p("do read"),T.reading=!0,T.sync=!0,T.length===0&&(T.needReadable=!0),this._read(T.highWaterMark),T.sync=!1,T.reading||(W=I(z,T))),(q=W>0?S(W,T):null)===null?(T.needReadable=!0,W=0):T.length-=W,T.length===0&&(T.ended||(T.needReadable=!0),z!==W&&T.ended&&_(this)),q!==null&&this.emit("data",q),q},j.prototype._read=function(W){this.emit("error",new Error("_read() is not implemented"))},j.prototype.pipe=function(W,T){var z=this,q=this._readableState;switch(q.pipesCount){case 0:q.pipes=W;break;case 1:q.pipes=[q.pipes,W];break;default:q.pipes.push(W)}q.pipesCount+=1,p("pipe count=%d opts=%j",q.pipesCount,T);var Y=(!T||T.end!==!1)&&W!==i.stdout&&W!==i.stderr?Q:ce;function U(te,se){p("onunpipe"),te===z&&se&&se.hasUnpiped===!1&&(se.hasUnpiped=!0,p("cleanup"),W.removeListener("close",ie),W.removeListener("finish",he),W.removeListener("drain",F),W.removeListener("error",ee),W.removeListener("unpipe",U),z.removeListener("end",Q),z.removeListener("end",ce),z.removeListener("data",ne),O=!0,!q.awaitDrain||W._writableState&&!W._writableState.needDrain||F())}function Q(){p("onend"),W.end()}q.endEmitted?o.nextTick(Y):z.once("end",Y),W.on("unpipe",U);var F=function(te){return function(){var se=te._readableState;p("pipeOnDrain",se.awaitDrain),se.awaitDrain&&se.awaitDrain--,se.awaitDrain===0&&u(te,"data")&&(se.flowing=!0,w(te))}}(z);W.on("drain",F);var O=!1,K=!1;function ne(te){p("ondata"),K=!1,W.write(te)!==!1||K||((q.pipesCount===1&&q.pipes===W||q.pipesCount>1&&R(q.pipes,W)!==-1)&&!O&&(p("false write response, pause",q.awaitDrain),q.awaitDrain++,K=!0),z.pause())}function ee(te){p("onerror",te),ce(),W.removeListener("error",ee),u(W,"error")===0&&W.emit("error",te)}function ie(){W.removeListener("finish",he),ce()}function he(){p("onfinish"),W.removeListener("close",ie),ce()}function ce(){p("unpipe"),z.unpipe(W)}return z.on("data",ne),function(te,se,ge){if(typeof te.prependListener=="function")return te.prependListener(se,ge);te._events&&te._events[se]?c(te._events[se])?te._events[se].unshift(ge):te._events[se]=[ge,te._events[se]]:te.on(se,ge)}(W,"error",ee),W.once("close",ie),W.once("finish",he),W.emit("pipe",z),q.flowing||(p("pipe resume"),z.resume()),W},j.prototype.unpipe=function(W){var T=this._readableState,z={hasUnpiped:!1};if(T.pipesCount===0)return this;if(T.pipesCount===1)return W&&W!==T.pipes||(W||(W=T.pipes),T.pipes=null,T.pipesCount=0,T.flowing=!1,W&&W.emit("unpipe",this,z)),this;if(!W){var q=T.pipes,Y=T.pipesCount;T.pipes=null,T.pipesCount=0,T.flowing=!1;for(var U=0;U<Y;U++)q[U].emit("unpipe",this,{hasUnpiped:!1});return this}var Q=R(T.pipes,W);return Q===-1||(T.pipes.splice(Q,1),T.pipesCount-=1,T.pipesCount===1&&(T.pipes=T.pipes[0]),W.emit("unpipe",this,z)),this},j.prototype.on=function(W,T){var z=d.prototype.on.call(this,W,T);if(W==="data")this._readableState.flowing!==!1&&this.resume();else if(W==="readable"){var q=this._readableState;q.endEmitted||q.readableListening||(q.readableListening=q.needReadable=!0,q.emittedReadable=!1,q.reading?q.length&&V(this):o.nextTick(M,this))}return z},j.prototype.addListener=j.prototype.on,j.prototype.resume=function(){var W=this._readableState;return W.flowing||(p("resume"),W.flowing=!0,function(T,z){z.resumeScheduled||(z.resumeScheduled=!0,o.nextTick(A,T,z))}(this,W)),this},j.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},j.prototype.wrap=function(W){var T=this,z=this._readableState,q=!1;for(var Y in W.on("end",function(){if(p("wrapped end"),z.decoder&&!z.ended){var Q=z.decoder.end();Q&&Q.length&&T.push(Q)}T.push(null)}),W.on("data",function(Q){p("wrapped data"),z.decoder&&(Q=z.decoder.write(Q)),z.objectMode&&Q==null||(z.objectMode||Q&&Q.length)&&(T.push(Q)||(q=!0,W.pause()))}),W)this[Y]===void 0&&typeof W[Y]=="function"&&(this[Y]=function(Q){return function(){return W[Q].apply(W,arguments)}}(Y));for(var U=0;U<E.length;U++)W.on(E[U],this.emit.bind(this,E[U]));return this._read=function(Q){p("wrapped _read",Q),q&&(q=!1,W.resume())},this},Object.defineProperty(j.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),j._fromList=S}).call(this)}).call(this,t("_process"),typeof gr<"u"?gr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(t,n,s){n.exports=l;var i=t("./_stream_duplex"),a=Object.create(t("core-util-is"));function o(d,h){var f=this._transformState;f.transforming=!1;var m=f.writecb;if(!m)return this.emit("error",new Error("write callback called multiple times"));f.writechunk=null,f.writecb=null,h!=null&&this.push(h),m(d);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function l(d){if(!(this instanceof l))return new l(d);i.call(this,d),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",c)}function c(){var d=this;typeof this._flush=="function"?this._flush(function(h,f){u(d,h,f)}):u(this,null,null)}function u(d,h,f){if(h)return d.emit("error",h);if(f!=null&&d.push(f),d._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(d._transformState.transforming)throw new Error("Calling transform done when still transforming");return d.push(null)}a.inherits=t("inherits"),a.inherits(l,i),l.prototype.push=function(d,h){return this._transformState.needTransform=!1,i.prototype.push.call(this,d,h)},l.prototype._transform=function(d,h,f){throw new Error("_transform() is not implemented")},l.prototype._write=function(d,h,f){var m=this._transformState;if(m.writecb=f,m.writechunk=d,m.writeencoding=h,!m.transforming){var g=this._readableState;(m.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},l.prototype._read=function(d){var h=this._transformState;h.writechunk!==null&&h.writecb&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},l.prototype._destroy=function(d,h){var f=this;i.prototype._destroy.call(this,d,function(m){h(m),f.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(t,n,s){(function(i,a,o){(function(){var l=t("process-nextick-args");function c(P){var k=this;this.next=null,this.entry=null,this.finish=function(){(function(M,A,w){var S=M.entry;for(M.entry=null;S;){var _=S.callback;A.pendingcb--,_(w),S=S.next}A.corkedRequestsFree.next=M})(k,P)}}n.exports=N;var u,d=!i.browser&&["v0.10","v0.9."].indexOf(i.version.slice(0,5))>-1?o:l.nextTick;N.WritableState=E;var h=Object.create(t("core-util-is"));h.inherits=t("inherits");var f={deprecate:t("util-deprecate")},m=t("./internal/streams/stream"),g=t("safe-buffer").Buffer,p=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},v,y=t("./internal/streams/destroy");function b(){}function E(P,k){u=u||t("./_stream_duplex"),P=P||{};var M=k instanceof u;this.objectMode=!!P.objectMode,M&&(this.objectMode=this.objectMode||!!P.writableObjectMode);var A=P.highWaterMark,w=P.writableHighWaterMark,S=this.objectMode?16:16384;this.highWaterMark=A||A===0?A:M&&(w||w===0)?w:S,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var _=P.decodeStrings===!1;this.decodeStrings=!_,this.defaultEncoding=P.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(x){(function(R,W){var T=R._writableState,z=T.sync,q=T.writecb;if(function(U){U.writing=!1,U.writecb=null,U.length-=U.writelen,U.writelen=0}(T),W)(function(U,Q,F,O,K){--Q.pendingcb,F?(l.nextTick(K,O),l.nextTick(B,U,Q),U._writableState.errorEmitted=!0,U.emit("error",O)):(K(O),U._writableState.errorEmitted=!0,U.emit("error",O),B(U,Q))})(R,T,z,W,q);else{var Y=I(T);Y||T.corked||T.bufferProcessing||!T.bufferedRequest||C(R,T),z?d(D,R,T,Y,q):D(R,T,Y,q)}})(k,x)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new c(this)}function N(P){if(u=u||t("./_stream_duplex"),!(v.call(N,this)||this instanceof u))return new N(P);this._writableState=new E(P,this),this.writable=!0,P&&(typeof P.write=="function"&&(this._write=P.write),typeof P.writev=="function"&&(this._writev=P.writev),typeof P.destroy=="function"&&(this._destroy=P.destroy),typeof P.final=="function"&&(this._final=P.final)),m.call(this)}function j(P,k,M,A,w,S,_){k.writelen=A,k.writecb=_,k.writing=!0,k.sync=!0,M?P._writev(w,k.onwrite):P._write(w,S,k.onwrite),k.sync=!1}function D(P,k,M,A){M||function(w,S){S.length===0&&S.needDrain&&(S.needDrain=!1,w.emit("drain"))}(P,k),k.pendingcb--,A(),B(P,k)}function C(P,k){k.bufferProcessing=!0;var M=k.bufferedRequest;if(P._writev&&M&&M.next){var A=k.bufferedRequestCount,w=new Array(A),S=k.corkedRequestsFree;S.entry=M;for(var _=0,x=!0;M;)w[_]=M,M.isBuf||(x=!1),M=M.next,_+=1;w.allBuffers=x,j(P,k,!0,k.length,w,"",S.finish),k.pendingcb++,k.lastBufferedRequest=null,S.next?(k.corkedRequestsFree=S.next,S.next=null):k.corkedRequestsFree=new c(k),k.bufferedRequestCount=0}else{for(;M;){var R=M.chunk,W=M.encoding,T=M.callback;if(j(P,k,!1,k.objectMode?1:R.length,R,W,T),M=M.next,k.bufferedRequestCount--,k.writing)break}M===null&&(k.lastBufferedRequest=null)}k.bufferedRequest=M,k.bufferProcessing=!1}function I(P){return P.ending&&P.length===0&&P.bufferedRequest===null&&!P.finished&&!P.writing}function V(P,k){P._final(function(M){k.pendingcb--,M&&P.emit("error",M),k.prefinished=!0,P.emit("prefinish"),B(P,k)})}function B(P,k){var M=I(k);return M&&(function(A,w){w.prefinished||w.finalCalled||(typeof A._final=="function"?(w.pendingcb++,w.finalCalled=!0,l.nextTick(V,A,w)):(w.prefinished=!0,A.emit("prefinish")))}(P,k),k.pendingcb===0&&(k.finished=!0,P.emit("finish"))),M}h.inherits(N,m),E.prototype.getBuffer=function(){for(var P=this.bufferedRequest,k=[];P;)k.push(P),P=P.next;return k},function(){try{Object.defineProperty(E.prototype,"buffer",{get:f.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(v=Function.prototype[Symbol.hasInstance],Object.defineProperty(N,Symbol.hasInstance,{value:function(P){return!!v.call(this,P)||this===N&&P&&P._writableState instanceof E}})):v=function(P){return P instanceof this},N.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},N.prototype.write=function(P,k,M){var A,w=this._writableState,S=!1,_=!w.objectMode&&(A=P,g.isBuffer(A)||A instanceof p);return _&&!g.isBuffer(P)&&(P=function(x){return g.from(x)}(P)),typeof k=="function"&&(M=k,k=null),_?k="buffer":k||(k=w.defaultEncoding),typeof M!="function"&&(M=b),w.ended?function(x,R){var W=new Error("write after end");x.emit("error",W),l.nextTick(R,W)}(this,M):(_||function(x,R,W,T){var z=!0,q=!1;return W===null?q=new TypeError("May not write null values to stream"):typeof W=="string"||W===void 0||R.objectMode||(q=new TypeError("Invalid non-string/buffer chunk")),q&&(x.emit("error",q),l.nextTick(T,q),z=!1),z}(this,w,P,M))&&(w.pendingcb++,S=function(x,R,W,T,z,q){if(!W){var Y=function(O,K,ne){return O.objectMode||O.decodeStrings===!1||typeof K!="string"||(K=g.from(K,ne)),K}(R,T,z);T!==Y&&(W=!0,z="buffer",T=Y)}var U=R.objectMode?1:T.length;R.length+=U;var Q=R.length<R.highWaterMark;if(Q||(R.needDrain=!0),R.writing||R.corked){var F=R.lastBufferedRequest;R.lastBufferedRequest={chunk:T,encoding:z,isBuf:W,callback:q,next:null},F?F.next=R.lastBufferedRequest:R.bufferedRequest=R.lastBufferedRequest,R.bufferedRequestCount+=1}else j(x,R,!1,U,T,z,q);return Q}(this,w,_,P,k,M)),S},N.prototype.cork=function(){this._writableState.corked++},N.prototype.uncork=function(){var P=this._writableState;P.corked&&(P.corked--,P.writing||P.corked||P.bufferProcessing||!P.bufferedRequest||C(this,P))},N.prototype.setDefaultEncoding=function(P){if(typeof P=="string"&&(P=P.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((P+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+P);return this._writableState.defaultEncoding=P,this},Object.defineProperty(N.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),N.prototype._write=function(P,k,M){M(new Error("_write() is not implemented"))},N.prototype._writev=null,N.prototype.end=function(P,k,M){var A=this._writableState;typeof P=="function"?(M=P,P=null,k=null):typeof k=="function"&&(M=k,k=null),P!=null&&this.write(P,k),A.corked&&(A.corked=1,this.uncork()),A.ending||function(w,S,_){S.ending=!0,B(w,S),_&&(S.finished?l.nextTick(_):w.once("finish",_)),S.ended=!0,w.writable=!1}(this,A,M)},Object.defineProperty(N.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(P){this._writableState&&(this._writableState.destroyed=P)}}),N.prototype.destroy=y.destroy,N.prototype._undestroy=y.undestroy,N.prototype._destroy=function(P,k){this.end(),k(P)}}).call(this)}).call(this,t("_process"),typeof gr<"u"?gr:typeof self<"u"?self:typeof window<"u"?window:{},t("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(t,n,s){var i=t("safe-buffer").Buffer,a=t("util");n.exports=function(){function o(){(function(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.head=null,this.tail=null,this.length=0}return o.prototype.push=function(l){var c={data:l,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length},o.prototype.unshift=function(l){var c={data:l,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length},o.prototype.shift=function(){if(this.length!==0){var l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}},o.prototype.clear=function(){this.head=this.tail=null,this.length=0},o.prototype.join=function(l){if(this.length===0)return"";for(var c=this.head,u=""+c.data;c=c.next;)u+=l+c.data;return u},o.prototype.concat=function(l){if(this.length===0)return i.alloc(0);for(var c,u,d,h=i.allocUnsafe(l>>>0),f=this.head,m=0;f;)c=f.data,u=h,d=m,c.copy(u,d),m+=f.data.length,f=f.next;return h},o}(),a&&a.inspect&&a.inspect.custom&&(n.exports.prototype[a.inspect.custom]=function(){var o=a.inspect({length:this.length});return this.constructor.name+" "+o})},{"safe-buffer":520,util:188}],514:[function(t,n,s){var i=t("process-nextick-args");function a(o,l){o.emit("error",l)}n.exports={destroy:function(o,l){var c=this,u=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return u||d?(l?l(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(a,this,o)):i.nextTick(a,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(h){!l&&h?c._writableState?c._writableState.errorEmitted||(c._writableState.errorEmitted=!0,i.nextTick(a,c,h)):i.nextTick(a,c,h):l&&l(h)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(t,n,s){arguments[4][490][0].apply(s,arguments)},{dup:490,events:422}],516:[function(t,n,s){n.exports=t("./readable").PassThrough},{"./readable":517}],517:[function(t,n,s){(s=n.exports=t("./lib/_stream_readable.js")).Stream=s,s.Readable=s,s.Writable=t("./lib/_stream_writable.js"),s.Duplex=t("./lib/_stream_duplex.js"),s.Transform=t("./lib/_stream_transform.js"),s.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(t,n,s){n.exports=t("./readable").Transform},{"./readable":517}],519:[function(t,n,s){n.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(t,n,s){arguments[4][217][0].apply(s,arguments)},{buffer:220,dup:217}],521:[function(t,n,s){arguments[4][218][0].apply(s,arguments)},{dup:218,"safe-buffer":520}],522:[function(t,n,s){arguments[4][218][0].apply(s,arguments)},{dup:218,"safe-buffer":494}],523:[function(t,n,s){(function(i,a){(function(){var o=t("process/browser.js").nextTick,l=Function.prototype.apply,c=Array.prototype.slice,u={},d=0;function h(f,m){this._id=f,this._clearFn=m}s.setTimeout=function(){return new h(l.call(setTimeout,window,arguments),clearTimeout)},s.setInterval=function(){return new h(l.call(setInterval,window,arguments),clearInterval)},s.clearTimeout=s.clearInterval=function(f){f.close()},h.prototype.unref=h.prototype.ref=function(){},h.prototype.close=function(){this._clearFn.call(window,this._id)},s.enroll=function(f,m){clearTimeout(f._idleTimeoutId),f._idleTimeout=m},s.unenroll=function(f){clearTimeout(f._idleTimeoutId),f._idleTimeout=-1},s._unrefActive=s.active=function(f){clearTimeout(f._idleTimeoutId);var m=f._idleTimeout;m>=0&&(f._idleTimeoutId=setTimeout(function(){f._onTimeout&&f._onTimeout()},m))},s.setImmediate=typeof i=="function"?i:function(f){var m=d++,g=!(arguments.length<2)&&c.call(arguments,1);return u[m]=!0,o(function(){u[m]&&(g?f.apply(null,g):f.call(null),s.clearImmediate(m))}),m},s.clearImmediate=typeof a=="function"?a:function(f){delete u[f]}}).call(this)}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(t,n,s){(function(i){(function(){function a(o){try{if(!i.localStorage)return!1}catch{return!1}var l=i.localStorage[o];return l!=null&&String(l).toLowerCase()==="true"}n.exports=function(o,l){if(a("noDeprecation"))return o;var c=!1;return function(){if(!c){if(a("throwDeprecation"))throw new Error(l);a("traceDeprecation")?console.trace(l):console.warn(l),c=!0}return o.apply(this,arguments)}}}).call(this)}).call(this,typeof gr<"u"?gr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(t,n,s){typeof Object.create=="function"?n.exports=function(i,a){i.super_=a,i.prototype=Object.create(a.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(i,a){i.super_=a;var o=function(){};o.prototype=a.prototype,i.prototype=new o,i.prototype.constructor=i}},{}],526:[function(t,n,s){n.exports=function(i){return i&&typeof i=="object"&&typeof i.copy=="function"&&typeof i.fill=="function"&&typeof i.readUInt8=="function"}},{}],527:[function(t,n,s){(function(i,a){(function(){var o=/%[sdj%]/g;s.format=function(w){if(!E(w)){for(var S=[],_=0;_<arguments.length;_++)S.push(u(arguments[_]));return S.join(" ")}_=1;for(var x=arguments,R=x.length,W=String(w).replace(o,function(z){if(z==="%%")return"%";if(_>=R)return z;switch(z){case"%s":return String(x[_++]);case"%d":return Number(x[_++]);case"%j":try{return JSON.stringify(x[_++])}catch{return"[Circular]"}default:return z}}),T=x[_];_<R;T=x[++_])y(T)||!D(T)?W+=" "+T:W+=" "+u(T);return W},s.deprecate=function(w,S){if(N(a.process))return function(){return s.deprecate(w,S).apply(this,arguments)};if(i.noDeprecation===!0)return w;var _=!1;return function(){if(!_){if(i.throwDeprecation)throw new Error(S);i.traceDeprecation?console.trace(S):console.error(S),_=!0}return w.apply(this,arguments)}};var l,c={};function u(w,S){var _={seen:[],stylize:h};return arguments.length>=3&&(_.depth=arguments[2]),arguments.length>=4&&(_.colors=arguments[3]),v(S)?_.showHidden=S:S&&s._extend(_,S),N(_.showHidden)&&(_.showHidden=!1),N(_.depth)&&(_.depth=2),N(_.colors)&&(_.colors=!1),N(_.customInspect)&&(_.customInspect=!0),_.colors&&(_.stylize=d),f(_,w,_.depth)}function d(w,S){var _=u.styles[S];return _?"\x1B["+u.colors[_][0]+"m"+w+"\x1B["+u.colors[_][1]+"m":w}function h(w,S){return w}function f(w,S,_){if(w.customInspect&&S&&V(S.inspect)&&S.inspect!==s.inspect&&(!S.constructor||S.constructor.prototype!==S)){var x=S.inspect(_,w);return E(x)||(x=f(w,x,_)),x}var R=function(F,O){if(N(O))return F.stylize("undefined","undefined");if(E(O)){var K="'"+JSON.stringify(O).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return F.stylize(K,"string")}if(b(O))return F.stylize(""+O,"number");if(v(O))return F.stylize(""+O,"boolean");if(y(O))return F.stylize("null","null")}(w,S);if(R)return R;var W=Object.keys(S),T=function(F){var O={};return F.forEach(function(K,ne){O[K]=!0}),O}(W);if(w.showHidden&&(W=Object.getOwnPropertyNames(S)),I(S)&&(W.indexOf("message")>=0||W.indexOf("description")>=0))return m(S);if(W.length===0){if(V(S)){var z=S.name?": "+S.name:"";return w.stylize("[Function"+z+"]","special")}if(j(S))return w.stylize(RegExp.prototype.toString.call(S),"regexp");if(C(S))return w.stylize(Date.prototype.toString.call(S),"date");if(I(S))return m(S)}var q,Y="",U=!1,Q=["{","}"];return p(S)&&(U=!0,Q=["[","]"]),V(S)&&(Y=" [Function"+(S.name?": "+S.name:"")+"]"),j(S)&&(Y=" "+RegExp.prototype.toString.call(S)),C(S)&&(Y=" "+Date.prototype.toUTCString.call(S)),I(S)&&(Y=" "+m(S)),W.length!==0||U&&S.length!=0?_<0?j(S)?w.stylize(RegExp.prototype.toString.call(S),"regexp"):w.stylize("[Object]","special"):(w.seen.push(S),q=U?function(F,O,K,ne,ee){for(var ie=[],he=0,ce=O.length;he<ce;++he)A(O,String(he))?ie.push(g(F,O,K,ne,String(he),!0)):ie.push("");return ee.forEach(function(te){te.match(/^\d+$/)||ie.push(g(F,O,K,ne,te,!0))}),ie}(w,S,_,T,W):W.map(function(F){return g(w,S,_,T,F,U)}),w.seen.pop(),function(F,O,K){return F.reduce(function(ne,ee){return ee.indexOf(`
`)>=0,ne+ee.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?K[0]+(O===""?"":O+`
 `)+" "+F.join(`,
  `)+" "+K[1]:K[0]+O+" "+F.join(", ")+" "+K[1]}(q,Y,Q)):Q[0]+Y+Q[1]}function m(w){return"["+Error.prototype.toString.call(w)+"]"}function g(w,S,_,x,R,W){var T,z,q;if((q=Object.getOwnPropertyDescriptor(S,R)||{value:S[R]}).get?z=q.set?w.stylize("[Getter/Setter]","special"):w.stylize("[Getter]","special"):q.set&&(z=w.stylize("[Setter]","special")),A(x,R)||(T="["+R+"]"),z||(w.seen.indexOf(q.value)<0?(z=y(_)?f(w,q.value,null):f(w,q.value,_-1)).indexOf(`
`)>-1&&(z=W?z.split(`
`).map(function(Y){return"  "+Y}).join(`
`).substr(2):`
`+z.split(`
`).map(function(Y){return"   "+Y}).join(`
`)):z=w.stylize("[Circular]","special")),N(T)){if(W&&R.match(/^\d+$/))return z;(T=JSON.stringify(""+R)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(T=T.substr(1,T.length-2),T=w.stylize(T,"name")):(T=T.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),T=w.stylize(T,"string"))}return T+": "+z}function p(w){return Array.isArray(w)}function v(w){return typeof w=="boolean"}function y(w){return w===null}function b(w){return typeof w=="number"}function E(w){return typeof w=="string"}function N(w){return w===void 0}function j(w){return D(w)&&B(w)==="[object RegExp]"}function D(w){return typeof w=="object"&&w!==null}function C(w){return D(w)&&B(w)==="[object Date]"}function I(w){return D(w)&&(B(w)==="[object Error]"||w instanceof Error)}function V(w){return typeof w=="function"}function B(w){return Object.prototype.toString.call(w)}function P(w){return w<10?"0"+w.toString(10):w.toString(10)}s.debuglog=function(w){if(N(l)&&(l=i.env.NODE_DEBUG||""),w=w.toUpperCase(),!c[w])if(new RegExp("\\b"+w+"\\b","i").test(l)){var S=i.pid;c[w]=function(){var _=s.format.apply(s,arguments);console.error("%s %d: %s",w,S,_)}}else c[w]=function(){};return c[w]},s.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},s.isArray=p,s.isBoolean=v,s.isNull=y,s.isNullOrUndefined=function(w){return w==null},s.isNumber=b,s.isString=E,s.isSymbol=function(w){return typeof w=="symbol"},s.isUndefined=N,s.isRegExp=j,s.isObject=D,s.isDate=C,s.isError=I,s.isFunction=V,s.isPrimitive=function(w){return w===null||typeof w=="boolean"||typeof w=="number"||typeof w=="string"||typeof w=="symbol"||w===void 0},s.isBuffer=t("./support/isBuffer");var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function M(){var w=new Date,S=[P(w.getHours()),P(w.getMinutes()),P(w.getSeconds())].join(":");return[w.getDate(),k[w.getMonth()],S].join(" ")}function A(w,S){return Object.prototype.hasOwnProperty.call(w,S)}s.log=function(){console.log("%s - %s",M(),s.format.apply(s,arguments))},s.inherits=t("inherits"),s._extend=function(w,S){if(!S||!D(S))return w;for(var _=Object.keys(S),x=_.length;x--;)w[_[x]]=S[_[x]];return w}}).call(this)}).call(this,t("_process"),typeof gr<"u"?gr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"v1",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(s,"v3",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(s,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(s,"v5",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(s,"NIL",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(s,"version",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(s,"validate",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(s,"stringify",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(s,"parse",{enumerable:!0,get:function(){return f.default}});var i=m(t("./v1.js")),a=m(t("./v3.js")),o=m(t("./v4.js")),l=m(t("./v5.js")),c=m(t("./nil.js")),u=m(t("./version.js")),d=m(t("./validate.js")),h=m(t("./stringify.js")),f=m(t("./parse.js"));function m(g){return g&&g.__esModule?g:{default:g}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(t,n,s){function i(f){return 14+(f+64>>>9<<4)+1}function a(f,m){const g=(65535&f)+(65535&m);return(f>>16)+(m>>16)+(g>>16)<<16|65535&g}function o(f,m,g,p,v,y){return a((b=a(a(m,f),a(p,y)))<<(E=v)|b>>>32-E,g);var b,E}function l(f,m,g,p,v,y,b){return o(m&g|~m&p,f,m,v,y,b)}function c(f,m,g,p,v,y,b){return o(m&p|g&~p,f,m,v,y,b)}function u(f,m,g,p,v,y,b){return o(m^g^p,f,m,v,y,b)}function d(f,m,g,p,v,y,b){return o(g^(m|~p),f,m,v,y,b)}Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var h=function(f){if(typeof f=="string"){const m=unescape(encodeURIComponent(f));f=new Uint8Array(m.length);for(let g=0;g<m.length;++g)f[g]=m.charCodeAt(g)}return function(m){const g=[],p=32*m.length;for(let v=0;v<p;v+=8){const y=m[v>>5]>>>v%32&255,b=parseInt("0123456789abcdef".charAt(y>>>4&15)+"0123456789abcdef".charAt(15&y),16);g.push(b)}return g}(function(m,g){m[g>>5]|=128<<g%32,m[i(g)-1]=g;let p=1732584193,v=-271733879,y=-1732584194,b=271733878;for(let E=0;E<m.length;E+=16){const N=p,j=v,D=y,C=b;p=l(p,v,y,b,m[E],7,-680876936),b=l(b,p,v,y,m[E+1],12,-389564586),y=l(y,b,p,v,m[E+2],17,606105819),v=l(v,y,b,p,m[E+3],22,-1044525330),p=l(p,v,y,b,m[E+4],7,-176418897),b=l(b,p,v,y,m[E+5],12,1200080426),y=l(y,b,p,v,m[E+6],17,-1473231341),v=l(v,y,b,p,m[E+7],22,-45705983),p=l(p,v,y,b,m[E+8],7,1770035416),b=l(b,p,v,y,m[E+9],12,-1958414417),y=l(y,b,p,v,m[E+10],17,-42063),v=l(v,y,b,p,m[E+11],22,-1990404162),p=l(p,v,y,b,m[E+12],7,1804603682),b=l(b,p,v,y,m[E+13],12,-40341101),y=l(y,b,p,v,m[E+14],17,-1502002290),v=l(v,y,b,p,m[E+15],22,1236535329),p=c(p,v,y,b,m[E+1],5,-165796510),b=c(b,p,v,y,m[E+6],9,-1069501632),y=c(y,b,p,v,m[E+11],14,643717713),v=c(v,y,b,p,m[E],20,-373897302),p=c(p,v,y,b,m[E+5],5,-701558691),b=c(b,p,v,y,m[E+10],9,38016083),y=c(y,b,p,v,m[E+15],14,-660478335),v=c(v,y,b,p,m[E+4],20,-405537848),p=c(p,v,y,b,m[E+9],5,568446438),b=c(b,p,v,y,m[E+14],9,-1019803690),y=c(y,b,p,v,m[E+3],14,-187363961),v=c(v,y,b,p,m[E+8],20,1163531501),p=c(p,v,y,b,m[E+13],5,-1444681467),b=c(b,p,v,y,m[E+2],9,-51403784),y=c(y,b,p,v,m[E+7],14,1735328473),v=c(v,y,b,p,m[E+12],20,-1926607734),p=u(p,v,y,b,m[E+5],4,-378558),b=u(b,p,v,y,m[E+8],11,-2022574463),y=u(y,b,p,v,m[E+11],16,1839030562),v=u(v,y,b,p,m[E+14],23,-35309556),p=u(p,v,y,b,m[E+1],4,-1530992060),b=u(b,p,v,y,m[E+4],11,1272893353),y=u(y,b,p,v,m[E+7],16,-155497632),v=u(v,y,b,p,m[E+10],23,-1094730640),p=u(p,v,y,b,m[E+13],4,681279174),b=u(b,p,v,y,m[E],11,-358537222),y=u(y,b,p,v,m[E+3],16,-722521979),v=u(v,y,b,p,m[E+6],23,76029189),p=u(p,v,y,b,m[E+9],4,-640364487),b=u(b,p,v,y,m[E+12],11,-421815835),y=u(y,b,p,v,m[E+15],16,530742520),v=u(v,y,b,p,m[E+2],23,-995338651),p=d(p,v,y,b,m[E],6,-198630844),b=d(b,p,v,y,m[E+7],10,1126891415),y=d(y,b,p,v,m[E+14],15,-1416354905),v=d(v,y,b,p,m[E+5],21,-57434055),p=d(p,v,y,b,m[E+12],6,1700485571),b=d(b,p,v,y,m[E+3],10,-1894986606),y=d(y,b,p,v,m[E+10],15,-1051523),v=d(v,y,b,p,m[E+1],21,-2054922799),p=d(p,v,y,b,m[E+8],6,1873313359),b=d(b,p,v,y,m[E+15],10,-30611744),y=d(y,b,p,v,m[E+6],15,-1560198380),v=d(v,y,b,p,m[E+13],21,1309151649),p=d(p,v,y,b,m[E+4],6,-145523070),b=d(b,p,v,y,m[E+11],10,-1120210379),y=d(y,b,p,v,m[E+2],15,718787259),v=d(v,y,b,p,m[E+9],21,-343485551),p=a(p,N),v=a(v,j),y=a(y,D),b=a(b,C)}return[p,v,y,b]}(function(m){if(m.length===0)return[];const g=8*m.length,p=new Uint32Array(i(g));for(let v=0;v<g;v+=8)p[v>>5]|=(255&m[v/8])<<v%32;return p}(f),8*f.length))};s.default=h},{}],530:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,s.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,a=(i=t("./validate.js"))&&i.__esModule?i:{default:i},o=function(l){if(!(0,a.default)(l))throw TypeError("Invalid UUID");let c;const u=new Uint8Array(16);return u[0]=(c=parseInt(l.slice(0,8),16))>>>24,u[1]=c>>>16&255,u[2]=c>>>8&255,u[3]=255&c,u[4]=(c=parseInt(l.slice(9,13),16))>>>8,u[5]=255&c,u[6]=(c=parseInt(l.slice(14,18),16))>>>8,u[7]=255&c,u[8]=(c=parseInt(l.slice(19,23),16))>>>8,u[9]=255&c,u[10]=(c=parseInt(l.slice(24,36),16))/1099511627776&255,u[11]=c/4294967296&255,u[12]=c>>>24&255,u[13]=c>>>16&255,u[14]=c>>>8&255,u[15]=255&c,u};s.default=o},{"./validate.js":541}],532:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,s.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(t,n,s){let i;Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(){if(!i&&(i=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(a)};const a=new Uint8Array(16)},{}],534:[function(t,n,s){function i(l,c,u,d){switch(l){case 0:return c&u^~c&d;case 1:return c^u^d;case 2:return c&u^c&d^u&d;case 3:return c^u^d}}function a(l,c){return l<<c|l>>>32-c}Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=function(l){const c=[1518500249,1859775393,2400959708,3395469782],u=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof l=="string"){const m=unescape(encodeURIComponent(l));l=[];for(let g=0;g<m.length;++g)l.push(m.charCodeAt(g))}else Array.isArray(l)||(l=Array.prototype.slice.call(l));l.push(128);const d=l.length/4+2,h=Math.ceil(d/16),f=new Array(h);for(let m=0;m<h;++m){const g=new Uint32Array(16);for(let p=0;p<16;++p)g[p]=l[64*m+4*p]<<24|l[64*m+4*p+1]<<16|l[64*m+4*p+2]<<8|l[64*m+4*p+3];f[m]=g}f[h-1][14]=8*(l.length-1)/Math.pow(2,32),f[h-1][14]=Math.floor(f[h-1][14]),f[h-1][15]=8*(l.length-1)&4294967295;for(let m=0;m<h;++m){const g=new Uint32Array(80);for(let N=0;N<16;++N)g[N]=f[m][N];for(let N=16;N<80;++N)g[N]=a(g[N-3]^g[N-8]^g[N-14]^g[N-16],1);let p=u[0],v=u[1],y=u[2],b=u[3],E=u[4];for(let N=0;N<80;++N){const j=Math.floor(N/20),D=a(p,5)+i(j,v,y,b)+E+c[j]+g[N]>>>0;E=b,b=y,y=a(v,30)>>>0,v=p,p=D}u[0]=u[0]+p>>>0,u[1]=u[1]+v>>>0,u[2]=u[2]+y>>>0,u[3]=u[3]+b>>>0,u[4]=u[4]+E>>>0}return[u[0]>>24&255,u[0]>>16&255,u[0]>>8&255,255&u[0],u[1]>>24&255,u[1]>>16&255,u[1]>>8&255,255&u[1],u[2]>>24&255,u[2]>>16&255,u[2]>>8&255,255&u[2],u[3]>>24&255,u[3]>>16&255,u[3]>>8&255,255&u[3],u[4]>>24&255,u[4]>>16&255,u[4]>>8&255,255&u[4]]};s.default=o},{}],535:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,a=(i=t("./validate.js"))&&i.__esModule?i:{default:i};const o=[];for(let c=0;c<256;++c)o.push((c+256).toString(16).substr(1));var l=function(c){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const d=(o[c[u+0]]+o[c[u+1]]+o[c[u+2]]+o[c[u+3]]+"-"+o[c[u+4]]+o[c[u+5]]+"-"+o[c[u+6]]+o[c[u+7]]+"-"+o[c[u+8]]+o[c[u+9]]+"-"+o[c[u+10]]+o[c[u+11]]+o[c[u+12]]+o[c[u+13]]+o[c[u+14]]+o[c[u+15]]).toLowerCase();if(!(0,a.default)(d))throw TypeError("Stringified UUID is invalid");return d};s.default=l},{"./validate.js":541}],536:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=o(t("./rng.js")),a=o(t("./stringify.js"));function o(f){return f&&f.__esModule?f:{default:f}}let l,c,u=0,d=0;var h=function(f,m,g){let p=m&&g||0;const v=m||new Array(16);let y=(f=f||{}).node||l,b=f.clockseq!==void 0?f.clockseq:c;if(y==null||b==null){const I=f.random||(f.rng||i.default)();y==null&&(y=l=[1|I[0],I[1],I[2],I[3],I[4],I[5]]),b==null&&(b=c=16383&(I[6]<<8|I[7]))}let E=f.msecs!==void 0?f.msecs:Date.now(),N=f.nsecs!==void 0?f.nsecs:d+1;const j=E-u+(N-d)/1e4;if(j<0&&f.clockseq===void 0&&(b=b+1&16383),(j<0||E>u)&&f.nsecs===void 0&&(N=0),N>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=E,d=N,c=b,E+=122192928e5;const D=(1e4*(268435455&E)+N)%4294967296;v[p++]=D>>>24&255,v[p++]=D>>>16&255,v[p++]=D>>>8&255,v[p++]=255&D;const C=E/4294967296*1e4&268435455;v[p++]=C>>>8&255,v[p++]=255&C,v[p++]=C>>>24&15|16,v[p++]=C>>>16&255,v[p++]=b>>>8|128,v[p++]=255&b;for(let I=0;I<6;++I)v[p+I]=y[I];return m||(0,a.default)(v)};s.default=h},{"./rng.js":533,"./stringify.js":535}],537:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=o(t("./v35.js")),a=o(t("./md5.js"));function o(c){return c&&c.__esModule?c:{default:c}}var l=(0,i.default)("v3",48,a.default);s.default=l},{"./md5.js":529,"./v35.js":538}],538:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(u,d,h){function f(m,g,p,v){if(typeof m=="string"&&(m=function(b){b=unescape(encodeURIComponent(b));const E=[];for(let N=0;N<b.length;++N)E.push(b.charCodeAt(N));return E}(m)),typeof g=="string"&&(g=(0,a.default)(g)),g.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let y=new Uint8Array(16+m.length);if(y.set(g),y.set(m,g.length),y=h(y),y[6]=15&y[6]|d,y[8]=63&y[8]|128,p){v=v||0;for(let b=0;b<16;++b)p[v+b]=y[b];return p}return(0,i.default)(y)}try{f.name=u}catch{}return f.DNS=l,f.URL=c,f},s.URL=s.DNS=void 0;var i=o(t("./stringify.js")),a=o(t("./parse.js"));function o(u){return u&&u.__esModule?u:{default:u}}const l="6ba7b810-9dad-11d1-80b4-00c04fd430c8";s.DNS=l;const c="6ba7b811-9dad-11d1-80b4-00c04fd430c8";s.URL=c},{"./parse.js":531,"./stringify.js":535}],539:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=o(t("./rng.js")),a=o(t("./stringify.js"));function o(c){return c&&c.__esModule?c:{default:c}}var l=function(c,u,d){const h=(c=c||{}).random||(c.rng||i.default)();if(h[6]=15&h[6]|64,h[8]=63&h[8]|128,u){d=d||0;for(let f=0;f<16;++f)u[d+f]=h[f];return u}return(0,a.default)(h)};s.default=l},{"./rng.js":533,"./stringify.js":535}],540:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=o(t("./v35.js")),a=o(t("./sha1.js"));function o(c){return c&&c.__esModule?c:{default:c}}var l=(0,i.default)("v5",80,a.default);s.default=l},{"./sha1.js":534,"./v35.js":538}],541:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,a=(i=t("./regex.js"))&&i.__esModule?i:{default:i},o=function(l){return typeof l=="string"&&a.default.test(l)};s.default=o},{"./regex.js":532}],542:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,a=(i=t("./validate.js"))&&i.__esModule?i:{default:i},o=function(l){if(!(0,a.default)(l))throw TypeError("Invalid UUID");return parseInt(l.substr(14,1),16)};s.default=o},{"./validate.js":541}],543:[function(t,n,s){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(s,"__esModule",{value:!0}),s.CHAR=`	
\r -퟿-�𐀀-􏿿`,s.S=` 	\r
`,s.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",s.NAME_CHAR="-"+s.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",s.CHAR_RE=new RegExp("^["+s.CHAR+"]$","u"),s.S_RE=new RegExp("^["+s.S+"]+$","u"),s.NAME_START_CHAR_RE=new RegExp("^["+s.NAME_START_CHAR+"]$","u"),s.NAME_CHAR_RE=new RegExp("^["+s.NAME_CHAR+"]$","u"),s.NAME_RE=new RegExp("^["+s.NAME_START_CHAR+"]["+s.NAME_CHAR+"]*$","u"),s.NMTOKEN_RE=new RegExp("^["+s.NAME_CHAR+"]+$","u");function i(a){return a>=65&&a<=90||a>=97&&a<=122||a===58||a===95||a===8204||a===8205||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}s.S_LIST=[32,10,13,9],s.isChar=function(a){return a>=32&&a<=55295||a===10||a===13||a===9||a>=57344&&a<=65533||a>=65536&&a<=1114111},s.isS=function(a){return a===32||a===10||a===13||a===9},s.isNameStartChar=i,s.isNameChar=function(a){return i(a)||a>=48&&a<=57||a===45||a===46||a===183||a>=768&&a<=879||a>=8255&&a<=8256}},{}],544:[function(t,n,s){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(s,"__esModule",{value:!0}),s.CHAR="-퟿-�𐀀-􏿿",s.RESTRICTED_CHAR="-\b\v\f---",s.S=` 	\r
`,s.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",s.NAME_CHAR="-"+s.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",s.CHAR_RE=new RegExp("^["+s.CHAR+"]$","u"),s.RESTRICTED_CHAR_RE=new RegExp("^["+s.RESTRICTED_CHAR+"]$","u"),s.S_RE=new RegExp("^["+s.S+"]+$","u"),s.NAME_START_CHAR_RE=new RegExp("^["+s.NAME_START_CHAR+"]$","u"),s.NAME_CHAR_RE=new RegExp("^["+s.NAME_CHAR+"]$","u"),s.NAME_RE=new RegExp("^["+s.NAME_START_CHAR+"]["+s.NAME_CHAR+"]*$","u"),s.NMTOKEN_RE=new RegExp("^["+s.NAME_CHAR+"]+$","u");function i(a){return a>=65&&a<=90||a>=97&&a<=122||a===58||a===95||a===8204||a===8205||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}s.S_LIST=[32,10,13,9],s.isChar=function(a){return a>=1&&a<=55295||a>=57344&&a<=65533||a>=65536&&a<=1114111},s.isRestrictedChar=function(a){return a>=1&&a<=8||a===11||a===12||a>=14&&a<=31||a>=127&&a<=132||a>=134&&a<=159},s.isCharAndNotRestricted=function(a){return a===9||a===10||a===13||a>31&&a<127||a===133||a>159&&a<=55295||a>=57344&&a<=65533||a>=65536&&a<=1114111},s.isS=function(a){return a===32||a===10||a===13||a===9},s.isNameStartChar=i,s.isNameChar=function(a){return i(a)||a>=48&&a<=57||a===45||a===46||a===183||a>=768&&a<=879||a>=8255&&a<=8256}},{}],545:[function(t,n,s){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function i(a){return a>=65&&a<=90||a===95||a>=97&&a<=122||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8204&&a<=8205||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}Object.defineProperty(s,"__esModule",{value:!0}),s.NC_NAME_START_CHAR="A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",s.NC_NAME_CHAR="-"+s.NC_NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",s.NC_NAME_START_CHAR_RE=new RegExp("^["+s.NC_NAME_START_CHAR+"]$","u"),s.NC_NAME_CHAR_RE=new RegExp("^["+s.NC_NAME_CHAR+"]$","u"),s.NC_NAME_RE=new RegExp("^["+s.NC_NAME_START_CHAR+"]["+s.NC_NAME_CHAR+"]*$","u"),s.isNCNameStartChar=i,s.isNCNameChar=function(a){return i(a)||a===45||a===46||a>=48&&a<=57||a===183||a>=768&&a<=879||a>=8255&&a<=8256}},{}]},{},[15])(15)})})(n9);var BG=n9.exports;const d_=Mx(BG),hs={USERDATA:"userdata",ABCD:"abcd"};class UG{constructor(){this.supabase=Xt,console.log("🚀 CleanSupabaseService with separate page storage initialized")}async getUserDates(e,t=hs.USERDATA){try{const n=this._getTableName(t),{data:s,error:i}=await this.supabase.from(n).select("dates").eq("user_id",e).single();if(i&&i.code!=="PGRST116")throw i;const a=(s==null?void 0:s.dates)||[];return console.log(`📅 [${t.toUpperCase()}] Loaded ${a.length} dates for user ${e}`),a}catch(n){return console.error(`❌ Error loading dates for ${t}:`,n),[]}}async saveUserDates(e,t,n=hs.USERDATA){try{const s=this._getTableName(n),{data:i,error:a}=await this.supabase.from(s).upsert({user_id:e,dates:t,updated_at:new Date().toISOString()},{onConflict:"user_id"}).select().single();if(a)throw a;return console.log(`✅ [${n.toUpperCase()}] Saved ${t.length} dates for user ${e}`),i}catch(s){throw console.error(`❌ Error saving dates for ${n}:`,s),s}}async addUserDate(e,t,n=hs.USERDATA){try{const s=await this.getUserDates(e,n);if(!s.includes(t)){const i=[...s,t].sort();await this.saveUserDates(e,i,n),console.log(`✅ [${n.toUpperCase()}] Added date ${t} for user ${e}`)}}catch(s){throw console.error(`❌ Error adding date for ${n}:`,s),s}}async removeUserDate(e,t,n=hs.USERDATA){try{const i=(await this.getUserDates(e,n)).filter(a=>a!==t);await this.saveUserDates(e,i,n),n===hs.ABCD&&(await this.deleteExcelData(e,t),await this.deleteHourEntry(e,t)),console.log(`✅ [${n.toUpperCase()}] Removed date ${t} for user ${e}`)}catch(s){throw console.error(`❌ Error removing date for ${n}:`,s),s}}_getTableName(e){switch(e){case hs.USERDATA:return"user_dates_userdata";case hs.ABCD:return"user_dates_abcd";default:return"user_dates"}}async hasExcelData(e,t){try{const{data:n,error:s}=await this.supabase.from("excel_data").select("id").eq("user_id",e).eq("date",t).single();return!s&&n}catch{return!1}}async getExcelData(e,t){try{const{data:n,error:s}=await this.supabase.from("excel_data").select("*").eq("user_id",e).eq("date",t).single();if(s)throw s;return n}catch(n){return console.error("Error getting Excel data:",n),null}}async saveExcelData(e,t,n){try{const{error:s}=await this.supabase.from("excel_data").upsert({user_id:e,date:t,file_name:n.fileName||"Unknown File",data:n,updated_at:new Date().toISOString()},{onConflict:"user_id,date"});if(s)throw s;console.log("✅ Excel data saved")}catch(s){throw console.error("❌ Error saving Excel data:",s),s}}async deleteExcelData(e,t){try{const{error:n}=await this.supabase.from("excel_data").delete().eq("user_id",e).eq("date",t);if(n)throw n;console.log("✅ Excel data deleted")}catch(n){throw console.error("❌ Error deleting Excel data:",n),n}}async hasHourEntry(e,t){try{const{data:n,error:s}=await this.supabase.from("hour_entries").select("id").eq("user_id",e).eq("date_key",t).single();return!s&&n}catch{return!1}}async getHourEntry(e,t){try{const{data:n,error:s}=await this.supabase.from("hour_entries").select("*").eq("user_id",e).eq("date_key",t).single();if(s)throw s;return n.hour_data}catch(n){return console.error("Error getting hour entry:",n),null}}async saveHourEntry(e,t,n){try{const{error:s}=await this.supabase.from("hour_entries").upsert({user_id:e,date_key:t,hour_data:{planetSelections:n},updated_at:new Date().toISOString()},{onConflict:"user_id,date_key"});if(s)throw s;console.log("✅ Hour entry saved")}catch(s){throw console.error("❌ Error saving hour entry:",s),s}}async deleteHourEntry(e,t){try{const{error:n}=await this.supabase.from("hour_entries").delete().eq("user_id",e).eq("date_key",t);if(n)throw n;console.log("✅ Hour entry deleted")}catch(n){throw console.error("❌ Error deleting hour entry:",n),n}}async getAllUsers(){try{const{data:e,error:t}=await this.supabase.from("users").select("*").order("username",{ascending:!0});if(t)throw t;return e}catch(e){return console.error("❌ Error getting users:",e),[]}}async createUser(e){try{const{data:t,error:n}=await this.supabase.from("users").insert(e).select().single();if(n)throw n;return console.log("✅ User created"),t}catch(t){throw console.error("❌ Error creating user:",t),t}}}const Sn=new UG,jS=Object.freeze(Object.defineProperty({__proto__:null,PAGE_CONTEXTS:hs,default:Sn},Symbol.toStringTag,{value:"Module"}));function BS(){const r=$l(),{userId:e}=M2(),[t,n]=Ae.useState(null),[s,i]=Ae.useState(null),[a,o]=Ae.useState(null),[l,c]=Ae.useState(!1),[u,d]=Ae.useState([]),[h,f]=Ae.useState({}),[m,g]=Ae.useState({}),[p,v]=Ae.useState(null),[y,b]=Ae.useState({Ar:0,Ta:0,Ge:0}),[E,N]=Ae.useState({}),[j,D]=Ae.useState(""),[C,I]=Ae.useState({}),[V,B]=Ae.useState({});Ae.useEffect(()=>{async function ce(){try{i(null),o(null);const{data:te,error:se}=await Xt.from("users").select("id, username, hr").eq("id",e).single();if(se)throw se;n(te),console.log("📅 Loading dates from user_dates_userdata table for user:",e);const ge=await Sn.getUserDates(e,hs.USERDATA);console.log("📅 Loaded dates from user_dates_userdata table:",ge);const{data:de,error:Te}=await Xt.from("hr_data").select("*").eq("user_id",e).order("date",{ascending:!0});if(Te)throw Te;const De={};ge&&ge.length>0?ge.sort((fe,ae)=>new Date(fe)-new Date(ae)).forEach((fe,ae)=>{De[ae+1]=fe}):de.forEach(_e=>{if(_e.topic.startsWith("DAY-")){const fe=parseInt(_e.topic.split("-")[1]);De[fe]=_e.date}}),console.log("📅 Final dates mapping:",De),d(de||[]),f(De),g(Cw(de,De))}catch(te){console.error("❌ Error fetching data:",te),i("Error fetching data: "+te.message)}}e&&ce()},[e]);const P=()=>crypto.randomUUID(),k=async ce=>{try{c(!0),i(null);const te=Object.keys(h).map(Number).sort((Te,De)=>Te-De),se=te.length>0?Math.max(...te)+1:1,ge=[];for(let Te=1;Te<=((t==null?void 0:t.hr)||1);Te++)ge.push({id:P(),user_id:e,topic:`DAY-${se}`,date:ce,hr_number:`HR-${Te}`,planet_house:null}),Mi.forEach(De=>{ge.push({id:P(),user_id:e,topic:De,date:ce,hr_number:`HR-${Te}`,planet_house:null})});const{error:de}=await Xt.from("hr_data").upsert(ge,{onConflict:"id"});if(de)throw de;return console.log("💾 Adding date to user_dates_userdata table:",ce),await Sn.addUserDate(e,ce,hs.USERDATA),console.log("✅ Date added to user_dates_userdata table successfully"),f(Te=>({...Te,[se]:ce})),d(Te=>[...Te,...ge]),o("New date added successfully!"),setTimeout(()=>o(null),3e3),!0}catch(te){return console.error("❌ Error adding date:",te),i("Error adding date: "+te.message),!1}finally{c(!1)}},M=ce=>{const te=Object.keys(h).map(Number).sort((Te,De)=>Te-De);if(te.length<=1)return!1;const se=parseInt(ce),ge=te[0],de=te[te.length-1];return se===ge||se===de},A=async ce=>{try{c(!0),i(null);const te=parseInt(ce),se=h[ce];if(!M(ce)){i("Can only delete the oldest (first) or newest (last) date to maintain sequence integrity");return}const ge=`Are you sure you want to delete Day-${ce} (${se})?

This will permanently remove all data for this date.`;if(!window.confirm(ge))return;const{error:de}=await Xt.from("hr_data").delete().eq("user_id",e).eq("date",se);if(de)throw de;const{error:Te}=await Xt.from("house").delete().eq("user_id",e).eq("date",se);if(Te)throw Te;console.log("🗑️ Removing date from user_dates_userdata table:",se),await Sn.removeUserDate(e,se,hs.USERDATA),console.log("✅ Date removed from user_dates_userdata table successfully");const De={...h};delete De[ce];const _e=u.filter(fe=>fe.date!==se);f(De),d(_e),o(`Date Day-${ce} (${se}) deleted successfully!`),setTimeout(()=>o(null),3e3)}catch(te){console.error("❌ Error deleting date:",te),i("Error deleting date: "+te.message)}finally{c(!1)}},w=async(ce,te)=>{try{if(f(Te=>({...Te,[ce]:te})),!te)return;const se=u.map(Te=>Te.topic===`DAY-${ce}`||Te.date===h[ce]&&Mi.includes(Te.topic)?{...Te,date:te}:Te);d(se);const ge={...h,[ce]:te},de=Object.values(ge).filter(Boolean);de.length>0&&(console.log("💾 Saving updated dates to user_dates_userdata table:",de),await Sn.saveUserDates(e,de,hs.USERDATA),console.log("✅ Updated dates saved to user_dates_userdata table successfully"))}catch(se){console.error("❌ Error updating date:",se),i("Error updating date: "+se.message)}},S=(ce,te,se)=>{try{console.log(`🔍 [UserData] Planet change: HR-${ce}, Day-${te}, Selected: "${se}"`);const ge=[...u],de=ge.find(Te=>Te.hr_number===`HR-${ce}`&&Te.topic===`DAY-${te}`);if(de&&(de.planet_house=se,console.log(`✅ [UserData] Updated main planet entry for DAY-${te}`)),p&&se){console.log(`🔍 [UserData] Processing Excel data for planet: "${se}"`),console.log("🔍 [UserData] Excel data structure:",{hasExcelData:!!p,planetKeys:Object.keys(p),requestedPlanet:se,planetDataExists:!!p[se]});const Te=p[se];if(Te){console.log(`✅ [UserData] Found planet data for "${se}":`,Te),console.log(`✅ [UserData] Available divisions for "${se}":`,Object.keys(Te));let De=0,_e=0;Mi.forEach(fe=>{console.log(`🔍 [UserData] Processing division: ${fe}`),console.log(`🔍 [UserData] Looking for: HR-${ce}, Topic: ${fe}, Date: ${h[te]}`);let ae=ge.find(ve=>ve.hr_number===`HR-${ce}`&&ve.topic===fe&&ve.date===h[te]);if(ae||(console.log(`⚠️ [UserData] Division entry missing, creating: ${fe}`),ae={user_id:e,hr_number:`HR-${ce}`,topic:fe,date:h[te],planet_house:null},ge.push(ae),_e++),ae){const ve=Te[fe];ae.planet_house=ve||null,console.log(`  ✅ [UserData] ${fe}: "${ve}"`),De++}}),console.log(`📊 [UserData] SUMMARY: Updated ${De} divisions, Created ${_e} missing entries`)}else console.log(`❌ [UserData] No planet data found for "${se}" in Excel data`),console.log("❌ [UserData] Available planets:",Object.keys(p))}else p||console.log("⚠️ [UserData] No Excel data available"),se||console.log("⚠️ [UserData] No planet value selected");d(ge)}catch(ge){console.error("Error in handlePlanetChange:",ge),i("Failed to update planet selection")}},_=(ce,te)=>{console.log("🔍 [UserData] Received data from ExcelUpload component:",ce),console.log("🔍 [UserData] Data structure analysis:"),console.log("  - Top level keys:",Object.keys(ce)),console.log("  - Sample planet data:",Object.entries(ce).slice(0,3)),ce.Ke?(console.log("✅ [UserData] Ketu (Ke) data found:",ce.Ke),console.log("✅ [UserData] Ketu divisions:",Object.keys(ce.Ke))):(console.log("❌ [UserData] Ketu (Ke) data NOT found in Excel upload"),console.log("❌ [UserData] Available planets:",Object.keys(ce))),window.excelData=ce,window.excelFileName=te,console.log("🔧 [UserData] Excel data now available in console as: window.excelData"),v(ce),setExcelFileName(te),setExcelGroupCounts({}),D(new Date().toISOString().split("T")[0])},x=async ce=>{ce.preventDefault();try{c(!0),i(null);const te=Cw(u,h);g(te);const se=u.filter(_e=>_e.date).map(_e=>{const fe=Object.entries(h).find(([Ue,Ge])=>Ge===_e.date),ae=fe?fe[0]:null,ve=_e.hr_number.split("-")[1],Ee=ve&&_e.topic&&ae&&!_e.topic.startsWith("DAY-")?`${ve}_${_e.topic}_${ae}`:null,Fe=Ee&&te[Ee]||null;return{..._e,id:_e.id||P(),house_number:Fe}});if(se.length>0){console.log("Saving hr_data:",se.find(fe=>fe.house_number!==null));const{error:_e}=await Xt.from("hr_data").upsert(se,{onConflict:"id"});if(_e)throw _e}const ge=[];Array.from({length:t.hr},(_e,fe)=>fe+1).forEach(_e=>{Object.entries(h).forEach(([fe,ae])=>{const ve={Ar:0,Ta:0,Ge:0};Mi.forEach(Ee=>{var Ge;const Fe=`${_e}_${Ee}_${fe}`,Ue=(Ge=u.find(Ve=>Ve.hr_number===`HR-${_e}`&&Ve.topic===Ee&&Ve.date===ae))==null?void 0:Ge.planet_house;Ue&&(["Ar","Cn","Li","Cp"].includes(Ue)?ve.Ar++:["Ta","Le","Sc","Aq"].includes(Ue)?ve.Ta++:["Ge","Vi","Sg","Pi"].includes(Ue)&&ve.Ge++)}),ge.push({user_id:e,hr_number:_e,day_number:parseInt(fe),group_ar:ve.Ar,group_ta:ve.Ta,group_ge:ve.Ge,date:ae}),Mi.forEach(Ee=>{const Fe=u.find(Ue=>Ue.hr_number===`HR-${_e}`&&Ue.topic===Ee&&Ue.date===ae);Fe&&ge.push({user_id:e,hr_number:_e,day_number:parseInt(fe),date:ae,topic:Ee,planet_house:Fe.planet_house||null,house_number:te[`${_e}_${Ee}_${fe}`]||null})})})}),console.log("Saving house count data (to house table):",ge.find(_e=>_e.house_number!==null));const Te=Object.values(h).filter(Boolean);if(Te.length>0){const{error:_e}=await Xt.from("house").delete().eq("user_id",e).in("date",Te);if(_e)throw _e}if(ge.length>0){const{error:_e}=await Xt.from("house").upsert(ge,{onConflict:"user_id,hr_number,day_number,date,topic"});if(_e&&_e.message.includes("no unique or exclusion constraint")){console.log("⚠️ Constraint not found, using delete+insert approach...");const fe=[...new Set(ge.map(ve=>ve.date))];await Xt.from("house").delete().eq("user_id",e).in("date",fe);const{error:ae}=await Xt.from("house").insert(ge);if(ae)throw console.error("Insert error into house table (fallback method):",ae),ae;console.log("✅ Successfully saved house data using delete+insert method")}else if(_e)throw console.error("Insert error into house table:",_e),_e}const De=Object.values(h).filter(Boolean);De.length>0&&(console.log("💾 Saving dates to user_dates_userdata table:",De),await Sn.saveUserDates(e,De,hs.USERDATA),console.log("✅ Dates saved to user_dates_userdata table successfully")),o("All data saved successfully!")}catch(te){console.error("Error saving data:",te),i("Failed to save data: "+te.message)}finally{c(!1)}},R=ce=>{const te={Ar:0,Ta:0,Ge:0};ce.forEach(se=>{["Ar","Cn","Li","Cp"].includes(se.planet_house)&&te.Ar++,["Ta","Ve","Sc","Pi"].includes(se.planet_house)&&te.Ta++,["Ge","Aq","Sa","Ca"].includes(se.planet_house)&&te.Ge++}),b(te)};Ae.useEffect(()=>{R(u)},[u]);const W=()=>{const ce={};ie.forEach(te=>{ce[te]={},Object.keys(h).forEach(se=>{ce[te][se]={Ar:0,Ta:0,Ge:0}})}),u.forEach(te=>{var de;if(!te.planet_house)return;const se=te.hr_number.split("-")[1],ge=te.topic.startsWith("DAY-")?te.topic.split("-")[1]:(de=Object.entries(h).find(([Te,De])=>De===te.date))==null?void 0:de[0];se&&ge&&(["Ar","Cn","Li","Cp"].includes(te.planet_house)?ce[se][ge].Ar++:["Ta","Le","Sc","Aq"].includes(te.planet_house)?ce[se][ge].Ta++:["Ge","Vi","Sg","Pi"].includes(te.planet_house)&&ce[se][ge].Ge++)}),N(ce)};Ae.useEffect(()=>{u.length>0&&Object.keys(h).length>0&&W()},[u,h]);const T=()=>{const ce={};ie.forEach(te=>{ce[te]={},Object.keys(h).forEach(se=>{const ge=parseInt(se),de=ge-1;if(!h[de]){ce[te][se]=0;return}let Te=0;Mi.forEach(De=>{const _e=`${te}_${De}_${ge}`,fe=`${te}_${De}_${de}`,ae=m[_e],ve=m[fe];ae&&ae===ve&&Te++}),ce[te][se]=Te})}),I(ce)};Ae.useEffect(()=>{u.length>0&&Object.keys(h).length>0&&T()},[u,h,m]);const z=()=>{const ce={};ie.forEach(te=>{ce[te]={},Object.keys(h).forEach(se=>{const ge=parseInt(se),de=ge-1;if(!h[de]){ce[te][se]=0;return}let Te=0;Mi.forEach(De=>{const _e=u.find(Ee=>Ee.hr_number===`HR-${te}`&&Ee.topic===De&&Ee.date===h[ge]),fe=u.find(Ee=>Ee.hr_number===`HR-${te}`&&Ee.topic===De&&Ee.date===h[de]),ae=_e!=null&&_e.planet_house&&["Ar","Cn","Li","Cp"].includes(_e.planet_house)?"Ar":_e!=null&&_e.planet_house&&["Ta","Le","Sc","Aq"].includes(_e.planet_house)?"Ta":_e!=null&&_e.planet_house&&["Ge","Vi","Sg","Pi"].includes(_e.planet_house)?"Ge":null,ve=fe!=null&&fe.planet_house&&["Ar","Cn","Li","Cp"].includes(fe.planet_house)?"Ar":fe!=null&&fe.planet_house&&["Ta","Le","Sc","Aq"].includes(fe.planet_house)?"Ta":fe!=null&&fe.planet_house&&["Ge","Vi","Sg","Pi"].includes(fe.planet_house)?"Ge":null;ae&&ve&&ae===ve&&Te++}),ce[te][se]=Te})}),B(ce)};Ae.useEffect(()=>{u.length>0&&Object.keys(h).length>0&&(z(),window.hrData=u,window.dates=h,console.log("🔧 [UserData] HR data now available in console as: window.hrData"),console.log("🔧 [UserData] Dates now available in console as: window.dates"))},[u,h]);const q=async()=>{try{const ce=new d_.Workbook,te=ce.addWorksheet("User Data");te.mergeCells("A1","D1"),te.getCell("A1").value=`User: ${t.username}, Excel Upload Date: ${j}`,te.getCell("A1").font={bold:!0};const se=["Topic",...Object.keys(h).map(_e=>`Day-${_e}`)];te.addRow(se);const ge=["Date",...Object.keys(h).map(_e=>h[_e]||"-")];te.addRow(ge),ie.forEach(_e=>{Mi.forEach(fe=>{const ae=[`HR-${_e} ${fe}`];Object.entries(h).forEach(([ve,Ee])=>{const Fe=u.find(Ge=>Ge.hr_number===`HR-${_e}`&&Ge.topic===fe&&Ge.date===Ee),Ue=m[`${_e}_${fe}_${ve}`];ae.push(`${(Fe==null?void 0:Fe.planet_house)||"-"} - (${Ue||"-"})`)}),te.addRow(ae)}),te.addRow([`HR-${_e} Group Ar`,...Object.keys(h).map(fe=>{var ae,ve;return((ve=(ae=E[_e])==null?void 0:ae[fe])==null?void 0:ve.Ar)||0})]),te.addRow([`HR-${_e} Group Ta`,...Object.keys(h).map(fe=>{var ae,ve;return((ve=(ae=E[_e])==null?void 0:ae[fe])==null?void 0:ve.Ta)||0})]),te.addRow([`HR-${_e} Group Ge`,...Object.keys(h).map(fe=>{var ae,ve;return((ve=(ae=E[_e])==null?void 0:ae[fe])==null?void 0:ve.Ge)||0})]),te.addRow([`HR-${_e} Same Numbers`,...Object.keys(h).map(fe=>{var ae;return((ae=C[_e])==null?void 0:ae[fe])||0})]),te.addRow([`HR-${_e} Same Groups`,...Object.keys(h).map(fe=>{var ae;return((ae=V[_e])==null?void 0:ae[fe])||0})]),te.addRow([])}),console.log("Debugging handleDownloadExcel:"),console.log("hrData:",u),console.log("groupCounts:",E),console.log("houseNumbers:",m),te.eachRow((_e,fe)=>{_e.eachCell((ae,ve)=>{var Fe;const Ee=ae.value?ae.value.toString():"";if(console.log(`Row ${fe}, Column ${ve}, Value: ${Ee}`),fe===1||fe===2)ae.font={bold:!0},ae.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFCCCCCC"}};else{const Ue=(Fe=Ee.match(/[A-Za-z]{2}/))==null?void 0:Fe[0],Ge=Vu(Ue);Ge.includes("#DCEDC1")?ae.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFDCEDC1"}}:Ge.includes("#FFD3B6")?ae.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFFFD3B6"}}:Ge.includes("#FFAAA5")?ae.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFFFAAA5"}}:ae.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFFFFFFF"}}}})});const de=await ce.xlsx.writeBuffer(),Te=new Blob([de],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),De=document.createElement("a");De.href=URL.createObjectURL(Te),De.download=`${(t==null?void 0:t.username)||"User"}_data.xlsx`,De.click()}catch(ce){console.error("Error generating Excel file:",ce)}},[Y,U]=Ae.useState(""),[Q,F]=Ae.useState(null),[O,K]=Ae.useState(!1),[ne,ee]=Ae.useState(!1);if(!t)return G.jsx("div",{className:"p-4",children:"Loading..."});const ie=Array.from({length:t.hr},(ce,te)=>te+1),he=Object.entries(h).sort(([ce],[te])=>Number(ce)-Number(te)).reduce((ce,[te,se])=>(ce[te]=se,ce),{});return G.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100",children:[G.jsx("div",{className:"sticky top-0 bg-white shadow-md z-10",children:G.jsxs("div",{className:"container mx-auto p-4 flex justify-between items-center",children:[G.jsxs("div",{className:"flex items-center space-x-4",children:[G.jsxs("h1",{className:"text-xl font-bold",children:[(t==null?void 0:t.username)||"User Not Found"," "]}),G.jsxs("span",{className:"text-sm text-gray-600",children:["HR: ",(t==null?void 0:t.hr)||"N/A"," "]})]}),G.jsxs("div",{className:"flex items-center space-x-2",children:[G.jsx(r9,{onDataUploaded:_,showIcon:!0,isUploaded:!!p,formatConfig:{rowRange:{start:3,end:20},expectedPlanets:10}}),G.jsx(Lj,{onAddDate:k,existingDates:Object.values(h).filter(Boolean)}),G.jsx("button",{onClick:q,className:"bg-green-500 text-white px-3 py-1 text-xs rounded hover:bg-green-600",children:"Download Excel"}),G.jsx("button",{onClick:()=>r("/"),className:"bg-gray-500 text-white px-3 py-1 text-xs rounded hover:bg-gray-600",children:"Back"}),G.jsx(no,{to:`/day-details/${e}?dates=${encodeURIComponent(JSON.stringify(h))}`,className:"bg-blue-500 text-white px-3 py-1 text-xs rounded hover:bg-blue-600",children:"Go to Day Details"}),G.jsx(no,{to:`/abcd-number/${e}`,className:"bg-orange-500 text-white px-3 py-1 text-xs rounded hover:bg-orange-600",children:"ABCD Number"}),G.jsx(no,{to:"/number-gen",className:"bg-purple-500 text-white px-3 py-1 text-xs rounded hover:bg-purple-600",children:"Number Gen"}),G.jsx("button",{type:"submit",form:"userDataForm",disabled:l,className:"bg-blue-500 text-white px-3 py-1 text-xs rounded hover:bg-blue-600 disabled:opacity-50",children:l?"Saving...":"Save All"})]})]})}),s&&G.jsx("div",{className:"p-2 m-2 bg-red-50 text-red-700 rounded",children:s}),a&&G.jsx("div",{className:"p-2 m-2 bg-green-50 text-green-700 rounded",children:a}),G.jsx("div",{className:"flex-1 overflow-auto",children:G.jsxs("form",{id:"userDataForm",onSubmit:x,children:["  ",ie.map(ce=>G.jsxs("div",{className:"mb-8",children:[G.jsx("div",{className:"sticky top-0 bg-gray-200 z-10",children:G.jsxs("h2",{className:"text-lg font-semibold px-4 py-2",children:[(t==null?void 0:t.username)||"User Not Found"," - HR-",ce," "]})}),G.jsxs("div",{className:"relative",children:[G.jsx("div",{className:"overflow-x-auto scrollbar-hidden absolute top-0 left-0 right-0 z-10",children:G.jsx("div",{className:"w-full",style:{height:"1px"}})}),G.jsx("div",{className:"overflow-x-auto",children:G.jsxs("table",{className:"w-full border-collapse bg-white",children:[G.jsx("thead",{children:G.jsxs("tr",{children:[G.jsx("th",{className:"w-24 p-2 text-left text-xs font-medium text-gray-500 bg-gray-50 border border-gray-200",children:"Topic"}),Object.entries(he).map(([te,se])=>{var ge;return G.jsx("th",{className:"w-40 p-0 text-left text-xs font-medium text-gray-500 bg-gray-50 border border-gray-200",children:G.jsxs("div",{className:"flex flex-col",children:[G.jsxs("div",{className:"flex items-center justify-between p-2 space-x-2",children:[G.jsxs("span",{children:["HR-",ce]}),M(te)&&G.jsx("button",{onClick:()=>A(te),className:"text-red-500 hover:text-red-700 hover:bg-red-50 p-1 rounded text-xs",title:`Delete Day-${te} (${Object.keys(h).length<=1?"Cannot delete - only one date":"Click to delete this date"})`,disabled:l,children:"🗑️"})]}),G.jsxs("div",{className:"flex items-center justify-between p-2 space-x-2",children:[G.jsxs("span",{className:M(te)?"text-red-600 font-medium":"",children:["Day-",te,M(te)&&G.jsx("span",{className:"text-xs text-red-500 block",children:parseInt(te)===Math.min(...Object.keys(h).map(Number))?"(Oldest)":"(Newest)"})]}),G.jsx("input",{type:"date",value:se||"",onChange:de=>w(te,de.target.value),className:"text-xs border-0 p-0"})]}),G.jsxs("select",{name:`planet_hr${ce}_day${te}`,value:((ge=u.find(de=>de.hr_number===`HR-${ce}`&&de.topic===`DAY-${te}`))==null?void 0:ge.planet_house)||"",onChange:de=>S(ce,te,de.target.value),className:"w-full text-xs border-t border-gray-200 p-1",children:[G.jsx("option",{value:"",children:"PLN"}),Pj.map(de=>G.jsx("option",{value:de,children:de},de))]})]})},te)})]})}),G.jsxs("tbody",{children:[Mi.map(te=>G.jsxs("tr",{className:"border-b border-gray-200",children:[G.jsx("td",{className:"p-2 text-xs font-medium text-gray-900 bg-gray-50 border-r border-gray-200",children:te}),Object.entries(he).map(([se,ge])=>{const de=u.find(_e=>_e.hr_number===`HR-${ce}`&&_e.topic===te&&_e.date===ge),Te=`${ce}_${te}_${se}`,De=m[Te];return G.jsx("td",{className:"p-0 border-r border-gray-200",children:G.jsxs("div",{className:"flex items-center",children:[G.jsx("div",{className:`w-full text-xs p-2 ${de!=null&&de.planet_house?Vu(de.planet_house):""}`,children:(de==null?void 0:de.planet_house)||"-"}),G.jsx("div",{className:"w-8 text-center",children:G.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded ${De?"bg-blue-100 text-blue-800 font-medium":"text-gray-400"}`,children:De||"-"})})]})},se)})]},te)),G.jsxs("tr",{className:"bg-[#DCEDC1]",children:[G.jsx("td",{className:"p-2 text-xs font-bold text-black",children:"Ar"}),Object.keys(he).map(te=>{var se,ge;return G.jsx("td",{className:"p-2 text-xs font-bold text-black text-center",children:((ge=(se=E[ce])==null?void 0:se[te])==null?void 0:ge.Ar)||0},`ar-${te}`)})]}),G.jsxs("tr",{className:"bg-[#FFD3B6]",children:[G.jsx("td",{className:"p-2 text-xs font-bold text-black",children:"Ta"}),Object.keys(he).map(te=>{var se,ge;return G.jsx("td",{className:"p-2 text-xs font-bold text-black text-center",children:((ge=(se=E[ce])==null?void 0:se[te])==null?void 0:ge.Ta)||0},`ta-${te}`)})]}),G.jsxs("tr",{className:"bg-[#FFAAA5]",children:[G.jsx("td",{className:"p-2 text-xs font-bold text-black",children:"Ge"}),Object.keys(he).map(te=>{var se,ge;return G.jsx("td",{className:"p-2 text-xs font-bold text-black text-center",children:((ge=(se=E[ce])==null?void 0:se[te])==null?void 0:ge.Ge)||0},`ge-${te}`)})]}),G.jsxs("tr",{className:"bg-gray-200",children:[G.jsx("td",{className:"p-2 text-xs font-bold text-black text-[10px]",children:"Same Numbers"}),Object.keys(he).map(te=>{var se;return G.jsx("td",{className:"p-2 text-xs font-bold text-black text-center text-[10px]",children:((se=C[ce])==null?void 0:se[te])||0},`same-${te}`)})]}),G.jsxs("tr",{className:"bg-gray-300",children:[G.jsx("td",{className:"p-2 text-xs font-bold text-black text-[10px]",children:"Same Groups"}),Object.keys(he).map(te=>{var se;return G.jsx("td",{className:"p-2 text-xs font-bold text-black text-center text-[10px]",children:((se=V[ce])==null?void 0:se[te])||0},`same-group-${te}`)})]})]})]})})]})]},ce))]})})]})}const s9=()=>{const[r,e]=Ae.useState("Connected"),[t,n]=Ae.useState(!1);return Ae.useEffect(()=>{e("Development Mode")},[]),G.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:G.jsxs("div",{className:"flex items-center",children:[G.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-2"}),G.jsxs("span",{className:"text-green-700 font-medium",children:["Status: ",r]}),t&&G.jsx("div",{className:"ml-2 text-sm text-gray-500",children:"Checking..."})]})})};function US(){const r=$l(),[e,t]=Ae.useState([]),[n,s]=Ae.useState(!0),[i,a]=Ae.useState({username:"",hr:"",days:""});Ae.useEffect(()=>{l()},[]);const o=()=>{localStorage.removeItem("house_count_session"),localStorage.removeItem("house_count_enabled"),localStorage.removeItem("user_email"),localStorage.removeItem("auth_type"),r("/auth")};Ae.useEffect(()=>{const d=setTimeout(()=>{n&&(console.warn("Loading timeout reached, setting loading to false"),s(!1),t([]))},15e3);return()=>clearTimeout(d)},[n]),Ae.useEffect(()=>{e.length===0&&!n&&(async()=>{try{const{data:h,error:f}=await Xt.from("users").select("count");f?console.error("Supabase connection test failed:",f):console.log("Supabase connection successful")}catch(h){console.error("Failed to test Supabase connection:",h)}})()},[e.length,n]);const l=async()=>{try{s(!0),console.log("Starting to fetch users...");const d="https://zndkprjytuhzufdqhnmt.supabase.co",h="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpuZGtwcmp5dHVoenVmZHFobm10Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM0OTg5OTgsImV4cCI6MjA1OTA3NDk5OH0._1xM__KPGNlr3HG3-An2fy3kKfIxWU-AXJnrMpdWYok",f=new Promise((v,y)=>setTimeout(()=>y(new Error("Request timeout after 5 seconds")),5e3)),m=Xt.from("users").select("*"),{data:g,error:p}=await Promise.race([m,f]);if(p){console.error("Error fetching users:",p),console.warn("Falling back to mock data due to Supabase error");const v=[{id:1,username:"Demo User 1",hr:8,days:5,created_at:new Date().toISOString()},{id:2,username:"Demo User 2",hr:6,days:3,created_at:new Date().toISOString()}];t(v);return}console.log("Successfully fetched users:",(g==null?void 0:g.length)||0,"users"),t(g||[])}catch(d){console.error("Unexpected error in fetchUsers:",d),console.warn("Using mock data due to error");const h=[{id:1,username:"Demo User 1",hr:8,days:5,created_at:new Date().toISOString()},{id:2,username:"Demo User 2",hr:6,days:3,created_at:new Date().toISOString()}];t(h)}finally{console.log("Fetch users completed, setting loading to false"),s(!1)}},c=async d=>{d.preventDefault();const{data:h,error:f}=await Xt.from("users").insert([{username:i.username,hr:parseInt(i.hr),days:parseInt(i.days)}]).select();if(f){console.error("Error adding user:",f);return}a({username:"",hr:"",days:""}),l()},u=async d=>{if(confirm("Are you sure you want to delete this user and all associated data? This cannot be undone."))try{const{error:h}=await Xt.from("house").delete().eq("user_id",d);if(h){console.error("Error deleting related house data:",h),alert(`Failed to delete related house data: ${h.message}`);return}const{error:f}=await Xt.from("hr_data").delete().eq("user_id",d);if(f){console.error("Error deleting related hr_data:",f),alert(`Failed to delete related HR data: ${f.message}`);return}const{error:m}=await Xt.from("users").delete().eq("id",d);if(m){console.error("Error deleting user:",m),alert(`Failed to delete user: ${m.message}`);return}l(),alert("User and all associated data deleted successfully.")}catch(h){console.error("An unexpected error occurred during deletion:",h),alert("An unexpected error occurred. Please check the console.")}};return G.jsxs("div",{className:"min-h-screen bg-gray-50",children:[G.jsx("header",{className:"bg-white shadow-sm border-b",children:G.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:G.jsxs("div",{className:"flex justify-between items-center h-16",children:[G.jsxs("div",{className:"flex items-center space-x-8",children:[G.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"viboothi.in"}),G.jsxs("nav",{className:"flex space-x-6",children:[G.jsx(no,{to:"/users",className:"text-indigo-600 hover:text-indigo-900 font-medium",children:"Users"}),G.jsx(no,{to:"/number-gen",className:"text-gray-700 hover:text-gray-900",children:"Number Generator"}),G.jsx(no,{to:"/dual-service-demo",className:"text-gray-700 hover:text-gray-900",children:"Firebase Sync Demo"})]})]}),G.jsxs("div",{className:"flex items-center space-x-4",children:[G.jsx("span",{className:"text-sm text-gray-500",children:"Welcome, gurukrpasharma"}),G.jsx("button",{onClick:o,className:"bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500",children:"Logout"})]})]})})}),G.jsx("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:G.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[G.jsx("h2",{className:"text-2xl font-bold mb-6",children:"User Management"}),G.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8",children:[G.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add New User"}),G.jsxs("form",{onSubmit:c,className:"space-y-4",children:[G.jsxs("div",{children:[G.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Username:"}),G.jsx("input",{type:"text",value:i.username,onChange:d=>a({...i,username:d.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",required:!0})]}),G.jsxs("div",{children:[G.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total HR:"}),G.jsx("input",{type:"number",value:i.hr,onChange:d=>a({...i,hr:d.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",required:!0})]}),G.jsxs("div",{children:[G.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total Days:"}),G.jsx("input",{type:"number",value:i.days,onChange:d=>a({...i,days:d.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",required:!0})]}),G.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Add User"})]})]}),G.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:G.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[G.jsx("thead",{className:"bg-gray-50",children:G.jsxs("tr",{children:[G.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Username"}),G.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total HR"}),G.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Days"}),G.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),G.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(d=>G.jsxs("tr",{children:[G.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.username}),G.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.hr}),G.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.days}),G.jsxs("td",{className:"px-6 py-4 whitespace-nowrap space-x-2",children:[G.jsx(no,{to:`/user-data/${d.id}`,className:"text-blue-600 hover:text-blue-900",children:"House Count"}),G.jsx(no,{to:`/abcd-number/${d.id}`,className:"text-orange-600 hover:text-orange-900 ml-4",children:"ABCD Number"}),G.jsx(no,{to:"/number-gen",className:"text-purple-600 hover:text-purple-900 ml-4",children:"Number Gen"}),G.jsx("button",{onClick:()=>u(d.id),className:"text-red-600 hover:text-red-900 ml-4",children:"Delete"})]})]},d.id))})]})}),G.jsx("div",{className:"mt-8",children:G.jsx(s9,{})})]})})]})}const Uw=({progress:r=0,message:e="Loading...",showPercentage:t=!0,className:n="",color:s="blue"})=>{const i={blue:"bg-blue-600",purple:"bg-purple-600",green:"bg-green-600",orange:"bg-orange-600"},a=i[s]||i.blue;return G.jsxs("div",{className:`w-full ${n}`,children:[G.jsxs("div",{className:"flex items-center justify-between mb-2",children:[G.jsx("span",{className:"text-sm font-medium text-gray-700",children:e}),t&&G.jsxs("span",{className:"text-sm font-medium text-gray-500",children:[Math.round(r),"%"]})]}),G.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:G.jsx("div",{className:`${a} h-2.5 rounded-full transition-all duration-300 ease-out`,style:{width:`${Math.min(100,Math.max(0,r))}%`}})})]})};var i9={exports:{}},$G="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",VG=$G,HG=VG;function a9(){}function o9(){}o9.resetWarningCache=a9;var zG=function(){function r(n,s,i,a,o,l){if(l!==HG){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}r.isRequired=r;function e(){return r}var t={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:e,element:r,elementType:r,instanceOf:e,node:r,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o9,resetWarningCache:a9};return t.PropTypes=t,t};i9.exports=zG();var qG=i9.exports;const $S=Mx(qG);var WG=Object.defineProperty,GG=(r,e,t)=>e in r?WG(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,KG=(r,e,t)=>GG(r,e+"",t);class wc extends Ux.Component{constructor(e){super(e),KG(this,"resetError",()=>{this.setState({hasError:!1,error:null}),this.props.onReset&&this.props.onReset()}),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Error Boundary caught:",e,t)}render(){return this.state.hasError?G.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg m-4",children:[G.jsx("h2",{className:"text-lg font-bold text-red-800",children:"Something went wrong"}),G.jsx("pre",{className:"text-red-600 text-sm mt-2 mb-4 overflow-auto",children:this.state.error.message}),G.jsx("button",{onClick:this.resetError,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded",children:"Try Again"})]}):this.props.children}}wc.propTypes={children:$S.node,onReset:$S.func};const Qi=["Su","Mo","Ma","Me","Ju","Ve","Sa","Ra","Ke"],VS={Ar:1,Ta:2,Ge:3,Cn:4,Le:5,Vi:6,Li:7,Sc:8,Sg:9,Cp:10,Aq:11,Pi:12},Ly=r=>{if(!r)return null;const e=["Ar","Cn","Li","Cp"],t=["Ta","Le","Sc","Aq"],n=["Ge","Vi","Sg","Pi"];return e.includes(r)?"Ar":t.includes(r)?"Ta":n.includes(r)?"Ge":null},jy=(r,e)=>{if(!r||r==="-"||!e||e==="-")return null;const t=VS[r],n=VS[e];return t===void 0||n===void 0?null:(n-t+12)%12+1};function XG(){const r=$l(),{userId:e}=M2(),[t,n]=Ae.useState(null),[s,i]=Ae.useState([]),[a,o]=Ae.useState(null),[l,c]=Ae.useState({}),[u,d]=Ae.useState(null),[h,f]=Ae.useState([]),[m,g]=Ae.useState([]),[p,v]=Ae.useState({}),[y,b]=Ae.useState({}),[E,N]=Ae.useState(""),[j,D]=Ae.useState({}),[C,I]=Ae.useState({}),[V,B]=Ae.useState({}),[P,k]=Ae.useState({}),[M,A]=Ae.useState(!1);Ae.useEffect(()=>{async function z(){try{const{data:q,error:Y}=await Xt.from("users").select("id, username, hr").eq("id",e).single();if(Y)throw Y;n(q);const{data:U,error:Q}=await Xt.from("hr_data").select("*").eq("user_id",e).order("date",{ascending:!0});if(Q)throw Q;i(U);const F=[...new Set(U.filter(K=>K.date).map(K=>K.date))].sort((K,ne)=>new Date(K)-new Date(ne)),O={};U.forEach(K=>{if(K.topic&&K.topic.startsWith("DAY-")){const ne=parseInt(K.topic.split("-")[1]);K.date&&(O[ne]=K.date)}}),f(F),v(O),F.length>0?o(F[F.length-1]):o(null)}catch(q){console.error("Error fetching data:",q),n(null),i([]),f([]),o(null),v({})}}e&&z()},[e]),Ae.useEffect(()=>{if(a?S():g([]),s.length>0&&Object.keys(p).length>0)try{const z=Cw(s,p);b(z)}catch(z){console.error("Error calculating house differences:",z),b({})}else b({});if(a&&s.length>0&&(t!=null&&t.hr))try{const z=Fj(s,a,t.hr);D(z)}catch(z){console.error("Error calculating group counts:",z),D({})}else D({})},[a,s,p,t]),Ae.useEffect(()=>{if(u&&Object.keys(u).length>0){const z={};Qi.forEach(q=>{z[q]={Ar:0,Ta:0,Ge:0},u[q]&&Mi.forEach(Y=>{const U=u[q][Y],Q=Ly(U);Q&&z[q][Q]++})}),I(z)}else I({})},[u]);const w=()=>{if(!u||!a||!(t!=null&&t.hr)||!y){console.log("Calculation skipped: Missing excelData, selectedDate, user.hr, or houseDifferences");return}const z=R(a),q={},Y={};for(let U=1;U<=t.hr;U++){const Q={},F={};Qi.forEach(O=>{Q[O]=0,F[O]=0}),Mi.forEach(O=>{var ie;const K=x(U,O),ne=(ie=K==null?void 0:K.match(/^[A-Za-z]{2}/))==null?void 0:ie[0];let ee=null;if(z!==null&&z>1){const he=`${U}_${O}_${z}`,ce=y[he];ce!=null&&!isNaN(ce)&&(ee=parseInt(ce,10))}Qi.forEach(he=>{var Te,De;const ce=(Te=u==null?void 0:u[he])==null?void 0:Te[O],te=(De=ce==null?void 0:ce.match(/^[A-Za-z]{2}/))==null?void 0:De[0];let se=null;if(ne&&te){const _e=jy(ne,te);_e!==null&&!isNaN(_e)&&(se=_e)}U===1&&he==="Su"&&["D-10","D-3","D-27"].includes(O)&&console.log(`DEBUG_CALC (HR-1, Su, ${O}): UserNum=${ee} (Diff), PlanetNum=${se} (Steps) (from UserHouse='${ne}', PlanetHouse='${te}')`),ee!==null&&se!==null&&ee===se&&(Q[he]++,U===1&&he==="Su"&&["D-10","D-3","D-27"].includes(O)&&console.log(`   -> FOUND SAME NUMBER MATCH (Calc) for HR-1, Su at Division=${O}`));const ge=ne?Ly(ne):null,de=te?Ly(te):null;ge&&de&&ge===de&&F[he]++})}),q[U]=Q,Y[U]=F}B(q),k(Y)};Ae.useEffect(()=>{u&&s.length>0&&a&&(t!=null&&t.hr)?(A(!1),w()):(B({}),k({}),A(!1))},[u,s,a,t==null?void 0:t.hr]),Ae.useEffect(()=>{const z=Object.keys(V).length>0,q=Object.keys(P).length>0;z&&q?(A(!0),console.log("Counts calculated and flag set to true.")):console.log("Count data not ready, flag remains false.")},[V,P]);const S=async()=>{if(!a){g([]);return}try{const{data:z,error:q}=await Xt.from("DayDetails").select("*").eq("user_id",e).eq("future_date",a);if(q)throw q;g(z||[])}catch(z){console.error("Error fetching DayDetails:",z),g([])}},_=(z,q)=>{console.log("Received data from ExcelUpload component:",z),d(z),console.log("Excel data state AFTER setExcelData:",z),N(q)},x=(z,q)=>{const Y=s.find(U=>U.hr_number===`HR-${z}`&&U.topic===q&&U.date===a);return(Y==null?void 0:Y.planet_house)||"-"},R=z=>{if(!z)return null;for(const[q,Y]of Object.entries(p))if(Y===z)return parseInt(q);return null},W=(z,q)=>{const Y=R(a);if(Y===null||Y<=1)return"";const U=`${z}_${q}_${Y}`,Q=y[U];return Q!=null?`(${Q})`:""},T=async()=>{var z;try{const q=new d_.Workbook,Y=q.addWorksheet("Day Details"),U=Y.addRow(["Date:",a]);U.font={bold:!0},Y.addRow([]);for(let ne=1;ne<=t.hr;ne++){const ee=Y.addRow([`HR-${ne}`]);ee.font={bold:!0,size:14},ee.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFD3D3D3"}};let ie=0;const he=["Topic","House (Count)",...Qi],ce=Y.addRow(he);if(ce.font={bold:!0},ce.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFCCCCCC"}},ie=he.length,ie>0&&(Y.mergeCells(ee.getCell(1).address,ee.getCell(ie).address),ee.getCell(1).alignment={horizontal:"center"}),Mi.forEach(te=>{var De;const se=[],ge=x(ne,te),de=W(ne,te),Te=(De=ge==null?void 0:ge.match(/^[A-Za-z]{2}/))==null?void 0:De[0];se.push(`HR-${ne} ${te}`),se.push(`${ge} ${de}`.trim()),Qi.forEach(_e=>{var Ee,Fe;const fe=((Ee=u==null?void 0:u[_e])==null?void 0:Ee[te])||"-",ae=(Fe=fe==null?void 0:fe.match(/^[A-Za-z]{2}/))==null?void 0:Fe[0],ve=jy(Te,ae);se.push(`${fe} ${ve!==null?`(${ve})`:""}`.trim())}),Y.addRow(se)}),M){["Ar","Ta","Ge"].forEach(Te=>{const De=[`Group ${Te}`,"-"],_e=Vu(Te);Qi.forEach(ve=>{var Fe;const Ee=((Fe=C[ve])==null?void 0:Fe[Te])||0;De.push(Ee)});const fe=Y.addRow(De);fe.font={bold:!0};let ae="FFFFFFFF";_e.includes("#DCEDC1")?ae="FFDCEDC1":_e.includes("#FFD3B6")?ae="FFFFD3B6":_e.includes("#FFAAA5")&&(ae="FFFFAAA5"),fe.fill={type:"pattern",pattern:"solid",fgColor:{argb:ae}},fe.getCell(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:ae}}});const te=["Same Numbers","-"];Qi.forEach(Te=>{var _e;const De=((_e=V[ne])==null?void 0:_e[Te])||0;te.push(De)});const se=Y.addRow(te);se.font={bold:!0},se.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFE0E0E0"}},se.getCell(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFE0E0E0"}};const ge=["Same Groups","-"];Qi.forEach(Te=>{var _e;const De=((_e=P[ne])==null?void 0:_e[Te])||0;ge.push(De)});const de=Y.addRow(ge);de.font={bold:!0},de.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFE0E0E0"}},de.getCell(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFE0E0E0"}}}Y.addRow([])}Y.eachRow((ne,ee)=>{var he;(((he=ne.getCell(1).value)==null?void 0:he.toString())||"").match(/^HR-\d+ D-\d+/)&&ne.eachCell({includeEmpty:!0},(ce,te)=>{var se,ge;if(te>=2){const Te=(ge=(((se=ce.value)==null?void 0:se.toString())||"").match(/^[A-Za-z]{2}/))==null?void 0:ge[0];if(Te){const De=Vu(Te);let _e="FFFFFFFF";De.includes("#DCEDC1")?_e="FFDCEDC1":De.includes("#FFD3B6")?_e="FFFFD3B6":De.includes("#FFAAA5")&&(_e="FFFFAAA5"),ce.fill={type:"pattern",pattern:"solid",fgColor:{argb:_e}}}}})}),Y.columns.forEach(ne=>{let ee=0;ne.eachCell({includeEmpty:!0},ie=>{let he=ie.value?ie.value.toString().length:0;he>ee&&(ee=he)}),ne.width=ee<10?10:ee+2});const Q=await q.xlsx.writeBuffer(),F=new Blob([Q],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),O=document.createElement("a");O.href=URL.createObjectURL(F);const K=((z=E==null?void 0:E.match(/\d{1,2}-\d{1,2}-\d{2}/))==null?void 0:z[0])||a||"no_date";O.download=`${(t==null?void 0:t.username)||"User"}_DayDetails_${K}.xlsx`,O.click()}catch(q){console.error("Excel download failed:",q)}};return e?t?h.length===0?G.jsx("div",{className:"min-h-screen bg-gray-100 p-4",children:G.jsxs("div",{className:"max-w-full mx-auto",children:[G.jsxs("div",{className:"flex justify-between items-center mb-4",children:[G.jsx("h1",{className:"text-2xl font-bold",children:t.username}),G.jsx("button",{onClick:()=>r("/"),className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:"Back"})]}),G.jsx("p",{className:"text-center text-gray-600 mt-10",children:"No date entries found for this user."})]})}):a?G.jsx("div",{className:"min-h-screen bg-gray-100 p-4",children:G.jsxs("div",{className:"max-w-full mx-auto overflow-x-auto",children:[G.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-4 gap-4",children:[G.jsxs("h1",{className:"text-2xl font-bold",children:[t.username," - Selected Date: ",a]}),G.jsxs("div",{className:"flex items-center gap-4",children:[G.jsx(r9,{onDataUploaded:(z,q)=>_(z,q),icon:"⬆️"}),E?G.jsx("div",{className:"file-name-display",children:G.jsx("span",{children:E})}):null,G.jsxs("div",{className:"flex items-center gap-2",children:[G.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select Date:"}),G.jsx("select",{value:a,onChange:z=>o(z.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:h.map((z,q)=>G.jsx("option",{value:z,children:z},q))})]}),G.jsx("button",{onClick:T,className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 text-sm",children:"Download Excel"}),G.jsx("button",{onClick:()=>r(`/abcd-number/${e}`),className:"bg-orange-500 text-white px-4 py-2 rounded hover:bg-orange-600 text-sm",children:"ABCD Number"}),G.jsx("button",{onClick:()=>r("/number-gen"),className:"bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600 text-sm",children:"Number Gen"}),G.jsx("button",{onClick:()=>r(`/user-data/${e}`),className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 text-sm",children:"Back"})]})]}),m.length>0&&G.jsxs("div",{className:"mb-8 bg-white p-4 rounded shadow",children:[G.jsxs("h2",{className:"text-lg font-bold mb-4",children:["Predictions for ",a]}),G.jsxs("table",{className:"w-full border-collapse bg-gray-100 text-sm",children:[G.jsx("thead",{children:G.jsxs("tr",{children:[G.jsx("th",{className:"p-2 text-left font-medium text-gray-700 bg-gray-200 border",children:"HR Number"}),G.jsx("th",{className:"p-2 text-left font-medium text-gray-700 bg-gray-200 border",children:"Division"}),G.jsx("th",{className:"p-2 text-left font-medium text-gray-700 bg-gray-200 border",children:"Predicted House"})]})}),G.jsx("tbody",{children:m.map((z,q)=>G.jsxs("tr",{children:[G.jsx("td",{className:"p-2 text-gray-800 border",children:z.hr_number}),G.jsx("td",{className:"p-2 text-gray-800 border",children:z.division}),G.jsx("td",{className:"p-2 text-gray-800 border",children:z.predicted_house})]},q))})]})]}),Array.from({length:t.hr},(z,q)=>q+1).map(z=>G.jsxs("div",{className:"mb-8 bg-white p-4 rounded shadow",children:[G.jsxs("h2",{className:"text-lg font-bold mb-4",children:["HR-",z]}),G.jsx("div",{className:"overflow-x-auto",children:G.jsxs("table",{className:"w-full border-collapse bg-gray-100 text-sm mb-4",children:[G.jsx("thead",{children:G.jsxs("tr",{children:[G.jsx("th",{className:"p-2 text-left font-medium text-gray-700 bg-gray-200 border sticky left-0 z-20",children:"Division"}),G.jsx("th",{className:"p-2 text-left font-medium text-gray-700 bg-gray-200 border",children:"House (Count)"}),Qi.map(q=>G.jsx("th",{className:"p-2 text-center font-medium text-gray-700 bg-gray-200 border",children:q},q))]})}),G.jsxs("tbody",{children:[Mi.map(q=>{const Y=x(z,q),U=W(z,q);return G.jsxs("tr",{children:[G.jsx("td",{className:"p-2 text-gray-800 border sticky left-0 z-10 bg-white",children:q}),G.jsx("td",{className:`p-2 text-sm border ${Vu(Y)} ${O6(Y)}`,children:G.jsxs("div",{children:[Y," ",U]})}),Qi.map(Q=>{var ie;const F=((ie=u==null?void 0:u[Q])==null?void 0:ie[q])||"-",O=F!=="-"?Vu(F):"",K=F!=="-"?O6(F):"",ne=jy(Y,F),ee=ne!==null?`(${ne})`:"";return G.jsxs("td",{className:`p-2 text-center border ${O} ${K}`,children:[F," ",ee]},Q)})]},q)}),M&&G.jsxs(G.Fragment,{children:[["Ar","Ta","Ge"].map(q=>{const Y=Vu(q);return G.jsxs("tr",{className:`${Y} font-medium`,children:[G.jsxs("td",{className:`p-2 text-left border sticky left-0 z-10 ${Y}`,children:["Group ",q]}),G.jsx("td",{className:"p-2 text-left border",children:"-"})," ",Qi.map(U=>{var F;const Q=((F=C[U])==null?void 0:F[q])||0;return G.jsx("td",{className:"p-2 text-center border",children:Q},`${U}-${q}`)})]},q)}),G.jsxs("tr",{className:"bg-gray-200 font-medium",children:[G.jsx("td",{className:"p-2 text-left border sticky left-0 z-10 bg-gray-200",children:"Same Numbers"}),G.jsx("td",{className:"p-2 text-left border",children:"-"}),Qi.map(q=>{var U;const Y=((U=V[z])==null?void 0:U[q])||0;return G.jsx("td",{className:"p-2 text-center border",children:Y},q)})]}),G.jsxs("tr",{className:"bg-gray-200 font-medium",children:[G.jsx("td",{className:"p-2 text-left border sticky left-0 z-10 bg-gray-200",children:"Same Groups"}),G.jsx("td",{className:"p-2 text-left border",children:"-"}),Qi.map(q=>{var U;const Y=((U=P[z])==null?void 0:U[q])||0;return G.jsx("td",{className:"p-2 text-center border",children:Y},q)})]})]})]})]})})]},z))]})}):G.jsx("div",{className:"p-4 text-center text-yellow-600",children:"Please select a date."}):G.jsx("div",{className:"p-4",children:G.jsx("h2",{className:"text-xl font-bold",children:"Loading User Data..."})}):G.jsx("div",{className:"p-4 text-center text-red-500",children:"User ID not found in URL."})}function zr(r){"@babel/helpers - typeof";return zr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zr(r)}function YG(r,e){if(zr(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(zr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function l9(r){var e=YG(r,"string");return zr(e)=="symbol"?e:e+""}function p0(r,e,t){return(e=l9(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function HS(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),t.push.apply(t,n)}return t}function lr(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?HS(Object(t),!0).forEach(function(n){p0(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):HS(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function JG(r){if(Array.isArray(r))return r}function QG(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,s,i,a,o=[],l=!0,c=!1;try{if(i=(t=t.call(r)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(n=i.call(t)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,s=u}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw s}}return o}}function $w(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function c9(r,e){if(r){if(typeof r=="string")return $w(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?$w(r,e):void 0}}function ZG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kl(r,e){return JG(r)||QG(r,e)||c9(r,e)||ZG()}function eK(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function Hl(r,e){if(r==null)return{};var t,n,s=eK(r,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(n=0;n<i.length;n++)t=i[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(s[t]=r[t])}return s}var tK=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function rK(r){var e=r.defaultInputValue,t=e===void 0?"":e,n=r.defaultMenuIsOpen,s=n===void 0?!1:n,i=r.defaultValue,a=i===void 0?null:i,o=r.inputValue,l=r.menuIsOpen,c=r.onChange,u=r.onInputChange,d=r.onMenuClose,h=r.onMenuOpen,f=r.value,m=Hl(r,tK),g=Ae.useState(o!==void 0?o:t),p=kl(g,2),v=p[0],y=p[1],b=Ae.useState(l!==void 0?l:s),E=kl(b,2),N=E[0],j=E[1],D=Ae.useState(f!==void 0?f:a),C=kl(D,2),I=C[0],V=C[1],B=Ae.useCallback(function(_,x){typeof c=="function"&&c(_,x),V(_)},[c]),P=Ae.useCallback(function(_,x){var R;typeof u=="function"&&(R=u(_,x)),y(R!==void 0?R:_)},[u]),k=Ae.useCallback(function(){typeof h=="function"&&h(),j(!0)},[h]),M=Ae.useCallback(function(){typeof d=="function"&&d(),j(!1)},[d]),A=o!==void 0?o:v,w=l!==void 0?l:N,S=f!==void 0?f:I;return lr(lr({},m),{},{inputValue:A,menuIsOpen:w,onChange:B,onInputChange:P,onMenuClose:M,onMenuOpen:k,value:S})}function hr(){return hr=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},hr.apply(null,arguments)}function nK(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function zS(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,l9(n.key),n)}}function sK(r,e,t){return e&&zS(r.prototype,e),t&&zS(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function Vw(r,e){return Vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},Vw(r,e)}function iK(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&Vw(r,e)}function U1(r){return U1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},U1(r)}function u9(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u9=function(){return!!r})()}function aK(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function oK(r,e){if(e&&(zr(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aK(r)}function lK(r){var e=u9();return function(){var t,n=U1(r);if(e){var s=U1(this).constructor;t=Reflect.construct(n,arguments,s)}else t=n.apply(this,arguments);return oK(this,t)}}function cK(r){if(Array.isArray(r))return $w(r)}function uK(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function hK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p_(r){return cK(r)||uK(r)||c9(r)||hK()}function fK(r){if(r.sheet)return r.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===r)return document.styleSheets[e]}function dK(r){var e=document.createElement("style");return e.setAttribute("data-emotion",r.key),r.nonce!==void 0&&e.setAttribute("nonce",r.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var pK=function(){function r(t){var n=this;this._insertTag=function(s){var i;n.tags.length===0?n.insertionPoint?i=n.insertionPoint.nextSibling:n.prepend?i=n.container.firstChild:i=n.before:i=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(s,i),n.tags.push(s)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=r.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(dK(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=fK(s);try{i.insertRule(n,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var s;return(s=n.parentNode)==null?void 0:s.removeChild(n)}),this.tags=[],this.ctr=0},r}(),Zs="-ms-",$1="-moz-",Yr="-webkit-",h9="comm",m_="rule",g_="decl",mK="@import",f9="@keyframes",gK="@layer",vK=Math.abs,W2=String.fromCharCode,yK=Object.assign;function bK(r,e){return Fs(r,0)^45?(((e<<2^Fs(r,0))<<2^Fs(r,1))<<2^Fs(r,2))<<2^Fs(r,3):0}function d9(r){return r.trim()}function wK(r,e){return(r=e.exec(r))?r[0]:r}function Jr(r,e,t){return r.replace(e,t)}function Hw(r,e){return r.indexOf(e)}function Fs(r,e){return r.charCodeAt(e)|0}function Ep(r,e,t){return r.slice(e,t)}function Po(r){return r.length}function v_(r){return r.length}function ug(r,e){return e.push(r),r}function xK(r,e){return r.map(e).join("")}var G2=1,rd=1,p9=0,zi=0,rs=0,_d="";function K2(r,e,t,n,s,i,a){return{value:r,root:e,parent:t,type:n,props:s,children:i,line:G2,column:rd,length:a,return:""}}function e0(r,e){return yK(K2("",null,null,"",null,null,0),r,{length:-r.length},e)}function _K(){return rs}function SK(){return rs=zi>0?Fs(_d,--zi):0,rd--,rs===10&&(rd=1,G2--),rs}function aa(){return rs=zi<p9?Fs(_d,zi++):0,rd++,rs===10&&(rd=1,G2++),rs}function Uo(){return Fs(_d,zi)}function jg(){return zi}function Xp(r,e){return Ep(_d,r,e)}function kp(r){switch(r){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function m9(r){return G2=rd=1,p9=Po(_d=r),zi=0,[]}function g9(r){return _d="",r}function Bg(r){return d9(Xp(zi-1,zw(r===91?r+2:r===40?r+1:r)))}function EK(r){for(;(rs=Uo())&&rs<33;)aa();return kp(r)>2||kp(rs)>3?"":" "}function kK(r,e){for(;--e&&aa()&&!(rs<48||rs>102||rs>57&&rs<65||rs>70&&rs<97););return Xp(r,jg()+(e<6&&Uo()==32&&aa()==32))}function zw(r){for(;aa();)switch(rs){case r:return zi;case 34:case 39:r!==34&&r!==39&&zw(rs);break;case 40:r===41&&zw(r);break;case 92:aa();break}return zi}function AK(r,e){for(;aa()&&r+rs!==57;)if(r+rs===84&&Uo()===47)break;return"/*"+Xp(e,zi-1)+"*"+W2(r===47?r:aa())}function TK(r){for(;!kp(Uo());)aa();return Xp(r,zi)}function CK(r){return g9(Ug("",null,null,null,[""],r=m9(r),0,[0],r))}function Ug(r,e,t,n,s,i,a,o,l){for(var c=0,u=0,d=a,h=0,f=0,m=0,g=1,p=1,v=1,y=0,b="",E=s,N=i,j=n,D=b;p;)switch(m=y,y=aa()){case 40:if(m!=108&&Fs(D,d-1)==58){Hw(D+=Jr(Bg(y),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:D+=Bg(y);break;case 9:case 10:case 13:case 32:D+=EK(m);break;case 92:D+=kK(jg()-1,7);continue;case 47:switch(Uo()){case 42:case 47:ug(NK(AK(aa(),jg()),e,t),l);break;default:D+="/"}break;case 123*g:o[c++]=Po(D)*v;case 125*g:case 59:case 0:switch(y){case 0:case 125:p=0;case 59+u:v==-1&&(D=Jr(D,/\f/g,"")),f>0&&Po(D)-d&&ug(f>32?WS(D+";",n,t,d-1):WS(Jr(D," ","")+";",n,t,d-2),l);break;case 59:D+=";";default:if(ug(j=qS(D,e,t,c,u,s,o,b,E=[],N=[],d),i),y===123)if(u===0)Ug(D,e,j,j,E,i,d,o,N);else switch(h===99&&Fs(D,3)===110?100:h){case 100:case 108:case 109:case 115:Ug(r,j,j,n&&ug(qS(r,j,j,0,0,s,o,b,s,E=[],d),N),s,N,d,o,n?E:N);break;default:Ug(D,j,j,j,[""],N,0,o,N)}}c=u=f=0,g=v=1,b=D="",d=a;break;case 58:d=1+Po(D),f=m;default:if(g<1){if(y==123)--g;else if(y==125&&g++==0&&SK()==125)continue}switch(D+=W2(y),y*g){case 38:v=u>0?1:(D+="\f",-1);break;case 44:o[c++]=(Po(D)-1)*v,v=1;break;case 64:Uo()===45&&(D+=Bg(aa())),h=Uo(),u=d=Po(b=D+=TK(jg())),y++;break;case 45:m===45&&Po(D)==2&&(g=0)}}return i}function qS(r,e,t,n,s,i,a,o,l,c,u){for(var d=s-1,h=s===0?i:[""],f=v_(h),m=0,g=0,p=0;m<n;++m)for(var v=0,y=Ep(r,d+1,d=vK(g=a[m])),b=r;v<f;++v)(b=d9(g>0?h[v]+" "+y:Jr(y,/&\f/g,h[v])))&&(l[p++]=b);return K2(r,e,t,s===0?m_:o,l,c,u)}function NK(r,e,t){return K2(r,e,t,h9,W2(_K()),Ep(r,2,-2),0)}function WS(r,e,t,n){return K2(r,e,t,g_,Ep(r,0,n),Ep(r,n+1,-1),n)}function Mf(r,e){for(var t="",n=v_(r),s=0;s<n;s++)t+=e(r[s],s,r,e)||"";return t}function DK(r,e,t,n){switch(r.type){case gK:if(r.children.length)break;case mK:case g_:return r.return=r.return||r.value;case h9:return"";case f9:return r.return=r.value+"{"+Mf(r.children,n)+"}";case m_:r.value=r.props.join(",")}return Po(t=Mf(r.children,n))?r.return=r.value+"{"+t+"}":""}function RK(r){var e=v_(r);return function(t,n,s,i){for(var a="",o=0;o<e;o++)a+=r[o](t,n,s,i)||"";return a}}function IK(r){return function(e){e.root||(e=e.return)&&r(e)}}function PK(r){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=r(t)),e[t]}}var OK=function(e,t,n){for(var s=0,i=0;s=i,i=Uo(),s===38&&i===12&&(t[n]=1),!kp(i);)aa();return Xp(e,zi)},MK=function(e,t){var n=-1,s=44;do switch(kp(s)){case 0:s===38&&Uo()===12&&(t[n]=1),e[n]+=OK(zi-1,t,n);break;case 2:e[n]+=Bg(s);break;case 4:if(s===44){e[++n]=Uo()===58?"&\f":"",t[n]=e[n].length;break}default:e[n]+=W2(s)}while(s=aa());return e},FK=function(e,t){return g9(MK(m9(e),t))},GS=new WeakMap,LK=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,n=e.parent,s=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!GS.get(n))&&!s){GS.set(e,!0);for(var i=[],a=FK(t,i),o=n.props,l=0,c=0;l<a.length;l++)for(var u=0;u<o.length;u++,c++)e.props[c]=i[l]?a[l].replace(/&\f/g,o[u]):o[u]+" "+a[l]}}},jK=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function v9(r,e){switch(bK(r,e)){case 5103:return Yr+"print-"+r+r;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Yr+r+r;case 5349:case 4246:case 4810:case 6968:case 2756:return Yr+r+$1+r+Zs+r+r;case 6828:case 4268:return Yr+r+Zs+r+r;case 6165:return Yr+r+Zs+"flex-"+r+r;case 5187:return Yr+r+Jr(r,/(\w+).+(:[^]+)/,Yr+"box-$1$2"+Zs+"flex-$1$2")+r;case 5443:return Yr+r+Zs+"flex-item-"+Jr(r,/flex-|-self/,"")+r;case 4675:return Yr+r+Zs+"flex-line-pack"+Jr(r,/align-content|flex-|-self/,"")+r;case 5548:return Yr+r+Zs+Jr(r,"shrink","negative")+r;case 5292:return Yr+r+Zs+Jr(r,"basis","preferred-size")+r;case 6060:return Yr+"box-"+Jr(r,"-grow","")+Yr+r+Zs+Jr(r,"grow","positive")+r;case 4554:return Yr+Jr(r,/([^-])(transform)/g,"$1"+Yr+"$2")+r;case 6187:return Jr(Jr(Jr(r,/(zoom-|grab)/,Yr+"$1"),/(image-set)/,Yr+"$1"),r,"")+r;case 5495:case 3959:return Jr(r,/(image-set\([^]*)/,Yr+"$1$`$1");case 4968:return Jr(Jr(r,/(.+:)(flex-)?(.*)/,Yr+"box-pack:$3"+Zs+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Yr+r+r;case 4095:case 3583:case 4068:case 2532:return Jr(r,/(.+)-inline(.+)/,Yr+"$1$2")+r;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Po(r)-1-e>6)switch(Fs(r,e+1)){case 109:if(Fs(r,e+4)!==45)break;case 102:return Jr(r,/(.+:)(.+)-([^]+)/,"$1"+Yr+"$2-$3$1"+$1+(Fs(r,e+3)==108?"$3":"$2-$3"))+r;case 115:return~Hw(r,"stretch")?v9(Jr(r,"stretch","fill-available"),e)+r:r}break;case 4949:if(Fs(r,e+1)!==115)break;case 6444:switch(Fs(r,Po(r)-3-(~Hw(r,"!important")&&10))){case 107:return Jr(r,":",":"+Yr)+r;case 101:return Jr(r,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Yr+(Fs(r,14)===45?"inline-":"")+"box$3$1"+Yr+"$2$3$1"+Zs+"$2box$3")+r}break;case 5936:switch(Fs(r,e+11)){case 114:return Yr+r+Zs+Jr(r,/[svh]\w+-[tblr]{2}/,"tb")+r;case 108:return Yr+r+Zs+Jr(r,/[svh]\w+-[tblr]{2}/,"tb-rl")+r;case 45:return Yr+r+Zs+Jr(r,/[svh]\w+-[tblr]{2}/,"lr")+r}return Yr+r+Zs+r+r}return r}var BK=function(e,t,n,s){if(e.length>-1&&!e.return)switch(e.type){case g_:e.return=v9(e.value,e.length);break;case f9:return Mf([e0(e,{value:Jr(e.value,"@","@"+Yr)})],s);case m_:if(e.length)return xK(e.props,function(i){switch(wK(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Mf([e0(e,{props:[Jr(i,/:(read-\w+)/,":"+$1+"$1")]})],s);case"::placeholder":return Mf([e0(e,{props:[Jr(i,/:(plac\w+)/,":"+Yr+"input-$1")]}),e0(e,{props:[Jr(i,/:(plac\w+)/,":"+$1+"$1")]}),e0(e,{props:[Jr(i,/:(plac\w+)/,Zs+"input-$1")]})],s)}return""})}},UK=[BK],$K=function(e){var t=e.key;if(t==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(g){var p=g.getAttribute("data-emotion");p.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var s=e.stylisPlugins||UK,i={},a,o=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(g){for(var p=g.getAttribute("data-emotion").split(" "),v=1;v<p.length;v++)i[p[v]]=!0;o.push(g)});var l,c=[LK,jK];{var u,d=[DK,IK(function(g){u.insert(g)})],h=RK(c.concat(s,d)),f=function(p){return Mf(CK(p),h)};l=function(p,v,y,b){u=y,f(p?p+"{"+v.styles+"}":v.styles),b&&(m.inserted[v.name]=!0)}}var m={key:t,sheet:new pK({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:l};return m.sheet.hydrate(o),m},y9={exports:{}},on={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ts=typeof Symbol=="function"&&Symbol.for,y_=Ts?Symbol.for("react.element"):60103,b_=Ts?Symbol.for("react.portal"):60106,X2=Ts?Symbol.for("react.fragment"):60107,Y2=Ts?Symbol.for("react.strict_mode"):60108,J2=Ts?Symbol.for("react.profiler"):60114,Q2=Ts?Symbol.for("react.provider"):60109,Z2=Ts?Symbol.for("react.context"):60110,w_=Ts?Symbol.for("react.async_mode"):60111,ev=Ts?Symbol.for("react.concurrent_mode"):60111,tv=Ts?Symbol.for("react.forward_ref"):60112,rv=Ts?Symbol.for("react.suspense"):60113,VK=Ts?Symbol.for("react.suspense_list"):60120,nv=Ts?Symbol.for("react.memo"):60115,sv=Ts?Symbol.for("react.lazy"):60116,HK=Ts?Symbol.for("react.block"):60121,zK=Ts?Symbol.for("react.fundamental"):60117,qK=Ts?Symbol.for("react.responder"):60118,WK=Ts?Symbol.for("react.scope"):60119;function ha(r){if(typeof r=="object"&&r!==null){var e=r.$$typeof;switch(e){case y_:switch(r=r.type,r){case w_:case ev:case X2:case J2:case Y2:case rv:return r;default:switch(r=r&&r.$$typeof,r){case Z2:case tv:case sv:case nv:case Q2:return r;default:return e}}case b_:return e}}}function b9(r){return ha(r)===ev}on.AsyncMode=w_;on.ConcurrentMode=ev;on.ContextConsumer=Z2;on.ContextProvider=Q2;on.Element=y_;on.ForwardRef=tv;on.Fragment=X2;on.Lazy=sv;on.Memo=nv;on.Portal=b_;on.Profiler=J2;on.StrictMode=Y2;on.Suspense=rv;on.isAsyncMode=function(r){return b9(r)||ha(r)===w_};on.isConcurrentMode=b9;on.isContextConsumer=function(r){return ha(r)===Z2};on.isContextProvider=function(r){return ha(r)===Q2};on.isElement=function(r){return typeof r=="object"&&r!==null&&r.$$typeof===y_};on.isForwardRef=function(r){return ha(r)===tv};on.isFragment=function(r){return ha(r)===X2};on.isLazy=function(r){return ha(r)===sv};on.isMemo=function(r){return ha(r)===nv};on.isPortal=function(r){return ha(r)===b_};on.isProfiler=function(r){return ha(r)===J2};on.isStrictMode=function(r){return ha(r)===Y2};on.isSuspense=function(r){return ha(r)===rv};on.isValidElementType=function(r){return typeof r=="string"||typeof r=="function"||r===X2||r===ev||r===J2||r===Y2||r===rv||r===VK||typeof r=="object"&&r!==null&&(r.$$typeof===sv||r.$$typeof===nv||r.$$typeof===Q2||r.$$typeof===Z2||r.$$typeof===tv||r.$$typeof===zK||r.$$typeof===qK||r.$$typeof===WK||r.$$typeof===HK)};on.typeOf=ha;y9.exports=on;var GK=y9.exports,w9=GK,KK={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},XK={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},x9={};x9[w9.ForwardRef]=KK;x9[w9.Memo]=XK;var YK=!0;function JK(r,e,t){var n="";return t.split(" ").forEach(function(s){r[s]!==void 0?e.push(r[s]+";"):s&&(n+=s+" ")}),n}var _9=function(e,t,n){var s=e.key+"-"+t.name;(n===!1||YK===!1)&&e.registered[s]===void 0&&(e.registered[s]=t.styles)},QK=function(e,t,n){_9(e,t,n);var s=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var i=t;do e.insert(t===i?"."+s:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function ZK(r){for(var e=0,t,n=0,s=r.length;s>=4;++n,s-=4)t=r.charCodeAt(n)&255|(r.charCodeAt(++n)&255)<<8|(r.charCodeAt(++n)&255)<<16|(r.charCodeAt(++n)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(r.charCodeAt(n+2)&255)<<16;case 2:e^=(r.charCodeAt(n+1)&255)<<8;case 1:e^=r.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var eX={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},tX=/[A-Z]|^ms/g,rX=/_EMO_([^_]+?)_([^]*?)_EMO_/g,S9=function(e){return e.charCodeAt(1)===45},KS=function(e){return e!=null&&typeof e!="boolean"},By=PK(function(r){return S9(r)?r:r.replace(tX,"-$&").toLowerCase()}),XS=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(rX,function(n,s,i){return Oo={name:s,styles:i,next:Oo},s})}return eX[e]!==1&&!S9(e)&&typeof t=="number"&&t!==0?t+"px":t};function Ap(r,e,t){if(t==null)return"";var n=t;if(n.__emotion_styles!==void 0)return n;switch(typeof t){case"boolean":return"";case"object":{var s=t;if(s.anim===1)return Oo={name:s.name,styles:s.styles,next:Oo},s.name;var i=t;if(i.styles!==void 0){var a=i.next;if(a!==void 0)for(;a!==void 0;)Oo={name:a.name,styles:a.styles,next:Oo},a=a.next;var o=i.styles+";";return o}return nX(r,e,t)}case"function":{if(r!==void 0){var l=Oo,c=t(r);return Oo=l,Ap(r,e,c)}break}}var u=t;return u}function nX(r,e,t){var n="";if(Array.isArray(t))for(var s=0;s<t.length;s++)n+=Ap(r,e,t[s])+";";else for(var i in t){var a=t[i];if(typeof a!="object"){var o=a;KS(o)&&(n+=By(i)+":"+XS(i,o)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&e==null)for(var l=0;l<a.length;l++)KS(a[l])&&(n+=By(i)+":"+XS(i,a[l])+";");else{var c=Ap(r,e,a);switch(i){case"animation":case"animationName":{n+=By(i)+":"+c+";";break}default:n+=i+"{"+c+"}"}}}return n}var YS=/label:\s*([^\s;{]+)\s*(;|$)/g,Oo;function E9(r,e,t){if(r.length===1&&typeof r[0]=="object"&&r[0]!==null&&r[0].styles!==void 0)return r[0];var n=!0,s="";Oo=void 0;var i=r[0];if(i==null||i.raw===void 0)n=!1,s+=Ap(t,e,i);else{var a=i;s+=a[0]}for(var o=1;o<r.length;o++)if(s+=Ap(t,e,r[o]),n){var l=i;s+=l[o]}YS.lastIndex=0;for(var c="",u;(u=YS.exec(s))!==null;)c+="-"+u[1];var d=ZK(s)+c;return{name:d,styles:s,next:Oo}}var sX=function(e){return e()},iX=_b.useInsertionEffect?_b.useInsertionEffect:!1,aX=iX||sX,k9=Ae.createContext(typeof HTMLElement<"u"?$K({key:"css"}):null);k9.Provider;var oX=function(e){return Ae.forwardRef(function(t,n){var s=Ae.useContext(k9);return e(t,s,n)})},lX=Ae.createContext({}),x_={}.hasOwnProperty,qw="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",cX=function(e,t){var n={};for(var s in t)x_.call(t,s)&&(n[s]=t[s]);return n[qw]=e,n},uX=function(e){var t=e.cache,n=e.serialized,s=e.isStringTag;return _9(t,n,s),aX(function(){return QK(t,n,s)}),null},hX=oX(function(r,e,t){var n=r.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var s=r[qw],i=[n],a="";typeof r.className=="string"?a=JK(e.registered,i,r.className):r.className!=null&&(a=r.className+" ");var o=E9(i,void 0,Ae.useContext(lX));a+=e.key+"-"+o.name;var l={};for(var c in r)x_.call(r,c)&&c!=="css"&&c!==qw&&(l[c]=r[c]);return l.className=a,t&&(l.ref=t),Ae.createElement(Ae.Fragment,null,Ae.createElement(uX,{cache:e,serialized:o,isStringTag:typeof s=="string"}),Ae.createElement(s,l))}),fX=hX,ir=function(e,t){var n=arguments;if(t==null||!x_.call(t,"css"))return Ae.createElement.apply(void 0,n);var s=n.length,i=new Array(s);i[0]=fX,i[1]=cX(e,t);for(var a=2;a<s;a++)i[a]=n[a];return Ae.createElement.apply(null,i)};(function(r){var e;e||(e=r.JSX||(r.JSX={}))})(ir||(ir={}));function __(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return E9(e)}function dX(){var r=__.apply(void 0,arguments),e="animation-"+r.name;return{name:e,styles:"@keyframes "+e+"{"+r.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function pX(r,e){return e||(e=r.slice(0)),Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(e)}}))}const mX=Math.min,gX=Math.max,V1=Math.round,hg=Math.floor,H1=r=>({x:r,y:r});function vX(r){const{x:e,y:t,width:n,height:s}=r;return{width:n,height:s,top:t,left:e,right:e+n,bottom:t+s,x:e,y:t}}function iv(){return typeof window<"u"}function A9(r){return C9(r)?(r.nodeName||"").toLowerCase():"#document"}function Il(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function T9(r){var e;return(e=(C9(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function C9(r){return iv()?r instanceof Node||r instanceof Il(r).Node:!1}function yX(r){return iv()?r instanceof Element||r instanceof Il(r).Element:!1}function S_(r){return iv()?r instanceof HTMLElement||r instanceof Il(r).HTMLElement:!1}function JS(r){return!iv()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof Il(r).ShadowRoot}function N9(r){const{overflow:e,overflowX:t,overflowY:n,display:s}=E_(r);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!["inline","contents"].includes(s)}function bX(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function wX(r){return["html","body","#document"].includes(A9(r))}function E_(r){return Il(r).getComputedStyle(r)}function xX(r){if(A9(r)==="html")return r;const e=r.assignedSlot||r.parentNode||JS(r)&&r.host||T9(r);return JS(e)?e.host:e}function D9(r){const e=xX(r);return wX(e)?r.ownerDocument?r.ownerDocument.body:r.body:S_(e)&&N9(e)?e:D9(e)}function z1(r,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=D9(r),i=s===((n=r.ownerDocument)==null?void 0:n.body),a=Il(s);if(i){const o=Ww(a);return e.concat(a,a.visualViewport||[],N9(s)?s:[],o&&t?z1(o):[])}return e.concat(s,z1(s,[],t))}function Ww(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function _X(r){const e=E_(r);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=S_(r),i=s?r.offsetWidth:t,a=s?r.offsetHeight:n,o=V1(t)!==i||V1(n)!==a;return o&&(t=i,n=a),{width:t,height:n,$:o}}function k_(r){return yX(r)?r:r.contextElement}function QS(r){const e=k_(r);if(!S_(e))return H1(1);const t=e.getBoundingClientRect(),{width:n,height:s,$:i}=_X(e);let a=(i?V1(t.width):t.width)/n,o=(i?V1(t.height):t.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const SX=H1(0);function EX(r){const e=Il(r);return!bX()||!e.visualViewport?SX:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function kX(r,e,t){return!1}function ZS(r,e,t,n){e===void 0&&(e=!1);const s=r.getBoundingClientRect(),i=k_(r);let a=H1(1);e&&(a=QS(r));const o=kX()?EX(i):H1(0);let l=(s.left+o.x)/a.x,c=(s.top+o.y)/a.y,u=s.width/a.x,d=s.height/a.y;if(i){const h=Il(i),f=n;let m=h,g=Ww(m);for(;g&&n&&f!==m;){const p=QS(g),v=g.getBoundingClientRect(),y=E_(g),b=v.left+(g.clientLeft+parseFloat(y.paddingLeft))*p.x,E=v.top+(g.clientTop+parseFloat(y.paddingTop))*p.y;l*=p.x,c*=p.y,u*=p.x,d*=p.y,l+=b,c+=E,m=Il(g),g=Ww(m)}}return vX({width:u,height:d,x:l,y:c})}function R9(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function AX(r,e){let t=null,n;const s=T9(r);function i(){var o;clearTimeout(n),(o=t)==null||o.disconnect(),t=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),i();const c=r.getBoundingClientRect(),{left:u,top:d,width:h,height:f}=c;if(o||e(),!h||!f)return;const m=hg(d),g=hg(s.clientWidth-(u+h)),p=hg(s.clientHeight-(d+f)),v=hg(u),b={rootMargin:-m+"px "+-g+"px "+-p+"px "+-v+"px",threshold:gX(0,mX(1,l))||1};let E=!0;function N(j){const D=j[0].intersectionRatio;if(D!==l){if(!E)return a();D?a(!1,D):n=setTimeout(()=>{a(!1,1e-7)},1e3)}D===1&&!R9(c,r.getBoundingClientRect())&&a(),E=!1}try{t=new IntersectionObserver(N,{...b,root:s.ownerDocument})}catch{t=new IntersectionObserver(N,b)}t.observe(r)}return a(!0),i}function TX(r,e,t,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=k_(r),u=s||i?[...c?z1(c):[],...z1(e)]:[];u.forEach(v=>{s&&v.addEventListener("scroll",t,{passive:!0}),i&&v.addEventListener("resize",t)});const d=c&&o?AX(c,t):null;let h=-1,f=null;a&&(f=new ResizeObserver(v=>{let[y]=v;y&&y.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=f)==null||b.observe(e)})),t()}),c&&!l&&f.observe(c),f.observe(e));let m,g=l?ZS(r):null;l&&p();function p(){const v=ZS(r);g&&!R9(g,v)&&t(),g=v,m=requestAnimationFrame(p)}return t(),()=>{var v;u.forEach(y=>{s&&y.removeEventListener("scroll",t),i&&y.removeEventListener("resize",t)}),d==null||d(),(v=f)==null||v.disconnect(),f=null,l&&cancelAnimationFrame(m)}}var Gw=Ae.useLayoutEffect,CX=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],q1=function(){};function NX(r,e){return e?e[0]==="-"?r+e:r+"__"+e:r}function DX(r,e){for(var t=arguments.length,n=new Array(t>2?t-2:0),s=2;s<t;s++)n[s-2]=arguments[s];var i=[].concat(n);if(e&&r)for(var a in e)e.hasOwnProperty(a)&&e[a]&&i.push("".concat(NX(r,a)));return i.filter(function(o){return o}).map(function(o){return String(o).trim()}).join(" ")}var e8=function(e){return BX(e)?e.filter(Boolean):zr(e)==="object"&&e!==null?[e]:[]},I9=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var t=Hl(e,CX);return lr({},t)},jn=function(e,t,n){var s=e.cx,i=e.getStyles,a=e.getClassNames,o=e.className;return{css:i(t,e),className:s(n??{},a(t,e),o)}};function av(r){return[document.documentElement,document.body,window].indexOf(r)>-1}function RX(r){return av(r)?window.innerHeight:r.clientHeight}function P9(r){return av(r)?window.pageYOffset:r.scrollTop}function W1(r,e){if(av(r)){window.scrollTo(0,e);return}r.scrollTop=e}function IX(r){var e=getComputedStyle(r),t=e.position==="absolute",n=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var s=r;s=s.parentElement;)if(e=getComputedStyle(s),!(t&&e.position==="static")&&n.test(e.overflow+e.overflowY+e.overflowX))return s;return document.documentElement}function PX(r,e,t,n){return t*((r=r/n-1)*r*r+1)+e}function fg(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:q1,s=P9(r),i=e-s,a=10,o=0;function l(){o+=a;var c=PX(o,s,i,t);W1(r,c),o<t?window.requestAnimationFrame(l):n(r)}l()}function t8(r,e){var t=r.getBoundingClientRect(),n=e.getBoundingClientRect(),s=e.offsetHeight/3;n.bottom+s>t.bottom?W1(r,Math.min(e.offsetTop+e.clientHeight-r.offsetHeight+s,r.scrollHeight)):n.top-s<t.top&&W1(r,Math.max(e.offsetTop-s,0))}function OX(r){var e=r.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function r8(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function MX(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var O9=!1,FX={get passive(){return O9=!0}},dg=typeof window<"u"?window:{};dg.addEventListener&&dg.removeEventListener&&(dg.addEventListener("p",q1,FX),dg.removeEventListener("p",q1,!1));var LX=O9;function jX(r){return r!=null}function BX(r){return Array.isArray(r)}function pg(r,e,t){return r?e:t}var UX=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];var i=Object.entries(e).filter(function(a){var o=kl(a,1),l=o[0];return!n.includes(l)});return i.reduce(function(a,o){var l=kl(o,2),c=l[0],u=l[1];return a[c]=u,a},{})},$X=["children","innerProps"],VX=["children","innerProps"];function HX(r){var e=r.maxHeight,t=r.menuEl,n=r.minHeight,s=r.placement,i=r.shouldScroll,a=r.isFixedPosition,o=r.controlHeight,l=IX(t),c={placement:"bottom",maxHeight:e};if(!t||!t.offsetParent)return c;var u=l.getBoundingClientRect(),d=u.height,h=t.getBoundingClientRect(),f=h.bottom,m=h.height,g=h.top,p=t.offsetParent.getBoundingClientRect(),v=p.top,y=a?window.innerHeight:RX(l),b=P9(l),E=parseInt(getComputedStyle(t).marginBottom,10),N=parseInt(getComputedStyle(t).marginTop,10),j=v-N,D=y-g,C=j+b,I=d-b-g,V=f-y+b+E,B=b+g-N,P=160;switch(s){case"auto":case"bottom":if(D>=m)return{placement:"bottom",maxHeight:e};if(I>=m&&!a)return i&&fg(l,V,P),{placement:"bottom",maxHeight:e};if(!a&&I>=n||a&&D>=n){i&&fg(l,V,P);var k=a?D-E:I-E;return{placement:"bottom",maxHeight:k}}if(s==="auto"||a){var M=e,A=a?j:C;return A>=n&&(M=Math.min(A-E-o,e)),{placement:"top",maxHeight:M}}if(s==="bottom")return i&&W1(l,V),{placement:"bottom",maxHeight:e};break;case"top":if(j>=m)return{placement:"top",maxHeight:e};if(C>=m&&!a)return i&&fg(l,B,P),{placement:"top",maxHeight:e};if(!a&&C>=n||a&&j>=n){var w=e;return(!a&&C>=n||a&&j>=n)&&(w=a?j-N:C-N),i&&fg(l,B,P),{placement:"top",maxHeight:w}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return c}function zX(r){var e={bottom:"top",top:"bottom"};return r?e[r]:"bottom"}var M9=function(e){return e==="auto"?"bottom":e},qX=function(e,t){var n,s=e.placement,i=e.theme,a=i.borderRadius,o=i.spacing,l=i.colors;return lr((n={label:"menu"},p0(n,zX(s),"100%"),p0(n,"position","absolute"),p0(n,"width","100%"),p0(n,"zIndex",1),n),t?{}:{backgroundColor:l.neutral0,borderRadius:a,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:o.menuGutter,marginTop:o.menuGutter})},F9=Ae.createContext(null),WX=function(e){var t=e.children,n=e.minMenuHeight,s=e.maxMenuHeight,i=e.menuPlacement,a=e.menuPosition,o=e.menuShouldScrollIntoView,l=e.theme,c=Ae.useContext(F9)||{},u=c.setPortalPlacement,d=Ae.useRef(null),h=Ae.useState(s),f=kl(h,2),m=f[0],g=f[1],p=Ae.useState(null),v=kl(p,2),y=v[0],b=v[1],E=l.spacing.controlHeight;return Gw(function(){var N=d.current;if(N){var j=a==="fixed",D=o&&!j,C=HX({maxHeight:s,menuEl:N,minHeight:n,placement:i,shouldScroll:D,isFixedPosition:j,controlHeight:E});g(C.maxHeight),b(C.placement),u==null||u(C.placement)}},[s,i,a,o,n,u,E]),t({ref:d,placerProps:lr(lr({},e),{},{placement:y||M9(i),maxHeight:m})})},GX=function(e){var t=e.children,n=e.innerRef,s=e.innerProps;return ir("div",hr({},jn(e,"menu",{menu:!0}),{ref:n},s),t)},KX=GX,XX=function(e,t){var n=e.maxHeight,s=e.theme.spacing.baseUnit;return lr({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:s,paddingTop:s})},YX=function(e){var t=e.children,n=e.innerProps,s=e.innerRef,i=e.isMulti;return ir("div",hr({},jn(e,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:s},n),t)},L9=function(e,t){var n=e.theme,s=n.spacing.baseUnit,i=n.colors;return lr({textAlign:"center"},t?{}:{color:i.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},JX=L9,QX=L9,ZX=function(e){var t=e.children,n=t===void 0?"No options":t,s=e.innerProps,i=Hl(e,$X);return ir("div",hr({},jn(lr(lr({},i),{},{children:n,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),n)},eY=function(e){var t=e.children,n=t===void 0?"Loading...":t,s=e.innerProps,i=Hl(e,VX);return ir("div",hr({},jn(lr(lr({},i),{},{children:n,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),n)},tY=function(e){var t=e.rect,n=e.offset,s=e.position;return{left:t.left,position:s,top:n,width:t.width,zIndex:1}},rY=function(e){var t=e.appendTo,n=e.children,s=e.controlElement,i=e.innerProps,a=e.menuPlacement,o=e.menuPosition,l=Ae.useRef(null),c=Ae.useRef(null),u=Ae.useState(M9(a)),d=kl(u,2),h=d[0],f=d[1],m=Ae.useMemo(function(){return{setPortalPlacement:f}},[]),g=Ae.useState(null),p=kl(g,2),v=p[0],y=p[1],b=Ae.useCallback(function(){if(s){var D=OX(s),C=o==="fixed"?0:window.pageYOffset,I=D[h]+C;(I!==(v==null?void 0:v.offset)||D.left!==(v==null?void 0:v.rect.left)||D.width!==(v==null?void 0:v.rect.width))&&y({offset:I,rect:D})}},[s,o,h,v==null?void 0:v.offset,v==null?void 0:v.rect.left,v==null?void 0:v.rect.width]);Gw(function(){b()},[b]);var E=Ae.useCallback(function(){typeof c.current=="function"&&(c.current(),c.current=null),s&&l.current&&(c.current=TX(s,l.current,b,{elementResize:"ResizeObserver"in window}))},[s,b]);Gw(function(){E()},[E]);var N=Ae.useCallback(function(D){l.current=D,E()},[E]);if(!t&&o!=="fixed"||!v)return null;var j=ir("div",hr({ref:N},jn(lr(lr({},e),{},{offset:v.offset,position:o,rect:v.rect}),"menuPortal",{"menu-portal":!0}),i),n);return ir(F9.Provider,{value:m},t?BT.createPortal(j,t):j)},nY=function(e){var t=e.isDisabled,n=e.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},sY=function(e){var t=e.children,n=e.innerProps,s=e.isDisabled,i=e.isRtl;return ir("div",hr({},jn(e,"container",{"--is-disabled":s,"--is-rtl":i}),n),t)},iY=function(e,t){var n=e.theme.spacing,s=e.isMulti,i=e.hasValue,a=e.selectProps.controlShouldRenderValue;return lr({alignItems:"center",display:s&&i&&a?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},aY=function(e){var t=e.children,n=e.innerProps,s=e.isMulti,i=e.hasValue;return ir("div",hr({},jn(e,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":i}),n),t)},oY=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},lY=function(e){var t=e.children,n=e.innerProps;return ir("div",hr({},jn(e,"indicatorsContainer",{indicators:!0}),n),t)},n8,cY=["size"],uY=["innerProps","isRtl","size"],hY={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},j9=function(e){var t=e.size,n=Hl(e,cY);return ir("svg",hr({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:hY},n))},A_=function(e){return ir(j9,hr({size:20},e),ir("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},B9=function(e){return ir(j9,hr({size:20},e),ir("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},U9=function(e,t){var n=e.isFocused,s=e.theme,i=s.spacing.baseUnit,a=s.colors;return lr({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:n?a.neutral60:a.neutral20,padding:i*2,":hover":{color:n?a.neutral80:a.neutral40}})},fY=U9,dY=function(e){var t=e.children,n=e.innerProps;return ir("div",hr({},jn(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),t||ir(B9,null))},pY=U9,mY=function(e){var t=e.children,n=e.innerProps;return ir("div",hr({},jn(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),t||ir(A_,null))},gY=function(e,t){var n=e.isDisabled,s=e.theme,i=s.spacing.baseUnit,a=s.colors;return lr({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:n?a.neutral10:a.neutral20,marginBottom:i*2,marginTop:i*2})},vY=function(e){var t=e.innerProps;return ir("span",hr({},t,jn(e,"indicatorSeparator",{"indicator-separator":!0})))},yY=dX(n8||(n8=pX([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),bY=function(e,t){var n=e.isFocused,s=e.size,i=e.theme,a=i.colors,o=i.spacing.baseUnit;return lr({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},t?{}:{color:n?a.neutral60:a.neutral20,padding:o*2})},Uy=function(e){var t=e.delay,n=e.offset;return ir("span",{css:__({animation:"".concat(yY," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},wY=function(e){var t=e.innerProps,n=e.isRtl,s=e.size,i=s===void 0?4:s,a=Hl(e,uY);return ir("div",hr({},jn(lr(lr({},a),{},{innerProps:t,isRtl:n,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),ir(Uy,{delay:0,offset:n}),ir(Uy,{delay:160,offset:!0}),ir(Uy,{delay:320,offset:!n}))},xY=function(e,t){var n=e.isDisabled,s=e.isFocused,i=e.theme,a=i.colors,o=i.borderRadius,l=i.spacing;return lr({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:n?a.neutral5:a.neutral0,borderColor:n?a.neutral10:s?a.primary:a.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(a.primary):void 0,"&:hover":{borderColor:s?a.primary:a.neutral30}})},_Y=function(e){var t=e.children,n=e.isDisabled,s=e.isFocused,i=e.innerRef,a=e.innerProps,o=e.menuIsOpen;return ir("div",hr({ref:i},jn(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":s,"control--menu-is-open":o}),a,{"aria-disabled":n||void 0}),t)},SY=_Y,EY=["data"],kY=function(e,t){var n=e.theme.spacing;return t?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},AY=function(e){var t=e.children,n=e.cx,s=e.getStyles,i=e.getClassNames,a=e.Heading,o=e.headingProps,l=e.innerProps,c=e.label,u=e.theme,d=e.selectProps;return ir("div",hr({},jn(e,"group",{group:!0}),l),ir(a,hr({},o,{selectProps:d,theme:u,getStyles:s,getClassNames:i,cx:n}),c),ir("div",null,t))},TY=function(e,t){var n=e.theme,s=n.colors,i=n.spacing;return lr({label:"group",cursor:"default",display:"block"},t?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:i.baseUnit*3,paddingRight:i.baseUnit*3,textTransform:"uppercase"})},CY=function(e){var t=I9(e);t.data;var n=Hl(t,EY);return ir("div",hr({},jn(e,"groupHeading",{"group-heading":!0}),n))},NY=AY,DY=["innerRef","isDisabled","isHidden","inputClassName"],RY=function(e,t){var n=e.isDisabled,s=e.value,i=e.theme,a=i.spacing,o=i.colors;return lr(lr({visibility:n?"hidden":"visible",transform:s?"translateZ(0)":""},IY),t?{}:{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,color:o.neutral80})},$9={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},IY={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":lr({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},$9)},PY=function(e){return lr({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},$9)},OY=function(e){var t=e.cx,n=e.value,s=I9(e),i=s.innerRef,a=s.isDisabled,o=s.isHidden,l=s.inputClassName,c=Hl(s,DY);return ir("div",hr({},jn(e,"input",{"input-container":!0}),{"data-value":n||""}),ir("input",hr({className:t({input:!0},l),ref:i,style:PY(o),disabled:a},c)))},MY=OY,FY=function(e,t){var n=e.theme,s=n.spacing,i=n.borderRadius,a=n.colors;return lr({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:a.neutral10,borderRadius:i/2,margin:s.baseUnit/2})},LY=function(e,t){var n=e.theme,s=n.borderRadius,i=n.colors,a=e.cropWithEllipsis;return lr({overflow:"hidden",textOverflow:a||a===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:s/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},jY=function(e,t){var n=e.theme,s=n.spacing,i=n.borderRadius,a=n.colors,o=e.isFocused;return lr({alignItems:"center",display:"flex"},t?{}:{borderRadius:i/2,backgroundColor:o?a.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}})},V9=function(e){var t=e.children,n=e.innerProps;return ir("div",n,t)},BY=V9,UY=V9;function $Y(r){var e=r.children,t=r.innerProps;return ir("div",hr({role:"button"},t),e||ir(A_,{size:14}))}var VY=function(e){var t=e.children,n=e.components,s=e.data,i=e.innerProps,a=e.isDisabled,o=e.removeProps,l=e.selectProps,c=n.Container,u=n.Label,d=n.Remove;return ir(c,{data:s,innerProps:lr(lr({},jn(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":a})),i),selectProps:l},ir(u,{data:s,innerProps:lr({},jn(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},t),ir(d,{data:s,innerProps:lr(lr({},jn(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},o),selectProps:l}))},HY=VY,zY=function(e,t){var n=e.isDisabled,s=e.isFocused,i=e.isSelected,a=e.theme,o=a.spacing,l=a.colors;return lr({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:i?l.primary:s?l.primary25:"transparent",color:n?l.neutral20:i?l.neutral0:"inherit",padding:"".concat(o.baseUnit*2,"px ").concat(o.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:i?l.primary:l.primary50}})},qY=function(e){var t=e.children,n=e.isDisabled,s=e.isFocused,i=e.isSelected,a=e.innerRef,o=e.innerProps;return ir("div",hr({},jn(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":s,"option--is-selected":i}),{ref:a,"aria-disabled":n},o),t)},WY=qY,GY=function(e,t){var n=e.theme,s=n.spacing,i=n.colors;return lr({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:i.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},KY=function(e){var t=e.children,n=e.innerProps;return ir("div",hr({},jn(e,"placeholder",{placeholder:!0}),n),t)},XY=KY,YY=function(e,t){var n=e.isDisabled,s=e.theme,i=s.spacing,a=s.colors;return lr({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:n?a.neutral40:a.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},JY=function(e){var t=e.children,n=e.isDisabled,s=e.innerProps;return ir("div",hr({},jn(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),s),t)},QY=JY,ZY={ClearIndicator:mY,Control:SY,DropdownIndicator:dY,DownChevron:B9,CrossIcon:A_,Group:NY,GroupHeading:CY,IndicatorsContainer:lY,IndicatorSeparator:vY,Input:MY,LoadingIndicator:wY,Menu:KX,MenuList:YX,MenuPortal:rY,LoadingMessage:eY,NoOptionsMessage:ZX,MultiValue:HY,MultiValueContainer:BY,MultiValueLabel:UY,MultiValueRemove:$Y,Option:WY,Placeholder:XY,SelectContainer:sY,SingleValue:QY,ValueContainer:aY},eJ=function(e){return lr(lr({},ZY),e.components)},s8=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function tJ(r,e){return!!(r===e||s8(r)&&s8(e))}function rJ(r,e){if(r.length!==e.length)return!1;for(var t=0;t<r.length;t++)if(!tJ(r[t],e[t]))return!1;return!0}function nJ(r,e){e===void 0&&(e=rJ);var t=null;function n(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];if(t&&t.lastThis===this&&e(s,t.lastArgs))return t.lastResult;var a=r.apply(this,s);return t={lastResult:a,lastArgs:s,lastThis:this},a}return n.clear=function(){t=null},n}var sJ={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},iJ=function(e){return ir("span",hr({css:sJ},e))},i8=iJ,aJ={guidance:function(e){var t=e.isSearchable,n=e.isMulti,s=e.tabSelectsValue,i=e.context,a=e.isInitialFocus;switch(i){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return a?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,s=n===void 0?"":n,i=e.labels,a=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return a?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,s=e.options,i=e.label,a=i===void 0?"":i,o=e.selectValue,l=e.isDisabled,c=e.isSelected,u=e.isAppleDevice,d=function(g,p){return g&&g.length?"".concat(g.indexOf(p)+1," of ").concat(g.length):""};if(t==="value"&&o)return"value ".concat(a," focused, ").concat(d(o,n),".");if(t==="menu"&&u){var h=l?" disabled":"",f="".concat(c?" selected":"").concat(h);return"".concat(a).concat(f,", ").concat(d(s,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},oJ=function(e){var t=e.ariaSelection,n=e.focusedOption,s=e.focusedValue,i=e.focusableOptions,a=e.isFocused,o=e.selectValue,l=e.selectProps,c=e.id,u=e.isAppleDevice,d=l.ariaLiveMessages,h=l.getOptionLabel,f=l.inputValue,m=l.isMulti,g=l.isOptionDisabled,p=l.isSearchable,v=l.menuIsOpen,y=l.options,b=l.screenReaderStatus,E=l.tabSelectsValue,N=l.isLoading,j=l["aria-label"],D=l["aria-live"],C=Ae.useMemo(function(){return lr(lr({},aJ),d||{})},[d]),I=Ae.useMemo(function(){var A="";if(t&&C.onChange){var w=t.option,S=t.options,_=t.removedValue,x=t.removedValues,R=t.value,W=function(F){return Array.isArray(F)?null:F},T=_||w||W(R),z=T?h(T):"",q=S||x||void 0,Y=q?q.map(h):[],U=lr({isDisabled:T&&g(T,o),label:z,labels:Y},t);A=C.onChange(U)}return A},[t,C,g,o,h]),V=Ae.useMemo(function(){var A="",w=n||s,S=!!(n&&o&&o.includes(n));if(w&&C.onFocus){var _={focused:w,label:h(w),isDisabled:g(w,o),isSelected:S,options:i,context:w===n?"menu":"value",selectValue:o,isAppleDevice:u};A=C.onFocus(_)}return A},[n,s,h,g,C,i,o,u]),B=Ae.useMemo(function(){var A="";if(v&&y.length&&!N&&C.onFilter){var w=b({count:i.length});A=C.onFilter({inputValue:f,resultsMessage:w})}return A},[i,f,v,C,y,b,N]),P=(t==null?void 0:t.action)==="initial-input-focus",k=Ae.useMemo(function(){var A="";if(C.guidance){var w=s?"value":v?"menu":"input";A=C.guidance({"aria-label":j,context:w,isDisabled:n&&g(n,o),isMulti:m,isSearchable:p,tabSelectsValue:E,isInitialFocus:P})}return A},[j,n,s,m,g,p,v,C,o,E,P]),M=ir(Ae.Fragment,null,ir("span",{id:"aria-selection"},I),ir("span",{id:"aria-focused"},V),ir("span",{id:"aria-results"},B),ir("span",{id:"aria-guidance"},k));return ir(Ae.Fragment,null,ir(i8,{id:c},P&&M),ir(i8,{"aria-live":D,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},a&&!P&&M))},lJ=oJ,Kw=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],cJ=new RegExp("["+Kw.map(function(r){return r.letters}).join("")+"]","g"),H9={};for(var $y=0;$y<Kw.length;$y++)for(var Vy=Kw[$y],Hy=0;Hy<Vy.letters.length;Hy++)H9[Vy.letters[Hy]]=Vy.base;var z9=function(e){return e.replace(cJ,function(t){return H9[t]})},uJ=nJ(z9),a8=function(e){return e.replace(/^\s+|\s+$/g,"")},hJ=function(e){return"".concat(e.label," ").concat(e.value)},fJ=function(e){return function(t,n){if(t.data.__isNew__)return!0;var s=lr({ignoreCase:!0,ignoreAccents:!0,stringify:hJ,trim:!0,matchFrom:"any"},e),i=s.ignoreCase,a=s.ignoreAccents,o=s.stringify,l=s.trim,c=s.matchFrom,u=l?a8(n):n,d=l?a8(o(t)):o(t);return i&&(u=u.toLowerCase(),d=d.toLowerCase()),a&&(u=uJ(u),d=z9(d)),c==="start"?d.substr(0,u.length)===u:d.indexOf(u)>-1}},dJ=["innerRef"];function pJ(r){var e=r.innerRef,t=Hl(r,dJ),n=UX(t,"onExited","in","enter","exit","appear");return ir("input",hr({ref:e},n,{css:__({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var mJ=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function gJ(r){var e=r.isEnabled,t=r.onBottomArrive,n=r.onBottomLeave,s=r.onTopArrive,i=r.onTopLeave,a=Ae.useRef(!1),o=Ae.useRef(!1),l=Ae.useRef(0),c=Ae.useRef(null),u=Ae.useCallback(function(p,v){if(c.current!==null){var y=c.current,b=y.scrollTop,E=y.scrollHeight,N=y.clientHeight,j=c.current,D=v>0,C=E-N-b,I=!1;C>v&&a.current&&(n&&n(p),a.current=!1),D&&o.current&&(i&&i(p),o.current=!1),D&&v>C?(t&&!a.current&&t(p),j.scrollTop=E,I=!0,a.current=!0):!D&&-v>b&&(s&&!o.current&&s(p),j.scrollTop=0,I=!0,o.current=!0),I&&mJ(p)}},[t,n,s,i]),d=Ae.useCallback(function(p){u(p,p.deltaY)},[u]),h=Ae.useCallback(function(p){l.current=p.changedTouches[0].clientY},[]),f=Ae.useCallback(function(p){var v=l.current-p.changedTouches[0].clientY;u(p,v)},[u]),m=Ae.useCallback(function(p){if(p){var v=LX?{passive:!1}:!1;p.addEventListener("wheel",d,v),p.addEventListener("touchstart",h,v),p.addEventListener("touchmove",f,v)}},[f,h,d]),g=Ae.useCallback(function(p){p&&(p.removeEventListener("wheel",d,!1),p.removeEventListener("touchstart",h,!1),p.removeEventListener("touchmove",f,!1))},[f,h,d]);return Ae.useEffect(function(){if(e){var p=c.current;return m(p),function(){g(p)}}},[e,m,g]),function(p){c.current=p}}var o8=["boxSizing","height","overflow","paddingRight","position"],l8={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function c8(r){r.cancelable&&r.preventDefault()}function u8(r){r.stopPropagation()}function h8(){var r=this.scrollTop,e=this.scrollHeight,t=r+this.offsetHeight;r===0?this.scrollTop=1:t===e&&(this.scrollTop=r-1)}function f8(){return"ontouchstart"in window||navigator.maxTouchPoints}var d8=!!(typeof window<"u"&&window.document&&window.document.createElement),t0=0,Zh={capture:!1,passive:!1};function vJ(r){var e=r.isEnabled,t=r.accountForScrollbars,n=t===void 0?!0:t,s=Ae.useRef({}),i=Ae.useRef(null),a=Ae.useCallback(function(l){if(d8){var c=document.body,u=c&&c.style;if(n&&o8.forEach(function(m){var g=u&&u[m];s.current[m]=g}),n&&t0<1){var d=parseInt(s.current.paddingRight,10)||0,h=document.body?document.body.clientWidth:0,f=window.innerWidth-h+d||0;Object.keys(l8).forEach(function(m){var g=l8[m];u&&(u[m]=g)}),u&&(u.paddingRight="".concat(f,"px"))}c&&f8()&&(c.addEventListener("touchmove",c8,Zh),l&&(l.addEventListener("touchstart",h8,Zh),l.addEventListener("touchmove",u8,Zh))),t0+=1}},[n]),o=Ae.useCallback(function(l){if(d8){var c=document.body,u=c&&c.style;t0=Math.max(t0-1,0),n&&t0<1&&o8.forEach(function(d){var h=s.current[d];u&&(u[d]=h)}),c&&f8()&&(c.removeEventListener("touchmove",c8,Zh),l&&(l.removeEventListener("touchstart",h8,Zh),l.removeEventListener("touchmove",u8,Zh)))}},[n]);return Ae.useEffect(function(){if(e){var l=i.current;return a(l),function(){o(l)}}},[e,a,o]),function(l){i.current=l}}var yJ=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},bJ={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function wJ(r){var e=r.children,t=r.lockEnabled,n=r.captureEnabled,s=n===void 0?!0:n,i=r.onBottomArrive,a=r.onBottomLeave,o=r.onTopArrive,l=r.onTopLeave,c=gJ({isEnabled:s,onBottomArrive:i,onBottomLeave:a,onTopArrive:o,onTopLeave:l}),u=vJ({isEnabled:t}),d=function(f){c(f),u(f)};return ir(Ae.Fragment,null,t&&ir("div",{onClick:yJ,css:bJ}),e(d))}var xJ={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},_J=function(e){var t=e.name,n=e.onFocus;return ir("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:xJ,value:"",onChange:function(){}})},SJ=_J;function T_(r){var e;return typeof window<"u"&&window.navigator!=null?r.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function EJ(){return T_(/^iPhone/i)}function q9(){return T_(/^Mac/i)}function kJ(){return T_(/^iPad/i)||q9()&&navigator.maxTouchPoints>1}function AJ(){return EJ()||kJ()}function TJ(){return q9()||AJ()}var CJ=function(e){return e.label},NJ=function(e){return e.label},DJ=function(e){return e.value},RJ=function(e){return!!e.isDisabled},IJ={clearIndicator:pY,container:nY,control:xY,dropdownIndicator:fY,group:kY,groupHeading:TY,indicatorsContainer:oY,indicatorSeparator:gY,input:RY,loadingIndicator:bY,loadingMessage:QX,menu:qX,menuList:XX,menuPortal:tY,multiValue:FY,multiValueLabel:LY,multiValueRemove:jY,noOptionsMessage:JX,option:zY,placeholder:GY,singleValue:YY,valueContainer:iY},PJ={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},OJ=4,W9=4,MJ=38,FJ=W9*2,LJ={baseUnit:W9,controlHeight:MJ,menuGutter:FJ},zy={borderRadius:OJ,colors:PJ,spacing:LJ},jJ={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:r8(),captureMenuScroll:!r8(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:fJ(),formatGroupLabel:CJ,getOptionLabel:NJ,getOptionValue:DJ,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:RJ,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!MX(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(t!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function p8(r,e,t,n){var s=X9(r,e,t),i=Y9(r,e,t),a=K9(r,e),o=G1(r,e);return{type:"option",data:e,isDisabled:s,isSelected:i,label:a,value:o,index:n}}function $g(r,e){return r.options.map(function(t,n){if("options"in t){var s=t.options.map(function(a,o){return p8(r,a,e,o)}).filter(function(a){return g8(r,a)});return s.length>0?{type:"group",data:t,options:s,index:n}:void 0}var i=p8(r,t,e,n);return g8(r,i)?i:void 0}).filter(jX)}function G9(r){return r.reduce(function(e,t){return t.type==="group"?e.push.apply(e,p_(t.options.map(function(n){return n.data}))):e.push(t.data),e},[])}function m8(r,e){return r.reduce(function(t,n){return n.type==="group"?t.push.apply(t,p_(n.options.map(function(s){return{data:s.data,id:"".concat(e,"-").concat(n.index,"-").concat(s.index)}}))):t.push({data:n.data,id:"".concat(e,"-").concat(n.index)}),t},[])}function BJ(r,e){return G9($g(r,e))}function g8(r,e){var t=r.inputValue,n=t===void 0?"":t,s=e.data,i=e.isSelected,a=e.label,o=e.value;return(!Q9(r)||!i)&&J9(r,{label:a,value:o,data:s},n)}function UJ(r,e){var t=r.focusedValue,n=r.selectValue,s=n.indexOf(t);if(s>-1){var i=e.indexOf(t);if(i>-1)return t;if(s<e.length)return e[s]}return null}function $J(r,e){var t=r.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}var qy=function(e,t){var n,s=(n=e.find(function(i){return i.data===t}))===null||n===void 0?void 0:n.id;return s||null},K9=function(e,t){return e.getOptionLabel(t)},G1=function(e,t){return e.getOptionValue(t)};function X9(r,e,t){return typeof r.isOptionDisabled=="function"?r.isOptionDisabled(e,t):!1}function Y9(r,e,t){if(t.indexOf(e)>-1)return!0;if(typeof r.isOptionSelected=="function")return r.isOptionSelected(e,t);var n=G1(r,e);return t.some(function(s){return G1(r,s)===n})}function J9(r,e,t){return r.filterOption?r.filterOption(e,t):!0}var Q9=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return t===void 0?n:t},VJ=1,Z9=function(r){iK(t,r);var e=lK(t);function t(n){var s;if(nK(this,t),s=e.call(this,n),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.isAppleDevice=TJ(),s.controlRef=null,s.getControlRef=function(l){s.controlRef=l},s.focusedOptionRef=null,s.getFocusedOptionRef=function(l){s.focusedOptionRef=l},s.menuListRef=null,s.getMenuListRef=function(l){s.menuListRef=l},s.inputRef=null,s.getInputRef=function(l){s.inputRef=l},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(l,c){var u=s.props,d=u.onChange,h=u.name;c.name=h,s.ariaOnChange(l,c),d(l,c)},s.setValue=function(l,c,u){var d=s.props,h=d.closeMenuOnSelect,f=d.isMulti,m=d.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:m}),h&&(s.setState({inputIsHiddenAfterUpdate:!f}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(l,{action:c,option:u})},s.selectOption=function(l){var c=s.props,u=c.blurInputOnSelect,d=c.isMulti,h=c.name,f=s.state.selectValue,m=d&&s.isOptionSelected(l,f),g=s.isOptionDisabled(l,f);if(m){var p=s.getOptionValue(l);s.setValue(f.filter(function(v){return s.getOptionValue(v)!==p}),"deselect-option",l)}else if(!g)d?s.setValue([].concat(p_(f),[l]),"select-option",l):s.setValue(l,"select-option");else{s.ariaOnChange(l,{action:"select-option",option:l,name:h});return}u&&s.blurInput()},s.removeValue=function(l){var c=s.props.isMulti,u=s.state.selectValue,d=s.getOptionValue(l),h=u.filter(function(m){return s.getOptionValue(m)!==d}),f=pg(c,h,h[0]||null);s.onChange(f,{action:"remove-value",removedValue:l}),s.focusInput()},s.clearValue=function(){var l=s.state.selectValue;s.onChange(pg(s.props.isMulti,[],null),{action:"clear",removedValues:l})},s.popValue=function(){var l=s.props.isMulti,c=s.state.selectValue,u=c[c.length-1],d=c.slice(0,c.length-1),h=pg(l,d,d[0]||null);u&&s.onChange(h,{action:"pop-value",removedValue:u})},s.getFocusedOptionId=function(l){return qy(s.state.focusableOptionsWithIds,l)},s.getFocusableOptionsWithIds=function(){return m8($g(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];return DX.apply(void 0,[s.props.classNamePrefix].concat(c))},s.getOptionLabel=function(l){return K9(s.props,l)},s.getOptionValue=function(l){return G1(s.props,l)},s.getStyles=function(l,c){var u=s.props.unstyled,d=IJ[l](c,u);d.boxSizing="border-box";var h=s.props.styles[l];return h?h(d,c):d},s.getClassNames=function(l,c){var u,d;return(u=(d=s.props.classNames)[l])===null||u===void 0?void 0:u.call(d,c)},s.getElementId=function(l){return"".concat(s.state.instancePrefix,"-").concat(l)},s.getComponents=function(){return eJ(s.props)},s.buildCategorizedOptions=function(){return $g(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return G9(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(l,c){s.setState({ariaSelection:lr({value:l},c)})},s.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(l){s.blockOptionHover=!1},s.onControlMouseDown=function(l){if(!l.defaultPrevented){var c=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&s.onMenuClose():c&&s.openMenu("first"):(c&&(s.openAfterFocus=!0),s.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},s.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!s.props.isDisabled){var c=s.props,u=c.isMulti,d=c.menuIsOpen;s.focusInput(),d?(s.setState({inputIsHiddenAfterUpdate:!u}),s.onMenuClose()):s.openMenu("first"),l.preventDefault()}},s.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(s.clearValue(),l.preventDefault(),s.openAfterFocus=!1,l.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(l){typeof s.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&av(l.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(l)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(l){var c=l.touches,u=c&&c.item(0);u&&(s.initialTouchX=u.clientX,s.initialTouchY=u.clientY,s.userIsDragging=!1)},s.onTouchMove=function(l){var c=l.touches,u=c&&c.item(0);if(u){var d=Math.abs(u.clientX-s.initialTouchX),h=Math.abs(u.clientY-s.initialTouchY),f=5;s.userIsDragging=d>f||h>f}},s.onTouchEnd=function(l){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(l.target)&&s.menuListRef&&!s.menuListRef.contains(l.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(l){s.userIsDragging||s.onControlMouseDown(l)},s.onClearIndicatorTouchEnd=function(l){s.userIsDragging||s.onClearIndicatorMouseDown(l)},s.onDropdownIndicatorTouchEnd=function(l){s.userIsDragging||s.onDropdownIndicatorMouseDown(l)},s.handleInputChange=function(l){var c=s.props.inputValue,u=l.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(u,{action:"input-change",prevInputValue:c}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(l){s.props.onFocus&&s.props.onFocus(l),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(l){var c=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(l),s.onInputChange("",{action:"input-blur",prevInputValue:c}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(l){if(!(s.blockOptionHover||s.state.focusedOption===l)){var c=s.getFocusableOptions(),u=c.indexOf(l);s.setState({focusedOption:l,focusedOptionId:u>-1?s.getFocusedOptionId(l):null})}},s.shouldHideSelectedOptions=function(){return Q9(s.props)},s.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),s.focus()},s.onKeyDown=function(l){var c=s.props,u=c.isMulti,d=c.backspaceRemovesValue,h=c.escapeClearsValue,f=c.inputValue,m=c.isClearable,g=c.isDisabled,p=c.menuIsOpen,v=c.onKeyDown,y=c.tabSelectsValue,b=c.openMenuOnFocus,E=s.state,N=E.focusedOption,j=E.focusedValue,D=E.selectValue;if(!g&&!(typeof v=="function"&&(v(l),l.defaultPrevented))){switch(s.blockOptionHover=!0,l.key){case"ArrowLeft":if(!u||f)return;s.focusValue("previous");break;case"ArrowRight":if(!u||f)return;s.focusValue("next");break;case"Delete":case"Backspace":if(f)return;if(j)s.removeValue(j);else{if(!d)return;u?s.popValue():m&&s.clearValue()}break;case"Tab":if(s.isComposing||l.shiftKey||!p||!y||!N||b&&s.isOptionSelected(N,D))return;s.selectOption(N);break;case"Enter":if(l.keyCode===229)break;if(p){if(!N||s.isComposing)return;s.selectOption(N);break}return;case"Escape":p?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:f}),s.onMenuClose()):m&&h&&s.clearValue();break;case" ":if(f)return;if(!p){s.openMenu("first");break}if(!N)return;s.selectOption(N);break;case"ArrowUp":p?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":p?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!p)return;s.focusOption("pageup");break;case"PageDown":if(!p)return;s.focusOption("pagedown");break;case"Home":if(!p)return;s.focusOption("first");break;case"End":if(!p)return;s.focusOption("last");break;default:return}l.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++VJ),s.state.selectValue=e8(n.value),n.menuIsOpen&&s.state.selectValue.length){var i=s.getFocusableOptionsWithIds(),a=s.buildFocusableOptions(),o=a.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=i,s.state.focusedOption=a[o],s.state.focusedOptionId=qy(i,a[o])}return s}return sK(t,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&t8(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(s){var i=this.props,a=i.isDisabled,o=i.menuIsOpen,l=this.state.isFocused;(l&&!a&&s.isDisabled||l&&o&&!s.menuIsOpen)&&this.focusInput(),l&&a&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!a&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(t8(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,i){this.props.onInputChange(s,i)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var i=this,a=this.state,o=a.selectValue,l=a.isFocused,c=this.buildFocusableOptions(),u=s==="first"?0:c.length-1;if(!this.props.isMulti){var d=c.indexOf(o[0]);d>-1&&(u=d)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:c[u],focusedOptionId:this.getFocusedOptionId(c[u])},function(){return i.onMenuOpen()})}},{key:"focusValue",value:function(s){var i=this.state,a=i.selectValue,o=i.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=a.indexOf(o);o||(l=-1);var c=a.length-1,u=-1;if(a.length){switch(s){case"previous":l===0?u=0:l===-1?u=c:u=l-1;break;case"next":l>-1&&l<c&&(u=l+1);break}this.setState({inputIsHidden:u!==-1,focusedValue:a[u]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",i=this.props.pageSize,a=this.state.focusedOption,o=this.getFocusableOptions();if(o.length){var l=0,c=o.indexOf(a);a||(c=-1),s==="up"?l=c>0?c-1:o.length-1:s==="down"?l=(c+1)%o.length:s==="pageup"?(l=c-i,l<0&&(l=0)):s==="pagedown"?(l=c+i,l>o.length-1&&(l=o.length-1)):s==="last"&&(l=o.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:o[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(o[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(zy):lr(lr({},zy),this.props.theme):zy}},{key:"getCommonProps",value:function(){var s=this.clearValue,i=this.cx,a=this.getStyles,o=this.getClassNames,l=this.getValue,c=this.selectOption,u=this.setValue,d=this.props,h=d.isMulti,f=d.isRtl,m=d.options,g=this.hasValue();return{clearValue:s,cx:i,getStyles:a,getClassNames:o,getValue:l,hasValue:g,isMulti:h,isRtl:f,options:m,selectOption:c,selectProps:d,setValue:u,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,i=s.isClearable,a=s.isMulti;return i===void 0?a:i}},{key:"isOptionDisabled",value:function(s,i){return X9(this.props,s,i)}},{key:"isOptionSelected",value:function(s,i){return Y9(this.props,s,i)}},{key:"filterOption",value:function(s,i){return J9(this.props,s,i)}},{key:"formatOptionLabel",value:function(s,i){if(typeof this.props.formatOptionLabel=="function"){var a=this.props.inputValue,o=this.state.selectValue;return this.props.formatOptionLabel(s,{context:i,inputValue:a,selectValue:o})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var s=this.props,i=s.isDisabled,a=s.isSearchable,o=s.inputId,l=s.inputValue,c=s.tabIndex,u=s.form,d=s.menuIsOpen,h=s.required,f=this.getComponents(),m=f.Input,g=this.state,p=g.inputIsHidden,v=g.ariaSelection,y=this.commonProps,b=o||this.getElementId("input"),E=lr(lr(lr({"aria-autocomplete":"list","aria-expanded":d,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":h,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},d&&{"aria-controls":this.getElementId("listbox")}),!a&&{"aria-readonly":!0}),this.hasValue()?(v==null?void 0:v.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return a?Ae.createElement(m,hr({},y,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:b,innerRef:this.getInputRef,isDisabled:i,isHidden:p,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:c,form:u,type:"text",value:l},E)):Ae.createElement(pJ,hr({id:b,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:q1,onFocus:this.onInputFocus,disabled:i,tabIndex:c,inputMode:"none",form:u,value:""},E))}},{key:"renderPlaceholderOrValue",value:function(){var s=this,i=this.getComponents(),a=i.MultiValue,o=i.MultiValueContainer,l=i.MultiValueLabel,c=i.MultiValueRemove,u=i.SingleValue,d=i.Placeholder,h=this.commonProps,f=this.props,m=f.controlShouldRenderValue,g=f.isDisabled,p=f.isMulti,v=f.inputValue,y=f.placeholder,b=this.state,E=b.selectValue,N=b.focusedValue,j=b.isFocused;if(!this.hasValue()||!m)return v?null:Ae.createElement(d,hr({},h,{key:"placeholder",isDisabled:g,isFocused:j,innerProps:{id:this.getElementId("placeholder")}}),y);if(p)return E.map(function(C,I){var V=C===N,B="".concat(s.getOptionLabel(C),"-").concat(s.getOptionValue(C));return Ae.createElement(a,hr({},h,{components:{Container:o,Label:l,Remove:c},isFocused:V,isDisabled:g,key:B,index:I,removeProps:{onClick:function(){return s.removeValue(C)},onTouchEnd:function(){return s.removeValue(C)},onMouseDown:function(k){k.preventDefault()}},data:C}),s.formatOptionLabel(C,"value"))});if(v)return null;var D=E[0];return Ae.createElement(u,hr({},h,{data:D,isDisabled:g}),this.formatOptionLabel(D,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),i=s.ClearIndicator,a=this.commonProps,o=this.props,l=o.isDisabled,c=o.isLoading,u=this.state.isFocused;if(!this.isClearable()||!i||l||!this.hasValue()||c)return null;var d={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return Ae.createElement(i,hr({},a,{innerProps:d,isFocused:u}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),i=s.LoadingIndicator,a=this.commonProps,o=this.props,l=o.isDisabled,c=o.isLoading,u=this.state.isFocused;if(!i||!c)return null;var d={"aria-hidden":"true"};return Ae.createElement(i,hr({},a,{innerProps:d,isDisabled:l,isFocused:u}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),i=s.DropdownIndicator,a=s.IndicatorSeparator;if(!i||!a)return null;var o=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused;return Ae.createElement(a,hr({},o,{isDisabled:l,isFocused:c}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),i=s.DropdownIndicator;if(!i)return null;var a=this.commonProps,o=this.props.isDisabled,l=this.state.isFocused,c={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return Ae.createElement(i,hr({},a,{innerProps:c,isDisabled:o,isFocused:l}))}},{key:"renderMenu",value:function(){var s=this,i=this.getComponents(),a=i.Group,o=i.GroupHeading,l=i.Menu,c=i.MenuList,u=i.MenuPortal,d=i.LoadingMessage,h=i.NoOptionsMessage,f=i.Option,m=this.commonProps,g=this.state.focusedOption,p=this.props,v=p.captureMenuScroll,y=p.inputValue,b=p.isLoading,E=p.loadingMessage,N=p.minMenuHeight,j=p.maxMenuHeight,D=p.menuIsOpen,C=p.menuPlacement,I=p.menuPosition,V=p.menuPortalTarget,B=p.menuShouldBlockScroll,P=p.menuShouldScrollIntoView,k=p.noOptionsMessage,M=p.onMenuScrollToTop,A=p.onMenuScrollToBottom;if(!D)return null;var w=function(z,q){var Y=z.type,U=z.data,Q=z.isDisabled,F=z.isSelected,O=z.label,K=z.value,ne=g===U,ee=Q?void 0:function(){return s.onOptionHover(U)},ie=Q?void 0:function(){return s.selectOption(U)},he="".concat(s.getElementId("option"),"-").concat(q),ce={id:he,onClick:ie,onMouseMove:ee,onMouseOver:ee,tabIndex:-1,role:"option","aria-selected":s.isAppleDevice?void 0:F};return Ae.createElement(f,hr({},m,{innerProps:ce,data:U,isDisabled:Q,isSelected:F,key:he,label:O,type:Y,value:K,isFocused:ne,innerRef:ne?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(z.data,"menu"))},S;if(this.hasOptions())S=this.getCategorizedOptions().map(function(T){if(T.type==="group"){var z=T.data,q=T.options,Y=T.index,U="".concat(s.getElementId("group"),"-").concat(Y),Q="".concat(U,"-heading");return Ae.createElement(a,hr({},m,{key:U,data:z,options:q,Heading:o,headingProps:{id:Q,data:T.data},label:s.formatGroupLabel(T.data)}),T.options.map(function(F){return w(F,"".concat(Y,"-").concat(F.index))}))}else if(T.type==="option")return w(T,"".concat(T.index))});else if(b){var _=E({inputValue:y});if(_===null)return null;S=Ae.createElement(d,m,_)}else{var x=k({inputValue:y});if(x===null)return null;S=Ae.createElement(h,m,x)}var R={minMenuHeight:N,maxMenuHeight:j,menuPlacement:C,menuPosition:I,menuShouldScrollIntoView:P},W=Ae.createElement(WX,hr({},m,R),function(T){var z=T.ref,q=T.placerProps,Y=q.placement,U=q.maxHeight;return Ae.createElement(l,hr({},m,R,{innerRef:z,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:b,placement:Y}),Ae.createElement(wJ,{captureEnabled:v,onTopArrive:M,onBottomArrive:A,lockEnabled:B},function(Q){return Ae.createElement(c,hr({},m,{innerRef:function(O){s.getMenuListRef(O),Q(O)},innerProps:{role:"listbox","aria-multiselectable":m.isMulti,id:s.getElementId("listbox")},isLoading:b,maxHeight:U,focusedOption:g}),S)}))});return V||I==="fixed"?Ae.createElement(u,hr({},m,{appendTo:V,controlElement:this.controlRef,menuPlacement:C,menuPosition:I}),W):W}},{key:"renderFormField",value:function(){var s=this,i=this.props,a=i.delimiter,o=i.isDisabled,l=i.isMulti,c=i.name,u=i.required,d=this.state.selectValue;if(u&&!this.hasValue()&&!o)return Ae.createElement(SJ,{name:c,onFocus:this.onValueInputFocus});if(!(!c||o))if(l)if(a){var h=d.map(function(g){return s.getOptionValue(g)}).join(a);return Ae.createElement("input",{name:c,type:"hidden",value:h})}else{var f=d.length>0?d.map(function(g,p){return Ae.createElement("input",{key:"i-".concat(p),name:c,type:"hidden",value:s.getOptionValue(g)})}):Ae.createElement("input",{name:c,type:"hidden",value:""});return Ae.createElement("div",null,f)}else{var m=d[0]?this.getOptionValue(d[0]):"";return Ae.createElement("input",{name:c,type:"hidden",value:m})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,i=this.state,a=i.ariaSelection,o=i.focusedOption,l=i.focusedValue,c=i.isFocused,u=i.selectValue,d=this.getFocusableOptions();return Ae.createElement(lJ,hr({},s,{id:this.getElementId("live-region"),ariaSelection:a,focusedOption:o,focusedValue:l,isFocused:c,selectValue:u,focusableOptions:d,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),i=s.Control,a=s.IndicatorsContainer,o=s.SelectContainer,l=s.ValueContainer,c=this.props,u=c.className,d=c.id,h=c.isDisabled,f=c.menuIsOpen,m=this.state.isFocused,g=this.commonProps=this.getCommonProps();return Ae.createElement(o,hr({},g,{className:u,innerProps:{id:d,onKeyDown:this.onKeyDown},isDisabled:h,isFocused:m}),this.renderLiveRegion(),Ae.createElement(i,hr({},g,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:h,isFocused:m,menuIsOpen:f}),Ae.createElement(l,hr({},g,{isDisabled:h}),this.renderPlaceholderOrValue(),this.renderInput()),Ae.createElement(a,hr({},g,{isDisabled:h}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,i){var a=i.prevProps,o=i.clearFocusValueOnUpdate,l=i.inputIsHiddenAfterUpdate,c=i.ariaSelection,u=i.isFocused,d=i.prevWasFocused,h=i.instancePrefix,f=s.options,m=s.value,g=s.menuIsOpen,p=s.inputValue,v=s.isMulti,y=e8(m),b={};if(a&&(m!==a.value||f!==a.options||g!==a.menuIsOpen||p!==a.inputValue)){var E=g?BJ(s,y):[],N=g?m8($g(s,y),"".concat(h,"-option")):[],j=o?UJ(i,y):null,D=$J(i,E),C=qy(N,D);b={selectValue:y,focusedOption:D,focusedOptionId:C,focusableOptionsWithIds:N,focusedValue:j,clearFocusValueOnUpdate:!1}}var I=l!=null&&s!==a?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},V=c,B=u&&d;return u&&!B&&(V={value:pg(v,y,y[0]||null),options:y,action:"initial-input-focus"},B=!d),(c==null?void 0:c.action)==="initial-input-focus"&&(V=null),lr(lr(lr({},b),I),{},{prevProps:s,ariaSelection:V,prevWasFocused:B})}}]),t}(Ae.Component);Z9.defaultProps=jJ;var HJ=Ae.forwardRef(function(r,e){var t=rK(r);return Ae.createElement(Z9,hr({ref:e},t))}),zJ=HJ,ai=Uint8Array,sa=Uint16Array,C_=Int32Array,ov=new ai([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),lv=new ai([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Xw=new ai([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),eN=function(r,e){for(var t=new sa(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var s=new C_(t[30]),n=1;n<30;++n)for(var i=t[n];i<t[n+1];++i)s[i]=i-t[n]<<5|n;return{b:t,r:s}},tN=eN(ov,2),rN=tN.b,Yw=tN.r;rN[28]=258,Yw[258]=28;var nN=eN(lv,0),qJ=nN.b,v8=nN.r,Jw=new sa(32768);for(var xn=0;xn<32768;++xn){var gc=(xn&43690)>>1|(xn&21845)<<1;gc=(gc&52428)>>2|(gc&13107)<<2,gc=(gc&61680)>>4|(gc&3855)<<4,Jw[xn]=((gc&65280)>>8|(gc&255)<<8)>>1}var $o=function(r,e,t){for(var n=r.length,s=0,i=new sa(e);s<n;++s)r[s]&&++i[r[s]-1];var a=new sa(e);for(s=1;s<e;++s)a[s]=a[s-1]+i[s-1]<<1;var o;if(t){o=new sa(1<<e);var l=15-e;for(s=0;s<n;++s)if(r[s])for(var c=s<<4|r[s],u=e-r[s],d=a[r[s]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)o[Jw[d]>>l]=c}else for(o=new sa(n),s=0;s<n;++s)r[s]&&(o[s]=Jw[a[r[s]-1]++]>>15-r[s]);return o},au=new ai(288);for(var xn=0;xn<144;++xn)au[xn]=8;for(var xn=144;xn<256;++xn)au[xn]=9;for(var xn=256;xn<280;++xn)au[xn]=7;for(var xn=280;xn<288;++xn)au[xn]=8;var Tp=new ai(32);for(var xn=0;xn<32;++xn)Tp[xn]=5;var WJ=$o(au,9,0),GJ=$o(au,9,1),KJ=$o(Tp,5,0),XJ=$o(Tp,5,1),Wy=function(r){for(var e=r[0],t=1;t<r.length;++t)r[t]>e&&(e=r[t]);return e},Ka=function(r,e,t){var n=e/8|0;return(r[n]|r[n+1]<<8)>>(e&7)&t},Gy=function(r,e){var t=e/8|0;return(r[t]|r[t+1]<<8|r[t+2]<<16)>>(e&7)},N_=function(r){return(r+7)/8|0},sN=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new ai(r.subarray(e,t))},YJ=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Za=function(r,e,t){var n=new Error(e||YJ[r]);if(n.code=r,Error.captureStackTrace&&Error.captureStackTrace(n,Za),!t)throw n;return n},JJ=function(r,e,t,n){var s=r.length,i=0;if(!s||e.f&&!e.l)return t||new ai(0);var a=!t,o=a||e.i!=2,l=e.i;a&&(t=new ai(s*3));var c=function(ne){var ee=t.length;if(ne>ee){var ie=new ai(Math.max(ee*2,ne));ie.set(t),t=ie}},u=e.f||0,d=e.p||0,h=e.b||0,f=e.l,m=e.d,g=e.m,p=e.n,v=s*8;do{if(!f){u=Ka(r,d,1);var y=Ka(r,d+1,3);if(d+=3,y)if(y==1)f=GJ,m=XJ,g=9,p=5;else if(y==2){var j=Ka(r,d,31)+257,D=Ka(r,d+10,15)+4,C=j+Ka(r,d+5,31)+1;d+=14;for(var I=new ai(C),V=new ai(19),B=0;B<D;++B)V[Xw[B]]=Ka(r,d+B*3,7);d+=D*3;for(var P=Wy(V),k=(1<<P)-1,M=$o(V,P,1),B=0;B<C;){var A=M[Ka(r,d,k)];d+=A&15;var b=A>>4;if(b<16)I[B++]=b;else{var w=0,S=0;for(b==16?(S=3+Ka(r,d,3),d+=2,w=I[B-1]):b==17?(S=3+Ka(r,d,7),d+=3):b==18&&(S=11+Ka(r,d,127),d+=7);S--;)I[B++]=w}}var _=I.subarray(0,j),x=I.subarray(j);g=Wy(_),p=Wy(x),f=$o(_,g,1),m=$o(x,p,1)}else Za(1);else{var b=N_(d)+4,E=r[b-4]|r[b-3]<<8,N=b+E;if(N>s){l&&Za(0);break}o&&c(h+E),t.set(r.subarray(b,N),h),e.b=h+=E,e.p=d=N*8,e.f=u;continue}if(d>v){l&&Za(0);break}}o&&c(h+131072);for(var R=(1<<g)-1,W=(1<<p)-1,T=d;;T=d){var w=f[Gy(r,d)&R],z=w>>4;if(d+=w&15,d>v){l&&Za(0);break}if(w||Za(2),z<256)t[h++]=z;else if(z==256){T=d,f=null;break}else{var q=z-254;if(z>264){var B=z-257,Y=ov[B];q=Ka(r,d,(1<<Y)-1)+rN[B],d+=Y}var U=m[Gy(r,d)&W],Q=U>>4;U||Za(3),d+=U&15;var x=qJ[Q];if(Q>3){var Y=lv[Q];x+=Gy(r,d)&(1<<Y)-1,d+=Y}if(d>v){l&&Za(0);break}o&&c(h+131072);var F=h+q;if(h<x){var O=i-x,K=Math.min(x,F);for(O+h<0&&Za(3);h<K;++h)t[h]=n[O+h]}for(;h<F;++h)t[h]=t[h-x]}}e.l=f,e.p=T,e.b=h,e.f=u,f&&(u=1,e.m=g,e.d=m,e.n=p)}while(!u);return h!=t.length&&a?sN(t,0,h):t.subarray(0,h)},hl=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},r0=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},Ky=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var s=t.length,i=t.slice();if(!s)return{t:aN,l:0};if(s==1){var a=new ai(t[0].s+1);return a[t[0].s]=1,{t:a,l:1}}t.sort(function(N,j){return N.f-j.f}),t.push({s:-1,f:25001});var o=t[0],l=t[1],c=0,u=1,d=2;for(t[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=s-1;)o=t[t[c].f<t[d].f?c++:d++],l=t[c!=u&&t[c].f<t[d].f?c++:d++],t[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var h=i[0].s,n=1;n<s;++n)i[n].s>h&&(h=i[n].s);var f=new sa(h+1),m=Qw(t[u-1],f,0);if(m>e){var n=0,g=0,p=m-e,v=1<<p;for(i.sort(function(j,D){return f[D.s]-f[j.s]||j.f-D.f});n<s;++n){var y=i[n].s;if(f[y]>e)g+=v-(1<<m-f[y]),f[y]=e;else break}for(g>>=p;g>0;){var b=i[n].s;f[b]<e?g-=1<<e-f[b]++-1:++n}for(;n>=0&&g;--n){var E=i[n].s;f[E]==e&&(--f[E],++g)}m=e}return{t:new ai(f),l:m}},Qw=function(r,e,t){return r.s==-1?Math.max(Qw(r.l,e,t+1),Qw(r.r,e,t+1)):e[r.s]=t},y8=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new sa(++e),n=0,s=r[0],i=1,a=function(l){t[n++]=l},o=1;o<=e;++o)if(r[o]==s&&o!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(s),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(s);i=1,s=r[o]}return{c:t.subarray(0,n),n:e}},n0=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},iN=function(r,e,t){var n=t.length,s=N_(e+2);r[s]=n&255,r[s+1]=n>>8,r[s+2]=r[s]^255,r[s+3]=r[s+1]^255;for(var i=0;i<n;++i)r[s+i+4]=t[i];return(s+4+n)*8},b8=function(r,e,t,n,s,i,a,o,l,c,u){hl(e,u++,t),++s[256];for(var d=Ky(s,15),h=d.t,f=d.l,m=Ky(i,15),g=m.t,p=m.l,v=y8(h),y=v.c,b=v.n,E=y8(g),N=E.c,j=E.n,D=new sa(19),C=0;C<y.length;++C)++D[y[C]&31];for(var C=0;C<N.length;++C)++D[N[C]&31];for(var I=Ky(D,7),V=I.t,B=I.l,P=19;P>4&&!V[Xw[P-1]];--P);var k=c+5<<3,M=n0(s,au)+n0(i,Tp)+a,A=n0(s,h)+n0(i,g)+a+14+3*P+n0(D,V)+2*D[16]+3*D[17]+7*D[18];if(l>=0&&k<=M&&k<=A)return iN(e,u,r.subarray(l,l+c));var w,S,_,x;if(hl(e,u,1+(A<M)),u+=2,A<M){w=$o(h,f,0),S=h,_=$o(g,p,0),x=g;var R=$o(V,B,0);hl(e,u,b-257),hl(e,u+5,j-1),hl(e,u+10,P-4),u+=14;for(var C=0;C<P;++C)hl(e,u+3*C,V[Xw[C]]);u+=3*P;for(var W=[y,N],T=0;T<2;++T)for(var z=W[T],C=0;C<z.length;++C){var q=z[C]&31;hl(e,u,R[q]),u+=V[q],q>15&&(hl(e,u,z[C]>>5&127),u+=z[C]>>12)}}else w=WJ,S=au,_=KJ,x=Tp;for(var C=0;C<o;++C){var Y=n[C];if(Y>255){var q=Y>>18&31;r0(e,u,w[q+257]),u+=S[q+257],q>7&&(hl(e,u,Y>>23&31),u+=ov[q]);var U=Y&31;r0(e,u,_[U]),u+=x[U],U>3&&(r0(e,u,Y>>5&8191),u+=lv[U])}else r0(e,u,w[Y]),u+=S[Y]}return r0(e,u,w[256]),u+S[256]},QJ=new C_([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),aN=new ai(0),ZJ=function(r,e,t,n,s,i){var a=i.z||r.length,o=new ai(n+a+5*(1+Math.ceil(a/7e3))+s),l=o.subarray(n,o.length-s),c=i.l,u=(i.r||0)&7;if(e){u&&(l[0]=i.r>>3);for(var d=QJ[e-1],h=d>>13,f=d&8191,m=(1<<t)-1,g=i.p||new sa(32768),p=i.h||new sa(m+1),v=Math.ceil(t/3),y=2*v,b=function(he){return(r[he]^r[he+1]<<v^r[he+2]<<y)&m},E=new C_(25e3),N=new sa(288),j=new sa(32),D=0,C=0,I=i.i||0,V=0,B=i.w||0,P=0;I+2<a;++I){var k=b(I),M=I&32767,A=p[k];if(g[M]=A,p[k]=M,B<=I){var w=a-I;if((D>7e3||V>24576)&&(w>423||!c)){u=b8(r,l,0,E,N,j,C,V,P,I-P,u),V=D=C=0,P=I;for(var S=0;S<286;++S)N[S]=0;for(var S=0;S<30;++S)j[S]=0}var _=2,x=0,R=f,W=M-A&32767;if(w>2&&k==b(I-W))for(var T=Math.min(h,w)-1,z=Math.min(32767,I),q=Math.min(258,w);W<=z&&--R&&M!=A;){if(r[I+_]==r[I+_-W]){for(var Y=0;Y<q&&r[I+Y]==r[I+Y-W];++Y);if(Y>_){if(_=Y,x=W,Y>T)break;for(var U=Math.min(W,Y-2),Q=0,S=0;S<U;++S){var F=I-W+S&32767,O=g[F],K=F-O&32767;K>Q&&(Q=K,A=F)}}}M=A,A=g[M],W+=M-A&32767}if(x){E[V++]=268435456|Yw[_]<<18|v8[x];var ne=Yw[_]&31,ee=v8[x]&31;C+=ov[ne]+lv[ee],++N[257+ne],++j[ee],B=I+_,++D}else E[V++]=r[I],++N[r[I]]}}for(I=Math.max(I,B);I<a;++I)E[V++]=r[I],++N[r[I]];u=b8(r,l,c,E,N,j,C,V,P,I-P,u),c||(i.r=u&7|l[u/8|0]<<3,u-=7,i.h=p,i.p=g,i.i=I,i.w=B)}else{for(var I=i.w||0;I<a+c;I+=65535){var ie=I+65535;ie>=a&&(l[u/8|0]=c,ie=a),u=iN(l,u+1,r.subarray(I,ie))}i.i=a}return sN(o,0,n+N_(u)+s)},oN=function(){var r=1,e=0;return{p:function(t){for(var n=r,s=e,i=t.length|0,a=0;a!=i;){for(var o=Math.min(a+2655,i);a<o;++a)s+=n+=t[a];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}r=n,e=s},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},eQ=function(r,e,t,n,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),a=new ai(i.length+r.length);a.set(i),a.set(r,i.length),r=a,s.w=i.length}return ZJ(r,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,s)},lN=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},tQ=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var s=oN();s.p(e.dictionary),lN(r,2,s.d())}},rQ=function(r,e){return((r[0]&15)!=8||r[0]>>4>7||(r[0]<<8|r[1])%31)&&Za(6,"invalid zlib data"),(r[1]>>5&1)==1&&Za(6,"invalid zlib data: "+(r[1]&32?"need":"unexpected")+" dictionary"),(r[1]>>3&4)+2};function Zw(r,e){e||(e={});var t=oN();t.p(r);var n=eQ(r,e,e.dictionary?6:2,4);return tQ(n,e),lN(n,n.length-4,t.d()),n}function nQ(r,e){return JJ(r.subarray(rQ(r),-4),{i:2},e,e)}var sQ=typeof TextDecoder<"u"&&new TextDecoder,iQ=0;try{sQ.decode(aN,{stream:!0}),iQ=1}catch{}var fr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Xy(){fr.console&&typeof fr.console.log=="function"&&fr.console.log.apply(fr.console,arguments)}var hn={log:Xy,warn:function(r){fr.console&&(typeof fr.console.warn=="function"?fr.console.warn.apply(fr.console,arguments):Xy.call(null,arguments))},error:function(r){fr.console&&(typeof fr.console.error=="function"?fr.console.error.apply(fr.console,arguments):Xy(r))}};function Yy(r,e,t){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){Bu(n.response,e,t)},n.onerror=function(){hn.error("could not download file")},n.send()}function w8(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function mg(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var $0,ex,Bu=fr.saveAs||((typeof window>"u"?"undefined":zr(window))!=="object"||window!==fr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var n=fr.URL||fr.webkitURL,s=document.createElement("a");e=e||r.name||"download",s.download=e,s.rel="noopener",typeof r=="string"?(s.href=r,s.origin!==location.origin?w8(s.href)?Yy(r,e,t):mg(s,s.target="_blank"):mg(s)):(s.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){mg(s)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(w8(r))Yy(r,e,t);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){mg(n)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:zr(i)!=="object"&&(hn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(r,t),e)}:function(r,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return Yy(r,e,t);var s=r.type==="application/octet-stream",i=/constructor/i.test(fr.HTMLElement)||fr.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&i)&&(typeof FileReader>"u"?"undefined":zr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=a?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(r)}else{var l=fr.URL||fr.webkitURL,c=l.createObjectURL(r);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function cN(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<t.length;n++){var s=t[n].re,i=t[n].process,a=s.exec(r);a&&(e=i(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Jy(r,e){var t=r[0],n=r[1],s=r[2],i=r[3];t=Ks(t,n,s,i,e[0],7,-680876936),i=Ks(i,t,n,s,e[1],12,-389564586),s=Ks(s,i,t,n,e[2],17,606105819),n=Ks(n,s,i,t,e[3],22,-1044525330),t=Ks(t,n,s,i,e[4],7,-176418897),i=Ks(i,t,n,s,e[5],12,1200080426),s=Ks(s,i,t,n,e[6],17,-1473231341),n=Ks(n,s,i,t,e[7],22,-45705983),t=Ks(t,n,s,i,e[8],7,1770035416),i=Ks(i,t,n,s,e[9],12,-1958414417),s=Ks(s,i,t,n,e[10],17,-42063),n=Ks(n,s,i,t,e[11],22,-1990404162),t=Ks(t,n,s,i,e[12],7,1804603682),i=Ks(i,t,n,s,e[13],12,-40341101),s=Ks(s,i,t,n,e[14],17,-1502002290),t=Xs(t,n=Ks(n,s,i,t,e[15],22,1236535329),s,i,e[1],5,-165796510),i=Xs(i,t,n,s,e[6],9,-1069501632),s=Xs(s,i,t,n,e[11],14,643717713),n=Xs(n,s,i,t,e[0],20,-373897302),t=Xs(t,n,s,i,e[5],5,-701558691),i=Xs(i,t,n,s,e[10],9,38016083),s=Xs(s,i,t,n,e[15],14,-660478335),n=Xs(n,s,i,t,e[4],20,-405537848),t=Xs(t,n,s,i,e[9],5,568446438),i=Xs(i,t,n,s,e[14],9,-1019803690),s=Xs(s,i,t,n,e[3],14,-187363961),n=Xs(n,s,i,t,e[8],20,1163531501),t=Xs(t,n,s,i,e[13],5,-1444681467),i=Xs(i,t,n,s,e[2],9,-51403784),s=Xs(s,i,t,n,e[7],14,1735328473),t=Ys(t,n=Xs(n,s,i,t,e[12],20,-1926607734),s,i,e[5],4,-378558),i=Ys(i,t,n,s,e[8],11,-2022574463),s=Ys(s,i,t,n,e[11],16,1839030562),n=Ys(n,s,i,t,e[14],23,-35309556),t=Ys(t,n,s,i,e[1],4,-1530992060),i=Ys(i,t,n,s,e[4],11,1272893353),s=Ys(s,i,t,n,e[7],16,-155497632),n=Ys(n,s,i,t,e[10],23,-1094730640),t=Ys(t,n,s,i,e[13],4,681279174),i=Ys(i,t,n,s,e[0],11,-358537222),s=Ys(s,i,t,n,e[3],16,-722521979),n=Ys(n,s,i,t,e[6],23,76029189),t=Ys(t,n,s,i,e[9],4,-640364487),i=Ys(i,t,n,s,e[12],11,-421815835),s=Ys(s,i,t,n,e[15],16,530742520),t=Js(t,n=Ys(n,s,i,t,e[2],23,-995338651),s,i,e[0],6,-198630844),i=Js(i,t,n,s,e[7],10,1126891415),s=Js(s,i,t,n,e[14],15,-1416354905),n=Js(n,s,i,t,e[5],21,-57434055),t=Js(t,n,s,i,e[12],6,1700485571),i=Js(i,t,n,s,e[3],10,-1894986606),s=Js(s,i,t,n,e[10],15,-1051523),n=Js(n,s,i,t,e[1],21,-2054922799),t=Js(t,n,s,i,e[8],6,1873313359),i=Js(i,t,n,s,e[15],10,-30611744),s=Js(s,i,t,n,e[6],15,-1560198380),n=Js(n,s,i,t,e[13],21,1309151649),t=Js(t,n,s,i,e[4],6,-145523070),i=Js(i,t,n,s,e[11],10,-1120210379),s=Js(s,i,t,n,e[2],15,718787259),n=Js(n,s,i,t,e[9],21,-343485551),r[0]=Bc(t,r[0]),r[1]=Bc(n,r[1]),r[2]=Bc(s,r[2]),r[3]=Bc(i,r[3])}function cv(r,e,t,n,s,i){return e=Bc(Bc(e,r),Bc(n,i)),Bc(e<<s|e>>>32-s,t)}function Ks(r,e,t,n,s,i,a){return cv(e&t|~e&n,r,e,s,i,a)}function Xs(r,e,t,n,s,i,a){return cv(e&n|t&~n,r,e,s,i,a)}function Ys(r,e,t,n,s,i,a){return cv(e^t^n,r,e,s,i,a)}function Js(r,e,t,n,s,i,a){return cv(t^(e|~n),r,e,s,i,a)}function uN(r){var e,t=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)Jy(n,aQ(r.substring(e-64,e)));r=r.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)s[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(Jy(n,s),e=0;e<16;e++)s[e]=0;return s[14]=8*t,Jy(n,s),n}function aQ(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}$0=fr.atob.bind(fr),ex=fr.btoa.bind(fr);var x8="0123456789abcdef".split("");function oQ(r){for(var e="",t=0;t<4;t++)e+=x8[r>>8*t+4&15]+x8[r>>8*t&15];return e}function lQ(r){return String.fromCharCode((255&r)>>0,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function tx(r){return uN(r).map(lQ).join("")}var cQ=function(r){for(var e=0;e<r.length;e++)r[e]=oQ(r[e]);return r.join("")}(uN("hello"))!="5d41402abc4b2a76b9719d911017c592";function Bc(r,e){if(cQ){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function rx(r,e){var t,n,s,i;if(r!==t){for(var a=(s=r,i=1+(256/r.length>>0),new Array(i+1).join(s)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+a.charCodeAt(l))%256,o[l]=o[c],o[c]=u}t=r,n=o}else o=n;var d=e.length,h=0,f=0,m="";for(l=0;l<d;l++)f=(f+(u=o[h=(h+1)%256]))%256,o[h]=o[f],o[f]=u,a=o[(o[h]+o[f])%256],m+=String.fromCharCode(e.charCodeAt(l)^a);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var _8={print:4,modify:8,copy:16,"annot-forms":32};function sf(r,e,t,n){this.v=1,this.r=2;var s=192;r.forEach(function(o){if(_8.perm!==void 0)throw new Error("Invalid permission: "+o);s+=_8[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(e+this.padding).substr(0,32),a=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^s)),this.encryptionKey=tx(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=rx(this.encryptionKey,this.padding)}function af(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,n=0;n<t;n++){var s=r.charCodeAt(n);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?e+="#"+("0"+s.toString(16)).slice(-2):e+=r[n]}return e}function S8(r){if(zr(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,s){if(s=s||!1,typeof t!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var i=Math.random().toString(35);return e[t][i]=[n,!!s],i},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in e[t]){var a=e[t][i];try{a[0].apply(r,n)}catch(o){fr.console&&hn.error("jsPDF PubSub Error",o.message,o)}a[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function K1(r){if(!(this instanceof K1))return new K1(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function hN(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function zu(r,e,t,n,s){if(!(this instanceof zu))return new zu(r,e,t,n,s);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,hN.call(this,n,s)}function Ef(r,e,t,n,s){if(!(this instanceof Ef))return new Ef(r,e,t,n,s);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,hN.call(this,n,s)}function ur(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],a=[],o=1,l=16,c="S",u=null;zr(r=r||{})==="object"&&(t=r.orientation,n=r.unit||n,s=r.format||s,i=r.compress||r.compressPdf||i,(u=r.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(l=r.floatPrecision),c=r.defaultPathOperation||"S"),a=r.filters||(i===!0?["FlateEncode"]:a),n=n||"mm",t=(""+(t||"P")).toLowerCase();var d=r.putOnlyUsedFonts||!1,h={},f={internal:{},__private__:{}};f.__private__.PubSub=S8;var m="1.3",g=f.__private__.getPdfVersion=function(){return m};f.__private__.setPdfVersion=function(J){m=J};var p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return p};var v=f.__private__.getPageFormat=function(J){return p[J]};s=s||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},b=y.COMPAT;function E(){this.saveGraphicsState(),te(new _t(ze,0,0,-ze,0,zs()*ze).toString()+" cm"),this.setFontSize(this.getFontSize()/ze),c="n",b=y.ADVANCED}function N(){this.restoreGraphicsState(),c="S",b=y.COMPAT}var j=f.__private__.combineFontStyleAndFontWeight=function(J,pe){if(J=="bold"&&pe=="normal"||J=="bold"&&pe==400||J=="normal"&&pe=="italic"||J=="bold"&&pe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return pe&&(J=pe==400||pe==="normal"?J==="italic"?"italic":"normal":pe!=700&&pe!=="bold"||J!=="normal"?(pe==700?"bold":pe)+""+J:"bold"),J};f.advancedAPI=function(J){var pe=b===y.COMPAT;return pe&&E.call(this),typeof J!="function"||(J(this),pe&&N.call(this)),this},f.compatAPI=function(J){var pe=b===y.ADVANCED;return pe&&N.call(this),typeof J!="function"||(J(this),pe&&E.call(this)),this},f.isAdvancedAPI=function(){return b===y.ADVANCED};var D,C=function(J){if(b!==y.ADVANCED)throw new Error(J+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},I=f.roundToPrecision=f.__private__.roundToPrecision=function(J,pe){var $e=e||pe;if(isNaN(J)||isNaN($e))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return J.toFixed($e).replace(/0+$/,"")};D=f.hpf=f.__private__.hpf=typeof l=="number"?function(J){if(isNaN(J))throw new Error("Invalid argument passed to jsPDF.hpf");return I(J,l)}:l==="smart"?function(J){if(isNaN(J))throw new Error("Invalid argument passed to jsPDF.hpf");return I(J,J>-1&&J<1?16:5)}:function(J){if(isNaN(J))throw new Error("Invalid argument passed to jsPDF.hpf");return I(J,16)};var V=f.f2=f.__private__.f2=function(J){if(isNaN(J))throw new Error("Invalid argument passed to jsPDF.f2");return I(J,2)},B=f.__private__.f3=function(J){if(isNaN(J))throw new Error("Invalid argument passed to jsPDF.f3");return I(J,3)},P=f.scale=f.__private__.scale=function(J){if(isNaN(J))throw new Error("Invalid argument passed to jsPDF.scale");return b===y.COMPAT?J*ze:b===y.ADVANCED?J:void 0},k=function(J){return b===y.COMPAT?zs()-J:b===y.ADVANCED?J:void 0},M=function(J){return P(k(J))};f.__private__.setPrecision=f.setPrecision=function(J){typeof parseInt(J,10)=="number"&&(e=parseInt(J,10))};var A,w="00000000000000000000000000000000",S=f.__private__.getFileId=function(){return w},_=f.__private__.setFileId=function(J){return w=J!==void 0&&/^[a-fA-F0-9]{32}$/.test(J)?J.toUpperCase():w.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(rn=new sf(u.userPermissions,u.userPassword,u.ownerPassword,w)),w};f.setFileId=function(J){return _(J),this},f.getFileId=function(){return S()};var x=f.__private__.convertDateToPDFDate=function(J){var pe=J.getTimezoneOffset(),$e=pe<0?"+":"-",Ze=Math.floor(Math.abs(pe/60)),lt=Math.abs(pe%60),kt=[$e,q(Ze),"'",q(lt),"'"].join("");return["D:",J.getFullYear(),q(J.getMonth()+1),q(J.getDate()),q(J.getHours()),q(J.getMinutes()),q(J.getSeconds()),kt].join("")},R=f.__private__.convertPDFDateToDate=function(J){var pe=parseInt(J.substr(2,4),10),$e=parseInt(J.substr(6,2),10)-1,Ze=parseInt(J.substr(8,2),10),lt=parseInt(J.substr(10,2),10),kt=parseInt(J.substr(12,2),10),Ft=parseInt(J.substr(14,2),10);return new Date(pe,$e,Ze,lt,kt,Ft,0)},W=f.__private__.setCreationDate=function(J){var pe;if(J===void 0&&(J=new Date),J instanceof Date)pe=x(J);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(J))throw new Error("Invalid argument passed to jsPDF.setCreationDate");pe=J}return A=pe},T=f.__private__.getCreationDate=function(J){var pe=A;return J==="jsDate"&&(pe=R(A)),pe};f.setCreationDate=function(J){return W(J),this},f.getCreationDate=function(J){return T(J)};var z,q=f.__private__.padd2=function(J){return("0"+parseInt(J)).slice(-2)},Y=f.__private__.padd2Hex=function(J){return("00"+(J=J.toString())).substr(J.length)},U=0,Q=[],F=[],O=0,K=[],ne=[],ee=!1,ie=F,he=function(){U=0,O=0,F=[],Q=[],K=[],ye=ht(),ke=ht()};f.__private__.setCustomOutputDestination=function(J){ee=!0,ie=J};var ce=function(J){ee||(ie=J)};f.__private__.resetCustomOutputDestination=function(){ee=!1,ie=F};var te=f.__private__.out=function(J){return J=J.toString(),O+=J.length+1,ie.push(J),ie},se=f.__private__.write=function(J){return te(arguments.length===1?J.toString():Array.prototype.join.call(arguments," "))},ge=f.__private__.getArrayBuffer=function(J){for(var pe=J.length,$e=new ArrayBuffer(pe),Ze=new Uint8Array($e);pe--;)Ze[pe]=J.charCodeAt(pe);return $e},de=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return de};var Te=r.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(J){return Te=b===y.ADVANCED?J/ze:J,this};var De,_e=f.__private__.getFontSize=f.getFontSize=function(){return b===y.COMPAT?Te:Te*ze},fe=r.R2L||!1;f.__private__.setR2L=f.setR2L=function(J){return fe=J,this},f.__private__.getR2L=f.getR2L=function(){return fe};var ae,ve=f.__private__.setZoomMode=function(J){var pe=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(J))De=J;else if(isNaN(J)){if(pe.indexOf(J)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+J+'" is not recognized.');De=J}else De=parseInt(J,10)};f.__private__.getZoomMode=function(){return De};var Ee,Fe=f.__private__.setPageMode=function(J){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(J)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+J+'" is not recognized.');ae=J};f.__private__.getPageMode=function(){return ae};var Ue=f.__private__.setLayoutMode=function(J){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(J)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+J+'" is not recognized.');Ee=J};f.__private__.getLayoutMode=function(){return Ee},f.__private__.setDisplayMode=f.setDisplayMode=function(J,pe,$e){return ve(J),Ue(pe),Fe($e),this};var Ge={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(J){if(Object.keys(Ge).indexOf(J)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ge[J]},f.__private__.getDocumentProperties=function(){return Ge},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(J){for(var pe in Ge)Ge.hasOwnProperty(pe)&&J[pe]&&(Ge[pe]=J[pe]);return this},f.__private__.setDocumentProperty=function(J,pe){if(Object.keys(Ge).indexOf(J)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ge[J]=pe};var Ve,ze,Ke,be,Be,He={},Me={},Le=[],Xe={},Je={},et={},xt={},pt=null,wt=0,mt=[],gt=new S8(f),ft=r.hotfixes||[],Nt={},Ht={},$t=[],_t=function J(pe,$e,Ze,lt,kt,Ft){if(!(this instanceof J))return new J(pe,$e,Ze,lt,kt,Ft);isNaN(pe)&&(pe=1),isNaN($e)&&($e=0),isNaN(Ze)&&(Ze=0),isNaN(lt)&&(lt=1),isNaN(kt)&&(kt=0),isNaN(Ft)&&(Ft=0),this._matrix=[pe,$e,Ze,lt,kt,Ft]};Object.defineProperty(_t.prototype,"sx",{get:function(){return this._matrix[0]},set:function(J){this._matrix[0]=J}}),Object.defineProperty(_t.prototype,"shy",{get:function(){return this._matrix[1]},set:function(J){this._matrix[1]=J}}),Object.defineProperty(_t.prototype,"shx",{get:function(){return this._matrix[2]},set:function(J){this._matrix[2]=J}}),Object.defineProperty(_t.prototype,"sy",{get:function(){return this._matrix[3]},set:function(J){this._matrix[3]=J}}),Object.defineProperty(_t.prototype,"tx",{get:function(){return this._matrix[4]},set:function(J){this._matrix[4]=J}}),Object.defineProperty(_t.prototype,"ty",{get:function(){return this._matrix[5]},set:function(J){this._matrix[5]=J}}),Object.defineProperty(_t.prototype,"a",{get:function(){return this._matrix[0]},set:function(J){this._matrix[0]=J}}),Object.defineProperty(_t.prototype,"b",{get:function(){return this._matrix[1]},set:function(J){this._matrix[1]=J}}),Object.defineProperty(_t.prototype,"c",{get:function(){return this._matrix[2]},set:function(J){this._matrix[2]=J}}),Object.defineProperty(_t.prototype,"d",{get:function(){return this._matrix[3]},set:function(J){this._matrix[3]=J}}),Object.defineProperty(_t.prototype,"e",{get:function(){return this._matrix[4]},set:function(J){this._matrix[4]=J}}),Object.defineProperty(_t.prototype,"f",{get:function(){return this._matrix[5]},set:function(J){this._matrix[5]=J}}),Object.defineProperty(_t.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(_t.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(_t.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(_t.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),_t.prototype.join=function(J){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(J)},_t.prototype.multiply=function(J){var pe=J.sx*this.sx+J.shy*this.shx,$e=J.sx*this.shy+J.shy*this.sy,Ze=J.shx*this.sx+J.sy*this.shx,lt=J.shx*this.shy+J.sy*this.sy,kt=J.tx*this.sx+J.ty*this.shx+this.tx,Ft=J.tx*this.shy+J.ty*this.sy+this.ty;return new _t(pe,$e,Ze,lt,kt,Ft)},_t.prototype.decompose=function(){var J=this.sx,pe=this.shy,$e=this.shx,Ze=this.sy,lt=this.tx,kt=this.ty,Ft=Math.sqrt(J*J+pe*pe),qt=(J/=Ft)*$e+(pe/=Ft)*Ze;$e-=J*qt,Ze-=pe*qt;var H=Math.sqrt($e*$e+Ze*Ze);return qt/=H,J*(Ze/=H)<pe*($e/=H)&&(J=-J,pe=-pe,qt=-qt,Ft=-Ft),{scale:new _t(Ft,0,0,H,0,0),translate:new _t(1,0,0,1,lt,kt),rotate:new _t(J,pe,-pe,J,0,0),skew:new _t(1,0,qt,1,0,0)}},_t.prototype.toString=function(J){return this.join(" ")},_t.prototype.inversed=function(){var J=this.sx,pe=this.shy,$e=this.shx,Ze=this.sy,lt=this.tx,kt=this.ty,Ft=1/(J*Ze-pe*$e),qt=Ze*Ft,H=-pe*Ft,re=-$e*Ft,le=J*Ft;return new _t(qt,H,re,le,-qt*lt-re*kt,-H*lt-le*kt)},_t.prototype.applyToPoint=function(J){var pe=J.x*this.sx+J.y*this.shx+this.tx,$e=J.x*this.shy+J.y*this.sy+this.ty;return new rl(pe,$e)},_t.prototype.applyToRectangle=function(J){var pe=this.applyToPoint(J),$e=this.applyToPoint(new rl(J.x+J.w,J.y+J.h));return new Zl(pe.x,pe.y,$e.x-pe.x,$e.y-pe.y)},_t.prototype.clone=function(){var J=this.sx,pe=this.shy,$e=this.shx,Ze=this.sy,lt=this.tx,kt=this.ty;return new _t(J,pe,$e,Ze,lt,kt)},f.Matrix=_t;var er=f.matrixMult=function(J,pe){return pe.multiply(J)},Gt=new _t(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Gt;var We=function(J,pe){if(!Je[J]){var $e=(pe instanceof zu?"Sh":"P")+(Object.keys(Xe).length+1).toString(10);pe.id=$e,Je[J]=$e,Xe[$e]=pe,gt.publish("addPattern",pe)}};f.ShadingPattern=zu,f.TilingPattern=Ef,f.addShadingPattern=function(J,pe){return C("addShadingPattern()"),We(J,pe),this},f.beginTilingPattern=function(J){C("beginTilingPattern()"),ec(J.boundingBox[0],J.boundingBox[1],J.boundingBox[2]-J.boundingBox[0],J.boundingBox[3]-J.boundingBox[1],J.matrix)},f.endTilingPattern=function(J,pe){C("endTilingPattern()"),pe.stream=ne[z].join(`
`),We(J,pe),gt.publish("endTilingPattern",pe),$t.pop().restore()};var Qe=f.__private__.newObject=function(){var J=ht();return ue(J,!0),J},ht=f.__private__.newObjectDeferred=function(){return U++,Q[U]=function(){return O},U},ue=function(J,pe){return pe=typeof pe=="boolean"&&pe,Q[J]=O,pe&&te(J+" 0 obj"),J},Pe=f.__private__.newAdditionalObject=function(){var J={objId:ht(),content:""};return K.push(J),J},ye=ht(),ke=ht(),Re=f.__private__.decodeColorString=function(J){var pe=J.split(" ");if(pe.length!==2||pe[1]!=="g"&&pe[1]!=="G")pe.length===5&&(pe[4]==="k"||pe[4]==="K")&&(pe=[(1-pe[0])*(1-pe[3]),(1-pe[1])*(1-pe[3]),(1-pe[2])*(1-pe[3]),"r"]);else{var $e=parseFloat(pe[0]);pe=[$e,$e,$e,"r"]}for(var Ze="#",lt=0;lt<3;lt++)Ze+=("0"+Math.floor(255*parseFloat(pe[lt])).toString(16)).slice(-2);return Ze},Ie=f.__private__.encodeColorString=function(J){var pe;typeof J=="string"&&(J={ch1:J});var $e=J.ch1,Ze=J.ch2,lt=J.ch3,kt=J.ch4,Ft=J.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof $e=="string"&&$e.charAt(0)!=="#"){var qt=new cN($e);if(qt.ok)$e=qt.toHex();else if(!/^\d*\.?\d*$/.test($e))throw new Error('Invalid color "'+$e+'" passed to jsPDF.encodeColorString.')}if(typeof $e=="string"&&/^#[0-9A-Fa-f]{3}$/.test($e)&&($e="#"+$e[1]+$e[1]+$e[2]+$e[2]+$e[3]+$e[3]),typeof $e=="string"&&/^#[0-9A-Fa-f]{6}$/.test($e)){var H=parseInt($e.substr(1),16);$e=H>>16&255,Ze=H>>8&255,lt=255&H}if(Ze===void 0||kt===void 0&&$e===Ze&&Ze===lt)if(typeof $e=="string")pe=$e+" "+Ft[0];else switch(J.precision){case 2:pe=V($e/255)+" "+Ft[0];break;case 3:default:pe=B($e/255)+" "+Ft[0]}else if(kt===void 0||zr(kt)==="object"){if(kt&&!isNaN(kt.a)&&kt.a===0)return pe=["1.","1.","1.",Ft[1]].join(" ");if(typeof $e=="string")pe=[$e,Ze,lt,Ft[1]].join(" ");else switch(J.precision){case 2:pe=[V($e/255),V(Ze/255),V(lt/255),Ft[1]].join(" ");break;default:case 3:pe=[B($e/255),B(Ze/255),B(lt/255),Ft[1]].join(" ")}}else if(typeof $e=="string")pe=[$e,Ze,lt,kt,Ft[2]].join(" ");else switch(J.precision){case 2:pe=[V($e),V(Ze),V(lt),V(kt),Ft[2]].join(" ");break;case 3:default:pe=[B($e),B(Ze),B(lt),B(kt),Ft[2]].join(" ")}return pe},Ye=f.__private__.getFilters=function(){return a},st=f.__private__.putStream=function(J){var pe=(J=J||{}).data||"",$e=J.filters||Ye(),Ze=J.alreadyAppliedFilters||[],lt=J.addLength1||!1,kt=pe.length,Ft=J.objectId,qt=function(xr){return xr};if(u!==null&&Ft===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(qt=rn.encryptor(Ft,0));var H={};$e===!0&&($e=["FlateEncode"]);var re=J.additionalKeyValues||[],le=(H=ur.API.processDataByFilters!==void 0?ur.API.processDataByFilters(pe,$e):{data:pe,reverseChain:[]}).reverseChain+(Array.isArray(Ze)?Ze.join(" "):Ze.toString());if(H.data.length!==0&&(re.push({key:"Length",value:H.data.length}),lt===!0&&re.push({key:"Length1",value:kt})),le.length!=0)if(le.split("/").length-1==1)re.push({key:"Filter",value:le});else{re.push({key:"Filter",value:"["+le+"]"});for(var Ce=0;Ce<re.length;Ce+=1)if(re[Ce].key==="DecodeParms"){for(var at=[],bt=0;bt<H.reverseChain.split("/").length-1;bt+=1)at.push("null");at.push(re[Ce].value),re[Ce].value="["+at.join(" ")+"]"}}te("<<");for(var Lt=0;Lt<re.length;Lt++)te("/"+re[Lt].key+" "+re[Lt].value);te(">>"),H.data.length!==0&&(te("stream"),te(qt(H.data)),te("endstream"))},tt=f.__private__.putPage=function(J){var pe=J.number,$e=J.data,Ze=J.objId,lt=J.contentsObjId;ue(Ze,!0),te("<</Type /Page"),te("/Parent "+J.rootDictionaryObjId+" 0 R"),te("/Resources "+J.resourceDictionaryObjId+" 0 R"),te("/MediaBox ["+parseFloat(D(J.mediaBox.bottomLeftX))+" "+parseFloat(D(J.mediaBox.bottomLeftY))+" "+D(J.mediaBox.topRightX)+" "+D(J.mediaBox.topRightY)+"]"),J.cropBox!==null&&te("/CropBox ["+D(J.cropBox.bottomLeftX)+" "+D(J.cropBox.bottomLeftY)+" "+D(J.cropBox.topRightX)+" "+D(J.cropBox.topRightY)+"]"),J.bleedBox!==null&&te("/BleedBox ["+D(J.bleedBox.bottomLeftX)+" "+D(J.bleedBox.bottomLeftY)+" "+D(J.bleedBox.topRightX)+" "+D(J.bleedBox.topRightY)+"]"),J.trimBox!==null&&te("/TrimBox ["+D(J.trimBox.bottomLeftX)+" "+D(J.trimBox.bottomLeftY)+" "+D(J.trimBox.topRightX)+" "+D(J.trimBox.topRightY)+"]"),J.artBox!==null&&te("/ArtBox ["+D(J.artBox.bottomLeftX)+" "+D(J.artBox.bottomLeftY)+" "+D(J.artBox.topRightX)+" "+D(J.artBox.topRightY)+"]"),typeof J.userUnit=="number"&&J.userUnit!==1&&te("/UserUnit "+J.userUnit),gt.publish("putPage",{objId:Ze,pageContext:mt[pe],pageNumber:pe,page:$e}),te("/Contents "+lt+" 0 R"),te(">>"),te("endobj");var kt=$e.join(`
`);return b===y.ADVANCED&&(kt+=`
Q`),ue(lt,!0),st({data:kt,filters:Ye(),objectId:lt}),te("endobj"),Ze},ct=f.__private__.putPages=function(){var J,pe,$e=[];for(J=1;J<=wt;J++)mt[J].objId=ht(),mt[J].contentsObjId=ht();for(J=1;J<=wt;J++)$e.push(tt({number:J,data:ne[J],objId:mt[J].objId,contentsObjId:mt[J].contentsObjId,mediaBox:mt[J].mediaBox,cropBox:mt[J].cropBox,bleedBox:mt[J].bleedBox,trimBox:mt[J].trimBox,artBox:mt[J].artBox,userUnit:mt[J].userUnit,rootDictionaryObjId:ye,resourceDictionaryObjId:ke}));ue(ye,!0),te("<</Type /Pages");var Ze="/Kids [";for(pe=0;pe<wt;pe++)Ze+=$e[pe]+" 0 R ";te(Ze+"]"),te("/Count "+wt),te(">>"),te("endobj"),gt.publish("postPutPages")},ot=function(J){gt.publish("putFont",{font:J,out:te,newObject:Qe,putStream:st}),J.isAlreadyPutted!==!0&&(J.objectNumber=Qe(),te("<<"),te("/Type /Font"),te("/BaseFont /"+af(J.postScriptName)),te("/Subtype /Type1"),typeof J.encoding=="string"&&te("/Encoding /"+J.encoding),te("/FirstChar 32"),te("/LastChar 255"),te(">>"),te("endobj"))},At=function(){for(var J in He)He.hasOwnProperty(J)&&(d===!1||d===!0&&h.hasOwnProperty(J))&&ot(He[J])},Ot=function(J){J.objectNumber=Qe();var pe=[];pe.push({key:"Type",value:"/XObject"}),pe.push({key:"Subtype",value:"/Form"}),pe.push({key:"BBox",value:"["+[D(J.x),D(J.y),D(J.x+J.width),D(J.y+J.height)].join(" ")+"]"}),pe.push({key:"Matrix",value:"["+J.matrix.toString()+"]"});var $e=J.pages[1].join(`
`);st({data:$e,additionalKeyValues:pe,objectId:J.objectNumber}),te("endobj")},Vt=function(){for(var J in Nt)Nt.hasOwnProperty(J)&&Ot(Nt[J])},Se=function(J,pe){var $e,Ze=[],lt=1/(pe-1);for($e=0;$e<1;$e+=lt)Ze.push($e);if(Ze.push(1),J[0].offset!=0){var kt={offset:0,color:J[0].color};J.unshift(kt)}if(J[J.length-1].offset!=1){var Ft={offset:1,color:J[J.length-1].color};J.push(Ft)}for(var qt="",H=0,re=0;re<Ze.length;re++){for($e=Ze[re];$e>J[H+1].offset;)H++;var le=J[H].offset,Ce=($e-le)/(J[H+1].offset-le),at=J[H].color,bt=J[H+1].color;qt+=Y(Math.round((1-Ce)*at[0]+Ce*bt[0]).toString(16))+Y(Math.round((1-Ce)*at[1]+Ce*bt[1]).toString(16))+Y(Math.round((1-Ce)*at[2]+Ce*bt[2]).toString(16))}return qt.trim()},qe=function(J,pe){pe||(pe=21);var $e=Qe(),Ze=Se(J.colors,pe),lt=[];lt.push({key:"FunctionType",value:"0"}),lt.push({key:"Domain",value:"[0.0 1.0]"}),lt.push({key:"Size",value:"["+pe+"]"}),lt.push({key:"BitsPerSample",value:"8"}),lt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),lt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),st({data:Ze,additionalKeyValues:lt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:$e}),te("endobj"),J.objectNumber=Qe(),te("<< /ShadingType "+J.type),te("/ColorSpace /DeviceRGB");var kt="/Coords ["+D(parseFloat(J.coords[0]))+" "+D(parseFloat(J.coords[1]))+" ";J.type===2?kt+=D(parseFloat(J.coords[2]))+" "+D(parseFloat(J.coords[3])):kt+=D(parseFloat(J.coords[2]))+" "+D(parseFloat(J.coords[3]))+" "+D(parseFloat(J.coords[4]))+" "+D(parseFloat(J.coords[5])),te(kt+="]"),J.matrix&&te("/Matrix ["+J.matrix.toString()+"]"),te("/Function "+$e+" 0 R"),te("/Extend [true true]"),te(">>"),te("endobj")},dt=function(J,pe){var $e=ht(),Ze=Qe();pe.push({resourcesOid:$e,objectOid:Ze}),J.objectNumber=Ze;var lt=[];lt.push({key:"Type",value:"/Pattern"}),lt.push({key:"PatternType",value:"1"}),lt.push({key:"PaintType",value:"1"}),lt.push({key:"TilingType",value:"1"}),lt.push({key:"BBox",value:"["+J.boundingBox.map(D).join(" ")+"]"}),lt.push({key:"XStep",value:D(J.xStep)}),lt.push({key:"YStep",value:D(J.yStep)}),lt.push({key:"Resources",value:$e+" 0 R"}),J.matrix&&lt.push({key:"Matrix",value:"["+J.matrix.toString()+"]"}),st({data:J.stream,additionalKeyValues:lt,objectId:J.objectNumber}),te("endobj")},St=function(J){var pe;for(pe in Xe)Xe.hasOwnProperty(pe)&&(Xe[pe]instanceof zu?qe(Xe[pe]):Xe[pe]instanceof Ef&&dt(Xe[pe],J))},Bt=function(J){for(var pe in J.objectNumber=Qe(),te("<<"),J)switch(pe){case"opacity":te("/ca "+V(J[pe]));break;case"stroke-opacity":te("/CA "+V(J[pe]))}te(">>"),te("endobj")},Tt=function(){var J;for(J in et)et.hasOwnProperty(J)&&Bt(et[J])},jt=function(){for(var J in te("/XObject <<"),Nt)Nt.hasOwnProperty(J)&&Nt[J].objectNumber>=0&&te("/"+J+" "+Nt[J].objectNumber+" 0 R");gt.publish("putXobjectDict"),te(">>")},pr=function(){rn.oid=Qe(),te("<<"),te("/Filter /Standard"),te("/V "+rn.v),te("/R "+rn.r),te("/U <"+rn.toHexString(rn.U)+">"),te("/O <"+rn.toHexString(rn.O)+">"),te("/P "+rn.P),te(">>"),te("endobj")},rr=function(){for(var J in te("/Font <<"),He)He.hasOwnProperty(J)&&(d===!1||d===!0&&h.hasOwnProperty(J))&&te("/"+J+" "+He[J].objectNumber+" 0 R");te(">>")},sr=function(){if(Object.keys(Xe).length>0){for(var J in te("/Shading <<"),Xe)Xe.hasOwnProperty(J)&&Xe[J]instanceof zu&&Xe[J].objectNumber>=0&&te("/"+J+" "+Xe[J].objectNumber+" 0 R");gt.publish("putShadingPatternDict"),te(">>")}},Qt=function(J){if(Object.keys(Xe).length>0){for(var pe in te("/Pattern <<"),Xe)Xe.hasOwnProperty(pe)&&Xe[pe]instanceof f.TilingPattern&&Xe[pe].objectNumber>=0&&Xe[pe].objectNumber<J&&te("/"+pe+" "+Xe[pe].objectNumber+" 0 R");gt.publish("putTilingPatternDict"),te(">>")}},mr=function(){if(Object.keys(et).length>0){var J;for(J in te("/ExtGState <<"),et)et.hasOwnProperty(J)&&et[J].objectNumber>=0&&te("/"+J+" "+et[J].objectNumber+" 0 R");gt.publish("putGStateDict"),te(">>")}},nr=function(J){ue(J.resourcesOid,!0),te("<<"),te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),rr(),sr(),Qt(J.objectOid),mr(),jt(),te(">>"),te("endobj")},Rr=function(){var J=[];At(),Tt(),Vt(),St(J),gt.publish("putResources"),J.forEach(nr),nr({resourcesOid:ke,objectOid:Number.MAX_SAFE_INTEGER}),gt.publish("postPutResources")},Kr=function(){gt.publish("putAdditionalObjects");for(var J=0;J<K.length;J++){var pe=K[J];ue(pe.objId,!0),te(pe.content),te("endobj")}gt.publish("postPutAdditionalObjects")},yn=function(J){Me[J.fontName]=Me[J.fontName]||{},Me[J.fontName][J.fontStyle]=J.id},An=function(J,pe,$e,Ze,lt){var kt={id:"F"+(Object.keys(He).length+1).toString(10),postScriptName:J,fontName:pe,fontStyle:$e,encoding:Ze,isStandardFont:lt||!1,metadata:{}};return gt.publish("addFont",{font:kt,instance:this}),He[kt.id]=kt,yn(kt),kt.id},gs=function(J){for(var pe=0,$e=de.length;pe<$e;pe++){var Ze=An.call(this,J[pe][0],J[pe][1],J[pe][2],de[pe][3],!0);d===!1&&(h[Ze]=!0);var lt=J[pe][0].split("-");yn({id:Ze,fontName:lt[0],fontStyle:lt[1]||""})}gt.publish("addFonts",{fonts:He,dictionary:Me})},In=function(J){return J.foo=function(){try{return J.apply(this,arguments)}catch(Ze){var pe=Ze.stack||"";~pe.indexOf(" at ")&&(pe=pe.split(" at ")[1]);var $e="Error in function "+pe.split(`
`)[0].split("<")[0]+": "+Ze.message;if(!fr.console)throw new Error($e);fr.console.error($e,Ze),fr.alert&&alert($e)}},J.foo.bar=J,J.foo},di=function(J,pe){var $e,Ze,lt,kt,Ft,qt,H,re,le;if(lt=(pe=pe||{}).sourceEncoding||"Unicode",Ft=pe.outputEncoding,(pe.autoencode||Ft)&&He[Ve].metadata&&He[Ve].metadata[lt]&&He[Ve].metadata[lt].encoding&&(kt=He[Ve].metadata[lt].encoding,!Ft&&He[Ve].encoding&&(Ft=He[Ve].encoding),!Ft&&kt.codePages&&(Ft=kt.codePages[0]),typeof Ft=="string"&&(Ft=kt[Ft]),Ft)){for(H=!1,qt=[],$e=0,Ze=J.length;$e<Ze;$e++)(re=Ft[J.charCodeAt($e)])?qt.push(String.fromCharCode(re)):qt.push(J[$e]),qt[$e].charCodeAt(0)>>8&&(H=!0);J=qt.join("")}for($e=J.length;H===void 0&&$e!==0;)J.charCodeAt($e-1)>>8&&(H=!0),$e--;if(!H)return J;for(qt=pe.noBOM?[]:[254,255],$e=0,Ze=J.length;$e<Ze;$e++){if((le=(re=J.charCodeAt($e))>>8)>>8)throw new Error("Character at position "+$e+" of string '"+J+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");qt.push(le),qt.push(re-(le<<8))}return String.fromCharCode.apply(void 0,qt)},tn=f.__private__.pdfEscape=f.pdfEscape=function(J,pe){return di(J,pe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Pn=f.__private__.beginPage=function(J){ne[++wt]=[],mt[wt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(J[0]),topRightY:Number(J[1])}},Hs(wt),ce(ne[z])},Dr=function(J,pe){var $e,Ze,lt;switch(t=pe||t,typeof J=="string"&&($e=v(J.toLowerCase()),Array.isArray($e)&&(Ze=$e[0],lt=$e[1])),Array.isArray(J)&&(Ze=J[0]*ze,lt=J[1]*ze),isNaN(Ze)&&(Ze=s[0],lt=s[1]),(Ze>14400||lt>14400)&&(hn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ze=Math.min(14400,Ze),lt=Math.min(14400,lt)),s=[Ze,lt],t.substr(0,1)){case"l":lt>Ze&&(s=[lt,Ze]);break;case"p":Ze>lt&&(s=[lt,Ze])}Pn(s),Eu(Su),te(Ns),Tu!==0&&te(Tu+" J"),Ql!==0&&te(Ql+" j"),gt.publish("addPage",{pageNumber:wt})},Ar=function(J){J>0&&J<=wt&&(ne.splice(J,1),mt.splice(J,1),wt--,z>wt&&(z=wt),this.setPage(z))},Hs=function(J){J>0&&J<=wt&&(z=J)},Ir=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return ne.length-1},Ci=function(J,pe,$e){var Ze,lt=void 0;return $e=$e||{},J=J!==void 0?J:He[Ve].fontName,pe=pe!==void 0?pe:He[Ve].fontStyle,Ze=J.toLowerCase(),Me[Ze]!==void 0&&Me[Ze][pe]!==void 0?lt=Me[Ze][pe]:Me[J]!==void 0&&Me[J][pe]!==void 0?lt=Me[J][pe]:$e.disableWarning===!1&&hn.warn("Unable to look up font label for font '"+J+"', '"+pe+"'. Refer to getFontList() for available fonts."),lt||$e.noFallback||(lt=Me.times[pe])==null&&(lt=Me.times.normal),lt},Tn=f.__private__.putInfo=function(){var J=Qe(),pe=function(Ze){return Ze};for(var $e in u!==null&&(pe=rn.encryptor(J,0)),te("<<"),te("/Producer ("+tn(pe("jsPDF "+ur.version))+")"),Ge)Ge.hasOwnProperty($e)&&Ge[$e]&&te("/"+$e.substr(0,1).toUpperCase()+$e.substr(1)+" ("+tn(pe(Ge[$e]))+")");te("/CreationDate ("+tn(pe(A))+")"),te(">>"),te("endobj")},Un=f.__private__.putCatalog=function(J){var pe=(J=J||{}).rootDictionaryObjId||ye;switch(Qe(),te("<<"),te("/Type /Catalog"),te("/Pages "+pe+" 0 R"),De||(De="fullwidth"),De){case"fullwidth":te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":te("/OpenAction [3 0 R /Fit]");break;case"original":te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var $e=""+De;$e.substr($e.length-1)==="%"&&(De=parseInt(De)/100),typeof De=="number"&&te("/OpenAction [3 0 R /XYZ null null "+V(De)+"]")}switch(Ee||(Ee="continuous"),Ee){case"continuous":te("/PageLayout /OneColumn");break;case"single":te("/PageLayout /SinglePage");break;case"two":case"twoleft":te("/PageLayout /TwoColumnLeft");break;case"tworight":te("/PageLayout /TwoColumnRight")}ae&&te("/PageMode /"+ae),gt.publish("putCatalog"),te(">>"),te("endobj")},Ni=f.__private__.putTrailer=function(){te("trailer"),te("<<"),te("/Size "+(U+1)),te("/Root "+U+" 0 R"),te("/Info "+(U-1)+" 0 R"),u!==null&&te("/Encrypt "+rn.oid+" 0 R"),te("/ID [ <"+w+"> <"+w+"> ]"),te(">>")},fa=f.__private__.putHeader=function(){te("%PDF-"+m),te("%ºß¬à")},yo=f.__private__.putXRef=function(){var J="0000000000";te("xref"),te("0 "+(U+1)),te("0000000000 65535 f ");for(var pe=1;pe<=U;pe++)typeof Q[pe]=="function"?te((J+Q[pe]()).slice(-10)+" 00000 n "):Q[pe]!==void 0?te((J+Q[pe]).slice(-10)+" 00000 n "):te("0000000000 00000 n ")},vs=f.__private__.buildDocument=function(){he(),ce(F),gt.publish("buildDocument"),fa(),ct(),Kr(),Rr(),u!==null&&pr(),Tn(),Un();var J=O;return yo(),Ni(),te("startxref"),te(""+J),te("%%EOF"),ce(ne[z]),F.join(`
`)},Cs=f.__private__.getBlob=function(J){return new Blob([ge(J)],{type:"application/pdf"})},Fa=f.output=f.__private__.output=In(function(J,pe){switch(typeof(pe=pe||{})=="string"?pe={filename:pe}:pe.filename=pe.filename||"generated.pdf",J){case void 0:return vs();case"save":f.save(pe.filename);break;case"arraybuffer":return ge(vs());case"blob":return Cs(vs());case"bloburi":case"bloburl":if(fr.URL!==void 0&&typeof fr.URL.createObjectURL=="function")return fr.URL&&fr.URL.createObjectURL(Cs(vs()))||void 0;hn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var $e="",Ze=vs();try{$e=ex(Ze)}catch{$e=ex(unescape(encodeURIComponent(Ze)))}return"data:application/pdf;filename="+pe.filename+";base64,"+$e;case"pdfobjectnewwindow":if(Object.prototype.toString.call(fr)==="[object Window]"){var lt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",kt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';pe.pdfObjectUrl&&(lt=pe.pdfObjectUrl,kt="");var Ft='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+lt+'"'+kt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(pe)+");<\/script></body></html>",qt=fr.open();return qt!==null&&qt.document.write(Ft),qt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(fr)==="[object Window]"){var H='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(pe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+pe.filename+'" width="500px" height="400px" /></body></html>',re=fr.open();if(re!==null){re.document.write(H);var le=this;re.document.documentElement.querySelector("#pdfViewer").onload=function(){re.document.title=pe.filename,re.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(le.output("bloburl"))}}return re}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(fr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ce='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",pe)+'"></iframe></body></html>',at=fr.open();if(at!==null&&(at.document.write(Ce),at.document.title=pe.filename),at||typeof safari>"u")return at;break;case"datauri":case"dataurl":return fr.document.location.href=this.output("datauristring",pe);default:return null}}),pi=function(J){return Array.isArray(ft)===!0&&ft.indexOf(J)>-1};switch(n){case"pt":ze=1;break;case"mm":ze=72/25.4;break;case"cm":ze=72/2.54;break;case"in":ze=72;break;case"px":ze=pi("px_scaling")==1?.75:96/72;break;case"pc":case"em":ze=12;break;case"ex":ze=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ze=n}var rn=null;W(),_();var La=function(J){return u!==null?rn.encryptor(J,0):function(pe){return pe}},da=f.__private__.getPageInfo=f.getPageInfo=function(J){if(isNaN(J)||J%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:mt[J].objId,pageNumber:J,pageContext:mt[J]}},cr=f.__private__.getPageInfoByObjId=function(J){if(isNaN(J)||J%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var pe in mt)if(mt[pe].objId===J)break;return da(pe)},mi=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:mt[z].objId,pageNumber:z,pageContext:mt[z]}};f.addPage=function(){return Dr.apply(this,arguments),this},f.setPage=function(){return Hs.apply(this,arguments),ce.call(this,ne[z]),this},f.insertPage=function(J){return this.addPage(),this.movePage(z,J),this},f.movePage=function(J,pe){var $e,Ze;if(J>pe){$e=ne[J],Ze=mt[J];for(var lt=J;lt>pe;lt--)ne[lt]=ne[lt-1],mt[lt]=mt[lt-1];ne[pe]=$e,mt[pe]=Ze,this.setPage(pe)}else if(J<pe){$e=ne[J],Ze=mt[J];for(var kt=J;kt<pe;kt++)ne[kt]=ne[kt+1],mt[kt]=mt[kt+1];ne[pe]=$e,mt[pe]=Ze,this.setPage(pe)}return this},f.deletePage=function(){return Ar.apply(this,arguments),this},f.__private__.text=f.text=function(J,pe,$e,Ze,lt){var kt,Ft,qt,H,re,le,Ce,at,bt,Lt=(Ze=Ze||{}).scope||this;if(typeof J=="number"&&typeof pe=="number"&&(typeof $e=="string"||Array.isArray($e))){var xr=$e;$e=pe,pe=J,J=xr}if(arguments[3]instanceof _t?(C("The transform parameter of text() with a Matrix value"),bt=lt):(qt=arguments[4],H=arguments[5],zr(Ce=arguments[3])==="object"&&Ce!==null||(typeof qt=="string"&&(H=qt,qt=null),typeof Ce=="string"&&(H=Ce,Ce=null),typeof Ce=="number"&&(qt=Ce,Ce=null),Ze={flags:Ce,angle:qt,align:H})),isNaN(pe)||isNaN($e)||J==null)throw new Error("Invalid arguments passed to jsPDF.text");if(J.length===0)return Lt;var Mr="",_r=!1,Zr=typeof Ze.lineHeightFactor=="number"?Ze.lineHeightFactor:Qr,cn=Lt.internal.scaleFactor;function Va(fn){return fn=fn.split("	").join(Array(Ze.TabLen||9).join(" ")),tn(fn,Ce)}function Ds(fn){for(var dn,Vn=fn.concat(),ls=[],ol=Vn.length;ol--;)typeof(dn=Vn.shift())=="string"?ls.push(dn):Array.isArray(fn)&&(dn.length===1||dn[1]===void 0&&dn[2]===void 0)?ls.push(dn[0]):ls.push([dn[0],dn[1],dn[2]]);return ls}function So(fn,dn){var Vn;if(typeof fn=="string")Vn=dn(fn)[0];else if(Array.isArray(fn)){for(var ls,ol,jd=fn.concat(),Vh=[],fm=jd.length;fm--;)typeof(ls=jd.shift())=="string"?Vh.push(dn(ls)[0]):Array.isArray(ls)&&typeof ls[0]=="string"&&(ol=dn(ls[0],ls[1],ls[2]),Vh.push([ol[0],ol[1],ol[2]]));Vn=Vh}return Vn}var Eo=!1,Rd=!0;if(typeof J=="string")Eo=!0;else if(Array.isArray(J)){var Id=J.concat();Ft=[];for(var Oh,Rs=Id.length;Rs--;)(typeof(Oh=Id.shift())!="string"||Array.isArray(Oh)&&typeof Oh[0]!="string")&&(Rd=!1);Eo=Rd}if(Eo===!1)throw new Error('Type of text must be string or Array. "'+J+'" is not recognized.');typeof J=="string"&&(J=J.match(/[\r?\n]/)?J.split(/\r\n|\r|\n/g):[J]);var Mh=Te/Lt.internal.scaleFactor,Fh=Mh*(Zr-1);switch(Ze.baseline){case"bottom":$e-=Fh;break;case"top":$e+=Mh-Fh;break;case"hanging":$e+=Mh-2*Fh;break;case"middle":$e+=Mh/2-Fh}if((le=Ze.maxWidth||0)>0&&(typeof J=="string"?J=Lt.splitTextToSize(J,le):Object.prototype.toString.call(J)==="[object Array]"&&(J=J.reduce(function(fn,dn){return fn.concat(Lt.splitTextToSize(dn,le))},[]))),kt={text:J,x:pe,y:$e,options:Ze,mutex:{pdfEscape:tn,activeFontKey:Ve,fonts:He,activeFontSize:Te}},gt.publish("preProcessText",kt),J=kt.text,qt=(Ze=kt.options).angle,!(bt instanceof _t)&&qt&&typeof qt=="number"){qt*=Math.PI/180,Ze.rotationDirection===0&&(qt=-qt),b===y.ADVANCED&&(qt=-qt);var Lh=Math.cos(qt),Pd=Math.sin(qt);bt=new _t(Lh,Pd,-Pd,Lh,0,0)}else qt&&qt instanceof _t&&(bt=qt);b!==y.ADVANCED||bt||(bt=Gt),(re=Ze.charSpace||tl)!==void 0&&(Mr+=D(P(re))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(at=Ze.horizontalScale)!==void 0&&(Mr+=D(100*at)+` Tz
`),Ze.lang;var Di=-1,Nv=Ze.renderingMode!==void 0?Ze.renderingMode:Ze.stroke,Od=Lt.internal.getCurrentPageInfo().pageContext;switch(Nv){case 0:case!1:case"fill":Di=0;break;case 1:case!0:case"stroke":Di=1;break;case 2:case"fillThenStroke":Di=2;break;case 3:case"invisible":Di=3;break;case 4:case"fillAndAddForClipping":Di=4;break;case 5:case"strokeAndAddPathForClipping":Di=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Di=6;break;case 7:case"addToPathForClipping":Di=7}var lm=Od.usedRenderingMode!==void 0?Od.usedRenderingMode:-1;Di!==-1?Mr+=Di+` Tr
`:lm!==-1&&(Mr+=`0 Tr
`),Di!==-1&&(Od.usedRenderingMode=Di),H=Ze.align||"left";var ma,jh=Te*Zr,cm=Lt.internal.pageSize.getWidth(),um=He[Ve];re=Ze.charSpace||tl,le=Ze.maxWidth||0,Ce=Object.assign({autoencode:!0,noBOM:!0},Ze.flags);var nc=[],Cu=function(fn){return Lt.getStringUnitWidth(fn,{font:um,charSpace:re,fontSize:Te,doKerning:!1})*Te/cn};if(Object.prototype.toString.call(J)==="[object Array]"){var Ri;Ft=Ds(J),H!=="left"&&(ma=Ft.map(Cu));var gi,sc=0;if(H==="right"){pe-=ma[0],J=[],Rs=Ft.length;for(var sl=0;sl<Rs;sl++)sl===0?(gi=Ki(pe),Ri=os($e)):(gi=P(sc-ma[sl]),Ri=-jh),J.push([Ft[sl],gi,Ri]),sc=ma[sl]}else if(H==="center"){pe-=ma[0]/2,J=[],Rs=Ft.length;for(var il=0;il<Rs;il++)il===0?(gi=Ki(pe),Ri=os($e)):(gi=P((sc-ma[il])/2),Ri=-jh),J.push([Ft[il],gi,Ri]),sc=ma[il]}else if(H==="left"){J=[],Rs=Ft.length;for(var Bh=0;Bh<Rs;Bh++)J.push(Ft[Bh])}else if(H==="justify"&&um.encoding==="Identity-H"){J=[],Rs=Ft.length,le=le!==0?le:cm;for(var al=0,$n=0;$n<Rs;$n++)if(Ri=$n===0?os($e):-jh,gi=$n===0?Ki(pe):al,$n<Rs-1){var Md=P((le-ma[$n])/(Ft[$n].split(" ").length-1)),vi=Ft[$n].split(" ");J.push([vi[0]+" ",gi,Ri]),al=0;for(var ga=1;ga<vi.length;ga++){var Uh=(Cu(vi[ga-1]+" "+vi[ga])-Cu(vi[ga]))*cn+Md;ga==vi.length-1?J.push([vi[ga],Uh,0]):J.push([vi[ga]+" ",Uh,0]),al-=Uh}}else J.push([Ft[$n],gi,Ri]);J.push(["",al,0])}else{if(H!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(J=[],Rs=Ft.length,le=le!==0?le:cm,$n=0;$n<Rs;$n++)Ri=$n===0?os($e):-jh,gi=$n===0?Ki(pe):0,$n<Rs-1?nc.push(D(P((le-ma[$n])/(Ft[$n].split(" ").length-1)))):nc.push(0),J.push([Ft[$n],gi,Ri])}}var hm=typeof Ze.R2L=="boolean"?Ze.R2L:fe;hm===!0&&(J=So(J,function(fn,dn,Vn){return[fn.split("").reverse().join(""),dn,Vn]})),kt={text:J,x:pe,y:$e,options:Ze,mutex:{pdfEscape:tn,activeFontKey:Ve,fonts:He,activeFontSize:Te}},gt.publish("postProcessText",kt),J=kt.text,_r=kt.mutex.isHex||!1;var Fd=He[Ve].encoding;Fd!=="WinAnsiEncoding"&&Fd!=="StandardEncoding"||(J=So(J,function(fn,dn,Vn){return[Va(fn),dn,Vn]})),Ft=Ds(J),J=[];for(var Nu,Du,ic,Ru=0,$h=1,Iu=Array.isArray(Ft[0])?$h:Ru,ac="",Ld=function(fn,dn,Vn){var ls="";return Vn instanceof _t?(Vn=typeof Ze.angle=="number"?er(Vn,new _t(1,0,0,1,fn,dn)):er(new _t(1,0,0,1,fn,dn),Vn),b===y.ADVANCED&&(Vn=er(new _t(1,0,0,-1,0,0),Vn)),ls=Vn.join(" ")+` Tm
`):ls=D(fn)+" "+D(dn)+` Td
`,ls},va=0;va<Ft.length;va++){switch(ac="",Iu){case $h:ic=(_r?"<":"(")+Ft[va][0]+(_r?">":")"),Nu=parseFloat(Ft[va][1]),Du=parseFloat(Ft[va][2]);break;case Ru:ic=(_r?"<":"(")+Ft[va]+(_r?">":")"),Nu=Ki(pe),Du=os($e)}nc!==void 0&&nc[va]!==void 0&&(ac=nc[va]+` Tw
`),va===0?J.push(ac+Ld(Nu,Du,bt)+ic):Iu===Ru?J.push(ac+ic):Iu===$h&&J.push(ac+Ld(Nu,Du,bt)+ic)}J=Iu===Ru?J.join(` Tj
T* `):J.join(` Tj
`),J+=` Tj
`;var ya=`BT
/`;return ya+=Ve+" "+Te+` Tf
`,ya+=D(Te*Zr)+` TL
`,ya+=Ua+`
`,ya+=Mr,ya+=J,te(ya+="ET"),h[Ve]=!0,Lt};var bo=f.__private__.clip=f.clip=function(J){return te(J==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return bo("evenodd")},f.__private__.discardPath=f.discardPath=function(){return te("n"),this};var pa=f.__private__.isValidStyle=function(J){var pe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(J)!==-1&&(pe=!0),pe};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(J){return pa(J)&&(c=J),this};var Dh=f.__private__.getStyle=f.getStyle=function(J){var pe=c;switch(J){case"D":case"S":pe="S";break;case"F":pe="f";break;case"FD":case"DF":pe="B";break;case"f":case"f*":case"B":case"B*":pe=J}return pe},Wi=f.close=function(){return te("h"),this};f.stroke=function(){return te("S"),this},f.fill=function(J){return ql("f",J),this},f.fillEvenOdd=function(J){return ql("f*",J),this},f.fillStroke=function(J){return ql("B",J),this},f.fillStrokeEvenOdd=function(J){return ql("B*",J),this};var ql=function(J,pe){zr(pe)==="object"?Gl(pe,J):te(J)},xu=function(J){J===null||b===y.ADVANCED&&J===void 0||(J=Dh(J),te(J))};function Wl(J,pe,$e,Ze,lt){var kt=new Ef(pe||this.boundingBox,$e||this.xStep,Ze||this.yStep,this.gState,lt||this.matrix);kt.stream=this.stream;var Ft=J+"$$"+this.cloneIndex+++"$$";return We(Ft,kt),kt}var Gl=function(J,pe){var $e=Je[J.key],Ze=Xe[$e];if(Ze instanceof zu)te("q"),te(Rh(pe)),Ze.gState&&f.setGState(Ze.gState),te(J.matrix.toString()+" cm"),te("/"+$e+" sh"),te("Q");else if(Ze instanceof Ef){var lt=new _t(1,0,0,-1,0,zs());J.matrix&&(lt=lt.multiply(J.matrix||Gt),$e=Wl.call(Ze,J.key,J.boundingBox,J.xStep,J.yStep,lt).id),te("q"),te("/Pattern cs"),te("/"+$e+" scn"),Ze.gState&&f.setGState(Ze.gState),te(pe),te("Q")}},Rh=function(J){switch(J){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ja=f.moveTo=function(J,pe){return te(D(P(J))+" "+D(M(pe))+" m"),this},Gi=f.lineTo=function(J,pe){return te(D(P(J))+" "+D(M(pe))+" l"),this},Ba=f.curveTo=function(J,pe,$e,Ze,lt,kt){return te([D(P(J)),D(M(pe)),D(P($e)),D(M(Ze)),D(P(lt)),D(M(kt)),"c"].join(" ")),this};f.__private__.line=f.line=function(J,pe,$e,Ze,lt){if(isNaN(J)||isNaN(pe)||isNaN($e)||isNaN(Ze)||!pa(lt))throw new Error("Invalid arguments passed to jsPDF.line");return b===y.COMPAT?this.lines([[$e-J,Ze-pe]],J,pe,[1,1],lt||"S"):this.lines([[$e-J,Ze-pe]],J,pe,[1,1]).stroke()},f.__private__.lines=f.lines=function(J,pe,$e,Ze,lt,kt){var Ft,qt,H,re,le,Ce,at,bt,Lt,xr,Mr,_r;if(typeof J=="number"&&(_r=$e,$e=pe,pe=J,J=_r),Ze=Ze||[1,1],kt=kt||!1,isNaN(pe)||isNaN($e)||!Array.isArray(J)||!Array.isArray(Ze)||!pa(lt)||typeof kt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ja(pe,$e),Ft=Ze[0],qt=Ze[1],re=J.length,xr=pe,Mr=$e,H=0;H<re;H++)(le=J[H]).length===2?(xr=le[0]*Ft+xr,Mr=le[1]*qt+Mr,Gi(xr,Mr)):(Ce=le[0]*Ft+xr,at=le[1]*qt+Mr,bt=le[2]*Ft+xr,Lt=le[3]*qt+Mr,xr=le[4]*Ft+xr,Mr=le[5]*qt+Mr,Ba(Ce,at,bt,Lt,xr,Mr));return kt&&Wi(),xu(lt),this},f.path=function(J){for(var pe=0;pe<J.length;pe++){var $e=J[pe],Ze=$e.c;switch($e.op){case"m":ja(Ze[0],Ze[1]);break;case"l":Gi(Ze[0],Ze[1]);break;case"c":Ba.apply(this,Ze);break;case"h":Wi()}}return this},f.__private__.rect=f.rect=function(J,pe,$e,Ze,lt){if(isNaN(J)||isNaN(pe)||isNaN($e)||isNaN(Ze)||!pa(lt))throw new Error("Invalid arguments passed to jsPDF.rect");return b===y.COMPAT&&(Ze=-Ze),te([D(P(J)),D(M(pe)),D(P($e)),D(P(Ze)),"re"].join(" ")),xu(lt),this},f.__private__.triangle=f.triangle=function(J,pe,$e,Ze,lt,kt,Ft){if(isNaN(J)||isNaN(pe)||isNaN($e)||isNaN(Ze)||isNaN(lt)||isNaN(kt)||!pa(Ft))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[$e-J,Ze-pe],[lt-$e,kt-Ze],[J-lt,pe-kt]],J,pe,[1,1],Ft,!0),this},f.__private__.roundedRect=f.roundedRect=function(J,pe,$e,Ze,lt,kt,Ft){if(isNaN(J)||isNaN(pe)||isNaN($e)||isNaN(Ze)||isNaN(lt)||isNaN(kt)||!pa(Ft))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var qt=4/3*(Math.SQRT2-1);return lt=Math.min(lt,.5*$e),kt=Math.min(kt,.5*Ze),this.lines([[$e-2*lt,0],[lt*qt,0,lt,kt-kt*qt,lt,kt],[0,Ze-2*kt],[0,kt*qt,-lt*qt,kt,-lt,kt],[2*lt-$e,0],[-lt*qt,0,-lt,-kt*qt,-lt,-kt],[0,2*kt-Ze],[0,-kt*qt,lt*qt,-kt,lt,-kt]],J+lt,pe,[1,1],Ft,!0),this},f.__private__.ellipse=f.ellipse=function(J,pe,$e,Ze,lt){if(isNaN(J)||isNaN(pe)||isNaN($e)||isNaN(Ze)||!pa(lt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var kt=4/3*(Math.SQRT2-1)*$e,Ft=4/3*(Math.SQRT2-1)*Ze;return ja(J+$e,pe),Ba(J+$e,pe-Ft,J+kt,pe-Ze,J,pe-Ze),Ba(J-kt,pe-Ze,J-$e,pe-Ft,J-$e,pe),Ba(J-$e,pe+Ft,J-kt,pe+Ze,J,pe+Ze),Ba(J+kt,pe+Ze,J+$e,pe+Ft,J+$e,pe),xu(lt),this},f.__private__.circle=f.circle=function(J,pe,$e,Ze){if(isNaN(J)||isNaN(pe)||isNaN($e)||!pa(Ze))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(J,pe,$e,$e,Ze)},f.setFont=function(J,pe,$e){return $e&&(pe=j(pe,$e)),Ve=Ci(J,pe,{disableWarning:!1}),this};var _u=f.__private__.getFont=f.getFont=function(){return He[Ci.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var J,pe,$e={};for(J in Me)if(Me.hasOwnProperty(J))for(pe in $e[J]=[],Me[J])Me[J].hasOwnProperty(pe)&&$e[J].push(pe);return $e},f.addFont=function(J,pe,$e,Ze,lt){var kt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&kt.indexOf(arguments[3])!==-1?lt=arguments[3]:arguments[3]&&kt.indexOf(arguments[3])==-1&&($e=j($e,Ze)),lt=lt||"Identity-H",An.call(this,J,pe,$e,lt)};var Qr,Su=r.lineWidth||.200025,Kl=f.__private__.getLineWidth=f.getLineWidth=function(){return Su},Eu=f.__private__.setLineWidth=f.setLineWidth=function(J){return Su=J,te(D(P(J))+" w"),this};f.__private__.setLineDash=ur.API.setLineDash=ur.API.setLineDashPattern=function(J,pe){if(J=J||[],pe=pe||0,isNaN(pe)||!Array.isArray(J))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return J=J.map(function($e){return D(P($e))}).join(" "),pe=D(P(pe)),te("["+J+"] "+pe+" d"),this};var ku=f.__private__.getLineHeight=f.getLineHeight=function(){return Te*Qr};f.__private__.getLineHeight=f.getLineHeight=function(){return Te*Qr};var Au=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(J){return typeof(J=J||1.15)=="number"&&(Qr=J),this},el=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Qr};Au(r.lineHeight);var Ki=f.__private__.getHorizontalCoordinate=function(J){return P(J)},os=f.__private__.getVerticalCoordinate=function(J){return b===y.ADVANCED?J:mt[z].mediaBox.topRightY-mt[z].mediaBox.bottomLeftY-P(J)},Ih=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(J){return D(Ki(J))},wo=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(J){return D(os(J))},Ns=r.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Re(Ns)},f.__private__.setStrokeColor=f.setDrawColor=function(J,pe,$e,Ze){return Ns=Ie({ch1:J,ch2:pe,ch3:$e,ch4:Ze,pdfColorType:"draw",precision:2}),te(Ns),this};var Xl=r.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Re(Xl)},f.__private__.setFillColor=f.setFillColor=function(J,pe,$e,Ze){return Xl=Ie({ch1:J,ch2:pe,ch3:$e,ch4:Ze,pdfColorType:"fill",precision:2}),te(Xl),this};var Ua=r.textColor||"0 g",Yl=f.__private__.getTextColor=f.getTextColor=function(){return Re(Ua)};f.__private__.setTextColor=f.setTextColor=function(J,pe,$e,Ze){return Ua=Ie({ch1:J,ch2:pe,ch3:$e,ch4:Ze,pdfColorType:"text",precision:3}),this};var tl=r.charSpace,Jl=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(tl||0)};f.__private__.setCharSpace=f.setCharSpace=function(J){if(isNaN(J))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return tl=J,this};var Tu=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(J){var pe=f.CapJoinStyles[J];if(pe===void 0)throw new Error("Line cap style of '"+J+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Tu=pe,te(pe+" J"),this};var Ql=0;f.__private__.setLineJoin=f.setLineJoin=function(J){var pe=f.CapJoinStyles[J];if(pe===void 0)throw new Error("Line join style of '"+J+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ql=pe,te(pe+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(J){if(J=J||0,isNaN(J))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return te(D(P(J))+" M"),this},f.GState=K1,f.setGState=function(J){(J=typeof J=="string"?et[xt[J]]:xo(null,J)).equals(pt)||(te("/"+J.id+" gs"),pt=J)};var xo=function(J,pe){if(!J||!xt[J]){var $e=!1;for(var Ze in et)if(et.hasOwnProperty(Ze)&&et[Ze].equals(pe)){$e=!0;break}if($e)pe=et[Ze];else{var lt="GS"+(Object.keys(et).length+1).toString(10);et[lt]=pe,pe.id=lt}return J&&(xt[J]=pe.id),gt.publish("addGState",pe),pe}};f.addGState=function(J,pe){return xo(J,pe),this},f.saveGraphicsState=function(){return te("q"),Le.push({key:Ve,size:Te,color:Ua}),this},f.restoreGraphicsState=function(){te("Q");var J=Le.pop();return Ve=J.key,Te=J.size,Ua=J.color,pt=null,this},f.setCurrentTransformationMatrix=function(J){return te(J.toString()+" cm"),this},f.comment=function(J){return te("#"+J),this};var rl=function(J,pe){var $e=J||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return $e},set:function(kt){isNaN(kt)||($e=parseFloat(kt))}});var Ze=pe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ze},set:function(kt){isNaN(kt)||(Ze=parseFloat(kt))}});var lt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return lt},set:function(kt){lt=kt.toString()}}),this},Zl=function(J,pe,$e,Ze){rl.call(this,J,pe),this.type="rect";var lt=$e||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return lt},set:function(Ft){isNaN(Ft)||(lt=parseFloat(Ft))}});var kt=Ze||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return kt},set:function(Ft){isNaN(Ft)||(kt=parseFloat(Ft))}}),this},nl=function(){this.page=wt,this.currentPage=z,this.pages=ne.slice(0),this.pagesContext=mt.slice(0),this.x=Ke,this.y=be,this.matrix=Be,this.width=_o(z),this.height=zs(z),this.outputDestination=ie,this.id="",this.objectNumber=-1};nl.prototype.restore=function(){wt=this.page,z=this.currentPage,mt=this.pagesContext,ne=this.pages,Ke=this.x,be=this.y,Be=this.matrix,tc(z,this.width),rc(z,this.height),ie=this.outputDestination};var ec=function(J,pe,$e,Ze,lt){$t.push(new nl),wt=z=0,ne=[],Ke=J,be=pe,Be=lt,Pn([$e,Ze])},Ph=function(J){if(Ht[J])$t.pop().restore();else{var pe=new nl,$e="Xo"+(Object.keys(Nt).length+1).toString(10);pe.id=$e,Ht[J]=$e,Nt[$e]=pe,gt.publish("addFormObject",pe),$t.pop().restore()}};for(var $a in f.beginFormObject=function(J,pe,$e,Ze,lt){return ec(J,pe,$e,Ze,lt),this},f.endFormObject=function(J){return Ph(J),this},f.doFormObject=function(J,pe){var $e=Nt[Ht[J]];return te("q"),te(pe.toString()+" cm"),te("/"+$e.id+" Do"),te("Q"),this},f.getFormObject=function(J){var pe=Nt[Ht[J]];return{x:pe.x,y:pe.y,width:pe.width,height:pe.height,matrix:pe.matrix}},f.save=function(J,pe){return J=J||"generated.pdf",(pe=pe||{}).returnPromise=pe.returnPromise||!1,pe.returnPromise===!1?(Bu(Cs(vs()),J),typeof Bu.unload=="function"&&fr.setTimeout&&setTimeout(Bu.unload,911),this):new Promise(function($e,Ze){try{var lt=Bu(Cs(vs()),J);typeof Bu.unload=="function"&&fr.setTimeout&&setTimeout(Bu.unload,911),$e(lt)}catch(kt){Ze(kt.message)}})},ur.API)ur.API.hasOwnProperty($a)&&($a==="events"&&ur.API.events.length?function(J,pe){var $e,Ze,lt;for(lt=pe.length-1;lt!==-1;lt--)$e=pe[lt][0],Ze=pe[lt][1],J.subscribe.apply(J,[$e].concat(typeof Ze=="function"?[Ze]:Ze))}(gt,ur.API.events):f[$a]=ur.API[$a]);var _o=f.getPageWidth=function(J){return(mt[J=J||z].mediaBox.topRightX-mt[J].mediaBox.bottomLeftX)/ze},tc=f.setPageWidth=function(J,pe){mt[J].mediaBox.topRightX=pe*ze+mt[J].mediaBox.bottomLeftX},zs=f.getPageHeight=function(J){return(mt[J=J||z].mediaBox.topRightY-mt[J].mediaBox.bottomLeftY)/ze},rc=f.setPageHeight=function(J,pe){mt[J].mediaBox.topRightY=pe*ze+mt[J].mediaBox.bottomLeftY};return f.internal={pdfEscape:tn,getStyle:Dh,getFont:_u,getFontSize:_e,getCharSpace:Jl,getTextColor:Yl,getLineHeight:ku,getLineHeightFactor:el,getLineWidth:Kl,write:se,getHorizontalCoordinate:Ki,getVerticalCoordinate:os,getCoordinateString:Ih,getVerticalCoordinateString:wo,collections:{},newObject:Qe,newAdditionalObject:Pe,newObjectDeferred:ht,newObjectDeferredBegin:ue,getFilters:Ye,putStream:st,events:gt,scaleFactor:ze,pageSize:{getWidth:function(){return _o(z)},setWidth:function(J){tc(z,J)},getHeight:function(){return zs(z)},setHeight:function(J){rc(z,J)}},encryptionOptions:u,encryption:rn,getEncryptor:La,output:Fa,getNumberOfPages:Ir,pages:ne,out:te,f2:V,f3:B,getPageInfo:da,getPageInfoByObjId:cr,getCurrentPageInfo:mi,getPDFVersion:g,Point:rl,Rectangle:Zl,Matrix:_t,hasHotfix:pi},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return _o(z)},set:function(J){tc(z,J)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return zs(z)},set:function(J){rc(z,J)},enumerable:!0,configurable:!0}),gs.call(f,de),Ve="F1",Dr(s,t),gt.publish("initialized"),f}sf.prototype.lsbFirstWord=function(r){return String.fromCharCode(r>>0&255,r>>8&255,r>>16&255,r>>24&255)},sf.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},sf.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},sf.prototype.processOwnerPassword=function(r,e){return rx(tx(e).substr(0,5),r)},sf.prototype.encryptor=function(r,e){var t=tx(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return rx(t,n)}},K1.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||zr(r)!==zr(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;n++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},ur.API={events:[]},ur.version="3.0.1";var Mn=ur.API,D_=1,kh=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ef=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Sr=function(r){return r.toFixed(2)},vc=function(r){return r.toFixed(5)};Mn.__acroform__={};var qi=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},E8=function(r){return r*D_},No=function(r){var e=new dN,t=tr.internal.getHeight(r)||0,n=tr.internal.getWidth(r)||0;return e.BBox=[0,0,Number(Sr(n)),Number(Sr(t))],e},uQ=Mn.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|=1<<e},hQ=Mn.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&=~(1<<e)},fQ=Mn.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},Wn=Mn.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return fQ(r,e-1)},Gn=Mn.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return uQ(r,e-1)},Kn=Mn.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return hQ(r,e-1)},dQ=Mn.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,s=r[0],i=r[1],a=r[2],o=r[3],l={};return l.lowerLeft_X=t(s)||0,l.lowerLeft_Y=n(i+o)||0,l.upperRight_X=t(s+a)||0,l.upperRight_Y=n(i)||0,[Number(Sr(l.lowerLeft_X)),Number(Sr(l.lowerLeft_Y)),Number(Sr(l.upperRight_X)),Number(Sr(l.upperRight_Y))]},pQ=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,n=nx(r,t),s=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+s+" "+Sr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=No(r);return i.scope=r.scope,i.stream=e.join(`
`),i}},nx=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=r.multiline?s.map(function(B){return B.split(`
`)}):s.map(function(B){return[B]});var i=t,a=tr.internal.getHeight(r)||0;a=a<0?-a:a;var o=tr.internal.getWidth(r)||0;o=o<0?-o:o;var l=function(B,P,k){if(B+1<s.length){var M=P+" "+s[B+1][0];return gg(M,r,k).width<=o-4}return!1};i++;e:for(;i>0;){e="",i--;var c,u,d=gg("3",r,i).height,h=r.multiline?a-i:(a-d)/2,f=h+=2,m=0,g=0,p=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+gg(e,r,i=12).width+", FieldWidth:"+o+`
`;break}for(var v="",y=0,b=0;b<s.length;b++)if(s.hasOwnProperty(b)){var E=!1;if(s[b].length!==1&&p!==s[b].length-1){if((d+2)*(y+2)+2>a)continue e;v+=s[b][p],E=!0,g=b,b--}else{v=(v+=s[b][p]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var N=parseInt(b),j=l(N,v,i),D=b>=s.length-1;if(j&&!D){v+=" ",p=0;continue}if(j||D){if(D)g=N;else if(r.multiline&&(d+2)*(y+2)+2>a)continue e}else{if(!r.multiline||(d+2)*(y+2)+2>a)continue e;g=N}}for(var C="",I=m;I<=g;I++){var V=s[I];if(r.multiline){if(I===g){C+=V[p]+" ",p=(p+1)%V.length;continue}if(I===m){C+=V[V.length-1]+" ";continue}}C+=V[0]+" "}switch(C=C.substr(C.length-1)==" "?C.substr(0,C.length-1):C,u=gg(C,r,i).width,r.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;case"left":default:c=2}e+=Sr(c)+" "+Sr(f)+` Td
`,e+="("+kh(C)+`) Tj
`,e+=-Sr(c)+` 0 Td
`,f=-(i+2),u=0,m=E?g:g+1,y++,v=""}break}return n.text=e,n.fontSize=i,n},gg=function(r,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},mQ={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},gQ=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},vQ=function(r,e){for(var t in r)if(r.hasOwnProperty(t)){var n=t,s=r[t];e.internal.newObjectDeferredBegin(s.objId,!0),zr(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete r[n]}},yQ=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(go.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(mQ)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");D_=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new pN,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&gQ(i,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(n,s){var i=!n;for(var a in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],l=[],c=o.Rect;if(o.Rect&&(o.Rect=dQ(o.Rect,s)),s.internal.newObjectDeferredBegin(o.objId,!0),o.DA=tr.createDefaultAppearanceStream(o),zr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=pQ(o);l.push({key:"AP",value:"<</N "+u+">>"}),s.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var d="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var f=o.appearanceStreamContent[h];if(d+="/"+h+" ",d+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var a in f)if(f.hasOwnProperty(a)){var m=f[a];typeof m=="function"&&(m=m.call(s,o)),d+="/"+a+" "+m+" ",s.internal.acroformPlugin.xForms.indexOf(m)>=0||s.internal.acroformPlugin.xForms.push(m)}}else typeof(m=f)=="function"&&(m=m.call(s,o)),d+="/"+a+" "+m,s.internal.acroformPlugin.xForms.indexOf(m)>=0||s.internal.acroformPlugin.xForms.push(m);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}s.internal.putStream({additionalKeyValues:l,objectId:o.objId}),s.internal.out("endobj")}i&&vQ(s.internal.acroformPlugin.xForms,s)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},fN=Mn.__acroform__.arrayToPdfArray=function(r,e,t){var n=function(a){return a};if(Array.isArray(r)){for(var s="[",i=0;i<r.length;i++)switch(i!==0&&(s+=" "),zr(r[i])){case"boolean":case"number":case"object":s+=r[i].toString();break;case"string":r[i].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),s+="("+kh(n(r[i].toString()))+")"):s+=r[i].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Qy=function(r,e,t){var n=function(s){return s};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(r=r||"").toString(),r="("+kh(n(r))+")"},Lo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Lo.prototype.toString=function(){return this.objId+" 0 R"},Lo.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},Lo.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],s=this[n];s&&(Array.isArray(s)?r.push({key:n,value:fN(s,this.objId,this.scope)}):s instanceof Lo?(s.scope=this.scope,r.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&r.push({key:n,value:s}))}return r};var dN=function(){Lo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};qi(dN,Lo);var pN=function(){Lo.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+kh(t(r))+")"}},set:function(t){r=t}})};qi(pN,Lo);var go=function r(){Lo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');e=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Wn(e,3)},set:function(v){v?this.F=Gn(e,3):this.F=Kn(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');t=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof X1)return;i="FieldObject"+r.FieldNum++}var v=function(y){return y};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+kh(v(i))+")"},set:function(v){i=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(v){i=v}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(v){a=v}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/D_:c},set:function(v){c=v}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(v){u=v}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof X1||this instanceof eh))return Qy(d,this.objId,this.scope)},set:function(v){v=v.toString(),d=v}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Es?h:Qy(h,this.objId,this.scope)},set:function(v){v=v.toString(),h=this instanceof Es?v:v.substr(0,1)==="("?ef(v.substr(1,v.length-2)):ef(v)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Es?ef(h.substr(1,h.length-1)):h},set:function(v){v=v.toString(),h=this instanceof Es?"/"+v:v}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Es?f:Qy(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=this instanceof Es?v:v.substr(0,1)==="("?ef(v.substr(1,v.length-2)):ef(v)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Es?ef(f.substr(1,f.length-1)):f},set:function(v){v=v.toString(),f=this instanceof Es?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(v){v=!!v,g=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(v){m=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,1)},set:function(v){v?this.Ff=Gn(this.Ff,1):this.Ff=Kn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,2)},set:function(v){v?this.Ff=Gn(this.Ff,2):this.Ff=Kn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,3)},set:function(v){v?this.Ff=Gn(this.Ff,3):this.Ff=Kn(this.Ff,3)}});var p=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(p!==null)return p},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');p=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(p){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:p=2;break;case"center":case 1:p=1;break;case"left":case 0:default:p=0}}})};qi(go,Lo);var Ff=function(){go.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return fN(e,this.objId,this.scope)},set:function(t){var n,s;s=[],typeof(n=t)=="string"&&(s=function(i,a,o){o||(o=1);for(var l,c=[];l=a.exec(i);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,18)},set:function(t){t?this.Ff=Gn(this.Ff,18):this.Ff=Kn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Gn(this.Ff,19):this.Ff=Kn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,20)},set:function(t){t?(this.Ff=Gn(this.Ff,20),e.sort()):this.Ff=Kn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,22)},set:function(t){t?this.Ff=Gn(this.Ff,22):this.Ff=Kn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,23)},set:function(t){t?this.Ff=Gn(this.Ff,23):this.Ff=Kn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,27)},set:function(t){t?this.Ff=Gn(this.Ff,27):this.Ff=Kn(this.Ff,27)}}),this.hasAppearanceStream=!1};qi(Ff,go);var Lf=function(){Ff.call(this),this.fontName="helvetica",this.combo=!1};qi(Lf,Ff);var jf=function(){Lf.call(this),this.combo=!0};qi(jf,Lf);var Vg=function(){jf.call(this),this.edit=!0};qi(Vg,jf);var Es=function(){go.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,15)},set:function(t){t?this.Ff=Gn(this.Ff,15):this.Ff=Kn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,16)},set:function(t){t?this.Ff=Gn(this.Ff,16):this.Ff=Kn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,17)},set:function(t){t?this.Ff=Gn(this.Ff,17):this.Ff=Kn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,26)},set:function(t){t?this.Ff=Gn(this.Ff,26):this.Ff=Kn(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(i){return i};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,s=[];for(n in s.push("<<"),e)s.push("/"+n+" ("+kh(t(e[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){zr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};qi(Es,go);var Hg=function(){Es.call(this),this.pushButton=!0};qi(Hg,Es);var Bf=function(){Es.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};qi(Bf,Es);var X1=function(){var r,e;go.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(o){return o};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,a=[];for(i in a.push("<<"),n)a.push("/"+i+" ("+kh(s(n[i]))+")");return a.push(">>"),a.join(`
`)},set:function(s){zr(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=tr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};qi(X1,go),Bf.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},Bf.prototype.createOption=function(r){var e=new X1;return e.Parent=this,e.optionName=r,this.Kids.push(e),bQ.call(this.scope,e),e};var zg=function(){Es.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=tr.CheckBox.createAppearanceStream()};qi(zg,Es);var eh=function(){go.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,13)},set:function(e){e?this.Ff=Gn(this.Ff,13):this.Ff=Kn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,21)},set:function(e){e?this.Ff=Gn(this.Ff,21):this.Ff=Kn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,23)},set:function(e){e?this.Ff=Gn(this.Ff,23):this.Ff=Kn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,24)},set:function(e){e?this.Ff=Gn(this.Ff,24):this.Ff=Kn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,25)},set:function(e){e?this.Ff=Gn(this.Ff,25):this.Ff=Kn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,26)},set:function(e){e?this.Ff=Gn(this.Ff,26):this.Ff=Kn(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};qi(eh,go);var qg=function(){eh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,14)},set:function(r){r?this.Ff=Gn(this.Ff,14):this.Ff=Kn(this.Ff,14)}}),this.password=!0};qi(qg,eh);var tr={CheckBox:{createAppearanceStream:function(){return{N:{On:tr.CheckBox.YesNormal},D:{On:tr.CheckBox.YesPushDown,Off:tr.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=No(r);e.scope=r.scope;var t=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,s=r.scope.__private__.encodeColorString(r.color),i=nx(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+Sr(tr.internal.getWidth(r))+" "+Sr(tr.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+Sr(i.fontSize)+" Tf "+s),t.push("BT"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=No(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),s=[],i=tr.internal.getHeight(r),a=tr.internal.getWidth(r),o=nx(r,r.caption);return s.push("1 g"),s.push("0 0 "+Sr(a)+" "+Sr(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Sr(a-1)+" "+Sr(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+Sr(o.fontSize)+" Tf "+n),s.push(o.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(r){var e=No(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Sr(tr.internal.getWidth(r))+" "+Sr(tr.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:tr.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=tr.RadioButton.Circle.YesNormal,e.D[r]=tr.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=No(r);e.scope=r.scope;var t=[],n=tr.internal.getWidth(r)<=tr.internal.getHeight(r)?tr.internal.getWidth(r)/4:tr.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var s=tr.internal.Bezier_C,i=Number((n*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+vc(tr.internal.getWidth(r)/2)+" "+vc(tr.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),t.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),t.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),t.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=No(r);e.scope=r.scope;var t=[],n=tr.internal.getWidth(r)<=tr.internal.getHeight(r)?tr.internal.getWidth(r)/4:tr.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*tr.internal.Bezier_C).toFixed(5)),a=Number((n*tr.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+vc(tr.internal.getWidth(r)/2)+" "+vc(tr.internal.getHeight(r)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),t.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),t.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),t.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+vc(tr.internal.getWidth(r)/2)+" "+vc(tr.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),t.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),t.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),t.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=No(r);e.scope=r.scope;var t=[],n=tr.internal.getWidth(r)<=tr.internal.getHeight(r)?tr.internal.getWidth(r)/4:tr.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*tr.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+vc(tr.internal.getWidth(r)/2)+" "+vc(tr.internal.getHeight(r)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),t.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),t.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),t.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:tr.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=tr.RadioButton.Cross.YesNormal,e.D[r]=tr.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=No(r);e.scope=r.scope;var t=[],n=tr.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+Sr(tr.internal.getWidth(r)-2)+" "+Sr(tr.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(Sr(n.x1.x)+" "+Sr(n.x1.y)+" m"),t.push(Sr(n.x2.x)+" "+Sr(n.x2.y)+" l"),t.push(Sr(n.x4.x)+" "+Sr(n.x4.y)+" m"),t.push(Sr(n.x3.x)+" "+Sr(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=No(r);e.scope=r.scope;var t=tr.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+Sr(tr.internal.getWidth(r))+" "+Sr(tr.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Sr(tr.internal.getWidth(r)-2)+" "+Sr(tr.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(Sr(t.x1.x)+" "+Sr(t.x1.y)+" m"),n.push(Sr(t.x2.x)+" "+Sr(t.x2.y)+" l"),n.push(Sr(t.x4.x)+" "+Sr(t.x4.y)+" m"),n.push(Sr(t.x3.x)+" "+Sr(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=No(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Sr(tr.internal.getWidth(r))+" "+Sr(tr.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};tr.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=tr.internal.getWidth(r),t=tr.internal.getHeight(r),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},tr.internal.getWidth=function(r){var e=0;return zr(r)==="object"&&(e=E8(r.Rect[2])),e},tr.internal.getHeight=function(r){var e=0;return zr(r)==="object"&&(e=E8(r.Rect[3])),e};var bQ=Mn.addField=function(r){if(yQ(this,r),!(r instanceof go))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};Mn.AcroFormChoiceField=Ff,Mn.AcroFormListBox=Lf,Mn.AcroFormComboBox=jf,Mn.AcroFormEditBox=Vg,Mn.AcroFormButton=Es,Mn.AcroFormPushButton=Hg,Mn.AcroFormRadioButton=Bf,Mn.AcroFormCheckBox=zg,Mn.AcroFormTextField=eh,Mn.AcroFormPasswordField=qg,Mn.AcroFormAppearance=tr,Mn.AcroForm={ChoiceField:Ff,ListBox:Lf,ComboBox:jf,EditBox:Vg,Button:Es,PushButton:Hg,RadioButton:Bf,CheckBox:zg,TextField:eh,PasswordField:qg,Appearance:tr},ur.AcroForm={ChoiceField:Ff,ListBox:Lf,ComboBox:jf,EditBox:Vg,Button:Es,PushButton:Hg,RadioButton:Bf,CheckBox:zg,TextField:eh,PasswordField:qg,Appearance:tr};ur.AcroForm;function mN(r){return r.reduce(function(e,t,n){return e[t]=n,e},{})}(function(r){r.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=r.__addimage__.getImageFileTypeByImageData=function(B,P){var k,M,A,w,S,_=e;if((P=P||e)==="RGBA"||B.data!==void 0&&B.data instanceof Uint8ClampedArray&&"height"in B&&"width"in B)return"RGBA";if(j(B))for(S in t)for(A=t[S],k=0;k<A.length;k+=1){for(w=!0,M=0;M<A[k].length;M+=1)if(A[k][M]!==void 0&&A[k][M]!==B[M]){w=!1;break}if(w===!0){_=S;break}}else for(S in t)for(A=t[S],k=0;k<A.length;k+=1){for(w=!0,M=0;M<A[k].length;M+=1)if(A[k][M]!==void 0&&A[k][M]!==B.charCodeAt(M)){w=!1;break}if(w===!0){_=S;break}}return _===e&&P!==e&&(_=P),_},s=function B(P){for(var k=this.internal.write,M=this.internal.putStream,A=(0,this.internal.getFilters)();A.indexOf("FlateEncode")!==-1;)A.splice(A.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var w=[];if(w.push({key:"Type",value:"/XObject"}),w.push({key:"Subtype",value:"/Image"}),w.push({key:"Width",value:P.width}),w.push({key:"Height",value:P.height}),P.colorSpace===p.INDEXED?w.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(w.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===p.DEVICE_CMYK&&w.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),w.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&w.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)){for(var S="",_=0,x=P.transparency.length;_<x;_++)S+=P.transparency[_]+" "+P.transparency[_]+" ";w.push({key:"Mask",value:"["+S+"]"})}P.sMask!==void 0&&w.push({key:"SMask",value:P.objectId+1+" 0 R"});var R=P.filter!==void 0?["/"+P.filter]:void 0;if(M({data:P.data,additionalKeyValues:w,alreadyAppliedFilters:R,objectId:P.objectId}),k("endobj"),"sMask"in P&&P.sMask!==void 0){var W="/Predictor "+P.predictor+" /Colors 1 /BitsPerComponent "+P.bitsPerComponent+" /Columns "+P.width,T={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:P.bitsPerComponent,decodeParameters:W,data:P.sMask};"filter"in P&&(T.filter=P.filter),B.call(this,T)}if(P.colorSpace===p.INDEXED){var z=this.internal.newObject();M({data:C(new Uint8Array(P.palette)),objectId:z}),k("endobj")}},i=function(){var B=this.internal.collections.addImage_images;for(var P in B)s.call(this,B[P])},a=function(){var B,P=this.internal.collections.addImage_images,k=this.internal.write;for(var M in P)k("/I"+(B=P[M]).index,B.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var B=this.internal.collections.addImage_images;return o.call(this),B},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(B){return typeof r["process"+B.toUpperCase()]=="function"},d=function(B){return zr(B)==="object"&&B.nodeType===1},h=function(B,P){if(B.nodeName==="IMG"&&B.hasAttribute("src")){var k=""+B.getAttribute("src");if(k.indexOf("data:image/")===0)return $0(unescape(k).split("base64,").pop());var M=r.loadFile(k,!0);if(M!==void 0)return M}if(B.nodeName==="CANVAS"){if(B.width===0||B.height===0)throw new Error("Given canvas must have data. Canvas width: "+B.width+", height: "+B.height);var A;switch(P){case"PNG":A="image/png";break;case"WEBP":A="image/webp";break;case"JPEG":case"JPG":default:A="image/jpeg"}return $0(B.toDataURL(A,1).split("base64,").pop())}},f=function(B){var P=this.internal.collections.addImage_images;if(P){for(var k in P)if(B===P[k].alias)return P[k]}},m=function(B,P,k){return B||P||(B=-96,P=-96),B<0&&(B=-1*k.width*72/B/this.internal.scaleFactor),P<0&&(P=-1*k.height*72/P/this.internal.scaleFactor),B===0&&(B=P*k.width/k.height),P===0&&(P=B*k.height/k.width),[B,P]},g=function(B,P,k,M,A,w){var S=m.call(this,k,M,A),_=this.internal.getCoordinateString,x=this.internal.getVerticalCoordinateString,R=l.call(this);if(k=S[0],M=S[1],R[A.index]=A,w){w*=Math.PI/180;var W=Math.cos(w),T=Math.sin(w),z=function(Y){return Y.toFixed(4)},q=[z(W),z(T),z(-1*T),z(W),0,0,"cm"]}this.internal.write("q"),w?(this.internal.write([1,"0","0",1,_(B),x(P+M),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([_(k),"0","0",_(M),"0","0","cm"].join(" "))):this.internal.write([_(k),"0","0",_(M),_(B),x(P+M),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+A.index+" Do"),this.internal.write("Q")},p=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=r.__addimage__.sHashCode=function(B){var P,k,M=0;if(typeof B=="string")for(k=B.length,P=0;P<k;P++)M=(M<<5)-M+B.charCodeAt(P),M|=0;else if(j(B))for(k=B.byteLength/2,P=0;P<k;P++)M=(M<<5)-M+B[P],M|=0;return M},b=r.__addimage__.validateStringAsBase64=function(B){(B=B||"").toString().trim();var P=!0;return B.length===0&&(P=!1),B.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(B.substr(0,B.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(B.substr(-2))===!1&&(P=!1),P},E=r.__addimage__.extractImageFromDataUrl=function(B){if(B==null||!(B=B.trim()).startsWith("data:"))return null;var P=B.indexOf(",");return P<0?null:B.substring(0,P).trim().endsWith("base64")?B.substring(P+1):null},N=r.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};r.__addimage__.isArrayBuffer=function(B){return N()&&B instanceof ArrayBuffer};var j=r.__addimage__.isArrayBufferView=function(B){return N()&&typeof Uint32Array<"u"&&(B instanceof Int8Array||B instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&B instanceof Uint8ClampedArray||B instanceof Int16Array||B instanceof Uint16Array||B instanceof Int32Array||B instanceof Uint32Array||B instanceof Float32Array||B instanceof Float64Array)},D=r.__addimage__.binaryStringToUint8Array=function(B){for(var P=B.length,k=new Uint8Array(P),M=0;M<P;M++)k[M]=B.charCodeAt(M);return k},C=r.__addimage__.arrayBufferToBinaryString=function(B){for(var P="",k=j(B)?B:new Uint8Array(B),M=0;M<k.length;M+=8192)P+=String.fromCharCode.apply(null,k.subarray(M,M+8192));return P};r.addImage=function(){var B,P,k,M,A,w,S,_,x;if(typeof arguments[1]=="number"?(P=e,k=arguments[1],M=arguments[2],A=arguments[3],w=arguments[4],S=arguments[5],_=arguments[6],x=arguments[7]):(P=arguments[1],k=arguments[2],M=arguments[3],A=arguments[4],w=arguments[5],S=arguments[6],_=arguments[7],x=arguments[8]),zr(B=arguments[0])==="object"&&!d(B)&&"imageData"in B){var R=B;B=R.imageData,P=R.format||P||e,k=R.x||k||0,M=R.y||M||0,A=R.w||R.width||A,w=R.h||R.height||w,S=R.alias||S,_=R.compression||_,x=R.rotation||R.angle||x}var W=this.internal.getFilters();if(_===void 0&&W.indexOf("FlateEncode")!==-1&&(_="SLOW"),isNaN(k)||isNaN(M))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var T=I.call(this,B,P,S,_);return g.call(this,k,M,A,w,T,x),this};var I=function(B,P,k,M){var A,w,S;if(typeof B=="string"&&n(B)===e){B=unescape(B);var _=V(B,!1);(_!==""||(_=r.loadFile(B,!0))!==void 0)&&(B=_)}if(d(B)&&(B=h(B,P)),P=n(B,P),!u(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((S=k)==null||S.length===0)&&(k=function(x){return typeof x=="string"||j(x)?y(x):j(x.data)?y(x.data):null}(B)),(A=f.call(this,k))||(N()&&(B instanceof Uint8Array||P==="RGBA"||(w=B,B=D(B))),A=this["process"+P.toUpperCase()](B,c.call(this),k,function(x){return x&&typeof x=="string"&&(x=x.toUpperCase()),x in r.image_compression?x:v.NONE}(M),w)),!A)throw new Error("An unknown error occurred whilst processing the image.");return A},V=r.__addimage__.convertBase64ToBinaryString=function(B,P){P=typeof P!="boolean"||P;var k,M="";if(typeof B=="string"){var A;k=(A=E(B))!==null&&A!==void 0?A:B;try{M=$0(k)}catch(w){if(P)throw b(k)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+w.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return M};r.getImageProperties=function(B){var P,k,M="";if(d(B)&&(B=h(B)),typeof B=="string"&&n(B)===e&&((M=V(B,!1))===""&&(M=r.loadFile(B)||""),B=M),k=n(B),!u(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(!N()||B instanceof Uint8Array||(B=D(B)),!(P=this["process"+k.toUpperCase()](B)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=k,P}})(ur.API),function(r){var e=function(t){if(t!==void 0&&t!="")return!0};ur.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var n,s,i,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((n=c[d]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){n=c[h];var f=this.internal.pdfEscape,m=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),p=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(g.objId),y=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+f(v(n.contents))+")",i+=" /Popup "+p.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+f(v(y))+") >>",g.content=i;var b=g.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(i+=" /Open true"),i+=" >>",p.content=i,this.internal.write(g.objId,"0 R",p.objId,"0 R");break;case"freetext":s="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var E=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+f(m(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+E+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var N=this.annotations._nameMap[n.options.name];n.options.pageNumber=N.page,n.options.top=N.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+f(m(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var j=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+j+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},r.link=function(t,n,s,i,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(t),y:c(n),w:l(t+s),h:c(n+i)},options:a,type:"link"})},r.textWithLink=function(t,n,s,i){var a,o,l=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var u=this.splitTextToSize(t,o).length;a=Math.ceil(c*u)}else o=l,a=c;return this.text(t,n,s,i),s+=.2*c,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,s-c,o,a,i),l},r.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}}(ur.API),function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];r.__arabicParser__={};var i=r.__arabicParser__.isInArabicSubstitutionA=function(g){return e[g.charCodeAt(0)]!==void 0},a=r.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},o=r.__arabicParser__.isArabicEndLetter=function(g){return a(g)&&i(g)&&e[g.charCodeAt(0)].length<=2},l=r.__arabicParser__.isArabicAlfLetter=function(g){return a(g)&&s.indexOf(g.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return a(g)&&i(g)&&e[g.charCodeAt(0)].length>=1};var c=r.__arabicParser__.arabicLetterHasFinalForm=function(g){return a(g)&&i(g)&&e[g.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(g){return a(g)&&i(g)&&e[g.charCodeAt(0)].length>=3};var u=r.__arabicParser__.arabicLetterHasMedialForm=function(g){return a(g)&&i(g)&&e[g.charCodeAt(0)].length==4},d=r.__arabicParser__.resolveLigatures=function(g){var p=0,v=t,y="",b=0;for(p=0;p<g.length;p+=1)v[g.charCodeAt(p)]!==void 0?(b++,typeof(v=v[g.charCodeAt(p)])=="number"&&(y+=String.fromCharCode(v),v=t,b=0),p===g.length-1&&(v=t,y+=g.charAt(p-(b-1)),p-=b-1,b=0)):(v=t,y+=g.charAt(p-b),p-=b,b=0);return y};r.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var h=r.__arabicParser__.getCorrectForm=function(g,p,v){return a(g)?i(g)===!1?-1:!c(g)||!a(p)&&!a(v)||!a(v)&&o(p)||o(g)&&!a(p)||o(g)&&l(p)||o(g)&&o(p)?0:u(g)&&a(p)&&!o(p)&&a(v)&&c(v)?3:o(g)||!a(v)?1:2:-1},f=function(g){var p=0,v=0,y=0,b="",E="",N="",j=(g=g||"").split("\\s+"),D=[];for(p=0;p<j.length;p+=1){for(D.push(""),v=0;v<j[p].length;v+=1)b=j[p][v],E=j[p][v-1],N=j[p][v+1],a(b)?(y=h(b,E,N),D[p]+=y!==-1?String.fromCharCode(e[b.charCodeAt(0)][y]):b):D[p]+=b;D[p]=d(D[p])}return D.join(" ")},m=r.__arabicParser__.processArabic=r.processArabic=function(){var g,p=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(p)){var y=0;for(v=[],y=0;y<p.length;y+=1)Array.isArray(p[y])?v.push([f(p[y][0]),p[y][1],p[y][2]]):v.push([f(p[y])]);g=v}else g=f(p);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};r.events.push(["preProcessText",m])}(ur.API),ur.API.autoPrint=function(r){var e;switch((r=r||{}).variant=r.variant||"non-conform",r.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(o){t=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(o){s=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var s;if((t=t||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ur.API),function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(g){m=g}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},r.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,f=0,m=0,g=0,p=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=c.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(b,E){return b.concat(p.splitTextToSize(E,v))},[])):l=Array.isArray(l)?l:[l];for(var y=0;y<l.length;y++)f<(g=this.getStringUnitWidth(l[y],{font:d})*u)&&(f=g);return f!==0&&(m=l.length),{w:f/=h,h:Math.max((m*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=r.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,h=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,f&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,t===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};r.table=function(l,c,u,d,h){if(n.call(this),!u)throw new Error("No data for PDF table.");var f,m,g,p,v=[],y=[],b=[],E={},N={},j=[],D=[],C=(h=h||{}).autoSize||!1,I=h.printHeaders!==!1,V=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,B=h.margins||Object.assign({width:this.getPageWidth()},e),P=typeof h.padding=="number"?h.padding:3,k=h.headerBackgroundColor||"#c8c8c8",M=h.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=B,this.internal.__cell__.table_font_size=V,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=k,this.internal.__cell__.headerTextColor=M,this.setFontSize(V),d==null)y=v=Object.keys(u[0]),b=v.map(function(){return"left"});else if(Array.isArray(d)&&zr(d[0])==="object")for(v=d.map(function(R){return R.name}),y=d.map(function(R){return R.prompt||R.name||""}),b=d.map(function(R){return R.align||"left"}),f=0;f<d.length;f+=1)N[d[f].name]=d[f].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(y=v=d,b=v.map(function(){return"left"}));if(C||Array.isArray(d)&&typeof d[0]=="string")for(f=0;f<v.length;f+=1){for(E[p=v[f]]=u.map(function(R){return R[p]}),this.setFont(void 0,"bold"),j.push(this.getTextDimensions(y[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=E[p],this.setFont(void 0,"normal"),g=0;g<m.length;g+=1)j.push(this.getTextDimensions(m[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[p]=Math.max.apply(null,j)+P+P,j=[]}if(I){var A={};for(f=0;f<v.length;f+=1)A[v[f]]={},A[v[f]].text=y[f],A[v[f]].align=b[f];var w=o.call(this,A,N);D=v.map(function(R){return new i(l,c,N[R],w,A[R].text,void 0,A[R].align)}),this.setTableHeaderRow(D),this.printHeaderRow(1,!1)}var S=d.reduce(function(R,W){return R[W.name]=W.align,R},{});for(f=0;f<u.length;f+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:f,data:u[f]},this);var _=o.call(this,u[f],N);for(g=0;g<v.length;g+=1){var x=u[f][v[g]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:f,col:g,data:x},this),a.call(this,new i(l,c,N[v[g]],_,x,f+2,S[v[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(f){var m=l[f];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,c[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*d/h+u+u},this).reduce(function(f,m){return Math.max(f,m)},0)};r.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},r.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=l;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,u),this.setTextColor(m)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),t=!1}}(ur.API);var gN={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},vN=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],sx=mN(vN),yN=[100,200,300,400,500,600,700,800,900],wQ=mN(yN);function ix(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=function(i){return gN[i=i||"normal"]?i:"normal"}(r.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(r.weight),s=function(i){return typeof sx[i=i||"normal"]=="number"?i:"normal"}(r.stretch);return{family:e,style:t,weight:n,stretch:s,src:r.src||[],ref:r.ref||{name:e,style:[s,t,n].join(" ")}}}function k8(r,e,t,n){var s;for(s=t;s>=0&&s<e.length;s+=n)if(r[e[s]])return r[e[s]];for(s=t;s>=0&&s<e.length;s-=n)if(r[e[s]])return r[e[s]]}var xQ={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},A8={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function T8(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function _Q(r,e,t){for(var n=(t=t||{}).defaultFontFamily||"times",s=Object.assign({},xQ,t.genericFontFamilies||{}),i=null,a=null,o=0;o<e.length;++o)if(s[(i=ix(e[o])).family]&&(i.family=s[i.family]),r.hasOwnProperty(i.family)){a=r[i.family];break}if(!(a=a||r[n]))throw new Error("Could not find a font-family for the rule '"+T8(i)+"' and default family '"+n+"'.");if(a=function(l,c){if(c[l])return c[l];var u=sx[l],d=u<=sx.normal?-1:1,h=k8(c,vN,u,d);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(i.stretch,a),a=function(l,c){if(c[l])return c[l];for(var u=gN[l],d=0;d<u.length;++d)if(c[u[d]])return c[u[d]];throw new Error("Could not find a matching font-style for "+l)}(i.style,a),!(a=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=wQ[l],d=k8(c,yN,u,l<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+l);return d}(i.weight,a)))throw new Error("Failed to resolve a font for the rule '"+T8(i)+"'.");return a}function C8(r){return r.trimLeft()}function SQ(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function EQ(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var vg,N8,D8,Zy=["times"];(function(r){var e,t,n,s,i,a,o,l,c,u=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new l,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new a,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new a,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=T;Object.defineProperty(this,"pdf",{get:function(){return z}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(ce){q=!!ce}});var Y=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Y},set:function(ce){Y=!!ce}});var U=0;Object.defineProperty(this,"posX",{get:function(){return U},set:function(ce){isNaN(ce)||(U=ce)}});var Q=0;Object.defineProperty(this,"posY",{get:function(){return Q},set:function(ce){isNaN(ce)||(Q=ce)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ce){var te;typeof ce=="number"?te=[ce,ce,ce,ce]:((te=new Array(4))[0]=ce[0],te[1]=ce.length>=2?ce[1]:te[0],te[2]=ce.length>=3?ce[2]:te[0],te[3]=ce.length>=4?ce[3]:te[1]),c.margin=te}});var F=!1;Object.defineProperty(this,"autoPaging",{get:function(){return F},set:function(ce){F=ce}});var O=0;Object.defineProperty(this,"lastBreak",{get:function(){return O},set:function(ce){O=ce}});var K=[];Object.defineProperty(this,"pageBreaks",{get:function(){return K},set:function(ce){K=ce}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ce){ce instanceof u&&(c=ce)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ce){c.path=ce}});var ne=[];Object.defineProperty(this,"ctxStack",{get:function(){return ne},set:function(ce){ne=ce}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ce){var te;te=h(ce),this.ctx.fillStyle=te.style,this.ctx.isFillTransparent=te.a===0,this.ctx.fillOpacity=te.a,this.pdf.setFillColor(te.r,te.g,te.b,{a:te.a}),this.pdf.setTextColor(te.r,te.g,te.b,{a:te.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ce){var te=h(ce);this.ctx.strokeStyle=te.style,this.ctx.isStrokeTransparent=te.a===0,this.ctx.strokeOpacity=te.a,te.a===0?this.pdf.setDrawColor(255,255,255):(te.a,this.pdf.setDrawColor(te.r,te.g,te.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ce){["butt","round","square"].indexOf(ce)!==-1&&(this.ctx.lineCap=ce,this.pdf.setLineCap(ce))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ce){isNaN(ce)||(this.ctx.lineWidth=ce,this.pdf.setLineWidth(ce))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ce){["bevel","round","miter"].indexOf(ce)!==-1&&(this.ctx.lineJoin=ce,this.pdf.setLineJoin(ce))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ce){isNaN(ce)||(this.ctx.miterLimit=ce,this.pdf.setMiterLimit(ce))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ce){this.ctx.textBaseline=ce}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ce){["right","end","center","left","start"].indexOf(ce)!==-1&&(this.ctx.textAlign=ce)}});var ee=null;function ie(ce,te){if(ee===null){var se=function(ge){var de=[];return Object.keys(ge).forEach(function(Te){ge[Te].forEach(function(De){var _e=null;switch(De){case"bold":_e={family:Te,weight:"bold"};break;case"italic":_e={family:Te,style:"italic"};break;case"bolditalic":_e={family:Te,weight:"bold",style:"italic"};break;case"":case"normal":_e={family:Te}}_e!==null&&(_e.ref={name:Te,style:De},de.push(_e))})}),de}(ce.getFontList());ee=function(ge){for(var de={},Te=0;Te<ge.length;++Te){var De=ix(ge[Te]),_e=De.family,fe=De.stretch,ae=De.style,ve=De.weight;de[_e]=de[_e]||{},de[_e][fe]=de[_e][fe]||{},de[_e][fe][ae]=de[_e][fe][ae]||{},de[_e][fe][ae][ve]=De}return de}(se.concat(te))}return ee}var he=null;Object.defineProperty(this,"fontFaces",{get:function(){return he},set:function(ce){ee=null,he=ce}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ce){var te;if(this.ctx.font=ce,(te=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ce))!==null){var se=te[1];te[2];var ge=te[3],de=te[4];te[5];var Te=te[6],De=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(de)[2];de=Math.floor(De==="px"?parseFloat(de)*this.pdf.internal.scaleFactor:De==="em"?parseFloat(de)*this.pdf.getFontSize():parseFloat(de)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(de);var _e=function(Ge){var Ve,ze,Ke=[],be=Ge.trim();if(be==="")return Zy;if(be in A8)return[A8[be]];for(;be!=="";){switch(ze=null,Ve=(be=C8(be)).charAt(0)){case'"':case"'":ze=SQ(be.substring(1),Ve);break;default:ze=EQ(be)}if(ze===null||(Ke.push(ze[0]),(be=C8(ze[1]))!==""&&be.charAt(0)!==","))return Zy;be=be.replace(/^,/,"")}return Ke}(Te);if(this.fontFaces){var fe=_Q(ie(this.pdf,this.fontFaces),_e.map(function(Ge){return{family:Ge,stretch:"normal",weight:ge,style:se}}));this.pdf.setFont(fe.ref.name,fe.ref.style)}else{var ae="";(ge==="bold"||parseInt(ge,10)>=700||se==="bold")&&(ae="bold"),se==="italic"&&(ae+="italic"),ae.length===0&&(ae="normal");for(var ve="",Ee={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Fe=0;Fe<_e.length;Fe++){if(this.pdf.internal.getFont(_e[Fe],ae,{noFallback:!0,disableWarning:!0})!==void 0){ve=_e[Fe];break}if(ae==="bolditalic"&&this.pdf.internal.getFont(_e[Fe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ve=_e[Fe],ae="bold";else if(this.pdf.internal.getFont(_e[Fe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ve=_e[Fe],ae="normal";break}}if(ve===""){for(var Ue=0;Ue<_e.length;Ue++)if(Ee[_e[Ue]]){ve=Ee[_e[Ue]];break}}ve=ve===""?"Times":ve,this.pdf.setFont(ve,ae)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ce){this.ctx.globalCompositeOperation=ce}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ce){this.ctx.globalAlpha=ce}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ce){this.ctx.lineDashOffset=ce,W.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ce){this.ctx.lineDash=ce,W.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ce){this.ctx.ignoreClearRect=!!ce}})};d.prototype.setLineDash=function(T){this.lineDash=T},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){E.call(this,"fill",!1)},d.prototype.stroke=function(){E.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(T,z){if(isNaN(T)||isNaN(z))throw hn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new a(T,z));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new a(T,z)},d.prototype.closePath=function(){var T=new a(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&zr(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){T=new a(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(T.x,T.y)},d.prototype.lineTo=function(T,z){if(isNaN(T)||isNaN(z))throw hn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new a(T,z));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new a(q.x,q.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),E.call(this,null,!0)},d.prototype.quadraticCurveTo=function(T,z,q,Y){if(isNaN(q)||isNaN(Y)||isNaN(T)||isNaN(z))throw hn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var U=this.ctx.transform.applyToPoint(new a(q,Y)),Q=this.ctx.transform.applyToPoint(new a(T,z));this.path.push({type:"qct",x1:Q.x,y1:Q.y,x:U.x,y:U.y}),this.ctx.lastPoint=new a(U.x,U.y)},d.prototype.bezierCurveTo=function(T,z,q,Y,U,Q){if(isNaN(U)||isNaN(Q)||isNaN(T)||isNaN(z)||isNaN(q)||isNaN(Y))throw hn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var F=this.ctx.transform.applyToPoint(new a(U,Q)),O=this.ctx.transform.applyToPoint(new a(T,z)),K=this.ctx.transform.applyToPoint(new a(q,Y));this.path.push({type:"bct",x1:O.x,y1:O.y,x2:K.x,y2:K.y,x:F.x,y:F.y}),this.ctx.lastPoint=new a(F.x,F.y)},d.prototype.arc=function(T,z,q,Y,U,Q){if(isNaN(T)||isNaN(z)||isNaN(q)||isNaN(Y)||isNaN(U))throw hn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Q=!!Q,!this.ctx.transform.isIdentity){var F=this.ctx.transform.applyToPoint(new a(T,z));T=F.x,z=F.y;var O=this.ctx.transform.applyToPoint(new a(0,q)),K=this.ctx.transform.applyToPoint(new a(0,0));q=Math.sqrt(Math.pow(O.x-K.x,2)+Math.pow(O.y-K.y,2))}Math.abs(U-Y)>=2*Math.PI&&(Y=0,U=2*Math.PI),this.path.push({type:"arc",x:T,y:z,radius:q,startAngle:Y,endAngle:U,counterclockwise:Q})},d.prototype.arcTo=function(T,z,q,Y,U){throw new Error("arcTo not implemented.")},d.prototype.rect=function(T,z,q,Y){if(isNaN(T)||isNaN(z)||isNaN(q)||isNaN(Y))throw hn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,z),this.lineTo(T+q,z),this.lineTo(T+q,z+Y),this.lineTo(T,z+Y),this.lineTo(T,z),this.lineTo(T+q,z),this.lineTo(T,z)},d.prototype.fillRect=function(T,z,q,Y){if(isNaN(T)||isNaN(z)||isNaN(q)||isNaN(Y))throw hn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var U={};this.lineCap!=="butt"&&(U.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(U.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,z,q,Y),this.fill(),U.hasOwnProperty("lineCap")&&(this.lineCap=U.lineCap),U.hasOwnProperty("lineJoin")&&(this.lineJoin=U.lineJoin)}},d.prototype.strokeRect=function(T,z,q,Y){if(isNaN(T)||isNaN(z)||isNaN(q)||isNaN(Y))throw hn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(T,z,q,Y),this.stroke())},d.prototype.clearRect=function(T,z,q,Y){if(isNaN(T)||isNaN(z)||isNaN(q)||isNaN(Y))throw hn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,z,q,Y))},d.prototype.save=function(T){T=typeof T!="boolean"||T;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var Y=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Y}},d.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(z),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(T){var z,q,Y,U;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))z=0,q=0,Y=0,U=0;else{var Q=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(Q!==null)z=parseInt(Q[1]),q=parseInt(Q[2]),Y=parseInt(Q[3]),U=1;else if((Q=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)z=parseInt(Q[1]),q=parseInt(Q[2]),Y=parseInt(Q[3]),U=parseFloat(Q[4]);else{if(U=1,typeof T=="string"&&T.charAt(0)!=="#"){var F=new cN(T);T=F.ok?F.toHex():"#000000"}T.length===4?(z=T.substring(1,2),z+=z,q=T.substring(2,3),q+=q,Y=T.substring(3,4),Y+=Y):(z=T.substring(1,3),q=T.substring(3,5),Y=T.substring(5,7)),z=parseInt(z,16),q=parseInt(q,16),Y=parseInt(Y,16)}}return{r:z,g:q,b:Y,a:U,style:T}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(T,z,q,Y){if(isNaN(z)||isNaN(q)||typeof T!="string")throw hn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Y=isNaN(Y)?void 0:Y,!f.call(this)){var U=_(this.ctx.transform.rotation),Q=this.ctx.transform.scaleX;P.call(this,{text:T,x:z,y:q,scale:Q,angle:U,align:this.textAlign,maxWidth:Y})}},d.prototype.strokeText=function(T,z,q,Y){if(isNaN(z)||isNaN(q)||typeof T!="string")throw hn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){Y=isNaN(Y)?void 0:Y;var U=_(this.ctx.transform.rotation),Q=this.ctx.transform.scaleX;P.call(this,{text:T,x:z,y:q,scale:Q,renderingMode:"stroke",angle:U,align:this.textAlign,maxWidth:Y})}},d.prototype.measureText=function(T){if(typeof T!="string")throw hn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,q=this.pdf.internal.scaleFactor,Y=z.internal.getFontSize(),U=z.getStringUnitWidth(T)*Y/z.internal.scaleFactor,Q=function(F){var O=(F=F||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return O}}),this};return new Q({width:U*=Math.round(96*q/72*1e4)/1e4})},d.prototype.scale=function(T,z){if(isNaN(T)||isNaN(z))throw hn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new l(T,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},d.prototype.rotate=function(T){if(isNaN(T))throw hn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new l(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},d.prototype.translate=function(T,z){if(isNaN(T)||isNaN(z))throw hn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new l(1,0,0,1,T,z);this.ctx.transform=this.ctx.transform.multiply(q)},d.prototype.transform=function(T,z,q,Y,U,Q){if(isNaN(T)||isNaN(z)||isNaN(q)||isNaN(Y)||isNaN(U)||isNaN(Q))throw hn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var F=new l(T,z,q,Y,U,Q);this.ctx.transform=this.ctx.transform.multiply(F)},d.prototype.setTransform=function(T,z,q,Y,U,Q){T=isNaN(T)?1:T,z=isNaN(z)?0:z,q=isNaN(q)?0:q,Y=isNaN(Y)?1:Y,U=isNaN(U)?0:U,Q=isNaN(Q)?0:Q,this.ctx.transform=new l(T,z,q,Y,U,Q)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(T,z,q,Y,U,Q,F,O,K){var ne=this.pdf.getImageProperties(T),ee=1,ie=1,he=1,ce=1;Y!==void 0&&O!==void 0&&(he=O/Y,ce=K/U,ee=ne.width/Y*O/Y,ie=ne.height/U*K/U),Q===void 0&&(Q=z,F=q,z=0,q=0),Y!==void 0&&O===void 0&&(O=Y,K=U),Y===void 0&&O===void 0&&(O=ne.width,K=ne.height);for(var te,se=this.ctx.transform.decompose(),ge=_(se.rotate.shx),de=new l,Te=(de=(de=(de=de.multiply(se.translate)).multiply(se.skew)).multiply(se.scale)).applyToRectangle(new o(Q-z*he,F-q*ce,Y*ee,U*ie)),De=p.call(this,Te),_e=[],fe=0;fe<De.length;fe+=1)_e.indexOf(De[fe])===-1&&_e.push(De[fe]);if(b(_e),this.autoPaging)for(var ae=_e[0],ve=_e[_e.length-1],Ee=ae;Ee<ve+1;Ee++){this.pdf.setPage(Ee);var Fe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ue=Ee===1?this.posY+this.margin[0]:this.margin[0],Ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ve=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ze=Ee===1?0:Ge+(Ee-2)*Ve;if(this.ctx.clip_path.length!==0){var Ke=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(te,this.posX+this.margin[3],-ze+Ue+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=Ke}var be=JSON.parse(JSON.stringify(Te));be=y([be],this.posX+this.margin[3],-ze+Ue+this.ctx.prevPageLastElemOffset)[0];var Be=(Ee>ae||Ee<ve)&&g.call(this);Be&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fe,Ve,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",be.x,be.y,be.w,be.h,null,null,ge),Be&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(T,"JPEG",Te.x,Te.y,Te.w,Te.h,null,null,ge)};var p=function(T,z,q){var Y=[];z=z||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var U=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":Y.push(Math.floor((T.y+U)/q)+1);break;case"arc":Y.push(Math.floor((T.y+U-T.radius)/q)+1),Y.push(Math.floor((T.y+U+T.radius)/q)+1);break;case"qct":var Q=x(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);Y.push(Math.floor((Q.y+U)/q)+1),Y.push(Math.floor((Q.y+Q.h+U)/q)+1);break;case"bct":var F=R(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);Y.push(Math.floor((F.y+U)/q)+1),Y.push(Math.floor((F.y+F.h+U)/q)+1);break;case"rect":Y.push(Math.floor((T.y+U)/q)+1),Y.push(Math.floor((T.y+T.h+U)/q)+1)}for(var O=0;O<Y.length;O+=1)for(;this.pdf.internal.getNumberOfPages()<Y[O];)v.call(this);return Y},v=function(){var T=this.fillStyle,z=this.strokeStyle,q=this.font,Y=this.lineCap,U=this.lineWidth,Q=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=z,this.font=q,this.lineCap=Y,this.lineWidth=U,this.lineJoin=Q},y=function(T,z,q){for(var Y=0;Y<T.length;Y++)switch(T[Y].type){case"bct":T[Y].x2+=z,T[Y].y2+=q;case"qct":T[Y].x1+=z,T[Y].y1+=q;case"mt":case"lt":case"arc":default:T[Y].x+=z,T[Y].y+=q}return T},b=function(T){return T.sort(function(z,q){return z-q})},E=function(T,z){for(var q,Y,U=this.fillStyle,Q=this.strokeStyle,F=this.lineCap,O=this.lineWidth,K=Math.abs(O*this.ctx.transform.scaleX),ne=this.lineJoin,ee=JSON.parse(JSON.stringify(this.path)),ie=JSON.parse(JSON.stringify(this.path)),he=[],ce=0;ce<ie.length;ce++)if(ie[ce].x!==void 0)for(var te=p.call(this,ie[ce]),se=0;se<te.length;se+=1)he.indexOf(te[se])===-1&&he.push(te[se]);for(var ge=0;ge<he.length;ge++)for(;this.pdf.internal.getNumberOfPages()<he[ge];)v.call(this);if(b(he),this.autoPaging)for(var de=he[0],Te=he[he.length-1],De=de;De<Te+1;De++){this.pdf.setPage(De),this.fillStyle=U,this.strokeStyle=Q,this.lineCap=F,this.lineWidth=K,this.lineJoin=ne;var _e=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],fe=De===1?this.posY+this.margin[0]:this.margin[0],ae=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ve=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ee=De===1?0:ae+(De-2)*ve;if(this.ctx.clip_path.length!==0){var Fe=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(q,this.posX+this.margin[3],-Ee+fe+this.ctx.prevPageLastElemOffset),N.call(this,T,!0),this.path=Fe}if(Y=JSON.parse(JSON.stringify(ee)),this.path=y(Y,this.posX+this.margin[3],-Ee+fe+this.ctx.prevPageLastElemOffset),z===!1||De===0){var Ue=(De>de||De<Te)&&g.call(this);Ue&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_e,ve,null).clip().discardPath()),N.call(this,T,z),Ue&&this.pdf.restoreGraphicsState()}this.lineWidth=O}else this.lineWidth=K,N.call(this,T,z),this.lineWidth=O;this.path=ee},N=function(T,z){if((T!=="stroke"||z||!m.call(this))&&(T==="stroke"||z||!f.call(this))){for(var q,Y,U=[],Q=this.path,F=0;F<Q.length;F++){var O=Q[F];switch(O.type){case"begin":U.push({begin:!0});break;case"close":U.push({close:!0});break;case"mt":U.push({start:O,deltas:[],abs:[]});break;case"lt":var K=U.length;if(Q[F-1]&&!isNaN(Q[F-1].x)&&(q=[O.x-Q[F-1].x,O.y-Q[F-1].y],K>0)){for(;K>=0;K--)if(U[K-1].close!==!0&&U[K-1].begin!==!0){U[K-1].deltas.push(q),U[K-1].abs.push(O);break}}break;case"bct":q=[O.x1-Q[F-1].x,O.y1-Q[F-1].y,O.x2-Q[F-1].x,O.y2-Q[F-1].y,O.x-Q[F-1].x,O.y-Q[F-1].y],U[U.length-1].deltas.push(q);break;case"qct":var ne=Q[F-1].x+2/3*(O.x1-Q[F-1].x),ee=Q[F-1].y+2/3*(O.y1-Q[F-1].y),ie=O.x+2/3*(O.x1-O.x),he=O.y+2/3*(O.y1-O.y),ce=O.x,te=O.y;q=[ne-Q[F-1].x,ee-Q[F-1].y,ie-Q[F-1].x,he-Q[F-1].y,ce-Q[F-1].x,te-Q[F-1].y],U[U.length-1].deltas.push(q);break;case"arc":U.push({deltas:[],abs:[],arc:!0}),Array.isArray(U[U.length-1].abs)&&U[U.length-1].abs.push(O)}}Y=z?null:T==="stroke"?"stroke":"fill";for(var se=!1,ge=0;ge<U.length;ge++)if(U[ge].arc)for(var de=U[ge].abs,Te=0;Te<de.length;Te++){var De=de[Te];De.type==="arc"?C.call(this,De.x,De.y,De.radius,De.startAngle,De.endAngle,De.counterclockwise,void 0,z,!se):k.call(this,De.x,De.y),se=!0}else if(U[ge].close===!0)this.pdf.internal.out("h"),se=!1;else if(U[ge].begin!==!0){var _e=U[ge].start.x,fe=U[ge].start.y;M.call(this,U[ge].deltas,_e,fe),se=!0}Y&&I.call(this,Y),z&&V.call(this)}},j=function(T){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-q;case"top":return T+z-q;case"hanging":return T+z-2*q;case"middle":return T+z/2-q;case"ideographic":return T;case"alphabetic":default:return T}},D=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function(z,q){this.colorStops.push([z,q])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var C=function(T,z,q,Y,U,Q,F,O,K){for(var ne=w.call(this,q,Y,U,Q),ee=0;ee<ne.length;ee++){var ie=ne[ee];ee===0&&(K?B.call(this,ie.x1+T,ie.y1+z):k.call(this,ie.x1+T,ie.y1+z)),A.call(this,T,z,ie.x2,ie.y2,ie.x3,ie.y3,ie.x4,ie.y4)}O?V.call(this):I.call(this,F)},I=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},V=function(){this.pdf.clip(),this.pdf.discardPath()},B=function(T,z){this.pdf.internal.out(t(T)+" "+n(z)+" m")},P=function(T){var z;switch(T.align){case"right":case"end":z="right";break;case"center":z="center";break;case"left":case"start":default:z="left"}var q=this.pdf.getTextDimensions(T.text),Y=j.call(this,T.y),U=D.call(this,Y)-q.h,Q=this.ctx.transform.applyToPoint(new a(T.x,Y)),F=this.ctx.transform.decompose(),O=new l;O=(O=(O=O.multiply(F.translate)).multiply(F.skew)).multiply(F.scale);for(var K,ne,ee,ie=this.ctx.transform.applyToRectangle(new o(T.x,Y,q.w,q.h)),he=O.applyToRectangle(new o(T.x,U,q.w,q.h)),ce=p.call(this,he),te=[],se=0;se<ce.length;se+=1)te.indexOf(ce[se])===-1&&te.push(ce[se]);if(b(te),this.autoPaging)for(var ge=te[0],de=te[te.length-1],Te=ge;Te<de+1;Te++){this.pdf.setPage(Te);var De=Te===1?this.posY+this.margin[0]:this.margin[0],_e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],fe=this.pdf.internal.pageSize.height-this.margin[2],ae=fe-this.margin[0],ve=this.pdf.internal.pageSize.width-this.margin[1],Ee=ve-this.margin[3],Fe=Te===1?0:_e+(Te-2)*ae;if(this.ctx.clip_path.length!==0){var Ue=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(K,this.posX+this.margin[3],-1*Fe+De),N.call(this,"fill",!0),this.path=Ue}var Ge=y([JSON.parse(JSON.stringify(he))],this.posX+this.margin[3],-Fe+De+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*T.scale),ee=this.lineWidth,this.lineWidth=ee*T.scale);var Ve=this.autoPaging!=="text";if(Ve||Ge.y+Ge.h<=fe){if(Ve||Ge.y>=De&&Ge.x<=ve){var ze=Ve?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||ve-Ge.x)[0],Ke=y([JSON.parse(JSON.stringify(ie))],this.posX+this.margin[3],-Fe+De+this.ctx.prevPageLastElemOffset)[0],be=Ve&&(Te>ge||Te<de)&&g.call(this);be&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ee,ae,null).clip().discardPath()),this.pdf.text(ze,Ke.x,Ke.y,{angle:T.angle,align:z,renderingMode:T.renderingMode}),be&&this.pdf.restoreGraphicsState()}}else Ge.y<fe&&(this.ctx.prevPageLastElemOffset+=fe-Ge.y);T.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=ee)}else T.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*T.scale),ee=this.lineWidth,this.lineWidth=ee*T.scale),this.pdf.text(T.text,Q.x+this.posX,Q.y+this.posY,{angle:T.angle,align:z,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=ee)},k=function(T,z,q,Y){q=q||0,Y=Y||0,this.pdf.internal.out(t(T+q)+" "+n(z+Y)+" l")},M=function(T,z,q){return this.pdf.lines(T,z,q,null,null)},A=function(T,z,q,Y,U,Q,F,O){this.pdf.internal.out([e(s(q+T)),e(i(Y+z)),e(s(U+T)),e(i(Q+z)),e(s(F+T)),e(i(O+z)),"c"].join(" "))},w=function(T,z,q,Y){for(var U=2*Math.PI,Q=Math.PI/2;z>q;)z-=U;var F=Math.abs(q-z);F<U&&Y&&(F=U-F);for(var O=[],K=Y?-1:1,ne=z;F>1e-5;){var ee=ne+K*Math.min(F,Q);O.push(S.call(this,T,ne,ee)),F-=Math.abs(ee-ne),ne=ee}return O},S=function(T,z,q){var Y=(q-z)/2,U=T*Math.cos(Y),Q=T*Math.sin(Y),F=U,O=-Q,K=F*F+O*O,ne=K+F*U+O*Q,ee=4/3*(Math.sqrt(2*K*ne)-ne)/(F*Q-O*U),ie=F-ee*O,he=O+ee*F,ce=ie,te=-he,se=Y+z,ge=Math.cos(se),de=Math.sin(se);return{x1:T*Math.cos(z),y1:T*Math.sin(z),x2:ie*ge-he*de,y2:ie*de+he*ge,x3:ce*ge-te*de,y3:ce*de+te*ge,x4:T*Math.cos(q),y4:T*Math.sin(q)}},_=function(T){return 180*T/Math.PI},x=function(T,z,q,Y,U,Q){var F=T+.5*(q-T),O=z+.5*(Y-z),K=U+.5*(q-U),ne=Q+.5*(Y-Q),ee=Math.min(T,U,F,K),ie=Math.max(T,U,F,K),he=Math.min(z,Q,O,ne),ce=Math.max(z,Q,O,ne);return new o(ee,he,ie-ee,ce-he)},R=function(T,z,q,Y,U,Q,F,O){var K,ne,ee,ie,he,ce,te,se,ge,de,Te,De,_e,fe,ae=q-T,ve=Y-z,Ee=U-q,Fe=Q-Y,Ue=F-U,Ge=O-Q;for(ne=0;ne<41;ne++)ge=(te=(ee=T+(K=ne/40)*ae)+K*((he=q+K*Ee)-ee))+K*(he+K*(U+K*Ue-he)-te),de=(se=(ie=z+K*ve)+K*((ce=Y+K*Fe)-ie))+K*(ce+K*(Q+K*Ge-ce)-se),ne==0?(Te=ge,De=de,_e=ge,fe=de):(Te=Math.min(Te,ge),De=Math.min(De,de),_e=Math.max(_e,ge),fe=Math.max(fe,de));return new o(Math.round(Te),Math.round(De),Math.round(_e-Te),Math.round(fe-De))},W=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,z,q=(T=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:z}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(ur.API),function(r){var e=function(i){var a,o,l,c,u,d,h,f,m,g;for(o=[],l=0,c=(i+=a="\0\0\0\0".slice(i.length%4||4)).length;c>l;l+=4)(u=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(d=(u=((u=((u=((u=(u-(g=u%85))/85)-(m=u%85))/85)-(f=u%85))/85)-(h=u%85))/85)%85,o.push(d+33,h+33,f+33,m+33,g+33)):o.push(122);return function(p,v){for(var y=v;y>0;y--)p.pop()}(o,a.length),String.fromCharCode.apply(String,o)+"~>"},t=function(i){var a,o,l,c,u,d=String,h="length",f=255,m="charCodeAt",g="slice",p="replace";for(i[g](-2),i=i[g](0,-2)[p](/\s/g,"")[p]("z","!!!!!"),l=[],c=0,u=(i+=a="uuuuu"[g](i[h]%5||5))[h];u>c;c+=5)o=52200625*(i[m](c)-33)+614125*(i[m](c+1)-33)+7225*(i[m](c+2)-33)+85*(i[m](c+3)-33)+(i[m](c+4)-33),l.push(f&o>>24,f&o>>16,f&o>>8,f&o);return function(v,y){for(var b=y;b>0;b--)v.pop()}(l,a[h]),d.fromCharCode.apply(d,l)},n=function(i){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),a.test(i)===!1)return"";for(var o="",l=0;l<i.length;l+=2)o+=String.fromCharCode("0x"+(i[l]+i[l+1]));return o},s=function(i){for(var a=new Uint8Array(i.length),o=i.length;o--;)a[o]=i.charCodeAt(o);return i=(a=Zw(a)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};r.processDataByFilters=function(i,a){var o=0,l=i||"",c=[];for(typeof(a=a||[])=="string"&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":l=t(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=s(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(ur.API),function(r){r.loadFile=function(e,t,n){return function(s,i,a){i=i!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,c,u){var d=new XMLHttpRequest,h=0,f=function(m){var g=m.length,p=[],v=String.fromCharCode;for(h=0;h<g;h+=1)p.push(v(255&m.charCodeAt(h)));return p.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?u(f(this.responseText)):u(void 0)}),d.send(null),c&&d.status===200)return f(d.responseText)}(s,i,a)}catch{}return o}(e,t,n)},r.loadImageFile=r.loadFile}(ur.API),function(r){function e(){return(fr.html2canvas?Promise.resolve(fr.html2canvas):ho(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function t(){return(fr.DOMPurify?Promise.resolve(fr.DOMPurify):ho(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var o=zr(a);return o==="undefined"?"undefined":o==="string"||a instanceof String?"string":o==="number"||a instanceof Number?"number":o==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":o==="object"?"object":"unknown"},s=function(a,o){var l=document.createElement(a);for(var c in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[c]=o.style[c];return l},i=function a(o){var l=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),c=a.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,a,1,[a])).set(o)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(a,o){return a.__proto__=o||i.prototype,a},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(a,o){return this.then(function(){switch(o=o||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(t).then(function(l){return this.set({src:s("div",{innerHTML:a,dompurify:l})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},i.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||d.appendChild(l(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var h=0;h<c.length;++h){var f=c[h],m=f.src.find(function(g){return g.format==="truetype"});m&&l.addFont(m.url,f.ref.name,f.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),o(this.prop.container,d)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(a,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(a,o):this.outputPdf(a,o)},i.prototype.outputPdf=function(a,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,o)})},i.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},i.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(a){if(n(a)!=="object")return this;var o=Object.keys(a||{}).map(function(l){if(l in i.template.prop)return function(){this.prop[l]=a[l]};switch(l){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[l]=a[l]}}},this);return this.then(function(){return this.thenList(o)})},i.prototype.get=function(a,o){return this.then(function(){var l=a in i.template.prop?this.prop[a]:this.opt[a];return o?o(l):l})},i.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},i.prototype.setPageSize=function(a){function o(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(a=a||ur.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:o(a.inner.width,a.k),height:o(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},i.prototype.setProgress=function(a,o,l,c){return a!=null&&(this.progress.val=a),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(a,o,l,c){return this.setProgress(a?this.progress.val+a:null,o||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},i.prototype.then=function(a,o){var l=this;return this.thenCore(a,o,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,c),d}).then(c,u).then(function(d){return l.updateProgress(1),d})})},i.prototype.thenCore=function(a,o,l){l=l||Promise.prototype.then,a&&(a=a.bind(this)),o&&(o=o.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),u=l.call(c,a,o);return i.convert(u,this.__proto__)},i.prototype.thenExternal=function(a,o){return Promise.prototype.then.call(this,a,o)},i.prototype.thenList=function(a){var o=this;return a.forEach(function(l){o=o.thenCore(l)}),o},i.prototype.catch=function(a){a&&(a=a.bind(this));var o=Promise.prototype.catch.call(this,a);return i.convert(o,this)},i.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},i.prototype.error=function(a){return this.then(function(){throw new Error(a)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,ur.getPageSize=function(a,o,l){if(zr(a)==="object"){var c=a;a=c.orientation,o=c.unit||o,l=c.format||l}o=o||"mm",l=l||"a4",a=(""+(a||"P")).toLowerCase();var u,d=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+o}var f,m=0,g=0;if(h.hasOwnProperty(d))m=h[d][1]/u,g=h[d][0]/u;else try{m=l[1],g=l[0]}catch{throw new Error("Invalid format: "+l)}if(a==="p"||a==="portrait")a="p",g>m&&(f=g,g=m,m=f);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",m>g&&(f=g,g=m,m=f)}return{width:g,height:m,unit:o,k:u,orientation:a}},r.html=function(a,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(ix):null;var l=new i(o);return o.worker?l:l.from(a).doCallback()}}(ur.API),ur.API.addJS=function(r){return D8=r,this.internal.events.subscribe("postPutResources",function(){vg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(vg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),N8=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+D8+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){vg!==void 0&&N8!==void 0&&this.internal.out("/Names <</JavaScript "+vg+" 0 R>>")}),this},function(r){var e;r.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),i=0;i<s.length;i++){var a=s[i],o=n.exec(a);if(o!=null){var l=o[1];t.internal.newObjectDeferredBegin(l,!1)}t.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(i=0;i<c;i++){var d=t.internal.newObject();u.push(d);var h=t.internal.getPageInfo(i+1);t.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var f=t.internal.newObject();for(t.internal.write("<< /Names [ "),i=0;i<u.length;i++)t.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+f+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,s,i){var a={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(a),a},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var a=n.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=t.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])}(ur.API),function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,n,s,i,a,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=a||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(l=function(d){for(var h,f=256*d.charCodeAt(4)+d.charCodeAt(5),m=d.length,g={width:0,height:0,numcomponents:1},p=4;p<m;p+=2){if(p+=f,e.indexOf(d.charCodeAt(p+1))!==-1){h=256*d.charCodeAt(p+5)+d.charCodeAt(p+6),g={width:256*d.charCodeAt(p+7)+d.charCodeAt(p+8),height:h,numcomponents:d.charCodeAt(p+9)};break}f=256*d.charCodeAt(p+2)+d.charCodeAt(p+3)}return g}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:t,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:s}}return u}}(ur.API);var tf,yg,R8,I8,P8,kQ=function(){var r,e,t;function n(i){var a,o,l,c,u,d,h,f,m,g,p,v,y,b;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(a=this.readUInt32(),m=(function(){var E,N;for(N=[],E=0;E<4;++E)N.push(String.fromCharCode(this.data[this.pos++]));return N}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,d.delay=1e3*u/c,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(m==="fdAT"&&(this.pos+=4,a-=4),i=(d!=null?d.data:void 0)||this.imgData,v=0;0<=a?v<a:v>a;0<=a?++v:--v)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((g=l-this.transparency.indexed.length)>0)for(y=0;0<=g?y<g:y>g;0<=g?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":h=(p=this.read(a)).indexOf(0),f=String.fromCharCode.apply(String,p.slice(0,h)),this.text[f]=String.fromCharCode.apply(String,p.slice(h+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(b=this.colorType)===4||b===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var a,o;for(o=[],a=0;0<=i?a<i:a>i;0<=i?++a:--a)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var a=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*a),l=0,c=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function u(d,h,f,m){var g,p,v,y,b,E,N,j,D,C,I,V,B,P,k,M,A,w,S,_,x,R=Math.ceil((c.width-d)/f),W=Math.ceil((c.height-h)/m),T=c.width==R&&c.height==W;for(P=a*R,V=T?o:new Uint8Array(P*W),E=i.length,B=0,p=0;B<W&&l<E;){switch(i[l++]){case 0:for(y=A=0;A<P;y=A+=1)V[p++]=i[l++];break;case 1:for(y=w=0;w<P;y=w+=1)g=i[l++],b=y<a?0:V[p-a],V[p++]=(g+b)%256;break;case 2:for(y=S=0;S<P;y=S+=1)g=i[l++],v=(y-y%a)/a,k=B&&V[(B-1)*P+v*a+y%a],V[p++]=(k+g)%256;break;case 3:for(y=_=0;_<P;y=_+=1)g=i[l++],v=(y-y%a)/a,b=y<a?0:V[p-a],k=B&&V[(B-1)*P+v*a+y%a],V[p++]=(g+Math.floor((b+k)/2))%256;break;case 4:for(y=x=0;x<P;y=x+=1)g=i[l++],v=(y-y%a)/a,b=y<a?0:V[p-a],B===0?k=M=0:(k=V[(B-1)*P+v*a+y%a],M=v&&V[(B-1)*P+(v-1)*a+y%a]),N=b+k-M,j=Math.abs(N-b),C=Math.abs(N-k),I=Math.abs(N-M),D=j<=C&&j<=I?b:C<=I?k:M,V[p++]=(g+D)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!T){var z=((h+B*m)*c.width+d)*a,q=B*P;for(y=0;y<R;y+=1){for(var Y=0;Y<a;Y+=1)o[z++]=V[q++];z+=(f-1)*a}}B++}}return i=nQ(i),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),o},n.prototype.decodePalette=function(){var i,a,o,l,c,u,d,h,f;for(o=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+o.length),l=0,i=0,a=d=0,h=o.length;d<h;a=d+=3)c[l++]=o[a],c[l++]=o[a+1],c[l++]=o[a+2],c[l++]=(f=u[i++])!=null?f:255;return c},n.prototype.copyToImageData=function(i,a){var o,l,c,u,d,h,f,m,g,p,v;if(l=this.colors,g=null,o=this.hasAlphaChannel,this.palette.length&&(g=(v=this._decodedPalette)!=null?v:this._decodedPalette=this.decodePalette(),l=4,o=!0),m=(c=i.data||i).length,d=g||a,u=h=0,l===1)for(;u<m;)f=g?4*a[u/4]:h,p=d[f++],c[u++]=p,c[u++]=p,c[u++]=p,c[u++]=o?d[f++]:255,h=f;else for(;u<m;)f=g?4*a[u/4]:h,c[u++]=d[f++],c[u++]=d[f++],c[u++]=d[f++],c[u++]=o?d[f++]:255,h=f},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var s=function(){if(Object.prototype.toString.call(fr)==="[object Window]"){try{e=fr.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return s(),r=function(i){var a;if(s()===!0)return t.width=i.width,t.height=i.height,t.clearRect(0,0,i.width,i.height),t.putImageData(i,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var a,o,l,c,u,d,h,f;if(this.animation){for(f=[],o=u=0,d=(h=this.animation.frames).length;u<d;o=++u)a=h[o],l=i.createImageData(a.width,a.height),c=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(l,c),a.imageData=l,f.push(a.image=r(l));return f}},n.prototype.renderFrame=function(i,a){var o,l,c;return o=(l=this.animation.frames)[a],c=l[a-1],a===0&&i.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?i.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&i.putImageData(c.imageData,c.xOffset,c.yOffset),o.blendOp===0&&i.clearRect(o.xOffset,o.yOffset,o.width,o.height),i.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(i){var a,o,l,c,u,d,h=this;return o=0,d=this.animation,c=d.numFrames,l=d.frames,u=d.numPlays,(a=function(){var f,m;if(f=o++%c,m=l[f],h.renderFrame(i,f),c>1&&o/c<u)return h.animation._timeout=setTimeout(a,m.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var a,o;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,a=i.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(o=a.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),a.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function AQ(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,n=r[e++]|r[e++]<<8,s=r[e++],i=s>>7,a=1<<(7&s)+1;r[e++],r[e++];var o=null,l=null;i&&(o=e,l=a,e+=3*a);var c=!0,u=[],d=0,h=null,f=0,m=null;for(this.width=t,this.height=n;c&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,m=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((B=r[e++])>=0))throw Error("Invalid block size");if(B===0)break;e+=B}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var g=r[e++];d=r[e++]|r[e++]<<8,h=r[e++],!(1&g)&&(h=null),f=g>>2&7,e++;break;case 254:for(;;){if(!((B=r[e++])>=0))throw Error("Invalid block size");if(B===0)break;e+=B}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var p=r[e++]|r[e++]<<8,v=r[e++]|r[e++]<<8,y=r[e++]|r[e++]<<8,b=r[e++]|r[e++]<<8,E=r[e++],N=E>>6&1,j=1<<(7&E)+1,D=o,C=l,I=!1;E>>7&&(I=!0,D=e,C=j,e+=3*j);var V=e;for(e++;;){var B;if(!((B=r[e++])>=0))throw Error("Invalid block size");if(B===0)break;e+=B}u.push({x:p,y:v,width:y,height:b,has_local_palette:I,palette_offset:D,palette_size:C,data_offset:V,data_length:e-V,transparent_index:h,interlaced:!!N,delay:d,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return m},this.frameInfo=function(P){if(P<0||P>=u.length)throw new Error("Frame index out of range.");return u[P]},this.decodeAndBlitFrameBGRA=function(P,k){var M=this.frameInfo(P),A=M.width*M.height,w=new Uint8Array(A);O8(r,M.data_offset,w,A);var S=M.palette_offset,_=M.transparent_index;_===null&&(_=256);var x=M.width,R=t-x,W=x,T=4*(M.y*t+M.x),z=4*((M.y+M.height)*t+M.x),q=T,Y=4*R;M.interlaced===!0&&(Y+=4*t*7);for(var U=8,Q=0,F=w.length;Q<F;++Q){var O=w[Q];if(W===0&&(W=x,(q+=Y)>=z&&(Y=4*R+4*t*(U-1),q=T+(x+R)*(U<<1),U>>=1)),O===_)q+=4;else{var K=r[S+3*O],ne=r[S+3*O+1],ee=r[S+3*O+2];k[q++]=ee,k[q++]=ne,k[q++]=K,k[q++]=255}--W}},this.decodeAndBlitFrameRGBA=function(P,k){var M=this.frameInfo(P),A=M.width*M.height,w=new Uint8Array(A);O8(r,M.data_offset,w,A);var S=M.palette_offset,_=M.transparent_index;_===null&&(_=256);var x=M.width,R=t-x,W=x,T=4*(M.y*t+M.x),z=4*((M.y+M.height)*t+M.x),q=T,Y=4*R;M.interlaced===!0&&(Y+=4*t*7);for(var U=8,Q=0,F=w.length;Q<F;++Q){var O=w[Q];if(W===0&&(W=x,(q+=Y)>=z&&(Y=4*R+4*t*(U-1),q=T+(x+R)*(U<<1),U>>=1)),O===_)q+=4;else{var K=r[S+3*O],ne=r[S+3*O+1],ee=r[S+3*O+2];k[q++]=K,k[q++]=ne,k[q++]=ee,k[q++]=255}--W}}}function O8(r,e,t,n){for(var s=r[e++],i=1<<s,a=i+1,o=a+1,l=s+1,c=(1<<l)-1,u=0,d=0,h=0,f=r[e++],m=new Int32Array(4096),g=null;;){for(;u<16&&f!==0;)d|=r[e++]<<u,u+=8,f===1?f=r[e++]:--f;if(u<l)break;var p=d&c;if(d>>=l,u-=l,p!==i){if(p===a)break;for(var v=p<o?p:g,y=0,b=v;b>i;)b=m[b]>>8,++y;var E=b;if(h+y+(v!==p?1:0)>n)return void hn.log("Warning, gif stream longer than expected.");t[h++]=E;var N=h+=y;for(v!==p&&(t[h++]=E),b=v;y--;)b=m[b],t[--N]=255&b,b>>=8;g!==null&&o<4096&&(m[o++]=g<<8|E,o>=c+1&&l<12&&(++l,c=c<<1|1)),g=p}else o=a+1,c=(1<<(l=s+1))-1,g=null}return h!==n&&hn.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function eb(r){var e,t,n,s,i,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),h=new Array(65535),f=new Array(64),m=new Array(64),g=[],p=0,v=7,y=new Array(64),b=new Array(64),E=new Array(64),N=new Array(256),j=new Array(2048),D=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],B=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],A=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function w(T,z){for(var q=0,Y=0,U=new Array,Q=1;Q<=16;Q++){for(var F=1;F<=T[Q];F++)U[z[Y]]=[],U[z[Y]][0]=q,U[z[Y]][1]=Q,Y++,q++;q*=2}return U}function S(T){for(var z=T[0],q=T[1]-1;q>=0;)z&1<<q&&(p|=1<<v),q--,--v<0&&(p==255?(_(255),_(0)):_(p),v=7,p=0)}function _(T){g.push(T)}function x(T){_(T>>8&255),_(255&T)}function R(T,z,q,Y,U){for(var Q,F=U[0],O=U[240],K=function(de,Te){var De,_e,fe,ae,ve,Ee,Fe,Ue,Ge,Ve,ze=0;for(Ge=0;Ge<8;++Ge){De=de[ze],_e=de[ze+1],fe=de[ze+2],ae=de[ze+3],ve=de[ze+4],Ee=de[ze+5],Fe=de[ze+6];var Ke=De+(Ue=de[ze+7]),be=De-Ue,Be=_e+Fe,He=_e-Fe,Me=fe+Ee,Le=fe-Ee,Xe=ae+ve,Je=ae-ve,et=Ke+Xe,xt=Ke-Xe,pt=Be+Me,wt=Be-Me;de[ze]=et+pt,de[ze+4]=et-pt;var mt=.707106781*(wt+xt);de[ze+2]=xt+mt,de[ze+6]=xt-mt;var gt=.382683433*((et=Je+Le)-(wt=He+be)),ft=.5411961*et+gt,Nt=1.306562965*wt+gt,Ht=.707106781*(pt=Le+He),$t=be+Ht,_t=be-Ht;de[ze+5]=_t+ft,de[ze+3]=_t-ft,de[ze+1]=$t+Nt,de[ze+7]=$t-Nt,ze+=8}for(ze=0,Ge=0;Ge<8;++Ge){De=de[ze],_e=de[ze+8],fe=de[ze+16],ae=de[ze+24],ve=de[ze+32],Ee=de[ze+40],Fe=de[ze+48];var er=De+(Ue=de[ze+56]),Gt=De-Ue,We=_e+Fe,Qe=_e-Fe,ht=fe+Ee,ue=fe-Ee,Pe=ae+ve,ye=ae-ve,ke=er+Pe,Re=er-Pe,Ie=We+ht,Ye=We-ht;de[ze]=ke+Ie,de[ze+32]=ke-Ie;var st=.707106781*(Ye+Re);de[ze+16]=Re+st,de[ze+48]=Re-st;var tt=.382683433*((ke=ye+ue)-(Ye=Qe+Gt)),ct=.5411961*ke+tt,ot=1.306562965*Ye+tt,At=.707106781*(Ie=ue+Qe),Ot=Gt+At,Vt=Gt-At;de[ze+40]=Vt+ct,de[ze+24]=Vt-ct,de[ze+8]=Ot+ot,de[ze+56]=Ot-ot,ze++}for(Ge=0;Ge<64;++Ge)Ve=de[Ge]*Te[Ge],f[Ge]=Ve>0?Ve+.5|0:Ve-.5|0;return f}(T,z),ne=0;ne<64;++ne)m[D[ne]]=K[ne];var ee=m[0]-q;q=m[0],ee==0?S(Y[0]):(S(Y[h[Q=32767+ee]]),S(d[Q]));for(var ie=63;ie>0&&m[ie]==0;)ie--;if(ie==0)return S(F),q;for(var he,ce=1;ce<=ie;){for(var te=ce;m[ce]==0&&ce<=ie;)++ce;var se=ce-te;if(se>=16){he=se>>4;for(var ge=1;ge<=he;++ge)S(O);se&=15}Q=32767+m[ce],S(U[(se<<4)+h[Q]]),S(d[Q]),ce++}return ie!=63&&S(F),q}function W(T){T=Math.min(Math.max(T,1),100),i!=T&&(function(z){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Y=0;Y<64;Y++){var U=a((q[Y]*z+50)/100);U=Math.min(Math.max(U,1),255),o[D[Y]]=U}for(var Q=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],F=0;F<64;F++){var O=a((Q[F]*z+50)/100);O=Math.min(Math.max(O,1),255),l[D[F]]=O}for(var K=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ne=0,ee=0;ee<8;ee++)for(var ie=0;ie<8;ie++)c[ne]=1/(o[D[ne]]*K[ee]*K[ie]*8),u[ne]=1/(l[D[ne]]*K[ee]*K[ie]*8),ne++}(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),i=T)}this.encode=function(T,z){z&&W(z),g=new Array,p=0,v=7,x(65496),x(65504),x(16),_(74),_(70),_(73),_(70),_(0),_(1),_(1),_(0),x(1),x(1),_(0),_(0),function(){x(65499),x(132),_(0);for(var _e=0;_e<64;_e++)_(o[_e]);_(1);for(var fe=0;fe<64;fe++)_(l[fe])}(),function(_e,fe){x(65472),x(17),_(8),x(fe),x(_e),_(3),_(1),_(17),_(0),_(2),_(17),_(1),_(3),_(17),_(1)}(T.width,T.height),function(){x(65476),x(418),_(0);for(var _e=0;_e<16;_e++)_(C[_e+1]);for(var fe=0;fe<=11;fe++)_(I[fe]);_(16);for(var ae=0;ae<16;ae++)_(V[ae+1]);for(var ve=0;ve<=161;ve++)_(B[ve]);_(1);for(var Ee=0;Ee<16;Ee++)_(P[Ee+1]);for(var Fe=0;Fe<=11;Fe++)_(k[Fe]);_(17);for(var Ue=0;Ue<16;Ue++)_(M[Ue+1]);for(var Ge=0;Ge<=161;Ge++)_(A[Ge])}(),x(65498),x(12),_(3),_(1),_(0),_(2),_(17),_(3),_(17),_(0),_(63),_(0);var q=0,Y=0,U=0;p=0,v=7,this.encode.displayName="_encode_";for(var Q,F,O,K,ne,ee,ie,he,ce,te=T.data,se=T.width,ge=T.height,de=4*se,Te=0;Te<ge;){for(Q=0;Q<de;){for(ne=de*Te+Q,ie=-1,he=0,ce=0;ce<64;ce++)ee=ne+(he=ce>>3)*de+(ie=4*(7&ce)),Te+he>=ge&&(ee-=de*(Te+1+he-ge)),Q+ie>=de&&(ee-=Q+ie-de+4),F=te[ee++],O=te[ee++],K=te[ee++],y[ce]=(j[F]+j[O+256>>0]+j[K+512>>0]>>16)-128,b[ce]=(j[F+768>>0]+j[O+1024>>0]+j[K+1280>>0]>>16)-128,E[ce]=(j[F+1280>>0]+j[O+1536>>0]+j[K+1792>>0]>>16)-128;q=R(y,c,q,e,n),Y=R(b,u,Y,t,s),U=R(E,u,U,t,s),Q+=32}Te+=8}if(v>=0){var De=[];De[1]=v+1,De[0]=(1<<v+1)-1,S(De)}return x(65497),new Uint8Array(g)},r=r||50,function(){for(var T=String.fromCharCode,z=0;z<256;z++)N[z]=T(z)}(),e=w(C,I),t=w(P,k),n=w(V,B),s=w(M,A),function(){for(var T=1,z=2,q=1;q<=15;q++){for(var Y=T;Y<z;Y++)h[32767+Y]=q,d[32767+Y]=[],d[32767+Y][1]=q,d[32767+Y][0]=Y;for(var U=-(z-1);U<=-T;U++)h[32767+U]=q,d[32767+U]=[],d[32767+U][1]=q,d[32767+U][0]=z-1+U;T<<=1,z<<=1}}(),function(){for(var T=0;T<256;T++)j[T]=19595*T,j[T+256>>0]=38470*T,j[T+512>>0]=7471*T+32768,j[T+768>>0]=-11059*T,j[T+1024>>0]=-21709*T,j[T+1280>>0]=32768*T+8421375,j[T+1536>>0]=-27439*T,j[T+1792>>0]=-5329*T}(),W(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Xa(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function M8(r){function e(C){if(!C)throw Error("assert :P")}function t(C,I,V){for(var B=0;4>B;B++)if(C[I+B]!=V.charCodeAt(B))return!0;return!1}function n(C,I,V,B,P){for(var k=0;k<P;k++)C[I+k]=V[B+k]}function s(C,I,V,B){for(var P=0;P<B;P++)C[I+P]=V}function i(C){return new Int32Array(C)}function a(C,I){for(var V=[],B=0;B<C;B++)V.push(new I);return V}function o(C,I){var V=[];return function B(P,k,M){for(var A=M[k],w=0;w<A&&(P.push(M.length>k+1?[]:new I),!(M.length<k+1));w++)B(P[w],k+1,M)}(V,0,C),V}var l=function(){var C=this;function I(L,X){for(var Z=1<<X-1>>>0;L&Z;)Z>>>=1;return Z?(L&Z-1)+Z:L}function V(L,X,Z,oe,me){e(!(oe%Z));do L[X+(oe-=Z)]=me;while(0<oe)}function B(L,X,Z,oe,me){if(e(2328>=me),512>=me)var we=i(512);else if((we=i(me))==null)return 0;return function(xe,Ne,Oe,je,rt,vt){var yt,ut,It=Ne,Et=1<<Oe,nt=i(16),it=i(16);for(e(rt!=0),e(je!=null),e(xe!=null),e(0<Oe),ut=0;ut<rt;++ut){if(15<je[ut])return 0;++nt[je[ut]]}if(nt[0]==rt)return 0;for(it[1]=0,yt=1;15>yt;++yt){if(nt[yt]>1<<yt)return 0;it[yt+1]=it[yt]+nt[yt]}for(ut=0;ut<rt;++ut)yt=je[ut],0<je[ut]&&(vt[it[yt]++]=ut);if(it[15]==1)return(je=new P).g=0,je.value=vt[0],V(xe,It,1,Et,je),Et;var Ct,Mt=-1,Dt=Et-1,Kt=0,zt=1,or=1,Wt=1<<Oe;for(ut=0,yt=1,rt=2;yt<=Oe;++yt,rt<<=1){if(zt+=or<<=1,0>(or-=nt[yt]))return 0;for(;0<nt[yt];--nt[yt])(je=new P).g=yt,je.value=vt[ut++],V(xe,It+Kt,rt,Wt,je),Kt=I(Kt,yt)}for(yt=Oe+1,rt=2;15>=yt;++yt,rt<<=1){if(zt+=or<<=1,0>(or-=nt[yt]))return 0;for(;0<nt[yt];--nt[yt]){if(je=new P,(Kt&Dt)!=Mt){for(It+=Wt,Ct=1<<(Mt=yt)-Oe;15>Mt&&!(0>=(Ct-=nt[Mt]));)++Mt,Ct<<=1;Et+=Wt=1<<(Ct=Mt-Oe),xe[Ne+(Mt=Kt&Dt)].g=Ct+Oe,xe[Ne+Mt].value=It-Ne-Mt}je.g=yt-Oe,je.value=vt[ut++],V(xe,It+(Kt>>Oe),rt,Wt,je),Kt=I(Kt,yt)}}return zt!=2*it[15]-1?0:Et}(L,X,Z,oe,me,we)}function P(){this.value=this.g=0}function k(){this.value=this.g=0}function M(){this.G=a(5,P),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Rs,k)}function A(L,X,Z,oe){e(L!=null),e(X!=null),e(2147483648>oe),L.Ca=254,L.I=0,L.b=-8,L.Ka=0,L.oa=X,L.pa=Z,L.Jd=X,L.Yc=Z+oe,L.Zc=4<=oe?Z+oe-4+1:Z,Q(L)}function w(L,X){for(var Z=0;0<X--;)Z|=O(L,128)<<X;return Z}function S(L,X){var Z=w(L,X);return F(L)?-Z:Z}function _(L,X,Z,oe){var me,we=0;for(e(L!=null),e(X!=null),e(4294967288>oe),L.Sb=oe,L.Ra=0,L.u=0,L.h=0,4<oe&&(oe=4),me=0;me<oe;++me)we+=X[Z+me]<<8*me;L.Ra=we,L.bb=oe,L.oa=X,L.pa=Z}function x(L){for(;8<=L.u&&L.bb<L.Sb;)L.Ra>>>=8,L.Ra+=L.oa[L.pa+L.bb]<<Lh-8>>>0,++L.bb,L.u-=8;q(L)&&(L.h=1,L.u=0)}function R(L,X){if(e(0<=X),!L.h&&X<=Fh){var Z=z(L)&Mh[X];return L.u+=X,x(L),Z}return L.h=1,L.u=0}function W(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function T(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(L){return L.Ra>>>(L.u&Lh-1)>>>0}function q(L){return e(L.bb<=L.Sb),L.h||L.bb==L.Sb&&L.u>Lh}function Y(L,X){L.u=X,L.h=q(L)}function U(L){L.u>=Pd&&(e(L.u>=Pd),x(L))}function Q(L){e(L!=null&&L.oa!=null),L.pa<L.Zc?(L.I=(L.oa[L.pa++]|L.I<<8)>>>0,L.b+=8):(e(L!=null&&L.oa!=null),L.pa<L.Yc?(L.b+=8,L.I=L.oa[L.pa++]|L.I<<8):L.Ka?L.b=0:(L.I<<=8,L.b+=8,L.Ka=1))}function F(L){return w(L,1)}function O(L,X){var Z=L.Ca;0>L.b&&Q(L);var oe=L.b,me=Z*X>>>8,we=(L.I>>>oe>me)+0;for(we?(Z-=me,L.I-=me+1<<oe>>>0):Z=me+1,oe=Z,me=0;256<=oe;)me+=8,oe>>=8;return oe=7^me+Di[oe],L.b-=oe,L.Ca=(Z<<oe)-1,we}function K(L,X,Z){L[X+0]=Z>>24&255,L[X+1]=Z>>16&255,L[X+2]=Z>>8&255,L[X+3]=Z>>0&255}function ne(L,X){return L[X+0]<<0|L[X+1]<<8}function ee(L,X){return ne(L,X)|L[X+2]<<16}function ie(L,X){return ne(L,X)|ne(L,X+2)<<16}function he(L,X){var Z=1<<X;return e(L!=null),e(0<X),L.X=i(Z),L.X==null?0:(L.Mb=32-X,L.Xa=X,1)}function ce(L,X){e(L!=null),e(X!=null),e(L.Xa==X.Xa),n(X.X,0,L.X,0,1<<X.Xa)}function te(){this.X=[],this.Xa=this.Mb=0}function se(L,X,Z,oe){e(Z!=null),e(oe!=null);var me=Z[0],we=oe[0];return me==0&&(me=(L*we+X/2)/X),we==0&&(we=(X*me+L/2)/L),0>=me||0>=we?0:(Z[0]=me,oe[0]=we,1)}function ge(L,X){return L+(1<<X)-1>>>X}function de(L,X){return((4278255360&L)+(4278255360&X)>>>0&4278255360)+((16711935&L)+(16711935&X)>>>0&16711935)>>>0}function Te(L,X){C[X]=function(Z,oe,me,we,xe,Ne,Oe){var je;for(je=0;je<xe;++je){var rt=C[L](Ne[Oe+je-1],me,we+je);Ne[Oe+je]=de(Z[oe+je],rt)}}}function De(){this.ud=this.hd=this.jd=0}function _e(L,X){return((4278124286&(L^X))>>>1)+(L&X)>>>0}function fe(L){return 0<=L&&256>L?L:0>L?0:255<L?255:void 0}function ae(L,X){return fe(L+(L-X+.5>>1))}function ve(L,X,Z){return Math.abs(X-Z)-Math.abs(L-Z)}function Ee(L,X,Z,oe,me,we,xe){for(oe=we[xe-1],Z=0;Z<me;++Z)we[xe+Z]=oe=de(L[X+Z],oe)}function Fe(L,X,Z,oe,me){var we;for(we=0;we<Z;++we){var xe=L[X+we],Ne=xe>>8&255,Oe=16711935&(Oe=(Oe=16711935&xe)+((Ne<<16)+Ne));oe[me+we]=(4278255360&xe)+Oe>>>0}}function Ue(L,X){X.jd=L>>0&255,X.hd=L>>8&255,X.ud=L>>16&255}function Ge(L,X,Z,oe,me,we){var xe;for(xe=0;xe<oe;++xe){var Ne=X[Z+xe],Oe=Ne>>>8,je=Ne,rt=255&(rt=(rt=Ne>>>16)+((L.jd<<24>>24)*(Oe<<24>>24)>>>5));je=255&(je=(je=je+((L.hd<<24>>24)*(Oe<<24>>24)>>>5))+((L.ud<<24>>24)*(rt<<24>>24)>>>5)),me[we+xe]=(4278255360&Ne)+(rt<<16)+je}}function Ve(L,X,Z,oe,me){C[X]=function(we,xe,Ne,Oe,je,rt,vt,yt,ut){for(Oe=vt;Oe<yt;++Oe)for(vt=0;vt<ut;++vt)je[rt++]=me(Ne[oe(we[xe++])])},C[L]=function(we,xe,Ne,Oe,je,rt,vt){var yt=8>>we.b,ut=we.Ea,It=we.K[0],Et=we.w;if(8>yt)for(we=(1<<we.b)-1,Et=(1<<yt)-1;xe<Ne;++xe){var nt,it=0;for(nt=0;nt<ut;++nt)nt&we||(it=oe(Oe[je++])),rt[vt++]=me(It[it&Et]),it>>=yt}else C["VP8LMapColor"+Z](Oe,je,It,Et,rt,vt,xe,Ne,ut)}}function ze(L,X,Z,oe,me){for(Z=X+Z;X<Z;){var we=L[X++];oe[me++]=we>>16&255,oe[me++]=we>>8&255,oe[me++]=we>>0&255}}function Ke(L,X,Z,oe,me){for(Z=X+Z;X<Z;){var we=L[X++];oe[me++]=we>>16&255,oe[me++]=we>>8&255,oe[me++]=we>>0&255,oe[me++]=we>>24&255}}function be(L,X,Z,oe,me){for(Z=X+Z;X<Z;){var we=(xe=L[X++])>>16&240|xe>>12&15,xe=xe>>0&240|xe>>28&15;oe[me++]=we,oe[me++]=xe}}function Be(L,X,Z,oe,me){for(Z=X+Z;X<Z;){var we=(xe=L[X++])>>16&248|xe>>13&7,xe=xe>>5&224|xe>>3&31;oe[me++]=we,oe[me++]=xe}}function He(L,X,Z,oe,me){for(Z=X+Z;X<Z;){var we=L[X++];oe[me++]=we>>0&255,oe[me++]=we>>8&255,oe[me++]=we>>16&255}}function Me(L,X,Z,oe,me,we){if(we==0)for(Z=X+Z;X<Z;)K(oe,((we=L[X++])[0]>>24|we[1]>>8&65280|we[2]<<8&16711680|we[3]<<24)>>>0),me+=32;else n(oe,me,L,X,Z)}function Le(L,X){C[X][0]=C[L+"0"],C[X][1]=C[L+"1"],C[X][2]=C[L+"2"],C[X][3]=C[L+"3"],C[X][4]=C[L+"4"],C[X][5]=C[L+"5"],C[X][6]=C[L+"6"],C[X][7]=C[L+"7"],C[X][8]=C[L+"8"],C[X][9]=C[L+"9"],C[X][10]=C[L+"10"],C[X][11]=C[L+"11"],C[X][12]=C[L+"12"],C[X][13]=C[L+"13"],C[X][14]=C[L+"0"],C[X][15]=C[L+"0"]}function Xe(L){return L==Iv||L==Pv||L==ym||L==Ov}function Je(){this.eb=[],this.size=this.A=this.fb=0}function et(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function xt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Je,this.f.kb=new et,this.sd=null}function pt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function wt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function mt(L){return alert("todo:WebPSamplerProcessPlane"),L.T}function gt(L,X){var Z=L.T,oe=X.ba.f.RGBA,me=oe.eb,we=oe.fb+L.ka*oe.A,xe=wa[X.ba.S],Ne=L.y,Oe=L.O,je=L.f,rt=L.N,vt=L.ea,yt=L.W,ut=X.cc,It=X.dc,Et=X.Mc,nt=X.Nc,it=L.ka,Ct=L.ka+L.T,Mt=L.U,Dt=Mt+1>>1;for(it==0?xe(Ne,Oe,null,null,je,rt,vt,yt,je,rt,vt,yt,me,we,null,null,Mt):(xe(X.ec,X.fc,Ne,Oe,ut,It,Et,nt,je,rt,vt,yt,me,we-oe.A,me,we,Mt),++Z);it+2<Ct;it+=2)ut=je,It=rt,Et=vt,nt=yt,rt+=L.Rc,yt+=L.Rc,we+=2*oe.A,xe(Ne,(Oe+=2*L.fa)-L.fa,Ne,Oe,ut,It,Et,nt,je,rt,vt,yt,me,we-oe.A,me,we,Mt);return Oe+=L.fa,L.j+Ct<L.o?(n(X.ec,X.fc,Ne,Oe,Mt),n(X.cc,X.dc,je,rt,Dt),n(X.Mc,X.Nc,vt,yt,Dt),Z--):1&Ct||xe(Ne,Oe,null,null,je,rt,vt,yt,je,rt,vt,yt,me,we+oe.A,null,null,Mt),Z}function ft(L,X,Z){var oe=L.F,me=[L.J];if(oe!=null){var we=L.U,xe=X.ba.S,Ne=xe==vm||xe==ym;X=X.ba.f.RGBA;var Oe=[0],je=L.ka;Oe[0]=L.T,L.Kb&&(je==0?--Oe[0]:(--je,me[0]-=L.width),L.j+L.ka+L.T==L.o&&(Oe[0]=L.o-L.j-je));var rt=X.eb;je=X.fb+je*X.A,L=dn(oe,me[0],L.width,we,Oe,rt,je+(Ne?0:3),X.A),e(Z==Oe),L&&Xe(xe)&&ya(rt,je,Ne,we,Oe,X.A)}return 0}function Nt(L){var X=L.ma,Z=X.ba.S,oe=11>Z,me=Z==mm||Z==gm||Z==vm||Z==Rv||Z==12||Xe(Z);if(X.memory=null,X.Ib=null,X.Jb=null,X.Nd=null,!Rd(X.Oa,L,me?11:12))return 0;if(me&&Xe(Z)&&Ft(),L.da)alert("todo:use_scaling");else{if(oe){if(X.Ib=mt,L.Kb){if(Z=L.U+1>>1,X.memory=i(L.U+2*Z),X.memory==null)return 0;X.ec=X.memory,X.fc=0,X.cc=X.ec,X.dc=X.fc+L.U,X.Mc=X.cc,X.Nc=X.dc+Z,X.Ib=gt,Ft()}}else alert("todo:EmitYUV");me&&(X.Jb=ft,oe&&lt())}if(oe&&!O4){for(L=0;256>L;++L)EI[L]=89858*(L-128)+wm>>bm,TI[L]=-22014*(L-128)+wm,AI[L]=-45773*(L-128),kI[L]=113618*(L-128)+wm>>bm;for(L=Ud;L<Lv;++L)X=76283*(L-16)+wm>>bm,CI[L-Ud]=Zr(X,255),NI[L-Ud]=Zr(X+8>>4,15);O4=1}return 1}function Ht(L){var X=L.ma,Z=L.U,oe=L.T;return e(!(1&L.ka)),0>=Z||0>=oe?0:(Z=X.Ib(L,X),X.Jb!=null&&X.Jb(L,X,Z),X.Dc+=Z,1)}function $t(L){L.ma.memory=null}function _t(L,X,Z,oe){return R(L,8)!=47?0:(X[0]=R(L,14)+1,Z[0]=R(L,14)+1,oe[0]=R(L,1),R(L,3)!=0?0:!L.h)}function er(L,X){if(4>L)return L+1;var Z=L-2>>1;return(2+(1&L)<<Z)+R(X,Z)+1}function Gt(L,X){return 120<X?X-120:1<=(Z=((Z=uI[X-1])>>4)*L+(8-(15&Z)))?Z:1;var Z}function We(L,X,Z){var oe=z(Z),me=L[X+=255&oe].g-8;return 0<me&&(Y(Z,Z.u+8),oe=z(Z),X+=L[X].value,X+=oe&(1<<me)-1),Y(Z,Z.u+L[X].g),L[X].value}function Qe(L,X,Z){return Z.g+=L.g,Z.value+=L.value<<X>>>0,e(8>=Z.g),L.g}function ht(L,X,Z){var oe=L.xc;return e((X=oe==0?0:L.vc[L.md*(Z>>oe)+(X>>oe)])<L.Wb),L.Ya[X]}function ue(L,X,Z,oe){var me=L.ab,we=L.c*X,xe=L.C;X=xe+X;var Ne=Z,Oe=oe;for(oe=L.Ta,Z=L.Ua;0<me--;){var je=L.gc[me],rt=xe,vt=X,yt=Ne,ut=Oe,It=(Oe=oe,Ne=Z,je.Ea);switch(e(rt<vt),e(vt<=je.nc),je.hc){case 2:lm(yt,ut,(vt-rt)*It,Oe,Ne);break;case 0:var Et=rt,nt=vt,it=Oe,Ct=Ne,Mt=(Wt=je).Ea;Et==0&&(Nv(yt,ut,null,null,1,it,Ct),Ee(yt,ut+1,0,0,Mt-1,it,Ct+1),ut+=Mt,Ct+=Mt,++Et);for(var Dt=1<<Wt.b,Kt=Dt-1,zt=ge(Mt,Wt.b),or=Wt.K,Wt=Wt.w+(Et>>Wt.b)*zt;Et<nt;){var Xr=or,nn=Wt,qr=1;for(Od(yt,ut,it,Ct-Mt,1,it,Ct);qr<Mt;){var Fr=(qr&~Kt)+Dt;Fr>Mt&&(Fr=Mt),(0,nc[Xr[nn++]>>8&15])(yt,ut+ +qr,it,Ct+qr-Mt,Fr-qr,it,Ct+qr),qr=Fr}ut+=Mt,Ct+=Mt,++Et&Kt||(Wt+=zt)}vt!=je.nc&&n(Oe,Ne-It,Oe,Ne+(vt-rt-1)*It,It);break;case 1:for(It=yt,nt=ut,Mt=(yt=je.Ea)-(Ct=yt&~(it=(ut=1<<je.b)-1)),Et=ge(yt,je.b),Dt=je.K,je=je.w+(rt>>je.b)*Et;rt<vt;){for(Kt=Dt,zt=je,or=new De,Wt=nt+Ct,Xr=nt+yt;nt<Wt;)Ue(Kt[zt++],or),Cu(or,It,nt,ut,Oe,Ne),nt+=ut,Ne+=ut;nt<Xr&&(Ue(Kt[zt++],or),Cu(or,It,nt,Mt,Oe,Ne),nt+=Mt,Ne+=Mt),++rt&it||(je+=Et)}break;case 3:if(yt==Oe&&ut==Ne&&0<je.b){for(nt=Oe,yt=It=Ne+(vt-rt)*It-(Ct=(vt-rt)*ge(je.Ea,je.b)),ut=Oe,it=Ne,Et=[],Ct=(Mt=Ct)-1;0<=Ct;--Ct)Et[Ct]=ut[it+Ct];for(Ct=Mt-1;0<=Ct;--Ct)nt[yt+Ct]=Et[Ct];ma(je,rt,vt,Oe,It,Oe,Ne)}else ma(je,rt,vt,yt,ut,Oe,Ne)}Ne=oe,Oe=Z}Oe!=Z&&n(oe,Z,Ne,Oe,we)}function Pe(L,X){var Z=L.V,oe=L.Ba+L.c*L.C,me=X-L.C;if(e(X<=L.l.o),e(16>=me),0<me){var we=L.l,xe=L.Ta,Ne=L.Ua,Oe=we.width;if(ue(L,me,Z,oe),me=Ne=[Ne],e((Z=L.C)<(oe=X)),e(we.v<we.va),oe>we.o&&(oe=we.o),Z<we.j){var je=we.j-Z;Z=we.j,me[0]+=je*Oe}if(Z>=oe?Z=0:(me[0]+=4*we.v,we.ka=Z-we.j,we.U=we.va-we.v,we.T=oe-Z,Z=1),Z){if(Ne=Ne[0],11>(Z=L.ca).S){var rt=Z.f.RGBA,vt=(oe=Z.S,me=we.U,we=we.T,je=rt.eb,rt.A),yt=we;for(rt=rt.fb+L.Ma*rt.A;0<yt--;){var ut=xe,It=Ne,Et=me,nt=je,it=rt;switch(oe){case pm:Ri(ut,It,Et,nt,it);break;case mm:gi(ut,It,Et,nt,it);break;case Iv:gi(ut,It,Et,nt,it),ya(nt,it,0,Et,1,0);break;case k4:il(ut,It,Et,nt,it);break;case gm:Me(ut,It,Et,nt,it,1);break;case Pv:Me(ut,It,Et,nt,it,1),ya(nt,it,0,Et,1,0);break;case vm:Me(ut,It,Et,nt,it,0);break;case ym:Me(ut,It,Et,nt,it,0),ya(nt,it,1,Et,1,0);break;case Rv:sc(ut,It,Et,nt,it);break;case Ov:sc(ut,It,Et,nt,it),fn(nt,it,Et,1,0);break;case A4:sl(ut,It,Et,nt,it);break;default:e(0)}Ne+=Oe,rt+=vt}L.Ma+=we}else alert("todo:EmitRescaledRowsYUVA");e(L.Ma<=Z.height)}}L.C=X,e(L.C<=L.i)}function ye(L){var X;if(0<L.ua)return 0;for(X=0;X<L.Wb;++X){var Z=L.Ya[X].G,oe=L.Ya[X].H;if(0<Z[1][oe[1]+0].g||0<Z[2][oe[2]+0].g||0<Z[3][oe[3]+0].g)return 0}return 1}function ke(L,X,Z,oe,me,we){if(L.Z!=0){var xe=L.qd,Ne=L.rd;for(e(lc[L.Z]!=null);X<Z;++X)lc[L.Z](xe,Ne,oe,me,oe,me,we),xe=oe,Ne=me,me+=we;L.qd=xe,L.rd=Ne}}function Re(L,X){var Z=L.l.ma,oe=Z.Z==0||Z.Z==1?L.l.j:L.C;if(oe=L.C<oe?oe:L.C,e(X<=L.l.o),X>oe){var me=L.l.width,we=Z.ca,xe=Z.tb+me*oe,Ne=L.V,Oe=L.Ba+L.c*oe,je=L.gc;e(L.ab==1),e(je[0].hc==3),cm(je[0],oe,X,Ne,Oe,we,xe),ke(Z,oe,X,we,xe,me)}L.C=L.Ma=X}function Ie(L,X,Z,oe,me,we,xe){var Ne=L.$/oe,Oe=L.$%oe,je=L.m,rt=L.s,vt=Z+L.$,yt=vt;me=Z+oe*me;var ut=Z+oe*we,It=280+rt.ua,Et=L.Pb?Ne:16777216,nt=0<rt.ua?rt.Wa:null,it=rt.wc,Ct=vt<ut?ht(rt,Oe,Ne):null;e(L.C<we),e(ut<=me);var Mt=!1;e:for(;;){for(;Mt||vt<ut;){var Dt=0;if(Ne>=Et){var Kt=vt-Z;e((Et=L).Pb),Et.wd=Et.m,Et.xd=Kt,0<Et.s.ua&&ce(Et.s.Wa,Et.s.vb),Et=Ne+fI}if(Oe&it||(Ct=ht(rt,Oe,Ne)),e(Ct!=null),Ct.Qb&&(X[vt]=Ct.qb,Mt=!0),!Mt)if(U(je),Ct.jc){Dt=je,Kt=X;var zt=vt,or=Ct.pd[z(Dt)&Rs-1];e(Ct.jc),256>or.g?(Y(Dt,Dt.u+or.g),Kt[zt]=or.value,Dt=0):(Y(Dt,Dt.u+or.g-256),e(256<=or.value),Dt=or.value),Dt==0&&(Mt=!0)}else Dt=We(Ct.G[0],Ct.H[0],je);if(je.h)break;if(Mt||256>Dt){if(!Mt)if(Ct.nd)X[vt]=(Ct.qb|Dt<<8)>>>0;else{if(U(je),Mt=We(Ct.G[1],Ct.H[1],je),U(je),Kt=We(Ct.G[2],Ct.H[2],je),zt=We(Ct.G[3],Ct.H[3],je),je.h)break;X[vt]=(zt<<24|Mt<<16|Dt<<8|Kt)>>>0}if(Mt=!1,++vt,++Oe>=oe&&(Oe=0,++Ne,xe!=null&&Ne<=we&&!(Ne%16)&&xe(L,Ne),nt!=null))for(;yt<vt;)Dt=X[yt++],nt.X[(506832829*Dt&4294967295)>>>nt.Mb]=Dt}else if(280>Dt){if(Dt=er(Dt-256,je),Kt=We(Ct.G[4],Ct.H[4],je),U(je),Kt=Gt(oe,Kt=er(Kt,je)),je.h)break;if(vt-Z<Kt||me-vt<Dt)break e;for(zt=0;zt<Dt;++zt)X[vt+zt]=X[vt+zt-Kt];for(vt+=Dt,Oe+=Dt;Oe>=oe;)Oe-=oe,++Ne,xe!=null&&Ne<=we&&!(Ne%16)&&xe(L,Ne);if(e(vt<=me),Oe&it&&(Ct=ht(rt,Oe,Ne)),nt!=null)for(;yt<vt;)Dt=X[yt++],nt.X[(506832829*Dt&4294967295)>>>nt.Mb]=Dt}else{if(!(Dt<It))break e;for(Mt=Dt-280,e(nt!=null);yt<vt;)Dt=X[yt++],nt.X[(506832829*Dt&4294967295)>>>nt.Mb]=Dt;Dt=vt,e(!(Mt>>>(Kt=nt).Xa)),X[Dt]=Kt.X[Mt],Mt=!0}Mt||e(je.h==q(je))}if(L.Pb&&je.h&&vt<me)e(L.m.h),L.a=5,L.m=L.wd,L.$=L.xd,0<L.s.ua&&ce(L.s.vb,L.s.Wa);else{if(je.h)break e;xe!=null&&xe(L,Ne>we?we:Ne),L.a=0,L.$=vt-Z}return 1}return L.a=3,0}function Ye(L){e(L!=null),L.vc=null,L.yc=null,L.Ya=null;var X=L.Wa;X!=null&&(X.X=null),L.vb=null,e(L!=null)}function st(){var L=new Ph;return L==null?null:(L.a=0,L.xb=N4,Le("Predictor","VP8LPredictors"),Le("Predictor","VP8LPredictors_C"),Le("PredictorAdd","VP8LPredictorsAdd"),Le("PredictorAdd","VP8LPredictorsAdd_C"),lm=Fe,Cu=Ge,Ri=ze,gi=Ke,sc=be,sl=Be,il=He,C.VP8LMapColor32b=jh,C.VP8LMapColor8b=um,L)}function tt(L,X,Z,oe,me){var we=1,xe=[L],Ne=[X],Oe=oe.m,je=oe.s,rt=null,vt=0;e:for(;;){if(Z)for(;we&&R(Oe,1);){var yt=xe,ut=Ne,It=oe,Et=1,nt=It.m,it=It.gc[It.ab],Ct=R(nt,2);if(It.Oc&1<<Ct)we=0;else{switch(It.Oc|=1<<Ct,it.hc=Ct,it.Ea=yt[0],it.nc=ut[0],it.K=[null],++It.ab,e(4>=It.ab),Ct){case 0:case 1:it.b=R(nt,3)+2,Et=tt(ge(it.Ea,it.b),ge(it.nc,it.b),0,It,it.K),it.K=it.K[0];break;case 3:var Mt,Dt=R(nt,8)+1,Kt=16<Dt?0:4<Dt?1:2<Dt?2:3;if(yt[0]=ge(it.Ea,Kt),it.b=Kt,Mt=Et=tt(Dt,1,0,It,it.K)){var zt,or=Dt,Wt=it,Xr=1<<(8>>Wt.b),nn=i(Xr);if(nn==null)Mt=0;else{var qr=Wt.K[0],Fr=Wt.w;for(nn[0]=Wt.K[0][0],zt=1;zt<1*or;++zt)nn[zt]=de(qr[Fr+zt],nn[zt-1]);for(;zt<4*Xr;++zt)nn[zt]=0;Wt.K[0]=null,Wt.K[0]=nn,Mt=1}}Et=Mt;break;case 2:break;default:e(0)}we=Et}}if(xe=xe[0],Ne=Ne[0],we&&R(Oe,1)&&!(we=1<=(vt=R(Oe,4))&&11>=vt)){oe.a=3;break e}var un;if(un=we)t:{var ln,Tr,Yn,Ii=oe,Jn=xe,Pi=Ne,sn=vt,Yi=Z,Ji=Ii.m,ys=Ii.s,Is=[null],yi=1,xa=0,ko=hI[sn];r:for(;;){if(Yi&&R(Ji,1)){var bs=R(Ji,3)+2,cl=ge(Jn,bs),Pu=ge(Pi,bs),Hh=cl*Pu;if(!tt(cl,Pu,0,Ii,Is))break r;for(Is=Is[0],ys.xc=bs,ln=0;ln<Hh;++ln){var cc=Is[ln]>>8&65535;Is[ln]=cc,cc>=yi&&(yi=cc+1)}}if(Ji.h)break r;for(Tr=0;5>Tr;++Tr){var On=T4[Tr];!Tr&&0<sn&&(On+=1<<sn),xa<On&&(xa=On)}var jv=a(yi*ko,P),L4=yi,j4=a(L4,M);if(j4==null)var _m=null;else e(65536>=L4),_m=j4;var $d=i(xa);if(_m==null||$d==null||jv==null){Ii.a=1;break r}var Sm=jv;for(ln=Yn=0;ln<yi;++ln){var za=_m[ln],zh=za.G,qh=za.H,B4=0,Em=1,U4=0;for(Tr=0;5>Tr;++Tr){On=T4[Tr],zh[Tr]=Sm,qh[Tr]=Yn,!Tr&&0<sn&&(On+=1<<sn);s:{var km,Bv=On,Am=Ii,Vd=$d,II=Sm,PI=Yn,Uv=0,uc=Am.m,OI=R(uc,1);if(s(Vd,0,0,Bv),OI){var MI=R(uc,1)+1,FI=R(uc,1),$4=R(uc,FI==0?1:8);Vd[$4]=1,MI==2&&(Vd[$4=R(uc,8)]=1);var Tm=1}else{var V4=i(19),H4=R(uc,4)+4;if(19<H4){Am.a=3;var Cm=0;break s}for(km=0;km<H4;++km)V4[cI[km]]=R(uc,3);var $v=void 0,Hd=void 0,z4=Am,LI=V4,Nm=Bv,q4=Vd,Vv=0,hc=z4.m,W4=8,G4=a(128,P);n:for(;B(G4,0,7,LI,19);){if(R(hc,1)){var jI=2+2*R(hc,3);if(($v=2+R(hc,jI))>Nm)break n}else $v=Nm;for(Hd=0;Hd<Nm&&$v--;){U(hc);var K4=G4[0+(127&z(hc))];Y(hc,hc.u+K4.g);var Wh=K4.value;if(16>Wh)q4[Hd++]=Wh,Wh!=0&&(W4=Wh);else{var BI=Wh==16,X4=Wh-16,UI=oI[X4],Y4=R(hc,aI[X4])+UI;if(Hd+Y4>Nm)break n;for(var $I=BI?W4:0;0<Y4--;)q4[Hd++]=$I}}Vv=1;break n}Vv||(z4.a=3),Tm=Vv}(Tm=Tm&&!uc.h)&&(Uv=B(II,PI,8,Vd,Bv)),Tm&&Uv!=0?Cm=Uv:(Am.a=3,Cm=0)}if(Cm==0)break r;if(Em&&lI[Tr]==1&&(Em=Sm[Yn].g==0),B4+=Sm[Yn].g,Yn+=Cm,3>=Tr){var zd,Hv=$d[0];for(zd=1;zd<On;++zd)$d[zd]>Hv&&(Hv=$d[zd]);U4+=Hv}}if(za.nd=Em,za.Qb=0,Em&&(za.qb=(zh[3][qh[3]+0].value<<24|zh[1][qh[1]+0].value<<16|zh[2][qh[2]+0].value)>>>0,B4==0&&256>zh[0][qh[0]+0].value&&(za.Qb=1,za.qb+=zh[0][qh[0]+0].value<<8)),za.jc=!za.Qb&&6>U4,za.jc){var Dm,ul=za;for(Dm=0;Dm<Rs;++Dm){var fc=Dm,dc=ul.pd[fc],Rm=ul.G[0][ul.H[0]+fc];256<=Rm.value?(dc.g=Rm.g+256,dc.value=Rm.value):(dc.g=0,dc.value=0,fc>>=Qe(Rm,8,dc),fc>>=Qe(ul.G[1][ul.H[1]+fc],16,dc),fc>>=Qe(ul.G[2][ul.H[2]+fc],0,dc),Qe(ul.G[3][ul.H[3]+fc],24,dc))}}}ys.vc=Is,ys.Wb=yi,ys.Ya=_m,ys.yc=jv,un=1;break t}un=0}if(!(we=un)){oe.a=3;break e}if(0<vt){if(je.ua=1<<vt,!he(je.Wa,vt)){oe.a=1,we=0;break e}}else je.ua=0;var zv=oe,J4=xe,VI=Ne,qv=zv.s,Wv=qv.xc;if(zv.c=J4,zv.i=VI,qv.md=ge(J4,Wv),qv.wc=Wv==0?-1:(1<<Wv)-1,Z){oe.xb=bI;break e}if((rt=i(xe*Ne))==null){oe.a=1,we=0;break e}we=(we=Ie(oe,rt,0,xe,Ne,Ne,null))&&!Oe.h;break e}return we?(me!=null?me[0]=rt:(e(rt==null),e(Z)),oe.$=0,Z||Ye(je)):Ye(je),we}function ct(L,X){var Z=L.c*L.i,oe=Z+X+16*X;return e(L.c<=X),L.V=i(oe),L.V==null?(L.Ta=null,L.Ua=0,L.a=1,0):(L.Ta=L.V,L.Ua=L.Ba+Z+X,1)}function ot(L,X){var Z=L.C,oe=X-Z,me=L.V,we=L.Ba+L.c*Z;for(e(X<=L.l.o);0<oe;){var xe=16<oe?16:oe,Ne=L.l.ma,Oe=L.l.width,je=Oe*xe,rt=Ne.ca,vt=Ne.tb+Oe*Z,yt=L.Ta,ut=L.Ua;ue(L,xe,me,we),Vn(yt,ut,rt,vt,je),ke(Ne,Z,Z+xe,rt,vt,Oe),oe-=xe,me+=xe*L.c,Z+=xe}e(Z==X),L.C=L.Ma=X}function At(){this.ub=this.yd=this.td=this.Rb=0}function Ot(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Vt(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Se(){this.Yb=function(){var L=[];return function X(Z,oe,me){for(var we=me[oe],xe=0;xe<we&&(Z.push(me.length>oe+1?[]:0),!(me.length<oe+1));xe++)X(Z[xe],oe+1,me)}(L,0,[3,11]),L}()}function qe(){this.jb=i(3),this.Wc=o([4,8],Se),this.Xc=o([4,17],Se)}function dt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function St(){this.ld=this.La=this.dd=this.tc=0}function Bt(){this.Na=this.la=0}function Tt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function jt(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function pr(){this.uc=this.M=this.Nb=0,this.wa=Array(new St),this.Y=0,this.ya=Array(new jt),this.aa=0,this.l=new Qt}function rr(){this.y=i(16),this.f=i(8),this.ea=i(8)}function sr(){this.cb=this.a=0,this.sc="",this.m=new W,this.Od=new At,this.Kc=new Ot,this.ed=new dt,this.Qa=new Vt,this.Ic=this.$c=this.Aa=0,this.D=new pr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,W),this.ia=0,this.pb=a(4,Tt),this.Pa=new qe,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new rr),this.Hd=0,this.rb=Array(new Bt),this.sb=0,this.wa=Array(new St),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new jt),this.L=this.aa=0,this.gd=o([4,2],St),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Qt(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function mr(){var L=new sr;return L!=null&&(L.a=0,L.sc="OK",L.cb=0,L.Xb=0,Bd||(Bd=yn)),L}function nr(L,X,Z){return L.a==0&&(L.a=X,L.sc=Z,L.cb=0),0}function Rr(L,X,Z){return 3<=Z&&L[X+0]==157&&L[X+1]==1&&L[X+2]==42}function Kr(L,X){if(L==null)return 0;if(L.a=0,L.sc="OK",X==null)return nr(L,2,"null VP8Io passed to VP8GetHeaders()");var Z=X.data,oe=X.w,me=X.ha;if(4>me)return nr(L,7,"Truncated header.");var we=Z[oe+0]|Z[oe+1]<<8|Z[oe+2]<<16,xe=L.Od;if(xe.Rb=!(1&we),xe.td=we>>1&7,xe.yd=we>>4&1,xe.ub=we>>5,3<xe.td)return nr(L,3,"Incorrect keyframe parameters.");if(!xe.yd)return nr(L,4,"Frame not displayable.");oe+=3,me-=3;var Ne=L.Kc;if(xe.Rb){if(7>me)return nr(L,7,"cannot parse picture header");if(!Rr(Z,oe,me))return nr(L,3,"Bad code word");Ne.c=16383&(Z[oe+4]<<8|Z[oe+3]),Ne.Td=Z[oe+4]>>6,Ne.i=16383&(Z[oe+6]<<8|Z[oe+5]),Ne.Ud=Z[oe+6]>>6,oe+=7,me-=7,L.za=Ne.c+15>>4,L.Ub=Ne.i+15>>4,X.width=Ne.c,X.height=Ne.i,X.Da=0,X.j=0,X.v=0,X.va=X.width,X.o=X.height,X.da=0,X.ib=X.width,X.hb=X.height,X.U=X.width,X.T=X.height,s((we=L.Pa).jb,0,255,we.jb.length),e((we=L.Qa)!=null),we.Cb=0,we.Bb=0,we.Fb=1,s(we.Zb,0,0,we.Zb.length),s(we.Lb,0,0,we.Lb)}if(xe.ub>me)return nr(L,7,"bad partition length");A(we=L.m,Z,oe,xe.ub),oe+=xe.ub,me-=xe.ub,xe.Rb&&(Ne.Ld=F(we),Ne.Kd=F(we)),Ne=L.Qa;var Oe,je=L.Pa;if(e(we!=null),e(Ne!=null),Ne.Cb=F(we),Ne.Cb){if(Ne.Bb=F(we),F(we)){for(Ne.Fb=F(we),Oe=0;4>Oe;++Oe)Ne.Zb[Oe]=F(we)?S(we,7):0;for(Oe=0;4>Oe;++Oe)Ne.Lb[Oe]=F(we)?S(we,6):0}if(Ne.Bb)for(Oe=0;3>Oe;++Oe)je.jb[Oe]=F(we)?w(we,8):255}else Ne.Bb=0;if(we.Ka)return nr(L,3,"cannot parse segment header");if((Ne=L.ed).zd=F(we),Ne.Tb=w(we,6),Ne.wb=w(we,3),Ne.Pc=F(we),Ne.Pc&&F(we)){for(je=0;4>je;++je)F(we)&&(Ne.vd[je]=S(we,6));for(je=0;4>je;++je)F(we)&&(Ne.od[je]=S(we,6))}if(L.L=Ne.Tb==0?0:Ne.zd?1:2,we.Ka)return nr(L,3,"cannot parse filter header");var rt=me;if(me=Oe=oe,oe=Oe+rt,Ne=rt,L.Xb=(1<<w(L.m,2))-1,rt<3*(je=L.Xb))Z=7;else{for(Oe+=3*je,Ne-=3*je,rt=0;rt<je;++rt){var vt=Z[me+0]|Z[me+1]<<8|Z[me+2]<<16;vt>Ne&&(vt=Ne),A(L.Jc[+rt],Z,Oe,vt),Oe+=vt,Ne-=vt,me+=3}A(L.Jc[+je],Z,Oe,Ne),Z=Oe<oe?0:5}if(Z!=0)return nr(L,Z,"cannot parse partitions");for(Z=w(Oe=L.m,7),me=F(Oe)?S(Oe,4):0,oe=F(Oe)?S(Oe,4):0,Ne=F(Oe)?S(Oe,4):0,je=F(Oe)?S(Oe,4):0,Oe=F(Oe)?S(Oe,4):0,rt=L.Qa,vt=0;4>vt;++vt){if(rt.Cb){var yt=rt.Zb[vt];rt.Fb||(yt+=Z)}else{if(0<vt){L.pb[vt]=L.pb[0];continue}yt=Z}var ut=L.pb[vt];ut.Sc[0]=Mv[Zr(yt+me,127)],ut.Sc[1]=Fv[Zr(yt+0,127)],ut.Eb[0]=2*Mv[Zr(yt+oe,127)],ut.Eb[1]=101581*Fv[Zr(yt+Ne,127)]>>16,8>ut.Eb[1]&&(ut.Eb[1]=8),ut.Qc[0]=Mv[Zr(yt+je,117)],ut.Qc[1]=Fv[Zr(yt+Oe,127)],ut.lc=yt+Oe}if(!xe.Rb)return nr(L,4,"Not a key frame.");for(F(we),xe=L.Pa,Z=0;4>Z;++Z){for(me=0;8>me;++me)for(oe=0;3>oe;++oe)for(Ne=0;11>Ne;++Ne)je=O(we,vI[Z][me][oe][Ne])?w(we,8):mI[Z][me][oe][Ne],xe.Wc[Z][me].Yb[oe][Ne]=je;for(me=0;17>me;++me)xe.Xc[Z][me]=xe.Wc[Z][yI[me]]}return L.kc=F(we),L.kc&&(L.Bd=w(we,8)),L.cb=1}function yn(L,X,Z,oe,me,we,xe){var Ne=X[me].Yb[Z];for(Z=0;16>me;++me){if(!O(L,Ne[Z+0]))return me;for(;!O(L,Ne[Z+1]);)if(Ne=X[++me].Yb[0],Z=0,me==16)return 16;var Oe=X[me+1].Yb;if(O(L,Ne[Z+2])){var je=L,rt=0;if(O(je,(yt=Ne)[(vt=Z)+3]))if(O(je,yt[vt+6])){for(Ne=0,vt=2*(rt=O(je,yt[vt+8]))+(yt=O(je,yt[vt+9+rt])),rt=0,yt=dI[vt];yt[Ne];++Ne)rt+=rt+O(je,yt[Ne]);rt+=3+(8<<vt)}else O(je,yt[vt+7])?(rt=7+2*O(je,165),rt+=O(je,145)):rt=5+O(je,159);else rt=O(je,yt[vt+4])?3+O(je,yt[vt+5]):2;Ne=Oe[2]}else rt=1,Ne=Oe[1];Oe=xe+pI[me],0>(je=L).b&&Q(je);var vt,yt=je.b,ut=(vt=je.Ca>>1)-(je.I>>yt)>>31;--je.b,je.Ca+=ut,je.Ca|=1,je.I-=(vt+1&ut)<<yt,we[Oe]=((rt^ut)-ut)*oe[(0<me)+0]}return 16}function An(L){var X=L.rb[L.sb-1];X.la=0,X.Na=0,s(L.zc,0,0,L.zc.length),L.ja=0}function gs(L,X){if(L==null)return 0;if(X==null)return nr(L,2,"NULL VP8Io parameter in VP8Decode().");if(!L.cb&&!Kr(L,X))return 0;if(e(L.cb),X.ac==null||X.ac(X)){X.ob&&(L.L=0);var Z=xm[L.L];if(L.L==2?(L.yb=0,L.zb=0):(L.yb=X.v-Z>>4,L.zb=X.j-Z>>4,0>L.yb&&(L.yb=0),0>L.zb&&(L.zb=0)),L.Va=X.o+15+Z>>4,L.Hb=X.va+15+Z>>4,L.Hb>L.za&&(L.Hb=L.za),L.Va>L.Ub&&(L.Va=L.Ub),0<L.L){var oe=L.ed;for(Z=0;4>Z;++Z){var me;if(L.Qa.Cb){var we=L.Qa.Lb[Z];L.Qa.Fb||(we+=oe.Tb)}else we=oe.Tb;for(me=0;1>=me;++me){var xe=L.gd[Z][me],Ne=we;if(oe.Pc&&(Ne+=oe.vd[0],me&&(Ne+=oe.od[0])),0<(Ne=0>Ne?0:63<Ne?63:Ne)){var Oe=Ne;0<oe.wb&&(Oe=4<oe.wb?Oe>>2:Oe>>1)>9-oe.wb&&(Oe=9-oe.wb),1>Oe&&(Oe=1),xe.dd=Oe,xe.tc=2*Ne+Oe,xe.ld=40<=Ne?2:15<=Ne?1:0}else xe.tc=0;xe.La=me}}}Z=0}else nr(L,6,"Frame setup failed"),Z=L.a;if(Z=Z==0){if(Z){L.$c=0,0<L.Aa||(L.Ic=RI);e:{Z=L.Ic,oe=4*(Oe=L.za);var je=32*Oe,rt=Oe+1,vt=0<L.L?Oe*(0<L.Aa?2:1):0,yt=(L.Aa==2?2:1)*Oe;if((xe=oe+832+(me=3*(16*Z+xm[L.L])/2*je)+(we=L.Fa!=null&&0<L.Fa.length?L.Kc.c*L.Kc.i:0))!=xe)Z=0;else{if(xe>L.Vb){if(L.Vb=0,L.Ec=i(xe),L.Fc=0,L.Ec==null){Z=nr(L,1,"no memory during frame initialization.");break e}L.Vb=xe}xe=L.Ec,Ne=L.Fc,L.Ac=xe,L.Bc=Ne,Ne+=oe,L.Gd=a(je,rr),L.Hd=0,L.rb=a(rt+1,Bt),L.sb=1,L.wa=vt?a(vt,St):null,L.Y=0,L.D.Nb=0,L.D.wa=L.wa,L.D.Y=L.Y,0<L.Aa&&(L.D.Y+=Oe),e(!0),L.oc=xe,L.pc=Ne,Ne+=832,L.ya=a(yt,jt),L.aa=0,L.D.ya=L.ya,L.D.aa=L.aa,L.Aa==2&&(L.D.aa+=Oe),L.R=16*Oe,L.B=8*Oe,Oe=(je=xm[L.L])*L.R,je=je/2*L.B,L.sa=xe,L.ta=Ne+Oe,L.qa=L.sa,L.ra=L.ta+16*Z*L.R+je,L.Ha=L.qa,L.Ia=L.ra+8*Z*L.B+je,L.$c=0,Ne+=me,L.mb=we?xe:null,L.nb=we?Ne:null,e(Ne+we<=L.Fc+L.Vb),An(L),s(L.Ac,L.Bc,0,oe),Z=1}}if(Z){if(X.ka=0,X.y=L.sa,X.O=L.ta,X.f=L.qa,X.N=L.ra,X.ea=L.Ha,X.Vd=L.Ia,X.fa=L.R,X.Rc=L.B,X.F=null,X.J=0,!fm){for(Z=-255;255>=Z;++Z)ls[255+Z]=0>Z?-Z:Z;for(Z=-1020;1020>=Z;++Z)ol[1020+Z]=-128>Z?-128:127<Z?127:Z;for(Z=-112;112>=Z;++Z)jd[112+Z]=-16>Z?-16:15<Z?15:Z;for(Z=-255;510>=Z;++Z)Vh[255+Z]=0>Z?0:255<Z?255:Z;fm=1}Bh=Tn,al=Ar,Md=Hs,vi=Ir,ga=Ci,$n=Dr,Uh=Xl,hm=Ua,Fd=Jl,Nu=Tu,Du=Yl,ic=tl,Ru=Ql,$h=xo,Iu=el,ac=Ki,Ld=os,va=Ih,Ha[0]=pa,Ha[1]=Ni,Ha[2]=mi,Ha[3]=bo,Ha[4]=Dh,Ha[5]=ql,Ha[6]=Wi,Ha[7]=xu,Ha[8]=Gl,Ha[9]=Wl,oc[0]=pi,oc[1]=yo,oc[2]=vs,oc[3]=Cs,oc[4]=rn,oc[5]=La,oc[6]=da,ll[0]=Ba,ll[1]=fa,ll[2]=Rh,ll[3]=ja,ll[4]=Qr,ll[5]=_u,ll[6]=Su,Z=1}else Z=0}Z&&(Z=function(ut,It){for(ut.M=0;ut.M<ut.Va;++ut.M){var Et,nt=ut.Jc[ut.M&ut.Xb],it=ut.m,Ct=ut;for(Et=0;Et<Ct.za;++Et){var Mt=it,Dt=Ct,Kt=Dt.Ac,zt=Dt.Bc+4*Et,or=Dt.zc,Wt=Dt.ya[Dt.aa+Et];if(Dt.Qa.Bb?Wt.$b=O(Mt,Dt.Pa.jb[0])?2+O(Mt,Dt.Pa.jb[2]):O(Mt,Dt.Pa.jb[1]):Wt.$b=0,Dt.kc&&(Wt.Ad=O(Mt,Dt.Bd)),Wt.Za=!O(Mt,145)+0,Wt.Za){var Xr=Wt.Ob,nn=0;for(Dt=0;4>Dt;++Dt){var qr,Fr=or[0+Dt];for(qr=0;4>qr;++qr){Fr=gI[Kt[zt+qr]][Fr];for(var un=C4[O(Mt,Fr[0])];0<un;)un=C4[2*un+O(Mt,Fr[un])];Fr=-un,Kt[zt+qr]=Fr}n(Xr,nn,Kt,zt,4),nn+=4,or[0+Dt]=Fr}}else Fr=O(Mt,156)?O(Mt,128)?1:3:O(Mt,163)?2:0,Wt.Ob[0]=Fr,s(Kt,zt,Fr,4),s(or,0,Fr,4);Wt.Dd=O(Mt,142)?O(Mt,114)?O(Mt,183)?1:3:2:0}if(Ct.m.Ka)return nr(ut,7,"Premature end-of-partition0 encountered.");for(;ut.ja<ut.za;++ut.ja){if(Ct=nt,Mt=(it=ut).rb[it.sb-1],Kt=it.rb[it.sb+it.ja],Et=it.ya[it.aa+it.ja],zt=it.kc?Et.Ad:0)Mt.la=Kt.la=0,Et.Za||(Mt.Na=Kt.Na=0),Et.Hc=0,Et.Gc=0,Et.ia=0;else{var ln,Tr;if(Mt=Kt,Kt=Ct,zt=it.Pa.Xc,or=it.ya[it.aa+it.ja],Wt=it.pb[or.$b],Dt=or.ad,Xr=0,nn=it.rb[it.sb-1],Fr=qr=0,s(Dt,Xr,0,384),or.Za)var Yn=0,Ii=zt[3];else{un=i(16);var Jn=Mt.Na+nn.Na;if(Jn=Bd(Kt,zt[1],Jn,Wt.Eb,0,un,0),Mt.Na=nn.Na=(0<Jn)+0,1<Jn)Bh(un,0,Dt,Xr);else{var Pi=un[0]+3>>3;for(un=0;256>un;un+=16)Dt[Xr+un]=Pi}Yn=1,Ii=zt[0]}var sn=15&Mt.la,Yi=15&nn.la;for(un=0;4>un;++un){var Ji=1&Yi;for(Pi=Tr=0;4>Pi;++Pi)sn=sn>>1|(Ji=(Jn=Bd(Kt,Ii,Jn=Ji+(1&sn),Wt.Sc,Yn,Dt,Xr))>Yn)<<7,Tr=Tr<<2|(3<Jn?3:1<Jn?2:Dt[Xr+0]!=0),Xr+=16;sn>>=4,Yi=Yi>>1|Ji<<7,qr=(qr<<8|Tr)>>>0}for(Ii=sn,Yn=Yi>>4,ln=0;4>ln;ln+=2){for(Tr=0,sn=Mt.la>>4+ln,Yi=nn.la>>4+ln,un=0;2>un;++un){for(Ji=1&Yi,Pi=0;2>Pi;++Pi)Jn=Ji+(1&sn),sn=sn>>1|(Ji=0<(Jn=Bd(Kt,zt[2],Jn,Wt.Qc,0,Dt,Xr)))<<3,Tr=Tr<<2|(3<Jn?3:1<Jn?2:Dt[Xr+0]!=0),Xr+=16;sn>>=2,Yi=Yi>>1|Ji<<5}Fr|=Tr<<4*ln,Ii|=sn<<4<<ln,Yn|=(240&Yi)<<ln}Mt.la=Ii,nn.la=Yn,or.Hc=qr,or.Gc=Fr,or.ia=43690&Fr?0:Wt.ia,zt=!(qr|Fr)}if(0<it.L&&(it.wa[it.Y+it.ja]=it.gd[Et.$b][Et.Za],it.wa[it.Y+it.ja].La|=!zt),Ct.Ka)return nr(ut,7,"Premature end-of-file encountered.")}if(An(ut),it=It,Ct=1,Et=(nt=ut).D,Mt=0<nt.L&&nt.M>=nt.zb&&nt.M<=nt.Va,nt.Aa==0)e:{if(Et.M=nt.M,Et.uc=Mt,So(nt,Et),Ct=1,Et=(Tr=nt.D).Nb,Mt=(Fr=xm[nt.L])*nt.R,Kt=Fr/2*nt.B,un=16*Et*nt.R,Pi=8*Et*nt.B,zt=nt.sa,or=nt.ta-Mt+un,Wt=nt.qa,Dt=nt.ra-Kt+Pi,Xr=nt.Ha,nn=nt.Ia-Kt+Pi,Yi=(sn=Tr.M)==0,qr=sn>=nt.Va-1,nt.Aa==2&&So(nt,Tr),Tr.uc)for(Ji=(Jn=nt).D.M,e(Jn.D.uc),Tr=Jn.yb;Tr<Jn.Hb;++Tr){Yn=Tr,Ii=Ji;var ys=(Is=(On=Jn).D).Nb;ln=On.R;var Is=Is.wa[Is.Y+Yn],yi=On.sa,xa=On.ta+16*ys*ln+16*Yn,ko=Is.dd,bs=Is.tc;if(bs!=0)if(e(3<=bs),On.L==1)0<Yn&&ac(yi,xa,ln,bs+4),Is.La&&va(yi,xa,ln,bs),0<Ii&&Iu(yi,xa,ln,bs+4),Is.La&&Ld(yi,xa,ln,bs);else{var cl=On.B,Pu=On.qa,Hh=On.ra+8*ys*cl+8*Yn,cc=On.Ha,On=On.Ia+8*ys*cl+8*Yn;ys=Is.ld,0<Yn&&(hm(yi,xa,ln,bs+4,ko,ys),Nu(Pu,Hh,cc,On,cl,bs+4,ko,ys)),Is.La&&(ic(yi,xa,ln,bs,ko,ys),$h(Pu,Hh,cc,On,cl,bs,ko,ys)),0<Ii&&(Uh(yi,xa,ln,bs+4,ko,ys),Fd(Pu,Hh,cc,On,cl,bs+4,ko,ys)),Is.La&&(Du(yi,xa,ln,bs,ko,ys),Ru(Pu,Hh,cc,On,cl,bs,ko,ys))}}if(nt.ia&&alert("todo:DitherRow"),it.put!=null){if(Tr=16*sn,sn=16*(sn+1),Yi?(it.y=nt.sa,it.O=nt.ta+un,it.f=nt.qa,it.N=nt.ra+Pi,it.ea=nt.Ha,it.W=nt.Ia+Pi):(Tr-=Fr,it.y=zt,it.O=or,it.f=Wt,it.N=Dt,it.ea=Xr,it.W=nn),qr||(sn-=Fr),sn>it.o&&(sn=it.o),it.F=null,it.J=null,nt.Fa!=null&&0<nt.Fa.length&&Tr<sn&&(it.J=rc(nt,it,Tr,sn-Tr),it.F=nt.mb,it.F==null&&it.F.length==0)){Ct=nr(nt,3,"Could not decode alpha data.");break e}Tr<it.j&&(Fr=it.j-Tr,Tr=it.j,e(!(1&Fr)),it.O+=nt.R*Fr,it.N+=nt.B*(Fr>>1),it.W+=nt.B*(Fr>>1),it.F!=null&&(it.J+=it.width*Fr)),Tr<sn&&(it.O+=it.v,it.N+=it.v>>1,it.W+=it.v>>1,it.F!=null&&(it.J+=it.v),it.ka=Tr-it.j,it.U=it.va-it.v,it.T=sn-Tr,Ct=it.put(it))}Et+1!=nt.Ic||qr||(n(nt.sa,nt.ta-Mt,zt,or+16*nt.R,Mt),n(nt.qa,nt.ra-Kt,Wt,Dt+8*nt.B,Kt),n(nt.Ha,nt.Ia-Kt,Xr,nn+8*nt.B,Kt))}if(!Ct)return nr(ut,6,"Output aborted.")}return 1}(L,X)),X.bc!=null&&X.bc(X),Z&=1}return Z?(L.cb=0,Z):0}function In(L,X,Z,oe,me){me=L[X+Z+32*oe]+(me>>3),L[X+Z+32*oe]=-256&me?0>me?0:255:me}function di(L,X,Z,oe,me,we){In(L,X,0,Z,oe+me),In(L,X,1,Z,oe+we),In(L,X,2,Z,oe-we),In(L,X,3,Z,oe-me)}function tn(L){return(20091*L>>16)+L}function Pn(L,X,Z,oe){var me,we=0,xe=i(16);for(me=0;4>me;++me){var Ne=L[X+0]+L[X+8],Oe=L[X+0]-L[X+8],je=(35468*L[X+4]>>16)-tn(L[X+12]),rt=tn(L[X+4])+(35468*L[X+12]>>16);xe[we+0]=Ne+rt,xe[we+1]=Oe+je,xe[we+2]=Oe-je,xe[we+3]=Ne-rt,we+=4,X++}for(me=we=0;4>me;++me)Ne=(L=xe[we+0]+4)+xe[we+8],Oe=L-xe[we+8],je=(35468*xe[we+4]>>16)-tn(xe[we+12]),In(Z,oe,0,0,Ne+(rt=tn(xe[we+4])+(35468*xe[we+12]>>16))),In(Z,oe,1,0,Oe+je),In(Z,oe,2,0,Oe-je),In(Z,oe,3,0,Ne-rt),we++,oe+=32}function Dr(L,X,Z,oe){var me=L[X+0]+4,we=35468*L[X+4]>>16,xe=tn(L[X+4]),Ne=35468*L[X+1]>>16;di(Z,oe,0,me+xe,L=tn(L[X+1]),Ne),di(Z,oe,1,me+we,L,Ne),di(Z,oe,2,me-we,L,Ne),di(Z,oe,3,me-xe,L,Ne)}function Ar(L,X,Z,oe,me){Pn(L,X,Z,oe),me&&Pn(L,X+16,Z,oe+4)}function Hs(L,X,Z,oe){al(L,X+0,Z,oe,1),al(L,X+32,Z,oe+128,1)}function Ir(L,X,Z,oe){var me;for(L=L[X+0]+4,me=0;4>me;++me)for(X=0;4>X;++X)In(Z,oe,X,me,L)}function Ci(L,X,Z,oe){L[X+0]&&vi(L,X+0,Z,oe),L[X+16]&&vi(L,X+16,Z,oe+4),L[X+32]&&vi(L,X+32,Z,oe+128),L[X+48]&&vi(L,X+48,Z,oe+128+4)}function Tn(L,X,Z,oe){var me,we=i(16);for(me=0;4>me;++me){var xe=L[X+0+me]+L[X+12+me],Ne=L[X+4+me]+L[X+8+me],Oe=L[X+4+me]-L[X+8+me],je=L[X+0+me]-L[X+12+me];we[0+me]=xe+Ne,we[8+me]=xe-Ne,we[4+me]=je+Oe,we[12+me]=je-Oe}for(me=0;4>me;++me)xe=(L=we[0+4*me]+3)+we[3+4*me],Ne=we[1+4*me]+we[2+4*me],Oe=we[1+4*me]-we[2+4*me],je=L-we[3+4*me],Z[oe+0]=xe+Ne>>3,Z[oe+16]=je+Oe>>3,Z[oe+32]=xe-Ne>>3,Z[oe+48]=je-Oe>>3,oe+=64}function Un(L,X,Z){var oe,me=X-32,we=Xi,xe=255-L[me-1];for(oe=0;oe<Z;++oe){var Ne,Oe=we,je=xe+L[X-1];for(Ne=0;Ne<Z;++Ne)L[X+Ne]=Oe[je+L[me+Ne]];X+=32}}function Ni(L,X){Un(L,X,4)}function fa(L,X){Un(L,X,8)}function yo(L,X){Un(L,X,16)}function vs(L,X){var Z;for(Z=0;16>Z;++Z)n(L,X+32*Z,L,X-32,16)}function Cs(L,X){var Z;for(Z=16;0<Z;--Z)s(L,X,L[X-1],16),X+=32}function Fa(L,X,Z){var oe;for(oe=0;16>oe;++oe)s(X,Z+32*oe,L,16)}function pi(L,X){var Z,oe=16;for(Z=0;16>Z;++Z)oe+=L[X-1+32*Z]+L[X+Z-32];Fa(oe>>5,L,X)}function rn(L,X){var Z,oe=8;for(Z=0;16>Z;++Z)oe+=L[X-1+32*Z];Fa(oe>>4,L,X)}function La(L,X){var Z,oe=8;for(Z=0;16>Z;++Z)oe+=L[X+Z-32];Fa(oe>>4,L,X)}function da(L,X){Fa(128,L,X)}function cr(L,X,Z){return L+2*X+Z+2>>2}function mi(L,X){var Z,oe=X-32;for(oe=new Uint8Array([cr(L[oe-1],L[oe+0],L[oe+1]),cr(L[oe+0],L[oe+1],L[oe+2]),cr(L[oe+1],L[oe+2],L[oe+3]),cr(L[oe+2],L[oe+3],L[oe+4])]),Z=0;4>Z;++Z)n(L,X+32*Z,oe,0,oe.length)}function bo(L,X){var Z=L[X-1],oe=L[X-1+32],me=L[X-1+64],we=L[X-1+96];K(L,X+0,16843009*cr(L[X-1-32],Z,oe)),K(L,X+32,16843009*cr(Z,oe,me)),K(L,X+64,16843009*cr(oe,me,we)),K(L,X+96,16843009*cr(me,we,we))}function pa(L,X){var Z,oe=4;for(Z=0;4>Z;++Z)oe+=L[X+Z-32]+L[X-1+32*Z];for(oe>>=3,Z=0;4>Z;++Z)s(L,X+32*Z,oe,4)}function Dh(L,X){var Z=L[X-1+0],oe=L[X-1+32],me=L[X-1+64],we=L[X-1-32],xe=L[X+0-32],Ne=L[X+1-32],Oe=L[X+2-32],je=L[X+3-32];L[X+0+96]=cr(oe,me,L[X-1+96]),L[X+1+96]=L[X+0+64]=cr(Z,oe,me),L[X+2+96]=L[X+1+64]=L[X+0+32]=cr(we,Z,oe),L[X+3+96]=L[X+2+64]=L[X+1+32]=L[X+0+0]=cr(xe,we,Z),L[X+3+64]=L[X+2+32]=L[X+1+0]=cr(Ne,xe,we),L[X+3+32]=L[X+2+0]=cr(Oe,Ne,xe),L[X+3+0]=cr(je,Oe,Ne)}function Wi(L,X){var Z=L[X+1-32],oe=L[X+2-32],me=L[X+3-32],we=L[X+4-32],xe=L[X+5-32],Ne=L[X+6-32],Oe=L[X+7-32];L[X+0+0]=cr(L[X+0-32],Z,oe),L[X+1+0]=L[X+0+32]=cr(Z,oe,me),L[X+2+0]=L[X+1+32]=L[X+0+64]=cr(oe,me,we),L[X+3+0]=L[X+2+32]=L[X+1+64]=L[X+0+96]=cr(me,we,xe),L[X+3+32]=L[X+2+64]=L[X+1+96]=cr(we,xe,Ne),L[X+3+64]=L[X+2+96]=cr(xe,Ne,Oe),L[X+3+96]=cr(Ne,Oe,Oe)}function ql(L,X){var Z=L[X-1+0],oe=L[X-1+32],me=L[X-1+64],we=L[X-1-32],xe=L[X+0-32],Ne=L[X+1-32],Oe=L[X+2-32],je=L[X+3-32];L[X+0+0]=L[X+1+64]=we+xe+1>>1,L[X+1+0]=L[X+2+64]=xe+Ne+1>>1,L[X+2+0]=L[X+3+64]=Ne+Oe+1>>1,L[X+3+0]=Oe+je+1>>1,L[X+0+96]=cr(me,oe,Z),L[X+0+64]=cr(oe,Z,we),L[X+0+32]=L[X+1+96]=cr(Z,we,xe),L[X+1+32]=L[X+2+96]=cr(we,xe,Ne),L[X+2+32]=L[X+3+96]=cr(xe,Ne,Oe),L[X+3+32]=cr(Ne,Oe,je)}function xu(L,X){var Z=L[X+0-32],oe=L[X+1-32],me=L[X+2-32],we=L[X+3-32],xe=L[X+4-32],Ne=L[X+5-32],Oe=L[X+6-32],je=L[X+7-32];L[X+0+0]=Z+oe+1>>1,L[X+1+0]=L[X+0+64]=oe+me+1>>1,L[X+2+0]=L[X+1+64]=me+we+1>>1,L[X+3+0]=L[X+2+64]=we+xe+1>>1,L[X+0+32]=cr(Z,oe,me),L[X+1+32]=L[X+0+96]=cr(oe,me,we),L[X+2+32]=L[X+1+96]=cr(me,we,xe),L[X+3+32]=L[X+2+96]=cr(we,xe,Ne),L[X+3+64]=cr(xe,Ne,Oe),L[X+3+96]=cr(Ne,Oe,je)}function Wl(L,X){var Z=L[X-1+0],oe=L[X-1+32],me=L[X-1+64],we=L[X-1+96];L[X+0+0]=Z+oe+1>>1,L[X+2+0]=L[X+0+32]=oe+me+1>>1,L[X+2+32]=L[X+0+64]=me+we+1>>1,L[X+1+0]=cr(Z,oe,me),L[X+3+0]=L[X+1+32]=cr(oe,me,we),L[X+3+32]=L[X+1+64]=cr(me,we,we),L[X+3+64]=L[X+2+64]=L[X+0+96]=L[X+1+96]=L[X+2+96]=L[X+3+96]=we}function Gl(L,X){var Z=L[X-1+0],oe=L[X-1+32],me=L[X-1+64],we=L[X-1+96],xe=L[X-1-32],Ne=L[X+0-32],Oe=L[X+1-32],je=L[X+2-32];L[X+0+0]=L[X+2+32]=Z+xe+1>>1,L[X+0+32]=L[X+2+64]=oe+Z+1>>1,L[X+0+64]=L[X+2+96]=me+oe+1>>1,L[X+0+96]=we+me+1>>1,L[X+3+0]=cr(Ne,Oe,je),L[X+2+0]=cr(xe,Ne,Oe),L[X+1+0]=L[X+3+32]=cr(Z,xe,Ne),L[X+1+32]=L[X+3+64]=cr(oe,Z,xe),L[X+1+64]=L[X+3+96]=cr(me,oe,Z),L[X+1+96]=cr(we,me,oe)}function Rh(L,X){var Z;for(Z=0;8>Z;++Z)n(L,X+32*Z,L,X-32,8)}function ja(L,X){var Z;for(Z=0;8>Z;++Z)s(L,X,L[X-1],8),X+=32}function Gi(L,X,Z){var oe;for(oe=0;8>oe;++oe)s(X,Z+32*oe,L,8)}function Ba(L,X){var Z,oe=8;for(Z=0;8>Z;++Z)oe+=L[X+Z-32]+L[X-1+32*Z];Gi(oe>>4,L,X)}function _u(L,X){var Z,oe=4;for(Z=0;8>Z;++Z)oe+=L[X+Z-32];Gi(oe>>3,L,X)}function Qr(L,X){var Z,oe=4;for(Z=0;8>Z;++Z)oe+=L[X-1+32*Z];Gi(oe>>3,L,X)}function Su(L,X){Gi(128,L,X)}function Kl(L,X,Z){var oe=L[X-Z],me=L[X+0],we=3*(me-oe)+Dv[1020+L[X-2*Z]-L[X+Z]],xe=dm[112+(we+4>>3)];L[X-Z]=Xi[255+oe+dm[112+(we+3>>3)]],L[X+0]=Xi[255+me-xe]}function Eu(L,X,Z,oe){var me=L[X+0],we=L[X+Z];return ba[255+L[X-2*Z]-L[X-Z]]>oe||ba[255+we-me]>oe}function ku(L,X,Z,oe){return 4*ba[255+L[X-Z]-L[X+0]]+ba[255+L[X-2*Z]-L[X+Z]]<=oe}function Au(L,X,Z,oe,me){var we=L[X-3*Z],xe=L[X-2*Z],Ne=L[X-Z],Oe=L[X+0],je=L[X+Z],rt=L[X+2*Z],vt=L[X+3*Z];return 4*ba[255+Ne-Oe]+ba[255+xe-je]>oe?0:ba[255+L[X-4*Z]-we]<=me&&ba[255+we-xe]<=me&&ba[255+xe-Ne]<=me&&ba[255+vt-rt]<=me&&ba[255+rt-je]<=me&&ba[255+je-Oe]<=me}function el(L,X,Z,oe){var me=2*oe+1;for(oe=0;16>oe;++oe)ku(L,X+oe,Z,me)&&Kl(L,X+oe,Z)}function Ki(L,X,Z,oe){var me=2*oe+1;for(oe=0;16>oe;++oe)ku(L,X+oe*Z,1,me)&&Kl(L,X+oe*Z,1)}function os(L,X,Z,oe){var me;for(me=3;0<me;--me)el(L,X+=4*Z,Z,oe)}function Ih(L,X,Z,oe){var me;for(me=3;0<me;--me)Ki(L,X+=4,Z,oe)}function wo(L,X,Z,oe,me,we,xe,Ne){for(we=2*we+1;0<me--;){if(Au(L,X,Z,we,xe))if(Eu(L,X,Z,Ne))Kl(L,X,Z);else{var Oe=L,je=X,rt=Z,vt=Oe[je-2*rt],yt=Oe[je-rt],ut=Oe[je+0],It=Oe[je+rt],Et=Oe[je+2*rt],nt=27*(Ct=Dv[1020+3*(ut-yt)+Dv[1020+vt-It]])+63>>7,it=18*Ct+63>>7,Ct=9*Ct+63>>7;Oe[je-3*rt]=Xi[255+Oe[je-3*rt]+Ct],Oe[je-2*rt]=Xi[255+vt+it],Oe[je-rt]=Xi[255+yt+nt],Oe[je+0]=Xi[255+ut-nt],Oe[je+rt]=Xi[255+It-it],Oe[je+2*rt]=Xi[255+Et-Ct]}X+=oe}}function Ns(L,X,Z,oe,me,we,xe,Ne){for(we=2*we+1;0<me--;){if(Au(L,X,Z,we,xe))if(Eu(L,X,Z,Ne))Kl(L,X,Z);else{var Oe=L,je=X,rt=Z,vt=Oe[je-rt],yt=Oe[je+0],ut=Oe[je+rt],It=dm[112+((Et=3*(yt-vt))+4>>3)],Et=dm[112+(Et+3>>3)],nt=It+1>>1;Oe[je-2*rt]=Xi[255+Oe[je-2*rt]+nt],Oe[je-rt]=Xi[255+vt+Et],Oe[je+0]=Xi[255+yt-It],Oe[je+rt]=Xi[255+ut-nt]}X+=oe}}function Xl(L,X,Z,oe,me,we){wo(L,X,Z,1,16,oe,me,we)}function Ua(L,X,Z,oe,me,we){wo(L,X,1,Z,16,oe,me,we)}function Yl(L,X,Z,oe,me,we){var xe;for(xe=3;0<xe;--xe)Ns(L,X+=4*Z,Z,1,16,oe,me,we)}function tl(L,X,Z,oe,me,we){var xe;for(xe=3;0<xe;--xe)Ns(L,X+=4,1,Z,16,oe,me,we)}function Jl(L,X,Z,oe,me,we,xe,Ne){wo(L,X,me,1,8,we,xe,Ne),wo(Z,oe,me,1,8,we,xe,Ne)}function Tu(L,X,Z,oe,me,we,xe,Ne){wo(L,X,1,me,8,we,xe,Ne),wo(Z,oe,1,me,8,we,xe,Ne)}function Ql(L,X,Z,oe,me,we,xe,Ne){Ns(L,X+4*me,me,1,8,we,xe,Ne),Ns(Z,oe+4*me,me,1,8,we,xe,Ne)}function xo(L,X,Z,oe,me,we,xe,Ne){Ns(L,X+4,1,me,8,we,xe,Ne),Ns(Z,oe+4,1,me,8,we,xe,Ne)}function rl(){this.ba=new xt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new wt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Zl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function nl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ec(){this.ua=0,this.Wa=new te,this.vb=new te,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new M,this.yc=new P}function Ph(){this.xb=this.a=0,this.l=new Qt,this.ca=new xt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new T,this.Pb=0,this.wd=new T,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ec,this.ab=0,this.gc=a(4,nl),this.Oc=0}function $a(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Qt,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function _o(L,X,Z,oe,me,we,xe){for(L=L==null?0:L[X+0],X=0;X<xe;++X)me[we+X]=L+Z[oe+X]&255,L=me[we+X]}function tc(L,X,Z,oe,me,we,xe){var Ne;if(L==null)_o(null,null,Z,oe,me,we,xe);else for(Ne=0;Ne<xe;++Ne)me[we+Ne]=L[X+Ne]+Z[oe+Ne]&255}function zs(L,X,Z,oe,me,we,xe){if(L==null)_o(null,null,Z,oe,me,we,xe);else{var Ne,Oe=L[X+0],je=Oe,rt=Oe;for(Ne=0;Ne<xe;++Ne)je=rt+(Oe=L[X+Ne])-je,rt=Z[oe+Ne]+(-256&je?0>je?0:255:je)&255,je=Oe,me[we+Ne]=rt}}function rc(L,X,Z,oe){var me=X.width,we=X.o;if(e(L!=null&&X!=null),0>Z||0>=oe||Z+oe>we)return null;if(!L.Cc){if(L.ga==null){var xe;if(L.ga=new $a,(xe=L.ga==null)||(xe=X.width*X.o,e(L.Gb.length==0),L.Gb=i(xe),L.Uc=0,L.Gb==null?xe=0:(L.mb=L.Gb,L.nb=L.Uc,L.rc=null,xe=1),xe=!xe),!xe){xe=L.ga;var Ne=L.Fa,Oe=L.P,je=L.qc,rt=L.mb,vt=L.nb,yt=Oe+1,ut=je-1,It=xe.l;if(e(Ne!=null&&rt!=null&&X!=null),lc[0]=null,lc[1]=_o,lc[2]=tc,lc[3]=zs,xe.ca=rt,xe.tb=vt,xe.c=X.width,xe.i=X.height,e(0<xe.c&&0<xe.i),1>=je)X=0;else if(xe.$a=Ne[Oe+0]>>0&3,xe.Z=Ne[Oe+0]>>2&3,xe.Lc=Ne[Oe+0]>>4&3,Oe=Ne[Oe+0]>>6&3,0>xe.$a||1<xe.$a||4<=xe.Z||1<xe.Lc||Oe)X=0;else if(It.put=Ht,It.ac=Nt,It.bc=$t,It.ma=xe,It.width=X.width,It.height=X.height,It.Da=X.Da,It.v=X.v,It.va=X.va,It.j=X.j,It.o=X.o,xe.$a)e:{e(xe.$a==1),X=st();t:for(;;){if(X==null){X=0;break e}if(e(xe!=null),xe.mc=X,X.c=xe.c,X.i=xe.i,X.l=xe.l,X.l.ma=xe,X.l.width=xe.c,X.l.height=xe.i,X.a=0,_(X.m,Ne,yt,ut),!tt(xe.c,xe.i,1,X,null)||(X.ab==1&&X.gc[0].hc==3&&ye(X.s)?(xe.ic=1,Ne=X.c*X.i,X.Ta=null,X.Ua=0,X.V=i(Ne),X.Ba=0,X.V==null?(X.a=1,X=0):X=1):(xe.ic=0,X=ct(X,xe.c)),!X))break t;X=1;break e}xe.mc=null,X=0}else X=ut>=xe.c*xe.i;xe=!X}if(xe)return null;L.ga.Lc!=1?L.Ga=0:oe=we-Z}e(L.ga!=null),e(Z+oe<=we);e:{if(X=(Ne=L.ga).c,we=Ne.l.o,Ne.$a==0){if(yt=L.rc,ut=L.Vc,It=L.Fa,Oe=L.P+1+Z*X,je=L.mb,rt=L.nb+Z*X,e(Oe<=L.P+L.qc),Ne.Z!=0)for(e(lc[Ne.Z]!=null),xe=0;xe<oe;++xe)lc[Ne.Z](yt,ut,It,Oe,je,rt,X),yt=je,ut=rt,rt+=X,Oe+=X;else for(xe=0;xe<oe;++xe)n(je,rt,It,Oe,X),yt=je,ut=rt,rt+=X,Oe+=X;L.rc=yt,L.Vc=ut}else{if(e(Ne.mc!=null),X=Z+oe,e((xe=Ne.mc)!=null),e(X<=xe.i),xe.C>=X)X=1;else if(Ne.ic||lt(),Ne.ic){Ne=xe.V,yt=xe.Ba,ut=xe.c;var Et=xe.i,nt=(It=1,Oe=xe.$/ut,je=xe.$%ut,rt=xe.m,vt=xe.s,xe.$),it=ut*Et,Ct=ut*X,Mt=vt.wc,Dt=nt<Ct?ht(vt,je,Oe):null;e(nt<=it),e(X<=Et),e(ye(vt));t:for(;;){for(;!rt.h&&nt<Ct;){if(je&Mt||(Dt=ht(vt,je,Oe)),e(Dt!=null),U(rt),256>(Et=We(Dt.G[0],Dt.H[0],rt)))Ne[yt+nt]=Et,++nt,++je>=ut&&(je=0,++Oe<=X&&!(Oe%16)&&Re(xe,Oe));else{if(!(280>Et)){It=0;break t}Et=er(Et-256,rt);var Kt,zt=We(Dt.G[4],Dt.H[4],rt);if(U(rt),!(nt>=(zt=Gt(ut,zt=er(zt,rt)))&&it-nt>=Et)){It=0;break t}for(Kt=0;Kt<Et;++Kt)Ne[yt+nt+Kt]=Ne[yt+nt+Kt-zt];for(nt+=Et,je+=Et;je>=ut;)je-=ut,++Oe<=X&&!(Oe%16)&&Re(xe,Oe);nt<Ct&&je&Mt&&(Dt=ht(vt,je,Oe))}e(rt.h==q(rt))}Re(xe,Oe>X?X:Oe);break t}!It||rt.h&&nt<it?(It=0,xe.a=rt.h?5:3):xe.$=nt,X=It}else X=Ie(xe,xe.V,xe.Ba,xe.c,xe.i,X,ot);if(!X){oe=0;break e}}Z+oe>=we&&(L.Cc=1),oe=1}if(!oe)return null;if(L.Cc&&((oe=L.ga)!=null&&(oe.mc=null),L.ga=null,0<L.Ga))return alert("todo:WebPDequantizeLevels"),null}return L.nb+Z*me}function J(L,X,Z,oe,me,we){for(;0<me--;){var xe,Ne=L,Oe=X+(Z?1:0),je=L,rt=X+(Z?0:3);for(xe=0;xe<oe;++xe){var vt=je[rt+4*xe];vt!=255&&(vt*=32897,Ne[Oe+4*xe+0]=Ne[Oe+4*xe+0]*vt>>23,Ne[Oe+4*xe+1]=Ne[Oe+4*xe+1]*vt>>23,Ne[Oe+4*xe+2]=Ne[Oe+4*xe+2]*vt>>23)}X+=we}}function pe(L,X,Z,oe,me){for(;0<oe--;){var we;for(we=0;we<Z;++we){var xe=L[X+2*we+0],Ne=15&(je=L[X+2*we+1]),Oe=4369*Ne,je=(240&je|je>>4)*Oe>>16;L[X+2*we+0]=(240&xe|xe>>4)*Oe>>16&240|(15&xe|xe<<4)*Oe>>16>>4&15,L[X+2*we+1]=240&je|Ne}X+=me}}function $e(L,X,Z,oe,me,we,xe,Ne){var Oe,je,rt=255;for(je=0;je<me;++je){for(Oe=0;Oe<oe;++Oe){var vt=L[X+Oe];we[xe+4*Oe]=vt,rt&=vt}X+=Z,xe+=Ne}return rt!=255}function Ze(L,X,Z,oe,me){var we;for(we=0;we<me;++we)Z[oe+we]=L[X+we]>>8}function lt(){ya=J,fn=pe,dn=$e,Vn=Ze}function kt(L,X,Z){C[L]=function(oe,me,we,xe,Ne,Oe,je,rt,vt,yt,ut,It,Et,nt,it,Ct,Mt){var Dt,Kt=Mt-1>>1,zt=Ne[Oe+0]|je[rt+0]<<16,or=vt[yt+0]|ut[It+0]<<16;e(oe!=null);var Wt=3*zt+or+131074>>2;for(X(oe[me+0],255&Wt,Wt>>16,Et,nt),we!=null&&(Wt=3*or+zt+131074>>2,X(we[xe+0],255&Wt,Wt>>16,it,Ct)),Dt=1;Dt<=Kt;++Dt){var Xr=Ne[Oe+Dt]|je[rt+Dt]<<16,nn=vt[yt+Dt]|ut[It+Dt]<<16,qr=zt+Xr+or+nn+524296,Fr=qr+2*(Xr+or)>>3;Wt=Fr+zt>>1,zt=(qr=qr+2*(zt+nn)>>3)+Xr>>1,X(oe[me+2*Dt-1],255&Wt,Wt>>16,Et,nt+(2*Dt-1)*Z),X(oe[me+2*Dt-0],255&zt,zt>>16,Et,nt+(2*Dt-0)*Z),we!=null&&(Wt=qr+or>>1,zt=Fr+nn>>1,X(we[xe+2*Dt-1],255&Wt,Wt>>16,it,Ct+(2*Dt-1)*Z),X(we[xe+2*Dt+0],255&zt,zt>>16,it,Ct+(2*Dt+0)*Z)),zt=Xr,or=nn}1&Mt||(Wt=3*zt+or+131074>>2,X(oe[me+Mt-1],255&Wt,Wt>>16,Et,nt+(Mt-1)*Z),we!=null&&(Wt=3*or+zt+131074>>2,X(we[xe+Mt-1],255&Wt,Wt>>16,it,Ct+(Mt-1)*Z)))}}function Ft(){wa[pm]=wI,wa[mm]=D4,wa[k4]=xI,wa[gm]=R4,wa[vm]=I4,wa[Rv]=P4,wa[A4]=_I,wa[Iv]=D4,wa[Pv]=R4,wa[ym]=I4,wa[Ov]=P4}function qt(L){return L&-16384?0>L?0:255:L>>SI}function H(L,X){return qt((19077*L>>8)+(26149*X>>8)-14234)}function re(L,X,Z){return qt((19077*L>>8)-(6419*X>>8)-(13320*Z>>8)+8708)}function le(L,X){return qt((19077*L>>8)+(33050*X>>8)-17685)}function Ce(L,X,Z,oe,me){oe[me+0]=H(L,Z),oe[me+1]=re(L,X,Z),oe[me+2]=le(L,X)}function at(L,X,Z,oe,me){oe[me+0]=le(L,X),oe[me+1]=re(L,X,Z),oe[me+2]=H(L,Z)}function bt(L,X,Z,oe,me){var we=re(L,X,Z);X=we<<3&224|le(L,X)>>3,oe[me+0]=248&H(L,Z)|we>>5,oe[me+1]=X}function Lt(L,X,Z,oe,me){var we=240&le(L,X)|15;oe[me+0]=240&H(L,Z)|re(L,X,Z)>>4,oe[me+1]=we}function xr(L,X,Z,oe,me){oe[me+0]=255,Ce(L,X,Z,oe,me+1)}function Mr(L,X,Z,oe,me){at(L,X,Z,oe,me),oe[me+3]=255}function _r(L,X,Z,oe,me){Ce(L,X,Z,oe,me),oe[me+3]=255}function Zr(L,X){return 0>L?0:L>X?X:L}function cn(L,X,Z){C[L]=function(oe,me,we,xe,Ne,Oe,je,rt,vt){for(var yt=rt+(-2&vt)*Z;rt!=yt;)X(oe[me+0],we[xe+0],Ne[Oe+0],je,rt),X(oe[me+1],we[xe+0],Ne[Oe+0],je,rt+Z),me+=2,++xe,++Oe,rt+=2*Z;1&vt&&X(oe[me+0],we[xe+0],Ne[Oe+0],je,rt)}}function Va(L,X,Z){return Z==0?L==0?X==0?6:5:X==0?4:0:Z}function Ds(L,X,Z,oe,me){switch(L>>>30){case 3:al(X,Z,oe,me,0);break;case 2:$n(X,Z,oe,me);break;case 1:vi(X,Z,oe,me)}}function So(L,X){var Z,oe,me=X.M,we=X.Nb,xe=L.oc,Ne=L.pc+40,Oe=L.oc,je=L.pc+584,rt=L.oc,vt=L.pc+600;for(Z=0;16>Z;++Z)xe[Ne+32*Z-1]=129;for(Z=0;8>Z;++Z)Oe[je+32*Z-1]=129,rt[vt+32*Z-1]=129;for(0<me?xe[Ne-1-32]=Oe[je-1-32]=rt[vt-1-32]=129:(s(xe,Ne-32-1,127,21),s(Oe,je-32-1,127,9),s(rt,vt-32-1,127,9)),oe=0;oe<L.za;++oe){var yt=X.ya[X.aa+oe];if(0<oe){for(Z=-1;16>Z;++Z)n(xe,Ne+32*Z-4,xe,Ne+32*Z+12,4);for(Z=-1;8>Z;++Z)n(Oe,je+32*Z-4,Oe,je+32*Z+4,4),n(rt,vt+32*Z-4,rt,vt+32*Z+4,4)}var ut=L.Gd,It=L.Hd+oe,Et=yt.ad,nt=yt.Hc;if(0<me&&(n(xe,Ne-32,ut[It].y,0,16),n(Oe,je-32,ut[It].f,0,8),n(rt,vt-32,ut[It].ea,0,8)),yt.Za){var it=xe,Ct=Ne-32+16;for(0<me&&(oe>=L.za-1?s(it,Ct,ut[It].y[15],4):n(it,Ct,ut[It+1].y,0,4)),Z=0;4>Z;Z++)it[Ct+128+Z]=it[Ct+256+Z]=it[Ct+384+Z]=it[Ct+0+Z];for(Z=0;16>Z;++Z,nt<<=2)it=xe,Ct=Ne+M4[Z],Ha[yt.Ob[Z]](it,Ct),Ds(nt,Et,16*+Z,it,Ct)}else if(it=Va(oe,me,yt.Ob[0]),oc[it](xe,Ne),nt!=0)for(Z=0;16>Z;++Z,nt<<=2)Ds(nt,Et,16*+Z,xe,Ne+M4[Z]);for(Z=yt.Gc,it=Va(oe,me,yt.Dd),ll[it](Oe,je),ll[it](rt,vt),nt=Et,it=Oe,Ct=je,255&(yt=Z>>0)&&(170&yt?Md(nt,256,it,Ct):ga(nt,256,it,Ct)),yt=rt,nt=vt,255&(Z>>=8)&&(170&Z?Md(Et,320,yt,nt):ga(Et,320,yt,nt)),me<L.Ub-1&&(n(ut[It].y,0,xe,Ne+480,16),n(ut[It].f,0,Oe,je+224,8),n(ut[It].ea,0,rt,vt+224,8)),Z=8*we*L.B,ut=L.sa,It=L.ta+16*oe+16*we*L.R,Et=L.qa,yt=L.ra+8*oe+Z,nt=L.Ha,it=L.Ia+8*oe+Z,Z=0;16>Z;++Z)n(ut,It+Z*L.R,xe,Ne+32*Z,16);for(Z=0;8>Z;++Z)n(Et,yt+Z*L.B,Oe,je+32*Z,8),n(nt,it+Z*L.B,rt,vt+32*Z,8)}}function Eo(L,X,Z,oe,me,we,xe,Ne,Oe){var je=[0],rt=[0],vt=0,yt=Oe!=null?Oe.kd:0,ut=Oe??new Zl;if(L==null||12>Z)return 7;ut.data=L,ut.w=X,ut.ha=Z,X=[X],Z=[Z],ut.gb=[ut.gb];e:{var It=X,Et=Z,nt=ut.gb;if(e(L!=null),e(Et!=null),e(nt!=null),nt[0]=0,12<=Et[0]&&!t(L,It[0],"RIFF")){if(t(L,It[0]+8,"WEBP")){nt=3;break e}var it=ie(L,It[0]+4);if(12>it||4294967286<it){nt=3;break e}if(yt&&it>Et[0]-8){nt=7;break e}nt[0]=it,It[0]+=12,Et[0]-=12}nt=0}if(nt!=0)return nt;for(it=0<ut.gb[0],Z=Z[0];;){e:{var Ct=L;Et=X,nt=Z;var Mt=je,Dt=rt,Kt=It=[0];if((Wt=vt=[vt])[0]=0,8>nt[0])nt=7;else{if(!t(Ct,Et[0],"VP8X")){if(ie(Ct,Et[0]+4)!=10){nt=3;break e}if(18>nt[0]){nt=7;break e}var zt=ie(Ct,Et[0]+8),or=1+ee(Ct,Et[0]+12);if(2147483648<=or*(Ct=1+ee(Ct,Et[0]+15))){nt=3;break e}Kt!=null&&(Kt[0]=zt),Mt!=null&&(Mt[0]=or),Dt!=null&&(Dt[0]=Ct),Et[0]+=18,nt[0]-=18,Wt[0]=1}nt=0}}if(vt=vt[0],It=It[0],nt!=0)return nt;if(Et=!!(2&It),!it&&vt)return 3;if(we!=null&&(we[0]=!!(16&It)),xe!=null&&(xe[0]=Et),Ne!=null&&(Ne[0]=0),xe=je[0],It=rt[0],vt&&Et&&Oe==null){nt=0;break}if(4>Z){nt=7;break}if(it&&vt||!it&&!vt&&!t(L,X[0],"ALPH")){Z=[Z],ut.na=[ut.na],ut.P=[ut.P],ut.Sa=[ut.Sa];e:{zt=L,nt=X,it=Z;var Wt=ut.gb;Mt=ut.na,Dt=ut.P,Kt=ut.Sa,or=22,e(zt!=null),e(it!=null),Ct=nt[0];var Xr=it[0];for(e(Mt!=null),e(Kt!=null),Mt[0]=null,Dt[0]=null,Kt[0]=0;;){if(nt[0]=Ct,it[0]=Xr,8>Xr){nt=7;break e}var nn=ie(zt,Ct+4);if(4294967286<nn){nt=3;break e}var qr=8+nn+1&-2;if(or+=qr,0<Wt&&or>Wt){nt=3;break e}if(!t(zt,Ct,"VP8 ")||!t(zt,Ct,"VP8L")){nt=0;break e}if(Xr[0]<qr){nt=7;break e}t(zt,Ct,"ALPH")||(Mt[0]=zt,Dt[0]=Ct+8,Kt[0]=nn),Ct+=qr,Xr-=qr}}if(Z=Z[0],ut.na=ut.na[0],ut.P=ut.P[0],ut.Sa=ut.Sa[0],nt!=0)break}Z=[Z],ut.Ja=[ut.Ja],ut.xa=[ut.xa];e:if(Wt=L,nt=X,it=Z,Mt=ut.gb[0],Dt=ut.Ja,Kt=ut.xa,zt=nt[0],Ct=!t(Wt,zt,"VP8 "),or=!t(Wt,zt,"VP8L"),e(Wt!=null),e(it!=null),e(Dt!=null),e(Kt!=null),8>it[0])nt=7;else{if(Ct||or){if(Wt=ie(Wt,zt+4),12<=Mt&&Wt>Mt-12){nt=3;break e}if(yt&&Wt>it[0]-8){nt=7;break e}Dt[0]=Wt,nt[0]+=8,it[0]-=8,Kt[0]=or}else Kt[0]=5<=it[0]&&Wt[zt+0]==47&&!(Wt[zt+4]>>5),Dt[0]=it[0];nt=0}if(Z=Z[0],ut.Ja=ut.Ja[0],ut.xa=ut.xa[0],X=X[0],nt!=0)break;if(4294967286<ut.Ja)return 3;if(Ne==null||Et||(Ne[0]=ut.xa?2:1),xe=[xe],It=[It],ut.xa){if(5>Z){nt=7;break}Ne=xe,yt=It,Et=we,L==null||5>Z?L=0:5<=Z&&L[X+0]==47&&!(L[X+4]>>5)?(it=[0],Wt=[0],Mt=[0],_(Dt=new T,L,X,Z),_t(Dt,it,Wt,Mt)?(Ne!=null&&(Ne[0]=it[0]),yt!=null&&(yt[0]=Wt[0]),Et!=null&&(Et[0]=Mt[0]),L=1):L=0):L=0}else{if(10>Z){nt=7;break}Ne=It,L==null||10>Z||!Rr(L,X+3,Z-3)?L=0:(yt=L[X+0]|L[X+1]<<8|L[X+2]<<16,Et=16383&(L[X+7]<<8|L[X+6]),L=16383&(L[X+9]<<8|L[X+8]),1&yt||3<(yt>>1&7)||!(yt>>4&1)||yt>>5>=ut.Ja||!Et||!L?L=0:(xe&&(xe[0]=Et),Ne&&(Ne[0]=L),L=1))}if(!L||(xe=xe[0],It=It[0],vt&&(je[0]!=xe||rt[0]!=It)))return 3;Oe!=null&&(Oe[0]=ut,Oe.offset=X-Oe.w,e(4294967286>X-Oe.w),e(Oe.offset==Oe.ha-Z));break}return nt==0||nt==7&&vt&&Oe==null?(we!=null&&(we[0]|=ut.na!=null&&0<ut.na.length),oe!=null&&(oe[0]=xe),me!=null&&(me[0]=It),0):nt}function Rd(L,X,Z){var oe=X.width,me=X.height,we=0,xe=0,Ne=oe,Oe=me;if(X.Da=L!=null&&0<L.Da,X.Da&&(Ne=L.cd,Oe=L.bd,we=L.v,xe=L.j,11>Z||(we&=-2,xe&=-2),0>we||0>xe||0>=Ne||0>=Oe||we+Ne>oe||xe+Oe>me))return 0;if(X.v=we,X.j=xe,X.va=we+Ne,X.o=xe+Oe,X.U=Ne,X.T=Oe,X.da=L!=null&&0<L.da,X.da){if(!se(Ne,Oe,Z=[L.ib],we=[L.hb]))return 0;X.ib=Z[0],X.hb=we[0]}return X.ob=L!=null&&L.ob,X.Kb=L==null||!L.Sd,X.da&&(X.ob=X.ib<3*oe/4&&X.hb<3*me/4,X.Kb=0),1}function Id(L){if(L==null)return 2;if(11>L.S){var X=L.f.RGBA;X.fb+=(L.height-1)*X.A,X.A=-X.A}else X=L.f.kb,L=L.height,X.O+=(L-1)*X.fa,X.fa=-X.fa,X.N+=(L-1>>1)*X.Ab,X.Ab=-X.Ab,X.W+=(L-1>>1)*X.Db,X.Db=-X.Db,X.F!=null&&(X.J+=(L-1)*X.lb,X.lb=-X.lb);return 0}function Oh(L,X,Z,oe){if(oe==null||0>=L||0>=X)return 2;if(Z!=null){if(Z.Da){var me=Z.cd,we=Z.bd,xe=-2&Z.v,Ne=-2&Z.j;if(0>xe||0>Ne||0>=me||0>=we||xe+me>L||Ne+we>X)return 2;L=me,X=we}if(Z.da){if(!se(L,X,me=[Z.ib],we=[Z.hb]))return 2;L=me[0],X=we[0]}}oe.width=L,oe.height=X;e:{var Oe=oe.width,je=oe.height;if(L=oe.S,0>=Oe||0>=je||!(L>=pm&&13>L))L=2;else{if(0>=oe.Rd&&oe.sd==null){xe=we=me=X=0;var rt=(Ne=Oe*F4[L])*je;if(11>L||(we=(je+1)/2*(X=(Oe+1)/2),L==12&&(xe=(me=Oe)*je)),(je=i(rt+2*we+xe))==null){L=1;break e}oe.sd=je,11>L?((Oe=oe.f.RGBA).eb=je,Oe.fb=0,Oe.A=Ne,Oe.size=rt):((Oe=oe.f.kb).y=je,Oe.O=0,Oe.fa=Ne,Oe.Fd=rt,Oe.f=je,Oe.N=0+rt,Oe.Ab=X,Oe.Cd=we,Oe.ea=je,Oe.W=0+rt+we,Oe.Db=X,Oe.Ed=we,L==12&&(Oe.F=je,Oe.J=0+rt+2*we),Oe.Tc=xe,Oe.lb=me)}if(X=1,me=oe.S,we=oe.width,xe=oe.height,me>=pm&&13>me)if(11>me)L=oe.f.RGBA,X&=(Ne=Math.abs(L.A))*(xe-1)+we<=L.size,X&=Ne>=we*F4[me],X&=L.eb!=null;else{L=oe.f.kb,Ne=(we+1)/2,rt=(xe+1)/2,Oe=Math.abs(L.fa),je=Math.abs(L.Ab);var vt=Math.abs(L.Db),yt=Math.abs(L.lb),ut=yt*(xe-1)+we;X&=Oe*(xe-1)+we<=L.Fd,X&=je*(rt-1)+Ne<=L.Cd,X=(X&=vt*(rt-1)+Ne<=L.Ed)&Oe>=we&je>=Ne&vt>=Ne,X&=L.y!=null,X&=L.f!=null,X&=L.ea!=null,me==12&&(X&=yt>=we,X&=ut<=L.Tc,X&=L.F!=null)}else X=0;L=X?0:2}}return L!=0||Z!=null&&Z.fd&&(L=Id(oe)),L}var Rs=64,Mh=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Fh=24,Lh=32,Pd=8,Di=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Te("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(L){return L},C.Predictor2=function(L,X,Z){return X[Z+0]},C.Predictor3=function(L,X,Z){return X[Z+1]},C.Predictor4=function(L,X,Z){return X[Z-1]},C.Predictor5=function(L,X,Z){return _e(_e(L,X[Z+1]),X[Z+0])},C.Predictor6=function(L,X,Z){return _e(L,X[Z-1])},C.Predictor7=function(L,X,Z){return _e(L,X[Z+0])},C.Predictor8=function(L,X,Z){return _e(X[Z-1],X[Z+0])},C.Predictor9=function(L,X,Z){return _e(X[Z+0],X[Z+1])},C.Predictor10=function(L,X,Z){return _e(_e(L,X[Z-1]),_e(X[Z+0],X[Z+1]))},C.Predictor11=function(L,X,Z){var oe=X[Z+0];return 0>=ve(oe>>24&255,L>>24&255,(X=X[Z-1])>>24&255)+ve(oe>>16&255,L>>16&255,X>>16&255)+ve(oe>>8&255,L>>8&255,X>>8&255)+ve(255&oe,255&L,255&X)?oe:L},C.Predictor12=function(L,X,Z){var oe=X[Z+0];return(fe((L>>24&255)+(oe>>24&255)-((X=X[Z-1])>>24&255))<<24|fe((L>>16&255)+(oe>>16&255)-(X>>16&255))<<16|fe((L>>8&255)+(oe>>8&255)-(X>>8&255))<<8|fe((255&L)+(255&oe)-(255&X)))>>>0},C.Predictor13=function(L,X,Z){var oe=X[Z-1];return(ae((L=_e(L,X[Z+0]))>>24&255,oe>>24&255)<<24|ae(L>>16&255,oe>>16&255)<<16|ae(L>>8&255,oe>>8&255)<<8|ae(L>>0&255,oe>>0&255))>>>0};var Nv=C.PredictorAdd0;C.PredictorAdd1=Ee,Te("Predictor2","PredictorAdd2"),Te("Predictor3","PredictorAdd3"),Te("Predictor4","PredictorAdd4"),Te("Predictor5","PredictorAdd5"),Te("Predictor6","PredictorAdd6"),Te("Predictor7","PredictorAdd7"),Te("Predictor8","PredictorAdd8"),Te("Predictor9","PredictorAdd9"),Te("Predictor10","PredictorAdd10"),Te("Predictor11","PredictorAdd11"),Te("Predictor12","PredictorAdd12"),Te("Predictor13","PredictorAdd13");var Od=C.PredictorAdd2;Ve("ColorIndexInverseTransform","MapARGB","32b",function(L){return L>>8&255},function(L){return L}),Ve("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(L){return L},function(L){return L>>8&255});var lm,ma=C.ColorIndexInverseTransform,jh=C.MapARGB,cm=C.VP8LColorIndexInverseTransformAlpha,um=C.MapAlpha,nc=C.VP8LPredictorsAdd=[];nc.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var Cu,Ri,gi,sc,sl,il,Bh,al,$n,Md,vi,ga,Uh,hm,Fd,Nu,Du,ic,Ru,$h,Iu,ac,Ld,va,ya,fn,dn,Vn,ls=i(511),ol=i(2041),jd=i(225),Vh=i(767),fm=0,Dv=ol,dm=jd,Xi=Vh,ba=ls,pm=0,mm=1,k4=2,gm=3,vm=4,Rv=5,A4=6,Iv=7,Pv=8,ym=9,Ov=10,aI=[2,3,7],oI=[3,3,11],T4=[280,256,256,256,40],lI=[0,1,1,1,0],cI=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],uI=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],hI=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],fI=8,Mv=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Fv=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Bd=null,dI=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],pI=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],C4=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],mI=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],gI=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],vI=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],yI=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],oc=[],Ha=[],ll=[],bI=1,N4=2,lc=[],wa=[];kt("UpsampleRgbLinePair",Ce,3),kt("UpsampleBgrLinePair",at,3),kt("UpsampleRgbaLinePair",_r,4),kt("UpsampleBgraLinePair",Mr,4),kt("UpsampleArgbLinePair",xr,4),kt("UpsampleRgba4444LinePair",Lt,2),kt("UpsampleRgb565LinePair",bt,2);var wI=C.UpsampleRgbLinePair,xI=C.UpsampleBgrLinePair,D4=C.UpsampleRgbaLinePair,R4=C.UpsampleBgraLinePair,I4=C.UpsampleArgbLinePair,P4=C.UpsampleRgba4444LinePair,_I=C.UpsampleRgb565LinePair,bm=16,wm=1<<bm-1,Ud=-227,Lv=482,SI=6,O4=0,EI=i(256),kI=i(256),AI=i(256),TI=i(256),CI=i(Lv-Ud),NI=i(Lv-Ud);cn("YuvToRgbRow",Ce,3),cn("YuvToBgrRow",at,3),cn("YuvToRgbaRow",_r,4),cn("YuvToBgraRow",Mr,4),cn("YuvToArgbRow",xr,4),cn("YuvToRgba4444Row",Lt,2),cn("YuvToRgb565Row",bt,2);var M4=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],xm=[0,2,8],DI=[8,7,6,4,4,2,2,2,1,1,1,1],RI=1;this.WebPDecodeRGBA=function(L,X,Z,oe,me){var we=mm,xe=new rl,Ne=new xt;xe.ba=Ne,Ne.S=we,Ne.width=[Ne.width],Ne.height=[Ne.height];var Oe=Ne.width,je=Ne.height,rt=new pt;if(rt==null||L==null)var vt=2;else e(rt!=null),vt=Eo(L,X,Z,rt.width,rt.height,rt.Pd,rt.Qd,rt.format,null);if(vt!=0?Oe=0:(Oe!=null&&(Oe[0]=rt.width[0]),je!=null&&(je[0]=rt.height[0]),Oe=1),Oe){Ne.width=Ne.width[0],Ne.height=Ne.height[0],oe!=null&&(oe[0]=Ne.width),me!=null&&(me[0]=Ne.height);e:{if(oe=new Qt,(me=new Zl).data=L,me.w=X,me.ha=Z,me.kd=1,X=[0],e(me!=null),((L=Eo(me.data,me.w,me.ha,null,null,null,X,null,me))==0||L==7)&&X[0]&&(L=4),(X=L)==0){if(e(xe!=null),oe.data=me.data,oe.w=me.w+me.offset,oe.ha=me.ha-me.offset,oe.put=Ht,oe.ac=Nt,oe.bc=$t,oe.ma=xe,me.xa){if((L=st())==null){xe=1;break e}if(function(yt,ut){var It=[0],Et=[0],nt=[0];t:for(;;){if(yt==null)return 0;if(ut==null)return yt.a=2,0;if(yt.l=ut,yt.a=0,_(yt.m,ut.data,ut.w,ut.ha),!_t(yt.m,It,Et,nt)){yt.a=3;break t}if(yt.xb=N4,ut.width=It[0],ut.height=Et[0],!tt(It[0],Et[0],1,yt,null))break t;return 1}return e(yt.a!=0),0}(L,oe)){if(oe=(X=Oh(oe.width,oe.height,xe.Oa,xe.ba))==0){t:{oe=L;r:for(;;){if(oe==null){oe=0;break t}if(e(oe.s.yc!=null),e(oe.s.Ya!=null),e(0<oe.s.Wb),e((Z=oe.l)!=null),e((me=Z.ma)!=null),oe.xb!=0){if(oe.ca=me.ba,oe.tb=me.tb,e(oe.ca!=null),!Rd(me.Oa,Z,gm)){oe.a=2;break r}if(!ct(oe,Z.width)||Z.da)break r;if((Z.da||Xe(oe.ca.S))&&lt(),11>oe.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),oe.ca.f.kb.F!=null&&lt()),oe.Pb&&0<oe.s.ua&&oe.s.vb.X==null&&!he(oe.s.vb,oe.s.Wa.Xa)){oe.a=1;break r}oe.xb=0}if(!Ie(oe,oe.V,oe.Ba,oe.c,oe.i,Z.o,Pe))break r;me.Dc=oe.Ma,oe=1;break t}e(oe.a!=0),oe=0}oe=!oe}oe&&(X=L.a)}else X=L.a}else{if((L=new mr)==null){xe=1;break e}if(L.Fa=me.na,L.P=me.P,L.qc=me.Sa,Kr(L,oe)){if((X=Oh(oe.width,oe.height,xe.Oa,xe.ba))==0){if(L.Aa=0,Z=xe.Oa,e((me=L)!=null),Z!=null){if(0<(Oe=0>(Oe=Z.Md)?0:100<Oe?255:255*Oe/100)){for(je=rt=0;4>je;++je)12>(vt=me.pb[je]).lc&&(vt.ia=Oe*DI[0>vt.lc?0:vt.lc]>>3),rt|=vt.ia;rt&&(alert("todo:VP8InitRandom"),me.ia=1)}me.Ga=Z.Id,100<me.Ga?me.Ga=100:0>me.Ga&&(me.Ga=0)}gs(L,oe)||(X=L.a)}}else X=L.a}X==0&&xe.Oa!=null&&xe.Oa.fd&&(X=Id(xe.ba))}xe=X}we=xe!=0?null:11>we?Ne.f.RGBA.eb:Ne.f.kb.y}else we=null;return we};var F4=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(C,I){for(var V="",B=0;B<4;B++)V+=String.fromCharCode(C[I++]);return V}function u(C,I){return(C[I+0]<<0|C[I+1]<<8|C[I+2]<<16)>>>0}function d(C,I){return(C[I+0]<<0|C[I+1]<<8|C[I+2]<<16|C[I+3]<<24)>>>0}new l;var h=[0],f=[0],m=[],g=new l,p=r,v=function(C,I){var V={},B=0,P=!1,k=0,M=0;if(V.frames=[],!function(z,q,Y,U){for(var Q=0;Q<U;Q++)if(z[q+Q]!=Y.charCodeAt(Q))return!0;return!1}(C,I,"RIFF",4)){for(d(C,I+=4),I+=8;I<C.length;){var A=c(C,I),w=d(C,I+=4);I+=4;var S=w+(1&w);switch(A){case"VP8 ":case"VP8L":V.frames[B]===void 0&&(V.frames[B]={}),(R=V.frames[B]).src_off=P?M:I-8,R.src_size=k+w+8,B++,P&&(P=!1,k=0,M=0);break;case"VP8X":(R=V.header={}).feature_flags=C[I];var _=I+4;R.canvas_width=1+u(C,_),_+=3,R.canvas_height=1+u(C,_),_+=3;break;case"ALPH":P=!0,k=S+8,M=I-8;break;case"ANIM":(R=V.header).bgcolor=d(C,I),_=I+4,R.loop_count=(W=C)[(T=_)+0]<<0|W[T+1]<<8,_+=2;break;case"ANMF":var x,R;(R=V.frames[B]={}).offset_x=2*u(C,I),I+=3,R.offset_y=2*u(C,I),I+=3,R.width=1+u(C,I),I+=3,R.height=1+u(C,I),I+=3,R.duration=u(C,I),I+=3,x=C[I++],R.dispose=1&x,R.blend=x>>1&1}A!="ANMF"&&(I+=S)}var W,T;return V}}(p,0);v.response=p,v.rgbaoutput=!0,v.dataurl=!1;var y=v.header?v.header:null,b=v.frames?v.frames:null;if(y){y.loop_counter=y.loop_count,h=[y.canvas_height],f=[y.canvas_width];for(var E=0;E<b.length&&b[E].blend!=0;E++);}var N=b[0],j=g.WebPDecodeRGBA(p,N.src_off,N.src_size,f,h);N.rgba=j,N.imgwidth=f[0],N.imgheight=h[0];for(var D=0;D<f[0]*h[0]*4;D++)m[D]=j[D];return this.width=f,this.height=h,this.data=m,this}(function(r){var e=function(){return typeof Zw=="function"},t=function(h,f,m,g){var p=4,v=a;switch(g){case r.image_compression.FAST:p=1,v=i;break;case r.image_compression.MEDIUM:p=6,v=o;break;case r.image_compression.SLOW:p=9,v=l}h=n(h,f,m,v);var y=Zw(h,{level:p});return r.__addimage__.arrayBufferToBinaryString(y)},n=function(h,f,m,g){for(var p,v,y,b=h.length/f,E=new Uint8Array(h.length+b),N=u(),j=0;j<b;j+=1){if(y=j*f,p=h.subarray(y,y+f),g)E.set(g(p,m,v),y+j);else{for(var D,C=N.length,I=[];D<C;D+=1)I[D]=N[D](p,m,v);var V=d(I.concat());E.set(I[V],y+j)}v=p}return E},s=function(h){var f=Array.apply([],h);return f.unshift(0),f},i=function(h,f){var m,g=[],p=h.length;g[0]=1;for(var v=0;v<p;v+=1)m=h[v-f]||0,g[v+1]=h[v]-m+256&255;return g},a=function(h,f,m){var g,p=[],v=h.length;p[0]=2;for(var y=0;y<v;y+=1)g=m&&m[y]||0,p[y+1]=h[y]-g+256&255;return p},o=function(h,f,m){var g,p,v=[],y=h.length;v[0]=3;for(var b=0;b<y;b+=1)g=h[b-f]||0,p=m&&m[b]||0,v[b+1]=h[b]+256-(g+p>>>1)&255;return v},l=function(h,f,m){var g,p,v,y,b=[],E=h.length;b[0]=4;for(var N=0;N<E;N+=1)g=h[N-f]||0,p=m&&m[N]||0,v=m&&m[N-f]||0,y=c(g,p,v),b[N+1]=h[N]-y+256&255;return b},c=function(h,f,m){if(h===f&&f===m)return h;var g=Math.abs(f-m),p=Math.abs(h-m),v=Math.abs(h+f-m-m);return g<=p&&g<=v?h:p<=v?f:m},u=function(){return[s,i,a,o,l]},d=function(h){var f=h.map(function(m){return m.reduce(function(g,p){return g+Math.abs(p)},0)});return f.indexOf(Math.min.apply(null,f))};r.processPNG=function(h,f,m,g){var p,v,y,b,E,N,j,D,C,I,V,B,P,k,M,A=this.decode.FLATE_DECODE,w="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(y=new kQ(h)).imgData,v=y.bits,p=y.colorSpace,E=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){C=(D=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,V=new Uint8Array(C*y.colors),I=new Uint8Array(C);var S,_=y.pixelBitlength-y.bits;for(k=0,M=0;k<C;k++){for(P=D[k],S=0;S<_;)V[M++]=P>>>S&255,S+=y.bits;I[k]=P>>>S&255}}if(y.bits===16){C=(D=new Uint32Array(y.decodePixels().buffer)).length,V=new Uint8Array(C*(32/y.pixelBitlength)*y.colors),I=new Uint8Array(C*(32/y.pixelBitlength)),B=y.colors>1,k=0,M=0;for(var x=0;k<C;)P=D[k++],V[M++]=P>>>0&255,B&&(V[M++]=P>>>16&255,P=D[k++],V[M++]=P>>>0&255),I[x++]=P>>>16&255;v=8}g!==r.image_compression.NONE&&e()?(h=t(V,y.width*y.colors,y.colors,g),j=t(I,y.width,1,g)):(h=V,j=I,A=void 0)}if(y.colorType===3&&(p=this.color_spaces.INDEXED,N=y.palette,y.transparency.indexed)){var R=y.transparency.indexed,W=0;for(k=0,C=R.length;k<C;++k)W+=R[k];if((W/=255)===C-1&&R.indexOf(0)!==-1)b=[R.indexOf(0)];else if(W!==C){for(D=y.decodePixels(),I=new Uint8Array(D.length),k=0,C=D.length;k<C;k++)I[k]=R[D[k]];j=t(I,y.width,1)}}var T=function(z){var q;switch(z){case r.image_compression.FAST:q=11;break;case r.image_compression.MEDIUM:q=13;break;case r.image_compression.SLOW:q=14;break;default:q=12}return q}(g);return A===this.decode.FLATE_DECODE&&(w="/Predictor "+T+" "),w+="/Colors "+E+" /BitsPerComponent "+v+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(j&&this.__addimage__.isArrayBuffer(j)||this.__addimage__.isArrayBufferView(j))&&(j=this.__addimage__.arrayBufferToBinaryString(j)),{alias:m,data:h,index:f,filter:A,decodeParameters:w,transparency:b,palette:N,sMask:j,predictor:T,width:y.width,height:y.height,bitsPerComponent:v,colorSpace:p}}}})(ur.API),function(r){r.processGIF89A=function(e,t,n,s){var i=new AQ(e),a=i.width,o=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},u=new eb(100).encode(c,100);return r.processJPEG.call(this,u,t,n,s)},r.processGIF87A=r.processGIF89A}(ur.API),Xa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:n,blue:t,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Xa.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){hn.log("bit decode error:"+t)}},Xa.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++)for(var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*s*4,o=0;o<8&&8*s+o<this.width;o++){var l=this.palette[i>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}t!==0&&(this.pos+=4-t)}},Xa.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<r;s++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*s*4,o=i>>4,l=15&i,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*s+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Xa.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*n;if(s<this.palette.length){var a=this.palette[s];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}r!==0&&(this.pos+=4-r)}},Xa.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&e)/e*255|0,o=(i>>5&e)/e*255|0,l=(i>>10&e)/e*255|0,c=i>>15?255:0,u=n*this.width*4+4*s;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=a,this.data[u+3]=c}this.pos+=r}},Xa.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&t)/t*255|0,c=(a>>11)/e*255|0,u=s*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=r}},Xa.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},Xa.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=n,this.data[o+3]=a}},Xa.prototype.getData=function(){return this.data},function(r){r.processBMP=function(e,t,n,s){var i=new Xa(e,!1),a=i.width,o=i.height,l={data:i.getData(),width:a,height:o},c=new eb(100).encode(l,100);return r.processJPEG.call(this,c,t,n,s)}}(ur.API),M8.prototype.getData=function(){return this.data},function(r){r.processWEBP=function(e,t,n,s){var i=new M8(e),a=i.width,o=i.height,l={data:i.getData(),width:a,height:o},c=new eb(100).encode(l,100);return r.processJPEG.call(this,c,t,n,s)}}(ur.API),ur.API.processRGBA=function(r,e,t){for(var n=r.data,s=n.length,i=new Uint8Array(s/4*3),a=new Uint8Array(s/4),o=0,l=0,c=0;c<s;c+=4){var u=n[c],d=n[c+1],h=n[c+2],f=n[c+3];i[o++]=u,i[o++]=d,i[o++]=h,a[l++]=f}var m=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:m,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},ur.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},tf=ur.API,yg=tf.getCharWidthsArray=function(r,e){var t,n,s=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:s.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:s.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=e.doKerning!==!1,h=0,f=r.length,m=0,g=o[0]||l,p=[];for(t=0;t<f;t++)n=r.charCodeAt(t),typeof s.metadata.widthOfString=="function"?p.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+a*(1e3/i)||0)/1e3):(h=d&&zr(c[n])==="object"&&!isNaN(parseInt(c[n][m],10))?c[n][m]/u:0,p.push((o[n]||g)/l+h)),m=n;return p},R8=tf.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return tf.processArabic&&(r=tf.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,t,s)/t:yg.apply(this,arguments).reduce(function(i,a){return i+a},0)},I8=function(r,e,t,n){for(var s=[],i=0,a=r.length,o=0;i!==a&&o+e[i]<t;)o+=e[i],i++;s.push(r.slice(0,i));var l=i;for(o=0;i!==a;)o+e[i]>n&&(s.push(r.slice(l,i)),o=0,l=i),o+=e[i],i++;return l!==i&&s.push(r.slice(l,i)),s},P8=function(r,e,t){t||(t={});var n,s,i,a,o,l,c,u=[],d=[u],h=t.textIndent||0,f=0,m=0,g=r.split(" "),p=yg.apply(this,[" ",t])[0];if(l=t.lineIndent===-1?g[0].length+2:t.lineIndent||0){var v=Array(l).join(" "),y=[];g.map(function(E){(E=E.split(/\s*\n/)).length>1?y=y.concat(E.map(function(N,j){return(j&&N.length?`
`:"")+N})):y.push(E[0])}),g=y,l=R8.apply(this,[v,t])}for(i=0,a=g.length;i<a;i++){var b=0;if(n=g[i],l&&n[0]==`
`&&(n=n.substr(1),b=1),h+f+(m=(s=yg.apply(this,[n,t])).reduce(function(E,N){return E+N},0))>e||b){if(m>e){for(o=I8.apply(this,[n,s,e-(h+f),e]),u.push(o.shift()),u=[o.pop()];o.length;)d.push([o.shift()]);m=s.slice(n.length-(u[0]?u[0].length:0)).reduce(function(E,N){return E+N},0)}else u=[n];d.push(u),h=m+l,f=p}else u.push(n),h+=f+m,f=p}return c=l?function(E,N){return(N?v:"")+E.join(" ")}:function(E){return E.join(" ")},d.map(c)},tf.splitTextToSize=function(r,e,t){var n,s=(t=t||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/s;i.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=t.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(P8.apply(this,[n[o],a,i]));return c},function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},n={},s=0;s<e.length;s++)t[e[s]]="0123456789abcdef"[s],n["0123456789abcdef"[s]]=e[s];var i=function(d){return"0x"+parseInt(d,10).toString(16)},a=r.__fontmetrics__.compress=function(d){var h,f,m,g,p=["{"];for(var v in d){if(h=d[v],isNaN(parseInt(v,10))?f="'"+v+"'":(v=parseInt(v,10),f=(f=i(v).slice(2)).slice(0,-1)+n[f.slice(-1)]),typeof h=="number")h<0?(m=i(h).slice(3),g="-"):(m=i(h).slice(2),g=""),m=g+m.slice(0,-1)+n[m.slice(-1)];else{if(zr(h)!=="object")throw new Error("Don't know what to do with value type "+zr(h)+".");m=a(h)}p.push(f+m)}return p.push("}"),p.join("")},o=r.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,f,m,g,p={},v=1,y=p,b=[],E="",N="",j=d.length-1,D=1;D<j;D+=1)(g=d[D])=="'"?h?(m=h.join(""),h=void 0):h=[]:h?h.push(g):g=="{"?(b.push([y,m]),y={},m=void 0):g=="}"?((f=b.pop())[0][f[1]]=y,m=void 0,y=f[0]):g=="-"?v=-1:m===void 0?t.hasOwnProperty(g)?(E+=t[g],m=parseInt(E,16)*v,v=1,E=""):E+=g:t.hasOwnProperty(g)?(N+=t[g],y[m]=parseInt(N,16)*v,v=1,m=void 0,N=""):N+=g;return p},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(d){var h=d.font,f=u.Unicode[h.postScriptName];f&&(h.metadata.Unicode={},h.metadata.Unicode.widths=f.widths,h.metadata.Unicode.kerning=f.kerning);var m=c.Unicode[h.postScriptName];m&&(h.metadata.Unicode.encoding=m,h.encoding=m.codePages[0])}])}(ur.API),function(r){var e=function(t){for(var n=t.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=t.charCodeAt(i);return s};r.API.events.push(["addFont",function(t){var n=void 0,s=t.font,i=t.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e($0(o)),a.metadata=r.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(s,n)}}])}(ur),function(r){function e(){return(fr.canvg?Promise.resolve(fr.canvg):ho(()=>import("./index.es-Q81ARB9u.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}ur.API.addSvgAsImage=function(t,n,s,i,a,o,l,c){if(isNaN(n)||isNaN(s))throw hn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(a))throw hn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=a;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return e().then(function(m){return m.fromString(d,t,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(h)}).then(function(){f.addImage(u.toDataURL("image/jpeg",1),n,s,i,a,l,c)})}}(),ur.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(e,t);return this},ur.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var n,s,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,u=0,d=0;function h(m,g){var p,v=!1;for(p=0;p<m.length;p+=1)m[p]===g&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var f=o.length;for(d=0;d<f;d+=1)t[o[d]].value=t[o[d]].defaultValue,t[o[d]].explicitSet=!1}if(zr(r)==="object"){for(s in r)if(i=r[s],h(o,s)&&i!==void 0){if(t[s].type==="boolean"&&typeof i=="boolean")t[s].value=i;else if(t[s].type==="name"&&h(t[s].valueSet,i))t[s].value=i;else if(t[s].type==="integer"&&Number.isInteger(i))t[s].value=i;else if(t[s].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(u=0;u<i[c].length;u+=1)typeof i[c][u]!="number"&&(n=!1);n===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}t[s].value="["+l.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,g=[];for(m in t)t[m].explicitSet===!0&&(t[m].type==="name"?g.push("/"+m+" /"+t[m].value):g.push("/"+m+" "+t[m].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(r){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+a.length+o.length+s.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(s+i+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(ur.API),function(r){var e=r.API,t=e.pdfEscape16=function(i,a){for(var o,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,h=i.length;d<h;++d){if(o=a.metadata.characterToGlyph(i.charCodeAt(d)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=i.charCodeAt(d),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(i){var a,o,l,c,u,d,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,h=(o=Object.keys(i).sort(function(f,m){return f-m})).length;d<h;d++)a=o[d],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[a]!==void 0&&i[a]!==null&&typeof i[a].toString=="function"&&(c=("0000"+i[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(a){var o=a.font,l=a.out,c=a.newObject,u=a.putStream;if(o.metadata instanceof r.API.TTFFont&&o.encoding==="Identity-H"){for(var d=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),f="",m=0;m<h.length;m++)f+=String.fromCharCode(h[m]);var g=c();u({data:f,addLength1:!0,objectId:g}),l("endobj");var p=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:p}),l("endobj");var v=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+af(o.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+r.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var y=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+af(o.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+r.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+p+" 0 R"),l("/BaseFont /"+af(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+y+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(a){var o=a.font,l=a.out,c=a.newObject,u=a.putStream;if(o.metadata instanceof r.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var d=o.metadata.rawData,h="",f=0;f<d.length;f++)h+=String.fromCharCode(d[f]);var m=c();u({data:h,addLength1:!0,objectId:m}),l("endobj");var g=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var p=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+m+" 0 R"),l("/Flags 96"),l("/FontBBox "+r.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+af(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var v=0;v<o.metadata.hmtx.widths.length;v++)o.metadata.hmtx.widths[v]=parseInt(o.metadata.hmtx.widths[v]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+af(o.fontName)+"/FontDescriptor "+p+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]);var s=function(i){var a,o=i.text||"",l=i.x,c=i.y,u=i.options||{},d=i.mutex||{},h=d.pdfEscape,f=d.activeFontKey,m=d.fonts,g=f,p="",v=0,y="",b=m[g].encoding;if(m[g].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:d};for(y=o,g=f,Array.isArray(o)&&(y=o[0]),v=0;v<y.length;v+=1)m[g].metadata.hasOwnProperty("cmap")&&(a=m[g].metadata.cmap.unicode.codeMap[y[v].charCodeAt(0)]),a||y[v].charCodeAt(0)<256&&m[g].metadata.hasOwnProperty("Unicode")?p+=y[v]:p+="";var E="";return parseInt(g.slice(1))<14||b==="WinAnsiEncoding"?E=h(p,g).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(E=t(p,m[g])),d.isHex=!0,{text:E,x:l,y:c,options:u,mutex:d}};e.events.push(["postProcessText",function(i){var a=i.text||"",o=[],l={text:a,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?o.push([s(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):o.push(s(Object.assign({},l,{text:a[c]})).text);i.text=o}else i.text=s(Object.assign({},l,{text:a})).text}])}(ur),function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(ur.API),function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var s,i,a,o,l,c,u,d=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},p=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,b=0;this.__bidiEngine__={};var E=function(B){var P=B.charCodeAt(),k=P>>8,M=g[k];return M!==void 0?d[256*M+(255&P)]:k===252||k===253?"AL":v.test(k)?"L":k===8?"R":"N"},N=function(B){for(var P,k=0;k<B.length;k++){if((P=E(B.charAt(k)))==="L")return!1;if(P==="R")return!0}return!1},j=function(B,P,k,M){var A,w,S,_,x=P[M];switch(x){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(x="AN");break;case"AL":y=!0,x="R";break;case"WS":x="N";break;case"CS":M<1||M+1>=P.length||(A=k[M-1])!=="EN"&&A!=="AN"||(w=P[M+1])!=="EN"&&w!=="AN"?x="N":y&&(w="AN"),x=w===A?w:"N";break;case"ES":x=(A=M>0?k[M-1]:"B")==="EN"&&M+1<P.length&&P[M+1]==="EN"?"EN":"N";break;case"ET":if(M>0&&k[M-1]==="EN"){x="EN";break}if(y){x="N";break}for(S=M+1,_=P.length;S<_&&P[S]==="ET";)S++;x=S<_&&P[S]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(_=P.length,S=M+1;S<_&&P[S]==="NSM";)S++;if(S<_){var R=B[M],W=R>=1425&&R<=2303||R===64286;if(A=P[S],W&&(A==="R"||A==="AL")){x="R";break}}}x=M<1||(A=P[M-1])==="B"?"N":k[M-1];break;case"B":y=!1,s=!0,x=b;break;case"S":i=!0,x="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":x="N"}return x},D=function(B,P,k){var M=B.split("");return k&&C(M,k,{hiLevel:b}),M.reverse(),P&&P.reverse(),M.join("")},C=function(B,P,k){var M,A,w,S,_,x=-1,R=B.length,W=0,T=[],z=b?f:h,q=[];for(y=!1,s=!1,i=!1,A=0;A<R;A++)q[A]=E(B[A]);for(w=0;w<R;w++){if(_=W,T[w]=j(B,q,T,w),M=240&(W=z[_][m[T[w]]]),W&=15,P[w]=S=z[W][5],M>0)if(M===16){for(A=x;A<w;A++)P[A]=1;x=-1}else x=-1;if(z[W][6])x===-1&&(x=w);else if(x>-1){for(A=x;A<w;A++)P[A]=S;x=-1}q[w]==="B"&&(P[w]=0),k.hiLevel|=S}i&&function(Y,U,Q){for(var F=0;F<Q;F++)if(Y[F]==="S"){U[F]=b;for(var O=F-1;O>=0&&Y[O]==="WS";O--)U[O]=b}}(q,P,R)},I=function(B,P,k,M,A){if(!(A.hiLevel<B)){if(B===1&&b===1&&!s)return P.reverse(),void(k&&k.reverse());for(var w,S,_,x,R=P.length,W=0;W<R;){if(M[W]>=B){for(_=W+1;_<R&&M[_]>=B;)_++;for(x=W,S=_-1;x<S;x++,S--)w=P[x],P[x]=P[S],P[S]=w,k&&(w=k[x],k[x]=k[S],k[S]=w);W=_}W++}}},V=function(B,P,k){var M=B.split(""),A={hiLevel:b};return k||(k=[]),C(M,k,A),function(w,S,_){if(_.hiLevel!==0&&u)for(var x,R=0;R<w.length;R++)S[R]===1&&(x=p.indexOf(w[R]))>=0&&(w[R]=p[x+1])}(M,k,A),I(2,M,P,k,A),I(1,M,P,k,A),M.join("")};return this.__bidiEngine__.doBidiReorder=function(B,P,k){if(function(A,w){if(w)for(var S=0;S<A.length;S++)w[S]=S;o===void 0&&(o=N(A)),c===void 0&&(c=N(A))}(B,P),a||!l||c)if(a&&l&&o^c)b=o?1:0,B=D(B,P,k);else if(!a&&l&&c)b=o?1:0,B=V(B,P,k),B=D(B,P);else if(!a||o||l||c){if(a&&!l&&o^c)B=D(B,P),o?(b=0,B=V(B,P,k)):(b=1,B=V(B,P,k),B=D(B,P));else if(a&&o&&!l&&c)b=1,B=V(B,P,k),B=D(B,P);else if(!a&&!l&&o^c){var M=u;o?(b=1,B=V(B,P,k),b=0,u=!1,B=V(B,P,k),u=M):(b=0,B=V(B,P,k),B=D(B,P),b=1,u=!1,B=V(B,P,k),u=M,B=D(B,P))}}else b=0,B=V(B,P,k);else b=o?1:0,B=V(B,P,k);return B},this.__bidiEngine__.setOptions=function(B){B&&(a=B.isInputVisual,l=B.isOutputVisual,o=B.isInputRtl,c=B.isOutputRtl,u=B.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var a=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,t.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var o=0;for(a=[],o=0;o<s.length;o+=1)Object.prototype.toString.call(s[o])==="[object Array]"?a.push([t.doBidiReorder(s[o][0]),s[o][1],s[o][2]]):a.push([t.doBidiReorder(s[o])]);n.text=a}else n.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])}(ur),ur.API.TTFFont=function(){function r(e){var t;if(this.rawData=e,t=this.contents=new ou(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new $Q(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new TQ(this.contents),this.head=new NQ(this),this.name=new OQ(this),this.cmap=new bN(this),this.toUnicode={},this.hhea=new DQ(this),this.maxp=new MQ(this),this.hmtx=new FQ(this),this.post=new IQ(this),this.os2=new RQ(this),this.loca=new UQ(this),this.glyf=new LQ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,c;for(c=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(t=s>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,n){var s,i,a,o;for(a=0,i=0,o=(e=""+e).length;0<=o?i<o:i>o;i=0<=o?++i:--i)s=e.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/t)||0;return a*(t/1e3)},r.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},r}();var vo,ou=function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(e){var t,n,s;for(s=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)s.push(this.writeByte(e.charCodeAt(t)));return s},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,n,s,i,a,o,l;return e=this.readByte(),t=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*s+16777216*i+65536*a+256*o+l},r.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},r.prototype.write=function(e){var t,n,s,i;for(i=[],n=0,s=e.length;n<s;n++)t=e[n],i.push(this.writeByte(t));return i},r}(),TQ=function(){var r;function e(t){var n,s,i;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,s,i,a,o,l,c,u,d,h,f,m,g;for(g in f=Object.keys(t).length,l=Math.log(2),d=16*Math.floor(Math.log(f)/l),a=Math.floor(d/l),u=16*f-d,(s=new ou).writeInt(this.scalarType),s.writeShort(f),s.writeShort(d),s.writeShort(a),s.writeShort(u),i=16*f,c=s.pos+i,o=null,m=[],t)for(h=t[g],s.writeString(g),s.writeInt(r(h)),s.writeInt(c),s.writeInt(h.length),m=m.concat(h),g==="head"&&(o=c),c+=h.length;c%4;)m.push(0),c++;return s.write(m),n=2981146554-r(s.data),s.pos=o+8,s.writeUInt32(n),s.data},r=function(t){var n,s,i,a;for(t=wN.call(t);t.length%4;)t.push(0);for(i=new ou(t),s=0,n=0,a=t.length;n<a;n=n+=4)s+=i.readUInt32();return 4294967295&s},e}(),CQ={}.hasOwnProperty,Zo=function(r,e){for(var t in e)CQ.call(e,t)&&(r[t]=e[t]);function n(){this.constructor=r}return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};vo=function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r}();var NQ=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Zo(e,vo),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new ou).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e}(),F8=function(){function r(e,t){var n,s,i,a,o,l,c,u,d,h,f,m,g,p,v,y,b;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),h=f/2,e.pos+=6,i=function(){var E,N;for(N=[],l=E=0;0<=h?E<h:E>h;l=0<=h?++E:--E)N.push(e.readUInt16());return N}(),e.pos+=2,g=function(){var E,N;for(N=[],l=E=0;0<=h?E<h:E>h;l=0<=h?++E:--E)N.push(e.readUInt16());return N}(),c=function(){var E,N;for(N=[],l=E=0;0<=h?E<h:E>h;l=0<=h?++E:--E)N.push(e.readUInt16());return N}(),u=function(){var E,N;for(N=[],l=E=0;0<=h?E<h:E>h;l=0<=h?++E:--E)N.push(e.readUInt16());return N}(),s=(this.length-e.pos+this.offset)/2,o=function(){var E,N;for(N=[],l=E=0;0<=s?E<s:E>s;l=0<=s?++E:--E)N.push(e.readUInt16());return N}(),l=v=0,b=i.length;v<b;l=++v)for(p=i[l],n=y=m=g[l];m<=p?y<=p:y>=p;n=m<=p?++y:--y)u[l]===0?a=n+c[l]:(a=o[u[l]/2+(n-m)-(h-l)]||0)!==0&&(a+=c[l]),this.codeMap[n]=65535&a}e.pos=d}return r.encode=function(e,t){var n,s,i,a,o,l,c,u,d,h,f,m,g,p,v,y,b,E,N,j,D,C,I,V,B,P,k,M,A,w,S,_,x,R,W,T,z,q,Y,U,Q,F,O,K,ne,ee;switch(M=new ou,a=Object.keys(e).sort(function(ie,he){return ie-he}),t){case"macroman":for(g=0,p=function(){var ie=[];for(m=0;m<256;++m)ie.push(0);return ie}(),y={0:0},i={},A=0,x=a.length;A<x;A++)y[O=e[s=a[A]]]==null&&(y[O]=++g),i[s]={old:e[s],new:y[e[s]]},p[s]=y[e[s]];return M.writeUInt16(1),M.writeUInt16(0),M.writeUInt32(12),M.writeUInt16(0),M.writeUInt16(262),M.writeUInt16(0),M.write(p),{charMap:i,subtable:M.data,maxGlyphID:g+1};case"unicode":for(P=[],d=[],b=0,y={},n={},v=c=null,w=0,R=a.length;w<R;w++)y[N=e[s=a[w]]]==null&&(y[N]=++b),n[s]={old:N,new:y[N]},o=y[N]-s,v!=null&&o===c||(v&&d.push(v),P.push(s),c=o),v=s;for(v&&d.push(v),d.push(65535),P.push(65535),V=2*(I=P.length),C=2*Math.pow(Math.log(I)/Math.LN2,2),h=Math.log(C/2)/Math.LN2,D=2*I-C,l=[],j=[],f=[],m=S=0,W=P.length;S<W;m=++S){if(B=P[m],u=d[m],B===65535){l.push(0),j.push(0);break}if(B-(k=n[B].new)>=32768)for(l.push(0),j.push(2*(f.length+I-m)),s=_=B;B<=u?_<=u:_>=u;s=B<=u?++_:--_)f.push(n[s].new);else l.push(k-B),j.push(0)}for(M.writeUInt16(3),M.writeUInt16(1),M.writeUInt32(12),M.writeUInt16(4),M.writeUInt16(16+8*I+2*f.length),M.writeUInt16(0),M.writeUInt16(V),M.writeUInt16(C),M.writeUInt16(h),M.writeUInt16(D),Q=0,T=d.length;Q<T;Q++)s=d[Q],M.writeUInt16(s);for(M.writeUInt16(0),F=0,z=P.length;F<z;F++)s=P[F],M.writeUInt16(s);for(K=0,q=l.length;K<q;K++)o=l[K],M.writeUInt16(o);for(ne=0,Y=j.length;ne<Y;ne++)E=j[ne],M.writeUInt16(E);for(ee=0,U=f.length;ee<U;ee++)g=f[ee],M.writeUInt16(g);return{charMap:n,subtable:M.data,maxGlyphID:b+1}}},r}(),bN=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Zo(e,vo),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,s,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)n=new F8(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var s,i;return n==null&&(n="macroman"),s=F8.encode(t,n),(i=new ou).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},e}(),DQ=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Zo(e,vo),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),RQ=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Zo(e,vo),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var n,s;for(s=[],n=0;n<10;++n)s.push(t.readByte());return s}(),this.charRange=function(){var n,s;for(s=[],n=0;n<4;++n)s.push(t.readInt());return s}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var n,s;for(s=[],n=0;n<2;n=++n)s.push(t.readInt());return s}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),IQ=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Zo(e,vo),e.prototype.tag="post",e.prototype.parse=function(t){var n,s,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var a;for(s=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)n=t.readByte(),i.push(this.names.push(t.readString(n)));return i;case 151552:return s=t.readUInt16(),this.offsets=t.read(s);case 196608:break;case 262144:return this.map=(function(){var o,l,c;for(c=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)c.push(t.readUInt32());return c}).call(this)}},e}(),PQ=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},OQ=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Zo(e,vo),e.prototype.tag="name",e.prototype.parse=function(t){var n,s,i,a,o,l,c,u,d,h,f;for(t.pos=this.offset,t.readShort(),n=t.readShort(),l=t.readShort(),s=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)s.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},a=d=0,h=s.length;d<h;a=++d)i=s[a],t.pos=i.offset,u=t.readString(i.length),o=new PQ(u,i),c[f=i.nameID]==null&&(c[f]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),MQ=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Zo(e,vo),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),FQ=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Zo(e,vo),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,s,i,a,o,l,c;for(t.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)d.push(t.readInt16());return d}(),this.widths=(function(){var u,d,h,f;for(f=[],u=0,d=(h=this.metrics).length;u<d;u++)a=h[u],f.push(a.advance);return f}).call(this),s=this.widths[this.widths.length-1],c=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)c.push(this.widths.push(s));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),wN=[].slice,LQ=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Zo(e,vo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,s,i,a,o,l,c,u,d,h;return t in this.cache?this.cache[t]:(a=this.file.loca,n=this.file.contents,s=a.indexOf(t),(i=a.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+s,o=(l=new ou(n.read(i))).readShort(),u=l.readShort(),h=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[t]=o===-1?new BQ(l,u,h,c,d):new jQ(l,o,u,h,c,d),this.cache[t]))},e.prototype.encode=function(t,n,s){var i,a,o,l,c;for(o=[],a=[],l=0,c=n.length;l<c;l++)i=t[n[l]],a.push(o.length),i&&(o=o.concat(i.encode(s)));return a.push(o.length),{table:o,offsets:a}},e}(),jQ=function(){function r(e,t,n,s,i,a){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=a,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r}(),BQ=function(){function r(e,t,n,s,i){var a,o;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return r.prototype.encode=function(){var e,t,n;for(t=new ou(wN.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},r}(),UQ=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Zo(e,vo),e.prototype.tag="loca",e.prototype.parse=function(t){var n,s;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,a;for(a=[],s=0,i=this.length;s<i;s+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],s=0,i=this.length;s<i;s+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var s=new Uint32Array(this.offsets.length),i=0,a=0,o=0;o<s.length;++o)if(s[o]=i,a<n.length&&n[a]==o){++a,s[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var u=new Array(4*s.length),d=0;d<s.length;++d)u[4*d+3]=255&s[d],u[4*d+2]=(65280&s[d])>>8,u[4*d+1]=(16711680&s[d])>>16,u[4*d]=(4278190080&s[d])>>24;return u},e}(),$Q=function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,s,i;for(t in s=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[t],e[t]=s[n];return e},r.prototype.glyphsFor=function(e){var t,n,s,i,a,o,l;for(s={},a=0,o=e.length;a<o;a++)s[i=e[a]]=this.font.glyf.glyphFor(i);for(i in t=[],s)(n=s[i])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(i in l=this.glyphsFor(t))n=l[i],s[i]=n;return s},r.prototype.encode=function(e,t){var n,s,i,a,o,l,c,u,d,h,f,m,g,p,v;for(s in n=bN.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),f={0:0},v=n.charMap)f[(l=v[s]).old]=l.new;for(m in h=n.maxGlyphID,a)m in f||(f[m]=h++);return u=function(y){var b,E;for(b in E={},y)E[y[b]]=b;return E}(f),d=Object.keys(u).sort(function(y,b){return y-b}),g=function(){var y,b,E;for(E=[],y=0,b=d.length;y<b;y++)o=d[y],E.push(u[o]);return E}(),i=this.font.glyf.encode(a,g,f),c=this.font.loca.encode(i.offsets,g),p={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(p["OS/2"]=this.font.os2.raw()),this.font.directory.encode(p)},r}();ur.API.PDFObject=function(){var r;function e(){}return r=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,s,i,a;if(Array.isArray(t))return"["+function(){var o,l,c;for(c=[],o=0,l=t.length;o<l;o++)n=t[o],c.push(e.convert(n));return c}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in i=["<<"],t)a=t[s],i.push("/"+s+" "+e.convert(a));return i.push(">>"),i.join(`
`)}return""+t},e}();function xN(r,e,t,n,s){n=n||{};var i=1.15,a=s.internal.scaleFactor,o=s.internal.getFontSize()/a,l=s.getLineHeightFactor?s.getLineHeightFactor():i,c=o*l,u=/\r\n|\r|\n/g,d="",h=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(d=typeof r=="string"?r.split(u):r,h=d.length||1),t+=o*(2-i),n.valign==="middle"?t-=h/2*c:n.valign==="bottom"&&(t-=h*c),n.halign==="center"||n.halign==="right"){var f=o;if(n.halign==="center"&&(f*=.5),d&&h>=1){for(var m=0;m<d.length;m++)s.text(d[m],e-s.getStringUnitWidth(d[m])*f,t),t+=c;return s}e-=s.getStringUnitWidth(r)*f}return n.halign==="justify"?s.text(r,e,t,{maxWidth:n.maxWidth||100,align:"justify"}):s.text(r,e,t),s}var L8={},Uf=function(){function r(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return r.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:L8=e},r.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},r.prototype.applyStyles=function(e,t){var n,s,i;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var a=this.jsPDFDocument.internal.getFont(),o=a.fontStyle,l=a.fontName;if(e.font&&(l=e.font),e.fontStyle){o=e.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var u=r.unifyColor(e.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=r.unifyColor(e.textColor),u&&(s=this.jsPDFDocument).setTextColor.apply(s,u),u=r.unifyColor(e.lineColor),u&&(i=this.jsPDFDocument).setDrawColor.apply(i,u),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},r.prototype.splitTextToSize=function(e,t,n){return this.jsPDFDocument.splitTextToSize(e,t,n)},r.prototype.rect=function(e,t,n,s,i){return this.jsPDFDocument.rect(e,t,n,s,i)},r.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},r.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},r.prototype.getDocument=function(){return this.jsPDFDocument},r.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},r.prototype.addPage=function(){return this.jsPDFDocument.addPage()},r.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},r.prototype.getGlobalOptions=function(){return L8||{}},r.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},r.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},r.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},r.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},r.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},r.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},r}(),ax=function(r,e){return ax=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])},ax(r,e)};function _N(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ax(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var SN=function(r){_N(e,r);function e(t){var n=r.call(this)||this;return n._element=t,n}return e}(Array);function VQ(r){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/r,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function HQ(r){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[r]}function Y1(r,e,t){t.applyStyles(e,!0);var n=Array.isArray(r)?r:[r],s=n.map(function(i){return t.getTextWidth(i)}).reduce(function(i,a){return Math.max(i,a)},0);return s}function EN(r,e,t,n){var s=e.settings.tableLineWidth,i=e.settings.tableLineColor;r.applyStyles({lineWidth:s,lineColor:i});var a=kN(s,!1);a&&r.rect(t.x,t.y,e.getWidth(r.pageSize().width),n.y-t.y,a)}function kN(r,e){var t=r>0,n=e||e===0;return t&&n?"DF":t?"S":n?"F":null}function uv(r,e){var t,n,s,i;if(r=r||e,Array.isArray(r)){if(r.length>=4)return{top:r[0],right:r[1],bottom:r[2],left:r[3]};if(r.length===3)return{top:r[0],right:r[1],bottom:r[2],left:r[1]};if(r.length===2)return{top:r[0],right:r[1],bottom:r[0],left:r[1]};r.length===1?r=r[0]:r=e}return typeof r=="object"?(typeof r.vertical=="number"&&(r.top=r.vertical,r.bottom=r.vertical),typeof r.horizontal=="number"&&(r.right=r.horizontal,r.left=r.horizontal),{left:(t=r.left)!==null&&t!==void 0?t:e,top:(n=r.top)!==null&&n!==void 0?n:e,right:(s=r.right)!==null&&s!==void 0?s:e,bottom:(i=r.bottom)!==null&&i!==void 0?i:e}):(typeof r!="number"&&(r=e),{top:r,right:r,bottom:r,left:r})}function AN(r,e){var t=uv(e.settings.margin,0);return r.pageSize().width-(t.left+t.right)}function zQ(r,e,t,n,s){var i={},a=1.3333333333333333,o=tb(e,function(b){return s.getComputedStyle(b).backgroundColor});o!=null&&(i.fillColor=o);var l=tb(e,function(b){return s.getComputedStyle(b).color});l!=null&&(i.textColor=l);var c=WQ(n,t);c&&(i.cellPadding=c);var u="borderTopColor",d=a*t,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var f=(parseFloat(h)||0)/d;f&&(i.lineWidth=f)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/d,right:(parseFloat(n.borderRightWidth)||0)/d,bottom:(parseFloat(n.borderBottomWidth)||0)/d,left:(parseFloat(n.borderLeftWidth)||0)/d},i.lineWidth.top||(i.lineWidth.right?u="borderRightColor":i.lineWidth.bottom?u="borderBottomColor":i.lineWidth.left&&(u="borderLeftColor"));var m=tb(e,function(b){return s.getComputedStyle(b)[u]});m!=null&&(i.lineColor=m);var g=["left","right","center","justify"];g.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),g=["middle","bottom","top"],g.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var p=parseInt(n.fontSize||"");isNaN(p)||(i.fontSize=p/a);var v=qQ(n);v&&(i.fontStyle=v);var y=(n.fontFamily||"").toLowerCase();return r.indexOf(y)!==-1&&(i.font=y),i}function qQ(r){var e="";return(r.fontWeight==="bold"||r.fontWeight==="bolder"||parseInt(r.fontWeight)>=700)&&(e="bold"),(r.fontStyle==="italic"||r.fontStyle==="oblique")&&(e+="italic"),e}function tb(r,e){var t=TN(r,e);if(!t)return null;var n=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var s=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function TN(r,e){var t=e(r);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?r.parentElement==null?null:TN(r.parentElement,e):t}function WQ(r,e){var t=[r.paddingTop,r.paddingRight,r.paddingBottom,r.paddingLeft],n=96/(72/e),s=(parseInt(r.lineHeight)-parseInt(r.fontSize))/e/2,i=t.map(function(o){return parseInt(o||"0")/n}),a=uv(i,0);return s>a.top&&(a.top=s),s>a.bottom&&(a.bottom=s),a}function CN(r,e,t,n,s){var i,a;n===void 0&&(n=!1),s===void 0&&(s=!1);var o;typeof e=="string"?o=t.document.querySelector(e):o=e;var l=Object.keys(r.getFontList()),c=r.scaleFactor(),u=[],d=[],h=[];if(!o)return console.error("Html table could not be found with input: ",e),{head:u,body:d,foot:h};for(var f=0;f<o.rows.length;f++){var m=o.rows[f],g=(a=(i=m==null?void 0:m.parentElement)===null||i===void 0?void 0:i.tagName)===null||a===void 0?void 0:a.toLowerCase(),p=GQ(l,c,t,m,n,s);p&&(g==="thead"?u.push(p):g==="tfoot"?h.push(p):d.push(p))}return{head:u,body:d,foot:h}}function GQ(r,e,t,n,s,i){for(var a=new SN(n),o=0;o<n.cells.length;o++){var l=n.cells[o],c=t.getComputedStyle(l);if(s||c.display!=="none"){var u=void 0;i&&(u=zQ(r,l,e,c,t)),a.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:u,_element:l,content:KQ(l)})}}var d=t.getComputedStyle(n);if(a.length>0&&(s||d.display!=="none"))return a}function KQ(r){var e=r.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function XQ(r,e,t){for(var n=0,s=[r,e,t];n<s.length;n++){var i=s[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function bl(r,e,t,n,s){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(r),a=1;a<arguments.length;a++){var o=arguments[a];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])}return i}function YQ(r,e){var t=new Uf(r),n=t.getDocumentOptions(),s=t.getGlobalOptions();XQ(s,n,e);var i=bl({},s,n,e),a;typeof window<"u"&&(a=window);var o=JQ(s,n,e),l=QQ(s,n,e),c=ZQ(t,i),u=tZ(t,i,a);return{id:e.tableId,content:u,hooks:l,styles:o,settings:c}}function JQ(r,e,t){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(l){if(l==="columnStyles"){var c=r[l],u=e[l],d=t[l];n.columnStyles=bl({},c,u,d)}else{var h=[r,e,t],f=h.map(function(m){return m[l]||{}});n[l]=bl({},f[0],f[1],f[2])}},i=0,a=Object.keys(n);i<a.length;i++){var o=a[i];s(o)}return n}function QQ(r,e,t){for(var n=[r,e,t],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,a=n;i<a.length;i++){var o=a[i];o.didParseCell&&s.didParseCell.push(o.didParseCell),o.willDrawCell&&s.willDrawCell.push(o.willDrawCell),o.didDrawCell&&s.didDrawCell.push(o.didDrawCell),o.willDrawPage&&s.willDrawPage.push(o.willDrawPage),o.didDrawPage&&s.didDrawPage.push(o.didDrawPage)}return s}function ZQ(r,e){var t,n,s,i,a,o,l,c,u,d,h,f,m=uv(e.margin,40/r.scaleFactor()),g=(t=eZ(r,e.startY))!==null&&t!==void 0?t:m.top,p;e.showFoot===!0?p="everyPage":e.showFoot===!1?p="never":p=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var v;e.showHead===!0?v="everyPage":e.showHead===!1?v="never":v=(s=e.showHead)!==null&&s!==void 0?s:"everyPage";var y=(i=e.useCss)!==null&&i!==void 0?i:!1,b=e.theme||(y?"plain":"striped"),E=!!e.horizontalPageBreak,N=(a=e.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(o=e.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:y,theme:b,startY:g,margin:m,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=e.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(u=e.tableWidth)!==null&&u!==void 0?u:"auto",showHead:v,showFoot:p,tableLineWidth:(d=e.tableLineWidth)!==null&&d!==void 0?d:0,tableLineColor:(h=e.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:E,horizontalPageBreakRepeat:N,horizontalPageBreakBehaviour:(f=e.horizontalPageBreakBehaviour)!==null&&f!==void 0?f:"afterAllRows"}}function eZ(r,e){var t=r.getLastAutoTable(),n=r.scaleFactor(),s=r.pageNumber(),i=!1;if(t&&t.startPageNumber){var a=t.startPageNumber+t.pageNumber-1;i=a===s}return typeof e=="number"?e:(e==null||e===!1)&&i&&(t==null?void 0:t.finalY)!=null?t.finalY+20/n:null}function tZ(r,e,t){var n=e.head||[],s=e.body||[],i=e.foot||[];if(e.html){var a=e.includeHiddenHtml;if(t){var o=CN(r,e.html,t,a,e.useCss)||{};n=o.head||n,s=o.body||n,i=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=e.columns||rZ(n,s,i);return{columns:l,head:n,body:s,foot:i}}function rZ(r,e,t){var n=r[0]||e[0]||t[0]||[],s=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var a=1,o;Array.isArray(n)?o=n[parseInt(i)]:o=n[i],typeof o=="object"&&!Array.isArray(o)&&(a=(o==null?void 0:o.colSpan)||1);for(var l=0;l<a;l++){var c=void 0;Array.isArray(n)?c=s.length:c=i+(l>0?"_".concat(l):"");var u={dataKey:c};s.push(u)}}),s}var ox=function(){function r(e,t,n){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=n,this.doc=e.getDocument()}return r}(),nZ=function(r){_N(e,r);function e(t,n,s,i,a,o){var l=r.call(this,t,n,o)||this;return l.cell=s,l.row=i,l.column=a,l.section=i.section,l}return e}(ox),sZ=function(){function r(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return r.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},r.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},r.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},r.prototype.callCellHooks=function(e,t,n,s,i,a){for(var o=0,l=t;o<l.length;o++){var c=l[o],u=new nZ(e,this,n,s,i,a),d=c(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],d)return!1}return!0},r.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var n=0,s=this.hooks.didDrawPage;n<s.length;n++){var i=s[n];i(new ox(e,this,t))}},r.prototype.callWillDrawPageHooks=function(e,t){for(var n=0,s=this.hooks.willDrawPage;n<s.length;n++){var i=s[n];i(new ox(e,this,t))}},r.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(s,i){return s+i.wrappedWidth},0);return t}else{var n=this.settings.margin;return e-n.left-n.right}},r}(),NN=function(){function r(e,t,n,s,i){i===void 0&&(i=!1),this.height=0,this.raw=e,e instanceof SN&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=n,this.cells=s,this.spansMultiplePages=i}return r.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(n,s){var i;return Math.max(n,((i=t.cells[s.index])===null||i===void 0?void 0:i.height)||0)},0)},r.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(n){var s=t.cells[n.index];return s?s.rowSpan>1:!1}).length>0},r.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},r.prototype.getMinimumRowHeight=function(e,t){var n=this;return e.reduce(function(s,i){var a=n.cells[i.index];if(!a)return 0;var o=t.getLineHeight(a.styles.fontSize),l=a.padding("vertical"),c=l+o;return c>s?c:s},0)},r}(),DN=function(){function r(e,t,n){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=n,this.raw=e;var i=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,i=(s=e.content)!==null&&s!==void 0?s:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var a=i!=null?""+i:"",o=/\r\n|\r|\n/g;this.text=a.split(o)}return r.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");n=this.x+s/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},r.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var n=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/e*t,i=n*s+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},r.prototype.padding=function(e){var t=uv(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},r}(),iZ=function(){function r(e,t,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=n}return r.prototype.getMaxCustomCellWidth=function(e){for(var t=0,n=0,s=e.allRows();n<s.length;n++){var i=s[n],a=i.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(t=Math.max(t,a.styles.cellWidth))}return t},r}();function aZ(r,e){oZ(r,e);var t=[],n=0;e.columns.forEach(function(i){var a=i.getMaxCustomCellWidth(e);a?i.width=a:(i.width=i.wrappedWidth,t.push(i)),n+=i.width});var s=e.getWidth(r.pageSize().width)-n;s&&(s=lx(t,s,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),s&&(s=lx(t,s,function(i){return i.minWidth})),s=Math.abs(s),!e.settings.horizontalPageBreak&&s>.1/r.scaleFactor()&&(s=s<1?s:Math.round(s),console.warn("Of the table content, ".concat(s," units width could not fit page"))),cZ(e),uZ(e,r),lZ(e)}function oZ(r,e){var t=r.scaleFactor(),n=e.settings.horizontalPageBreak,s=AN(r,e);e.allRows().forEach(function(i){for(var a=0,o=e.columns;a<o.length;a++){var l=o[a],c=i.cells[l.index];if(c){var u=e.hooks.didParseCell;e.callCellHooks(r,u,c,i,l,null);var d=c.padding("horizontal");c.contentWidth=Y1(c.text,c.styles,r)+d;var h=Y1(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,r);if(c.minReadableWidth=h+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||n===!0)c.contentWidth>s?(c.minWidth=s,c.wrappedWidth=s):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var f=10/t;c.minWidth=c.styles.minCellWidth||f,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),e.allRows().forEach(function(i){for(var a=0,o=e.columns;a<o.length;a++){var l=o[a],c=i.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var u=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},d=u.cellWidth||u.minCellWidth;d&&typeof d=="number"&&(l.minWidth=d,l.wrappedWidth=d)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function lx(r,e,t){for(var n=e,s=r.reduce(function(f,m){return f+m.wrappedWidth},0),i=0;i<r.length;i++){var a=r[i],o=a.wrappedWidth/s,l=n*o,c=a.width+l,u=t(a),d=c<u?u:c;e-=d-a.width,a.width=d}if(e=Math.round(e*1e10)/1e10,e){var h=r.filter(function(f){return e<0?f.width>t(f):!0});h.length&&(e=lx(h,e,t))}return e}function lZ(r){for(var e={},t=1,n=r.allRows(),s=0;s<n.length;s++)for(var i=n[s],a=0,o=r.columns;a<o.length;a++){var l=o[a],c=e[l.index];if(t>1)t--,delete i.cells[l.index];else if(c)c.cell.height+=i.height,t=c.cell.colSpan,delete i.cells[l.index],c.left--,c.left<=1&&delete e[l.index];else{var u=i.cells[l.index];if(!u)continue;if(u.height=i.height,u.rowSpan>1){var d=n.length-s,h=u.rowSpan>d?d:u.rowSpan;e[l.index]={cell:u,left:h,row:i}}}}}function cZ(r){for(var e=r.allRows(),t=0;t<e.length;t++)for(var n=e[t],s=null,i=0,a=0,o=0;o<r.columns.length;o++){var l=r.columns[o];if(a-=1,a>1&&r.columns[o+1])i+=l.width,delete n.cells[l.index];else if(s){var c=s;delete n.cells[l.index],s=null,c.width=l.width+i}else{var c=n.cells[l.index];if(!c)continue;if(a=c.colSpan,i=0,c.colSpan>1){s=c,i+=l.width;continue}c.width=l.width+i}}}function uZ(r,e){for(var t={count:0,height:0},n=0,s=r.allRows();n<s.length;n++){for(var i=s[n],a=0,o=r.columns;a<o.length;a++){var l=o[a],c=i.cells[l.index];if(c){e.applyStyles(c.styles,!0);var u=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=e.splitTextToSize(c.text,u+1/e.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=j8(c.text,u,c.styles,e,"...");else if(c.styles.overflow==="hidden")c.text=j8(c.text,u,c.styles,e,"");else if(typeof c.styles.overflow=="function"){var d=c.styles.overflow(c.text,u);typeof d=="string"?c.text=[d]:c.text=d}c.contentHeight=c.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var h=c.contentHeight/c.rowSpan;c.rowSpan>1&&t.count*t.height<h*c.rowSpan?t={height:h,count:c.rowSpan}:t&&t.count>0&&t.height>h&&(h=t.height),h>i.height&&(i.height=h)}}t.count--}}function j8(r,e,t,n,s){return r.map(function(i){return hZ(i,e,t,n,s)})}function hZ(r,e,t,n,s){var i=1e4*n.scaleFactor();if(e=Math.ceil(e*i)/i,e>=Y1(r,t,n))return r;for(;e<Y1(r+s,t,n)&&!(r.length<=1);)r=r.substring(0,r.length-1);return r.trim()+s}function fZ(r,e){var t=new Uf(r),n=dZ(e,t.scaleFactor()),s=new sZ(e,n);return aZ(t,s),t.applyStyles(t.userStyles),s}function dZ(r,e){var t=r.content,n=mZ(t.columns);if(t.head.length===0){var s=B8(n,"head");s&&t.head.push(s)}if(t.foot.length===0){var s=B8(n,"foot");s&&t.foot.push(s)}var i=r.settings.theme,a=r.styles;return{columns:n,head:rb("head",t.head,n,a,i,e),body:rb("body",t.body,n,a,i,e),foot:rb("foot",t.foot,n,a,i,e)}}function rb(r,e,t,n,s,i){var a={},o=e.map(function(l,c){for(var u=0,d={},h=0,f=0,m=0,g=t;m<g.length;m++){var p=g[m];if(a[p.index]==null||a[p.index].left===0)if(f===0){var v=void 0;Array.isArray(l)?v=l[p.index-h-u]:v=l[p.dataKey];var y={};typeof v=="object"&&!Array.isArray(v)&&(y=(v==null?void 0:v.styles)||{});var b=gZ(r,p,c,s,n,i,y),E=new DN(v,b,r);d[p.dataKey]=E,d[p.index]=E,f=E.colSpan-1,a[p.index]={left:E.rowSpan-1,times:f}}else f--,h++;else a[p.index].left--,f=a[p.index].times,u++}return new NN(l,c,r,d)});return o}function B8(r,e){var t={};return r.forEach(function(n){if(n.raw!=null){var s=pZ(e,n.raw);s!=null&&(t[n.dataKey]=s)}}),Object.keys(t).length>0?t:null}function pZ(r,e){if(r==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(r==="foot"&&typeof e=="object")return e.footer;return null}function mZ(r){return r.map(function(e,t){var n,s;return typeof e=="object"?s=(n=e.dataKey)!==null&&n!==void 0?n:t:s=t,new iZ(s,e,t)})}function gZ(r,e,t,n,s,i,a){var o=HQ(n),l;r==="head"?l=s.headStyles:r==="body"?l=s.bodyStyles:r==="foot"&&(l=s.footStyles);var c=bl({},o.table,o[r],s.styles,l),u=s.columnStyles[e.dataKey]||s.columnStyles[e.index]||{},d=r==="body"?u:{},h=r==="body"&&t%2===0?bl({},o.alternateRow,s.alternateRowStyles):{},f=VQ(i),m=bl({},f,c,h,d);return bl(m,a)}function vZ(r,e,t){var n;t===void 0&&(t={});var s=AN(r,e),i=new Map,a=[],o=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(h){var f=e.columns.find(function(m){return m.dataKey===h||m.index===h});f&&!i.has(f.index)&&(i.set(f.index,!0),a.push(f.index),o.push(e.columns[f.index]),s-=f.wrappedWidth)});for(var c=!0,u=(n=t==null?void 0:t.start)!==null&&n!==void 0?n:0;u<e.columns.length;){if(i.has(u)){u++;continue}var d=e.columns[u].wrappedWidth;if(c||s>=d)c=!1,a.push(u),o.push(e.columns[u]),s-=d;else break;u++}return{colIndexes:a,columns:o,lastIndex:u-1}}function yZ(r,e){for(var t=[],n=0;n<e.columns.length;n++){var s=vZ(r,e,{start:n});s.columns.length&&(t.push(s),n=s.lastIndex)}return t}function bZ(r,e){var t=e.settings,n=t.startY,s=t.margin,i={x:s.left,y:n},a=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),o=n+s.bottom+a;if(t.pageBreak==="avoid"){var l=e.body,c=l.reduce(function(h,f){return h+f.height},0);o+=c}var u=new Uf(r);(t.pageBreak==="always"||t.startY!=null&&o>u.pageSize().height)&&(IN(u),i.y=s.top),e.callWillDrawPageHooks(u,i);var d=bl({},i);e.startPageNumber=u.pageNumber(),t.horizontalPageBreak?wZ(u,e,d,i):(u.applyStyles(u.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(h){return Pl(u,e,h,i,e.columns)}),u.applyStyles(u.userStyles),e.body.forEach(function(h,f){var m=f===e.body.length-1;J1(u,e,h,m,d,i,e.columns)}),u.applyStyles(u.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(h){return Pl(u,e,h,i,e.columns)})),EN(u,e,d,i),e.callEndPageHooks(u,i),e.finalY=i.y,r.lastAutoTable=e,u.applyStyles(u.userStyles)}function wZ(r,e,t,n){var s=yZ(r,e),i=e.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(c,u){r.applyStyles(r.userStyles),u>0?V0(r,e,t,n,c.columns,!0):U8(r,e,n,c.columns),xZ(r,e,t,n,c.columns),nb(r,e,n,c.columns)});else for(var a=-1,o=s[0],l=function(){var c=a;if(o){r.applyStyles(r.userStyles);var u=o.columns;a>=0?V0(r,e,t,n,u,!0):U8(r,e,n,u),c=$8(r,e,a+1,n,u),nb(r,e,n,u)}var d=c-a;s.slice(1).forEach(function(h){r.applyStyles(r.userStyles),V0(r,e,t,n,h.columns,!0),$8(r,e,a+1,n,h.columns,d),nb(r,e,n,h.columns)}),a=c};a<e.body.length-1;)l()}function U8(r,e,t,n){var s=e.settings;r.applyStyles(r.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&e.head.forEach(function(i){return Pl(r,e,i,t,n)})}function xZ(r,e,t,n,s){r.applyStyles(r.userStyles),e.body.forEach(function(i,a){var o=a===e.body.length-1;J1(r,e,i,o,t,n,s)})}function $8(r,e,t,n,s,i){r.applyStyles(r.userStyles),i=i??e.body.length;var a=Math.min(t+i,e.body.length),o=-1;return e.body.slice(t,a).forEach(function(l,c){var u=t+c===e.body.length-1,d=RN(r,e,u,n);l.canEntireRowFit(d,s)&&(Pl(r,e,l,n,s),o=t+c)}),o}function nb(r,e,t,n){var s=e.settings;r.applyStyles(r.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&e.foot.forEach(function(i){return Pl(r,e,i,t,n)})}function _Z(r,e,t){var n=t.getLineHeight(r.styles.fontSize),s=r.padding("vertical"),i=Math.floor((e-s)/n);return Math.max(0,i)}function SZ(r,e,t,n){var s={};r.spansMultiplePages=!0,r.height=0;for(var i=0,a=0,o=t.columns;a<o.length;a++){var l=o[a],c=r.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var u=new DN(c.raw,c.styles,c.section);u=bl(u,c),u.text=[];var d=_Z(c,e,n);c.text.length>d&&(u.text=c.text.splice(d,c.text.length));var h=n.scaleFactor(),f=n.getLineHeightFactor();c.contentHeight=c.getContentHeight(h,f),c.contentHeight>=e&&(c.contentHeight=e,u.styles.minCellHeight-=e),c.contentHeight>r.height&&(r.height=c.contentHeight),u.contentHeight=u.getContentHeight(h,f),u.contentHeight>i&&(i=u.contentHeight),s[l.index]=u}}var m=new NN(r.raw,-1,r.section,s,!0);m.height=i;for(var g=0,p=t.columns;g<p.length;g++){var l=p[g],u=m.cells[l.index];u&&(u.height=m.height);var c=r.cells[l.index];c&&(c.height=r.height)}return m}function EZ(r,e,t,n){var s=r.pageSize().height,i=n.settings.margin,a=i.top+i.bottom,o=s-a;e.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=e.getMinimumRowHeight(n.columns,r),c=l<t;if(l>o)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var u=e.hasRowSpan(n.columns),d=e.getMaxCellHeight(n.columns)>o;return d?(u&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function J1(r,e,t,n,s,i,a){var o=RN(r,e,n,i);if(t.canEntireRowFit(o,a))Pl(r,e,t,i,a);else if(EZ(r,t,o,e)){var l=SZ(t,o,e,r);Pl(r,e,t,i,a),V0(r,e,s,i,a),J1(r,e,l,n,s,i,a)}else V0(r,e,s,i,a),J1(r,e,t,n,s,i,a)}function Pl(r,e,t,n,s){n.x=e.settings.margin.left;for(var i=0,a=s;i<a.length;i++){var o=a[i],l=t.cells[o.index];if(!l){n.x+=o.width;continue}r.applyStyles(l.styles),l.x=n.x,l.y=n.y;var c=e.callCellHooks(r,e.hooks.willDrawCell,l,t,o,n);if(c===!1){n.x+=o.width;continue}kZ(r,l,n);var u=l.getTextPos();xN(l.text,u.x,u.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},r.getDocument()),e.callCellHooks(r,e.hooks.didDrawCell,l,t,o,n),n.x+=o.width}n.y+=t.height}function kZ(r,e,t){var n=e.styles;if(r.getDocument().setFillColor(r.getDocument().getFillColor()),typeof n.lineWidth=="number"){var s=kN(n.lineWidth,n.fillColor);s&&r.rect(e.x,t.y,e.width,e.height,s)}else typeof n.lineWidth=="object"&&(n.fillColor&&r.rect(e.x,t.y,e.width,e.height,"F"),AZ(r,e,t,n.lineWidth))}function AZ(r,e,t,n){var s,i,a,o;n.top&&(s=t.x,i=t.y,a=t.x+e.width,o=t.y,n.right&&(a+=.5*n.right),n.left&&(s-=.5*n.left),l(n.top,s,i,a,o)),n.bottom&&(s=t.x,i=t.y+e.height,a=t.x+e.width,o=t.y+e.height,n.right&&(a+=.5*n.right),n.left&&(s-=.5*n.left),l(n.bottom,s,i,a,o)),n.left&&(s=t.x,i=t.y,a=t.x,o=t.y+e.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,s,i,a,o)),n.right&&(s=t.x+e.width,i=t.y,a=t.x+e.width,o=t.y+e.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,s,i,a,o));function l(c,u,d,h,f){r.getDocument().setLineWidth(c),r.getDocument().line(u,d,h,f,"S")}}function RN(r,e,t,n){var s=e.settings.margin.bottom,i=e.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&t)&&(s+=e.getFootHeight(e.columns)),r.pageSize().height-n.y-s}function V0(r,e,t,n,s,i){s===void 0&&(s=[]),i===void 0&&(i=!1),r.applyStyles(r.userStyles),e.settings.showFoot==="everyPage"&&!i&&e.foot.forEach(function(o){return Pl(r,e,o,n,s)}),e.callEndPageHooks(r,n);var a=e.settings.margin;EN(r,e,t,n),IN(r),e.pageNumber++,n.x=a.left,n.y=a.top,t.y=a.top,e.callWillDrawPageHooks(r,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(o){return Pl(r,e,o,n,s)}),r.applyStyles(r.userStyles))}function IN(r){var e=r.pageNumber();r.setPage(e+1);var t=r.pageNumber();return t===e?(r.addPage(),!0):!1}function TZ(r){r.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],s=YQ(this,n),i=fZ(this,s);return bZ(this,i),this},r.API.lastAutoTable=!1,r.API.autoTableText=function(e,t,n,s){xN(e,t,n,s,this)},r.API.autoTableSetDefaults=function(e){return Uf.setDefaults(e,this),this},r.autoTableSetDefaults=function(e,t){Uf.setDefaults(e,t)},r.API.autoTableHtmlToJson=function(e,t){var n;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new Uf(this),i=CN(s,e,window,t,!1),a=i.head,o=i.body,l=((n=a[0])===null||n===void 0?void 0:n.map(function(c){return c.content}))||[];return{columns:l,rows:o,data:o}}}var sb;try{if(typeof window<"u"&&window){var V8=window,H8=V8.jsPDF||((sb=V8.jspdf)===null||sb===void 0?void 0:sb.jsPDF);H8&&TZ(H8)}}catch(r){console.error("Could not apply autoTable plugin",r)}const R_=()=>new Date().toLocaleDateString("en-US",{year:"numeric",month:"short",day:"2-digit"}),ib=()=>new Date().toISOString().split("T")[0],I_=r=>{if(!r||r.trim()==="")return ib();try{const e=new Date(r);return isNaN(e.getTime())?ib():e.toISOString().split("T")[0]}catch{return ib()}},CZ=r=>{const e=r%50+1,t=Math.floor(r/50);let n="",s=t;if(s<26)n=String.fromCharCode(65+s);else if(s<26+26*26){s-=26;const i=Math.floor(s/26),a=s%26;n=String.fromCharCode(65+i)+String.fromCharCode(65+a)}else{s-=26+26*26;const i=Math.floor(s/(26*26)),a=Math.floor(s%(26*26)/26),o=s%26;n=String.fromCharCode(65+i)+String.fromCharCode(65+a)+String.fromCharCode(65+o)}return`${n}${e}`},P_=r=>{if(!r||r.length===0)return[];const e=r[0].planets||[];return r.map((t,n)=>{const s={};return e.forEach((i,a)=>{const o=CZ(a);s[o]=t.numbers[a]}),s})},z8=(r,e="planet-combinations",t="")=>{try{const n=P_(r);if(n.length===0){alert("No data to export");return}const s=t.trim()!==""?t:R_(),i=I_(t),a=new d_.Workbook,o=a.addWorksheet(`Total Lines: ${n.length} - ${s}`),l=Object.keys(n[0]);o.addRow(l).eachCell(d=>{d.font={bold:!0,color:{argb:"FFFFFF"}},d.fill={type:"pattern",pattern:"solid",fgColor:{argb:"4472C4"}},d.alignment={horizontal:"center"},d.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}});const u=["F8F9FA","E3F2FD","E8F5E8","FFF3E0","F3E5F5","E0F2F1"];n.forEach((d,h)=>{const f=o.addRow(Object.values(d)),m=h%u.length;f.eachCell(g=>{g.alignment={horizontal:"center"},g.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},g.fill={type:"pattern",pattern:"solid",fgColor:{argb:u[m]}}})}),o.columns.forEach(d=>{let h=0;d.eachCell({includeEmpty:!0},f=>{const m=f.value?f.value.toString().length:0;m>h&&(h=m)}),d.width=Math.max(h+2,10)}),a.xlsx.writeBuffer().then(d=>{const h=new Blob([d],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),f=window.URL.createObjectURL(h),m=document.createElement("a");m.href=f,m.download=`${e}-${i}.xlsx`,document.body.appendChild(m),m.click(),document.body.removeChild(m),window.URL.revokeObjectURL(f)}).catch(d=>{console.error("Error generating Excel file:",d),alert("Error generating Excel file. Please try again.")})}catch(n){console.error("Error exporting to Excel:",n),alert("Error exporting to Excel. Please try again.")}},ab=(r,e="planet-combinations",t="")=>{try{console.log("Starting simple PDF export...");const n=P_(r);if(n.length===0){alert("No data to export");return}const s=t.trim()!==""?t:R_(),i=I_(t),a=new ur({orientation:"portrait",unit:"mm",format:"a4"});console.log("Simple PDF document created"),a.setFontSize(16),a.setFont("helvetica","bold"),a.text(`Total Lines: ${n.length} - ${s}`,10,15);const o=Object.keys(n[0]);let l=25;const c=o.length,d=Math.max(12,180/c);a.setFontSize(10),a.setFont("helvetica","bold");let h=15;o.forEach(f=>{a.text(f,h,l),h+=d}),l+=8,a.setFontSize(8),a.setFont("helvetica","bold"),n.forEach((f,m)=>{m%2===0||(a.setFillColor(227,242,253),a.rect(10,l-5,190,6,"F")),h=15,Object.values(f).forEach((p,v)=>{a.text(String(p),h,l),h+=d}),l+=6,l>280&&(a.addPage(),l=15)}),a.save(`${e}-${i}.pdf`),console.log("Simple PDF exported successfully")}catch(n){throw console.error("Simple PDF export error:",n),n}},q8=(r,e="planet-combinations",t="")=>{try{console.log("Starting PDF export...",{combinations:r==null?void 0:r.length,filename:e});const n=P_(r);if(console.log("Prepared data for PDF:",{dataLength:n.length,firstRow:n[0]}),n.length===0){alert("No data to export");return}const s=t.trim()!==""?t:R_(),i=I_(t);console.log("Creating jsPDF document...");const a=new ur({orientation:"portrait",unit:"mm",format:"a4"});console.log("jsPDF document created successfully"),a.setFontSize(16),a.setFont("helvetica","bold"),a.text(`Total Lines: ${n.length} - ${s}`,20,20);const o=Object.keys(n[0]),l=n.map(u=>Object.values(u)),c=[[248,249,250],[227,242,253],[232,245,232],[255,243,224],[243,229,245],[224,242,241]];console.log("Table data prepared:",{headers:o,rowCount:l.length});try{if(console.log("Checking for autoTable function..."),typeof a.autoTable=="function"){console.log("Using autoTable for PDF generation...");const u=o.length,h=Math.max(12,180/u);a.autoTable({head:[o],body:l,startY:25,theme:"grid",headStyles:{fillColor:[68,114,196],textColor:[255,255,255],fontStyle:"bold",halign:"center",fontSize:10,cellPadding:2},bodyStyles:{halign:"center",valign:"middle",fontSize:8,fontStyle:"bold",cellPadding:1.5},didParseCell:f=>{if(f.section==="body"){const m=f.row.index%c.length;f.cell.styles.fillColor=c[m]}},tableLineColor:[0,0,0],tableLineWidth:.1,margin:{top:25,right:15,bottom:10,left:15},columnStyles:o.reduce((f,m,g)=>(f[g]={cellWidth:h,minCellWidth:8},f),{}),styles:{overflow:"linebreak",cellWidth:"wrap",minCellHeight:5,lineColor:[0,0,0],lineWidth:.1,fontSize:8},pageBreak:"avoid",tableWidth:"auto",showHead:"everyPage"}),console.log("AutoTable PDF created successfully")}else return console.log("AutoTable not available, using simple PDF"),ab(r,e)}catch(u){return console.log("AutoTable failed, falling back to simple PDF:",u),ab(r,e)}console.log("Saving PDF..."),a.save(`${e}-${i}.pdf`),console.log("PDF saved successfully")}catch(n){console.error("Detailed PDF export error:",n),console.error("Error message:",n.message),console.error("Error stack:",n.stack);try{return console.log("Attempting simple PDF fallback..."),ab(r,e)}catch(s){console.error("Fallback PDF also failed:",s),alert(`PDF export failed completely. Error: ${n.message}`)}}},NZ=({combinations:r,onDeleteCombination:e,onClearAll:t})=>{const n=()=>new Date().toISOString().split("T")[0],[s,i]=Ae.useState(n());r.length>0&&r[0].numbers.length;const a=r.length>0?r[0].planets:[],o=c=>{const u=Math.floor(c/50),d=c%50+1;return`${String.fromCharCode(65+u)}${d}`},l=c=>{try{const u=exportDate.trim()===""?getCurrentDate():exportDate;c==="excel"?z8(r,"planet-combinations",u):c==="pdf"&&q8(r,"planet-combinations",u)}catch(u){console.error(`Error exporting to ${c}:`,u),alert(`Error exporting to ${c}. Please try again.`)}};return G.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[G.jsxs("div",{className:"p-4 bg-gray-50 border-b",children:[G.jsx("div",{className:"flex justify-between items-center mb-3",children:G.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Total Lines: ",r?r.length:0]})}),G.jsxs("div",{className:"flex justify-between items-center",children:[G.jsxs("div",{className:"flex items-center gap-2",children:[G.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Export Date:"}),G.jsx("input",{type:"date",value:s,onChange:c=>i(c.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm w-48 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),G.jsxs("div",{className:"flex gap-2 items-center",children:[G.jsxs("button",{onClick:()=>l(z8),className:"px-3 py-1 bg-green-500 hover:bg-green-600 text-white text-sm rounded-md transition-colors flex items-center gap-1",title:"Download Excel file with Label and Planet columns",children:[G.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:G.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Excel"]}),G.jsxs("button",{onClick:()=>l(q8),className:"px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white text-sm rounded-md transition-colors flex items-center gap-1",title:"Download PDF file with Label and Planet columns",children:[G.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:G.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"PDF"]}),r&&r.length>0&&G.jsx("button",{onClick:t,className:"px-3 py-1 bg-red-500 hover:bg-red-600 text-white text-sm rounded-md transition-colors",children:"Clear All"})]})]})]}),r&&r.length>0?G.jsxs(G.Fragment,{children:[G.jsx("div",{className:"overflow-x-auto",children:G.jsxs("table",{className:"w-full",children:[G.jsx("thead",{className:"bg-gray-100",children:G.jsxs("tr",{children:[G.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Label"}),a.map((c,u)=>G.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:c},u)),G.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sum"}),G.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Planets"}),G.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),G.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map((c,u)=>G.jsxs("tr",{className:"hover:bg-gray-50",children:[G.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:o(u)}),c.numbers.map((d,h)=>G.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:d},h)),G.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:c.numbers.reduce((d,h)=>d+h,0)}),G.jsx("td",{className:"px-4 py-4 text-sm text-gray-900",children:G.jsx("div",{className:"flex flex-wrap gap-1",children:c.planets.map((d,h)=>G.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:d},h))})}),G.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:G.jsx("button",{onClick:()=>e(u),className:"text-red-600 hover:text-red-900 transition-colors",title:"Delete combination",children:G.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:G.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]},u))})]})}),r.length>10&&G.jsxs("div",{className:"p-4 bg-gray-50 border-t text-center text-sm text-gray-600",children:["Showing ",r.length," combinations"]})]}):G.jsxs("div",{className:"p-8 text-center text-gray-500",children:[G.jsx("p",{className:"text-lg font-medium mb-2",children:"No combinations generated yet"}),G.jsx("p",{className:"text-sm",children:"Generate planet combinations to see the results table and enable export functionality."})]})]})},DZ=()=>{const[r,e]=Ae.useState(!1),[t,n]=Ae.useState({phase:"idle",current:0,total:0,permutationIndex:0,totalPermutations:0,currentBatch:0,totalBatches:0,processingSpeed:0,estimatedTimeRemaining:null,message:""}),[s,i]=Ae.useState([]),[a,o]=Ae.useState(null),l=Ae.useRef(null),c=Ae.useRef(0);return{generateCombinations:async h=>{const{selectedPlanetsByPosition:f,valueRange:m,minSum:g,maxSum:p}=h;e(!0),o(null),i([]),n({phase:"calculating",current:0,total:0,permutationIndex:0,totalPermutations:0,currentBatch:0,totalBatches:0,processingSpeed:0,estimatedTimeRemaining:null,message:"Starting generation..."}),l.current&&l.current.terminate(),l.current=new Worker("/combination-worker.js");const v=++c.current;return new Promise((y,b)=>{l.current.onmessage=E=>{const{type:N,jobId:j,...D}=E.data;if(j===v)switch(N){case"progress":n(C=>({...C,...D}));break;case"intermediate_results":i(D.results);break;case"complete":i(D.results),n(C=>({...C,phase:"complete",current:D.results.length,total:D.results.length})),e(!1),y(D.results);break;case"error":o(D.message),e(!1),b(new Error(D.message));break;default:console.warn("Unknown worker message type:",N)}},l.current.onerror=E=>{console.error("Worker error:",E),o("Worker failed to start"),e(!1),b(E)},l.current.postMessage({selectedPlanetsByPosition:f,valueRange:Number(m),minSum:Number(g),maxSum:Number(p),jobId:v})})},cancelGeneration:()=>{l.current&&(l.current.terminate(),l.current=null),e(!1),n(h=>({...h,phase:"idle"}))},isGenerating:r,progress:t,results:s,error:a}},W8=window.electron,G8=()=>{if(window.electron&&window.electron.platform)return window.electron.platform.isMac;const r=window.navigator.userAgent.toLowerCase();return/macintosh|mac os x|iphone|ipad|ipod/.test(r)},ob=()=>Array.from({length:10},(r,e)=>{const t=e*10+1,n=(e+1)*10;return{id:`range-${t}-${n}`,min:t,max:n,active:!1,inputValue:0,matchCount:0}}),RZ=()=>{console.log("Loading NumberGen component - "+new Date().toISOString());const{generateCombinations:r,cancelGeneration:e,isGenerating:t,progress:n,results:s,error:i}=DZ(),a={Sun:[1,10,19,28,37,46,55,64,73,82,91,100],Moon:[2,11,20,29,38,47,56,65,74,83,92],Mars:[9,18,27,36,45,54,63,72,81,90,99],Mercury:[5,14,23,32,41,50,59,68,77,86,95],Jupiter:[3,12,21,30,39,48,57,66,75,84,93],Venus:[6,15,24,33,42,51,60,69,78,87,96],Saturn:[8,17,26,35,44,53,62,71,80,89,98],Rahu:[4,13,22,31,40,49,58,67,76,85,94],Kethu:[7,16,25,34,43,52,61,70,79,88,97]},[o,l]=Ae.useState(""),[c,u]=Ae.useState([]),[d,h]=Ae.useState([]),[f]=Ae.useState(!0),[m,g]=Ae.useState(""),[p,v]=Ae.useState(""),[y,b]=Ae.useState(""),[E,N]=Ae.useState(ob()),[j,D]=Ae.useState([]),[C,I]=Ae.useState(!1),[V,B]=Ae.useState(!1),P=t,k=n;Ae.useEffect(()=>{if(s.length>0){h(s);const W=R(s);D(W)}},[s]),Ae.useEffect(()=>{n.phase==="complete"&&B(!0)},[n.phase]),Ae.useEffect(()=>{i&&alert(`Generation error: ${i}`)},[i]);const M=Object.keys(a).map(W=>({value:W,label:W}));Ae.useEffect(()=>{u([]),Object.entries(a).forEach(([W,T])=>{console.log(`${W} has ${T.length} numbers:`,T)})},[]),Ae.useEffect(()=>{const W=Number(o);if(isNaN(W)||W<=0){u([]);return}const T=Array(W).fill(null).map((z,q)=>c[q]||[]);console.log("Updated planet selections for",W,"planets:",T),u(T)},[o]),Ae.useEffect(()=>{if(G8()){document.querySelectorAll('input[type="number"]').forEach(z=>{z.classList.add("apple-input"),z.addEventListener("focus",()=>{setTimeout(()=>z.select(),10)})});const T=document.createElement("style");return T.innerHTML=`
        .apple-input::-webkit-inner-spin-button,
        .apple-input::-webkit-outer-spin-button {
          -webkit-appearance: none;
          margin: 0;
        }
        
        .apple-input {
          -webkit-appearance: none;
          appearance: textfield;
        }
      `,document.head.appendChild(T),()=>{document.head.removeChild(T)}}},[]);const A=W=>{const T="px-6 py-3 text-lg font-semibold rounded-full shadow-md",z=G8();return W==="generate"?z?`${T} bg-blue-500 text-white hover:bg-blue-600`:`${T} bg-green-500 text-white hover:bg-green-600`:W==="reset"?z?`${T} bg-gray-200 text-gray-800 hover:bg-gray-300`:`${T} bg-red-100 text-red-800 hover:bg-red-200`:T},w=(W,T)=>{console.log(`Planet Change for index ${W}:`,T);const z=[...c];z[W]=T?T.map(q=>q.value):[],console.log("New planet selection state:",z),u(z)},S=async()=>{console.log("=== WEB WORKER GENERATION STARTED ===");const W=p===""?1:Number(p),T=y===""?150:Number(y);if(m===""){alert("Please enter a Value Range before generating combinations");return}if(o===""){alert("Please enter the Number of Planets before generating combinations");return}const z=c.map((q,Y)=>({position:Y+1,planets:q})).filter(q=>!q.planets||q.planets.length===0);if(z.length>0){const q=z.map(Y=>Y.position).join(", ");alert(`Please select at least one planet for position(s): ${q}`);return}if(W>T){alert("Error: Minimum sum cannot be greater than maximum sum");return}try{h([]),D([]),B(!1),await r({selectedPlanetsByPosition:c,valueRange:Number(m),minSum:W,maxSum:T}),console.log("=== WEB WORKER GENERATION COMPLETE ===")}catch(q){console.error("Generation error:",q),alert("There was an error generating combinations. Please try with different planets.")}},_=()=>{h([]),D([]),g(""),v(""),b(""),l(""),N(ob()),I(!1),B(!1),W8&&W8.send("update-number-settings",{valueRange:"",minSum:"",maxSum:"",planetCount:"",rangeFilters:ob()})},x=()=>{h([]),D([]),B(!1)},R=W=>{const T=E.some(q=>q.active);if(I(T),!T)return W;const z=E.map(q=>{let Y=0;for(const U of W){const Q=U.numbers.filter(F=>F>=q.min&&F<=q.max).length;q.active&&Q>=Number(q.inputValue)||Y++}return{...q,matchCount:Y}});return N(z),W.filter(q=>{for(const Y of E)if(Y.active&&q.numbers.filter(Q=>Q>=Y.min&&Q<=Y.max).length>=Number(Y.inputValue))return!1;return!0})};return G.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[G.jsxs("div",{className:"flex items-center justify-between mb-6",children:[G.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Number Generator"}),G.jsx("div",{className:"flex gap-2",children:G.jsx(no,{to:"/users",className:"px-4 py-2 bg-gray-100 text-gray-800 rounded hover:bg-gray-200",children:"Back to Users"})})]}),G.jsx(s9,{}),G.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[G.jsx("div",{className:"border-2 border-blue-500 rounded-md p-4 mb-4",children:G.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[G.jsxs("div",{className:"flex-1 min-w-[150px]",children:[G.jsx("h3",{className:"font-bold text-sm mb-1",children:"Planets (1-9)"}),G.jsx("input",{type:"number",min:"1",max:"9",className:"w-full border-2 border-green-500 rounded p-2",value:o,onChange:W=>{if(W.target.value===""){l("");return}const T=Number(W.target.value);l(Math.max(1,Math.min(9,T)))}})]}),G.jsxs("div",{className:"flex-1 min-w-[150px]",children:[G.jsx("h3",{className:"font-bold text-sm mb-1",children:"Num-Range (1-100)"}),G.jsx("input",{type:"number",min:"1",max:"100",className:"w-full border-2 border-green-500 rounded p-2",value:m,onChange:W=>{if(W.target.value===""){g("");return}const T=Number(W.target.value);g(Math.max(1,Math.min(100,T)))}})]}),G.jsxs("div",{className:"flex-1 min-w-[150px]",children:[G.jsx("h3",{className:"font-bold text-sm mb-1",children:"Min-Sum"}),G.jsx("input",{type:"number",min:"0",max:"500",className:"w-full border-2 border-green-500 rounded p-2",value:p,onChange:W=>{if(W.target.value===""){v("");return}const T=Number(W.target.value),z=isNaN(T)?0:T;v(Math.min(500,Math.max(0,z)))},onBlur:()=>{isNaN(Number(p))&&p!==""&&v("")}})]}),G.jsxs("div",{className:"flex-1 min-w-[150px]",children:[G.jsx("h3",{className:"font-bold text-sm mb-1",children:"Max-Sum"}),G.jsx("input",{type:"number",min:"0",max:"500",className:"w-full border-2 border-green-500 rounded p-2",value:y,onChange:W=>{if(W.target.value===""){b("");return}const T=Number(W.target.value),z=isNaN(T)?0:T;b(Math.min(500,Math.max(0,z)))},onBlur:()=>{isNaN(Number(y))&&y!==""&&b("")}})]})]})}),G.jsx("div",{className:"border-2 border-blue-500 rounded-md overflow-hidden mb-4",children:G.jsx("div",{className:"flex flex-wrap",children:Number(o)>0?Array.from({length:Number(o)}).map((W,T)=>{var z;return G.jsxs("div",{className:"w-full sm:w-1/2 md:w-1/3 lg:w-1/4 xl:w-auto border-b border-r border-blue-300 last:border-r-0",children:[G.jsxs("div",{className:"bg-blue-100 p-2 text-center font-semibold border-b border-blue-300",children:["Planet ",T+1]}),G.jsx("div",{className:"p-2 bg-teal-100",children:G.jsx(zJ,{isMulti:!0,className:"planet-select",placeholder:"Select planets...",options:M,value:((z=c[T])==null?void 0:z.map(q=>M.find(Y=>Y.value===q)))||[],onChange:q=>w(T,q),styles:{control:q=>({...q,borderColor:"#4ade80","&:hover":{borderColor:"#16a34a"}}),multiValue:q=>({...q,backgroundColor:"#d1fae5"}),multiValueLabel:q=>({...q,color:"#065f46",fontWeight:500})}})})]},T)}):null})}),G.jsxs("div",{className:"border-2 border-blue-500 rounded-md p-4 mb-4",children:[G.jsx("div",{className:"flex flex-row justify-between items-center mb-4",children:G.jsx("h3",{className:"font-bold text-lg",children:"Number Range Filters"})}),G.jsx("div",{className:"flex flex-wrap gap-3 items-center",children:E.map((W,T)=>G.jsxs("div",{className:"flex items-center gap-1",children:[G.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[W.min,"-",W.max]}),G.jsx("input",{type:"number",min:"0",max:"6",className:"w-12 h-6 border-2 border-green-500 rounded text-center text-sm focus:border-blue-500 focus:outline-none",value:W.inputValue===0?"":W.inputValue,onChange:z=>{const q=z.target.value,Y=q===""?0:parseInt(q)||0,U=[...E];if(U[T]={...U[T],inputValue:Y,active:Y>0},N(U),d.length>0){const Q=R(d);D(Q)}},placeholder:"0"})]},`range-${T}`))}),C&&d.length>0&&G.jsxs("div",{className:"mt-3 p-2 bg-blue-50 border border-blue-200 rounded-md text-sm",children:[G.jsxs("p",{className:"font-medium",children:["Showing ",j.length," of ",d.length," combinations after range filtering"]}),G.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Each number represents the count of numbers to exclude combinations from that range"})]})]}),G.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4 mb-6",children:[G.jsx("button",{className:A("generate"),onClick:()=>{console.log("Generate button clicked"),S()},children:"Generate Combinations"}),G.jsx("button",{className:`px-4 py-2 rounded transition-colors ${V?"bg-orange-500 hover:bg-orange-600 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,onClick:x,disabled:!V,title:V?"Unlock range filters for editing (clears results)":"Generate combinations first to unlock",children:"🔓 Unlock Filters"}),G.jsx("button",{className:A("reset"),onClick:_,children:"Reset All Filters"})]}),(P||k.phase!=="idle")&&G.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[G.jsxs("div",{className:"flex items-center justify-between mb-2",children:[G.jsxs("h3",{className:"font-bold text-blue-800 text-lg",children:[k.phase==="calculating"&&"🧮 Calculating Planet Permutations...",k.phase==="generating"&&"⚡ Generating Combinations...",k.phase==="complete"&&"✅ Generation Complete!"]}),G.jsxs("div",{className:"flex items-center space-x-3",children:[k.phase==="generating"&&G.jsxs("span",{className:"text-sm text-blue-600 font-mono",children:["Batch ",k.currentBatch,"/",k.totalBatches]}),(k.phase==="generating"||k.phase==="calculating")&&G.jsx("button",{onClick:e,className:"px-3 py-1 bg-red-500 text-white text-sm rounded hover:bg-red-600 transition-colors",children:"Cancel"})]})]}),k.phase==="generating"&&G.jsxs(G.Fragment,{children:[G.jsx("div",{className:"w-full bg-blue-200 rounded-full h-4 mb-3",children:G.jsx("div",{className:"bg-blue-600 h-4 rounded-full transition-all duration-300 flex items-center justify-center",style:{width:`${k.permutationIndex/k.totalPermutations*100}%`},children:G.jsxs("span",{className:"text-white text-xs font-bold",children:[Math.round(k.permutationIndex/k.totalPermutations*100),"%"]})})}),G.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[G.jsxs("div",{className:"bg-white rounded p-2 text-center",children:[G.jsx("div",{className:"font-bold text-blue-800",children:k.permutationIndex}),G.jsxs("div",{className:"text-gray-600",children:["of ",k.totalPermutations]}),G.jsx("div",{className:"text-xs text-gray-500",children:"Permutations"})]}),G.jsxs("div",{className:"bg-white rounded p-2 text-center",children:[G.jsx("div",{className:"font-bold text-green-800",children:k.current.toLocaleString()}),G.jsx("div",{className:"text-gray-600",children:"Combinations"}),G.jsx("div",{className:"text-xs text-gray-500",children:"Generated"})]}),G.jsxs("div",{className:"bg-white rounded p-2 text-center",children:[G.jsx("div",{className:"font-bold text-purple-800",children:k.processingSpeed}),G.jsx("div",{className:"text-gray-600",children:"perm/sec"}),G.jsx("div",{className:"text-xs text-gray-500",children:"Speed"})]}),G.jsxs("div",{className:"bg-white rounded p-2 text-center",children:[G.jsx("div",{className:"font-bold text-orange-800",children:k.estimatedTimeRemaining?`${k.estimatedTimeRemaining}s`:"..."}),G.jsx("div",{className:"text-gray-600",children:"ETA"}),G.jsx("div",{className:"text-xs text-gray-500",children:"Remaining"})]})]}),G.jsx("div",{className:"mt-3 flex items-center justify-center",children:G.jsxs("div",{className:"flex items-center space-x-2",children:[G.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),G.jsxs("span",{className:"text-sm text-gray-700 font-mono",children:["Processing batch ",k.currentBatch,"...",G.jsx("span",{className:"animate-pulse",children:"●"})]})]})})]}),k.phase==="calculating"&&G.jsx("div",{className:"flex items-center justify-center py-4",children:G.jsxs("div",{className:"flex items-center space-x-2",children:[G.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full animate-ping"}),G.jsx("span",{className:"text-blue-700",children:"Setting up planet combinations..."})]})})]}),G.jsx(NZ,{combinations:d&&d.length>0?C?j:d:[],onDeleteCombination:()=>{},onClearAll:()=>h([])}),d&&d.length===0&&o&&m&&G.jsx("div",{className:"text-center py-8",children:G.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[G.jsx("h3",{className:"text-lg font-medium text-yellow-800 mb-2",children:"No Combinations Generated"}),G.jsx("p",{className:"text-yellow-700 mb-4",children:"No valid combinations were found with the current settings."}),G.jsxs("div",{className:"text-sm text-yellow-600",children:[G.jsx("p",{children:"Possible reasons:"}),G.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[G.jsx("li",{children:"Not all planet positions have planets selected"}),G.jsx("li",{children:"The value range is too restrictive"}),G.jsx("li",{children:"The sum constraints (min/max) are too narrow"}),G.jsx("li",{children:"Selected planets don't have numbers that meet the criteria"})]}),G.jsx("p",{className:"mt-3 font-medium",children:"Try:"}),G.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[G.jsx("li",{children:"Selecting planets for all positions"}),G.jsx("li",{children:"Increasing the value range"}),G.jsx("li",{children:"Adjusting the sum range"}),G.jsx("li",{children:"Using the Debug State button to check your selections"})]})]})]})})]})]})},xc={EXPECTED_TOPICS:30,EXPECTED_ELEMENTS_PER_TOPIC:9,EXPECTED_PLANETS_PER_ELEMENT:9,EXACT_REQUIRED_DATA_CELLS:2430,TOLERANCE_CELLS:50,REQUIRED_ELEMENTS:["as","mo","hl","gl","vig","var","sl","pp","in"],VALID_ASTRO_PATTERNS:[/^[a-z]+-\d+/i,/^[a-z]+-\d+-[^-]*/i,/^[a-z]+-\d+[a-z]{2}\d+/i,/^\d+[a-z]{2}\d+/i],SET_HEADER_PATTERN:/^D-\d+(\s+\([^)]+\))?\s+Set-\d+\s+Matrix$/i,PLANET_HEADERS:["x","sun","moon","mars","mercury","jupiter","venus","saturn","rahu","ketu"],INVALID_VALUES:["","-","—","N/A","NA","null","NULL","#N/A","0"]};function IZ(r,e){console.log(`🔍 STRICT ABCD VALIDATION: Analyzing ${e}`),console.log(`📊 Data structure: ${r.length} rows`);const t=[],n=[],s=[],{EXPECTED_TOPICS:i,EXPECTED_ELEMENTS_PER_TOPIC:a,EXPECTED_PLANETS_PER_ELEMENT:o,EXACT_REQUIRED_DATA_CELLS:l,TOLERANCE_CELLS:c,REQUIRED_ELEMENTS:u,VALID_ASTRO_PATTERNS:d,SET_HEADER_PATTERN:h,PLANET_HEADERS:f,INVALID_VALUES:m}=xc;let g=0,p=-1,v=0,y=0,b=0,E=[],N=[],j=[];console.log(`📐 Analyzing ${r.length} rows for ABCD structure...`);for(let k=0;k<r.length;k++){const M=r[k]?r[k][0]:null,A=M?String(M).trim():"";if(A){if(h.test(A)){if(p>=0){const w={topicNumber:g,row:p+1,elementsFound:v,expectedElements:a,isComplete:v===a};j.push(w),v!==a&&t.push(`Topic ${g} (row ${p+1}): Incomplete - found ${v}/${a} elements`)}g++,p=k,v=0;continue}if(!(p>=0&&(A.toLowerCase()==="x"||f.some(w=>A.toLowerCase().includes(w))))&&p>=0&&A.length<=3&&A.match(/^[a-z]+$/i)){const w=A.toLowerCase();if(!u.includes(w)){t.push(`Row ${k+1}: Invalid element code "${w}". Expected one of: ${u.join(", ")}`);continue}const S=u[v];w!==S&&n.push(`Row ${k+1}: Element "${w}" out of order. Expected "${S}" at position ${v+1}`),v++;let _=0;for(let x=1;x<=o;x++){const R=r[k]?r[k][x]:null,W=String.fromCharCode(65+x);if(R&&R!==null&&R!==void 0&&String(R).trim()!==""){const T=String(R).trim();_++,y++,d.some(q=>q.test(T))?b++:(m.includes(T)||T.length<2?t.push(`Row ${k+1}, Column ${W}: Missing planet data for "${w}"`):n.push(`Row ${k+1}, Column ${W}: Unusual format for "${w}": "${T}". Expected astrological data like "as-7-/su-(...)" or "7sc12"`),N.push({row:k+1,col:W,element:w,value:T}))}else E.push({row:k+1,col:W,element:w,expectedPosition:`Planet ${x} data for ${w}`})}_<o&&t.push(`Row ${k+1}: Element "${w}" missing ${o-_} planet data cells (found ${_}/${o})`)}}}g<i?s.push(`CRITICAL: Insufficient topics. Required: ${i}, Found: ${g}`):g>i&&n.push(`Extra topics found. Expected: ${i}, Found: ${g}`);const D=l-c;b<D?s.push(`CRITICAL: Insufficient valid data cells. Required: ~${l}, Found: ${b} (Missing: ${D-b})`):b<l*.95&&n.push(`Low data cell count. Expected: ~${l}, Found: ${b}`);const C=E.length/l*100;C>5&&s.push(`CRITICAL: Too many missing cells: ${E.length} (${C.toFixed(1)}% of expected data)`);const I=y>0?b/y*100:0;I<90&&n.push(`Data quality below optimal: ${I.toFixed(1)}% valid data`);const V=[...s,...t],B=V.length===0,P=n.length>0;return console.log("✅ VALIDATION COMPLETE:"),console.log(`   Topics Found: ${g}/${i} ${g===i?"✅":"❌"}`),console.log(`   Valid Data Cells: ${b}/${l} ${b>=D?"✅":"❌"}`),console.log(`   Data Quality: ${I.toFixed(1)}%`),console.log(`   Result: ${B?P?"PASSED_WITH_WARNINGS":"PASSED":"FAILED"}`),{isValid:B,errors:V,warnings:n,criticalErrors:s,topicsFound:g,totalDataCells:y,validDataCells:b,missingCells:E,invalidDataCells:N,topicCompleteness:j,dataQualityScore:I,missingCellPercentage:C,summary:`Found ${g}/${i} topics with ${b}/${l} valid data cells. Data quality: ${I.toFixed(1)}%. ${E.length} cells missing.`,validationLevel:B?P?"PASSED_WITH_WARNINGS":"PASSED":"FAILED",setHeaders:[]}}function PZ(r,e){let t=`📋 ABCD EXCEL VALIDATION REPORT
`;return t+=`File: ${e}
`,t+=`Status: ${r.isValid?"✅ PASSED":"❌ FAILED"}
`,t+=`Validation Level: ${r.validationLevel||"UNKNOWN"}

`,t+=`📊 VALIDATION SUMMARY:
`,t+=`   Topics Found: ${r.topicsFound||0}/${xc.EXPECTED_TOPICS}
`,t+=`   Valid Data Cells: ${r.validDataCells||0}/${xc.EXACT_REQUIRED_DATA_CELLS}
`,t+=`   Data Quality: ${r.dataQualityScore?r.dataQualityScore.toFixed(1):"0.0"}%
`,t+=`   Missing Cells: ${r.missingCells?r.missingCells.length:0}
`,t+=`   Invalid Data Cells: ${r.invalidDataCells?r.invalidDataCells.length:0}

`,r.criticalErrors&&r.criticalErrors.length>0&&(t+=`🚨 CRITICAL ERRORS (${r.criticalErrors.length}) - Must be fixed:
`,r.criticalErrors.forEach((n,s)=>{t+=`${s+1}. ${n}
`}),t+=`
`),r.errors&&r.errors.length>0&&(t+=`❌ ERRORS (${r.errors.length}):
`,r.errors.slice(0,10).forEach((n,s)=>{t+=`${s+1}. ${n}
`}),r.errors.length>10&&(t+=`... and ${r.errors.length-10} more errors
`),t+=`
`),r.warnings&&r.warnings.length>0&&(t+=`⚠️ WARNINGS (${r.warnings.length}):
`,r.warnings.slice(0,5).forEach((n,s)=>{t+=`${s+1}. ${n}
`}),r.warnings.length>5&&(t+=`... and ${r.warnings.length-5} more warnings
`),t+=`
`),r.missingCells&&r.missingCells.length>0&&(t+=`📍 MISSING DATA LOCATIONS (${Math.min(r.missingCells.length,10)} shown):
`,r.missingCells.slice(0,10).forEach((n,s)=>{t+=`${s+1}. Row ${n.row}, Column ${n.col}: ${n.expectedPosition}
`}),r.missingCells.length>10&&(t+=`... and ${r.missingCells.length-10} more missing cells
`),t+=`
`),t+=`📋 TEMPLATE REQUIREMENTS:
`,t+=`• Must have exactly ${xc.EXPECTED_TOPICS} topics with headers like "D-1 Set-1 Matrix"
`,t+=`• Each topic must have ${xc.EXPECTED_ELEMENTS_PER_TOPIC} elements: ${xc.REQUIRED_ELEMENTS.join(", ")}
`,t+=`• Each element must have ${xc.EXPECTED_PLANETS_PER_ELEMENT} planet data cells in columns B-J
`,t+=`• Planet data must be in valid astrological format (e.g., "as-7-/su-(...)", "7sc12")
`,t+=`• Total expected data cells: ${xc.EXACT_REQUIRED_DATA_CELLS}
`,t}class OZ{constructor(){this.supabase=Xt,console.log("🎯 CleanSupabaseService initialized - Supabase only, no localStorage")}async createUser(e){try{const{data:t,error:n}=await this.supabase.from("users").insert({username:e.username,email:e.email,hr_count:e.hr||1}).select().maybeSingle();if(n)throw n;return console.log("✅ User created:",t.id),t}catch(t){throw console.error("❌ Error creating user:",t),t}}async getUser(e){try{const{data:t,error:n}=await this.supabase.from("users").select("*").eq("id",e).maybeSingle();if(n)throw n;return t}catch(t){throw console.error("❌ Error getting user:",t),t}}async getAllUsers(){try{const{data:e,error:t}=await this.supabase.from("users").select("*").order("username");if(t)throw t;return e||[]}catch(e){throw console.error("❌ Error getting users:",e),e}}async saveExcelData(e,t,n){var s,i;try{console.log(`📤 Saving Excel data for ${e} on ${t}`),console.log("🔍 Excel data structure:",{hasDirectSets:!!n.sets,hasDataProperty:!!n.data,hasDataSets:!!((s=n.data)!=null&&s.sets),structure:Object.keys(n)});const a=n.sets||((i=n.data)==null?void 0:i.sets);if(!a||Object.keys(a).length===0)throw new Error("Excel data must contain sets/topics");const{data:o,error:l}=await this.supabase.from("excel_data").upsert({user_id:e,date:t,file_name:n.fileName||"Unknown",data:{sets:a}},{onConflict:"user_id,date"}).select().maybeSingle();if(l)throw l;return console.log(`✅ Excel data saved: ${Object.keys(a).length} sets`),o}catch(a){throw console.error("❌ Error saving Excel data:",a),a}}async getExcelData(e,t){var n,s;try{console.log(`📥 Getting Excel data for ${e} on ${t}`);const{data:i,error:a}=await this.supabase.from("excel_data").select("*").eq("user_id",e).eq("date",t).maybeSingle();if(a){if(a.code==="PGRST116")return console.log(`ℹ️ No Excel data found for ${e} on ${t}`),null;throw a}return console.log(`✅ Excel data loaded: ${Object.keys(((n=i.data)==null?void 0:n.sets)||{}).length} sets`),{fileName:i.file_name,sets:((s=i.data)==null?void 0:s.sets)||{},dataSource:"Supabase",date:i.date}}catch(i){throw console.error("❌ Error getting Excel data:",i),i}}async deleteExcelData(e,t){try{const{error:n}=await this.supabase.from("excel_data").delete().eq("user_id",e).eq("date",t);if(n)throw n;console.log(`🗑️ Excel data deleted for ${e} on ${t}`)}catch(n){throw console.error("❌ Error deleting Excel data:",n),n}}async hasExcelData(e,t){try{console.log(`🔍 [DEBUG] Checking Excel data for user ${e} on ${t}`);const{count:n,error:s}=await this.supabase.from("excel_data").select("*",{count:"exact",head:!0}).eq("user_id",e).eq("date",t);if(console.log("📊 [DEBUG] Excel data query result:",{count:n,error:s==null?void 0:s.message}),s)return console.error("❌ [DEBUG] Excel data query error:",s),!1;const i=n>0;return console.log(`${i?"✅":"❌"} [DEBUG] Excel data ${i?"EXISTS":"NOT FOUND"} for ${t}`),i}catch(n){return console.error("❌ [DEBUG] Exception in hasExcelData:",n),!1}}async saveHourEntry(e,t,n){try{console.log(`📤 Saving hour entry for ${e} on ${t}`);const{data:s,error:i}=await this.supabase.from("hour_entries").upsert({user_id:e,date_key:t,hour_data:{planetSelections:n,date:t,userId:e,savedAt:new Date().toISOString()}},{onConflict:"user_id,date_key"}).select().maybeSingle();if(i)throw i;return console.log(`✅ Hour entry saved: ${Object.keys(n).length} HR selections`),s}catch(s){throw console.error("❌ Error saving hour entry:",s),s}}async getHourEntry(e,t){var n,s,i;try{console.log(`📥 Getting hour entry for ${e} on ${t}`);const{data:a,error:o}=await this.supabase.from("hour_entries").select("*").eq("user_id",e).eq("date_key",t).maybeSingle();if(o){if(o.code==="PGRST116")return console.log(`ℹ️ No hour entry found for ${e} on ${t} (this is normal for new dates)`),null;throw console.error(`❌ Hour entry query failed for ${e} on ${t}:`,{code:o.code,message:o.message,details:o.details,hint:o.hint,statusCode:o.statusCode}),new Error(`Database query failed: ${o.message||"Unknown error"}`)}return console.log(`✅ Hour entry loaded: ${Object.keys(((n=a.hour_data)==null?void 0:n.planetSelections)||{}).length} HR selections`),{planetSelections:((s=a.hour_data)==null?void 0:s.planetSelections)||{},dataSource:"Supabase",date:a.date_key}}catch(a){throw(i=a.message)!=null&&i.includes("Database query failed")?a:(console.error("❌ Unexpected error getting hour entry:",a),new Error(`Unexpected error: ${a.message||"Unknown error"}`))}}async deleteHourEntry(e,t){try{const{error:n}=await this.supabase.from("hour_entries").delete().eq("user_id",e).eq("date_key",t);if(n)throw n;console.log(`🗑️ Hour entry deleted for ${e} on ${t}`)}catch(n){throw console.error("❌ Error deleting hour entry:",n),n}}async hasHourEntry(e,t){try{console.log(`⏰ [DEBUG] Checking Hour Entry for user ${e} on ${t}`);const{count:n,error:s}=await this.supabase.from("hour_entries").select("*",{count:"exact",head:!0}).eq("user_id",e).eq("date_key",t);if(console.log("📊 [DEBUG] Hour Entry query result:",{count:n,error:s==null?void 0:s.message}),s)return console.error("❌ [DEBUG] Hour Entry query error:",s),!1;const i=n>0;return console.log(`${i?"✅":"❌"} [DEBUG] Hour Entry ${i?"EXISTS":"NOT FOUND"} for ${t}`),i}catch(n){return console.error("❌ [DEBUG] Exception in hasHourEntry:",n),!1}}async getUserDates(e){try{const{data:t,error:n}=await this.supabase.from("user_dates").select("dates").eq("user_id",e).maybeSingle();if(n){if(n.code==="PGRST116")return[];throw n}return t.dates||[]}catch(t){throw console.error("❌ Error getting user dates:",t),t}}async saveUserDates(e,t){try{const{data:n,error:s}=await this.supabase.from("user_dates").upsert({user_id:e,dates:t},{onConflict:"user_id"}).select().maybeSingle();if(s)throw s;return console.log(`✅ User dates saved: ${t.length} dates`),n}catch(n){throw console.error("❌ Error saving user dates:",n),n}}async addUserDate(e,t){try{const n=await this.getUserDates(e);if(!n.includes(t)){const s=[...n,t].sort();await this.saveUserDates(e,s)}}catch(n){throw console.error("❌ Error adding user date:",n),n}}async removeUserDate(e,t){try{const s=(await this.getUserDates(e)).filter(i=>i!==t);await this.saveUserDates(e,s),await this.deleteExcelData(e,t),await this.deleteHourEntry(e,t)}catch(n){throw console.error("❌ Error removing user date:",n),n}}async extractNumbersFromSet(e,t,n,s){try{const[i,a]=await Promise.all([this.getExcelData(e,t),this.getHourEntry(e,t)]);if(!i||!a)return console.log(`⚠️ Missing data for extraction: Excel=${!!i}, Hour=${!!a}`),[];const o=i.sets||{},l=a.planetSelections||{},c=o[n],u=l[s];if(!c||!u)return console.log(`⚠️ Missing set data or planet selection for ${n}/HR${s}`),[];const d=new Set;Object.entries(c).forEach(([f,m])=>{const g=m[u];if(g){const p=g.match(/^[a-z]+-(\d+)[\/\-]/);p&&d.add(Number(p[1]))}});const h=Array.from(d).sort((f,m)=>f-m);return console.log(`🔢 Extracted ${h.length} numbers from ${n} HR${s}: [${h.join(", ")}]`),h}catch(i){return console.error("❌ Error extracting numbers:",i),[]}}async performABCDAnalysis(e,t,n,s){try{if(t.length<4)return console.log(`⚠️ Need 4 dates for ABCD analysis, got ${t.length}`),{abcdNumbers:[],bcdNumbers:[]};const[i,a,o,l]=t,[c,u,d,h]=await Promise.all([this.extractNumbersFromSet(e,i,n,s),this.extractNumbersFromSet(e,a,n,s),this.extractNumbersFromSet(e,o,n,s),this.extractNumbersFromSet(e,l,n,s)]);if(h.length===0)return console.log("⚠️ No D-day numbers for analysis"),{abcdNumbers:[],bcdNumbers:[]};const f=h.filter(v=>{let y=0;return c.includes(v)&&y++,u.includes(v)&&y++,d.includes(v)&&y++,y>=2}),m=h.filter(v=>{const y=c.includes(v),b=u.includes(v),E=d.includes(v);return b&&!y&&!E||E&&!y&&!b}),g=f,p=m.filter(v=>!f.includes(v));return console.log(`🧮 ABCD/BCD Analysis for ${n}:`,{abcdNumbers:g,bcdNumbers:p,extractedCounts:{A:c.length,B:u.length,C:d.length,D:h.length}}),{abcdNumbers:g,bcdNumbers:p}}catch(i){return console.error("❌ Error in ABCD analysis:",i),{abcdNumbers:[],bcdNumbers:[]}}}async getDataSummary(e){try{const[t,n,s]=await Promise.all([this.supabase.from("excel_data").select("*",{count:"exact",head:!0}).eq("user_id",e),this.supabase.from("hour_entries").select("*",{count:"exact",head:!0}).eq("user_id",e),this.getUserDates(e)]);return{excelDataCount:t.count||0,hourEntryCount:n.count||0,userDatesCount:s.length,userDates:s}}catch(t){return console.error("❌ Error getting data summary:",t),{excelDataCount:0,hourEntryCount:0,userDatesCount:0,userDates:[]}}}async saveTopicClick(e,t,n,s,i,a=!1){try{const{data:o,error:l}=await this.supabase.from("topic_clicks").upsert({user_id:e,topic_name:t,date_key:n,hour:s,clicked_number:i,is_matched:a},{onConflict:"user_id,topic_name,date_key,hour,clicked_number"}).select();if(l)throw l;return console.log("✅ Topic click saved:",{userId:e,topicName:t,dateKey:n,hour:s,clickedNumber:i,isMatched:a}),o[0]}catch(o){throw console.error("❌ Error saving topic click:",o),o}}async getTopicClicks(e,t=null,n=null){try{let s=this.supabase.from("topic_clicks").select("*").eq("user_id",e);t&&(s=s.eq("topic_name",t)),n&&(s=s.eq("date_key",n));const{data:i,error:a}=await s.order("created_at",{ascending:!1});if(a)throw a;return console.log(`✅ Retrieved ${i.length} topic clicks for user ${e}`),i}catch(s){throw console.error("❌ Error getting topic clicks:",s),s}}async deleteTopicClick(e,t,n,s,i){try{const{error:a}=await this.supabase.from("topic_clicks").delete().eq("user_id",e).eq("topic_name",t).eq("date_key",n).eq("hour",s).eq("clicked_number",i);if(a)throw a;return console.log("✅ Topic click deleted:",{userId:e,topicName:t,dateKey:n,hour:s,clickedNumber:i}),!0}catch(a){throw console.error("❌ Error deleting topic click:",a),a}}async checkConnection(){try{const{data:e,error:t}=await this.supabase.from("users").select("count(*)").limit(1);if(t)throw t;return console.log("✅ Supabase connection healthy"),!0}catch(e){return console.error("❌ Supabase connection failed:",e),!1}}}const yr=new OZ;let PN=class{constructor(){this.useLocalStorageFallback=!1,this.enableDebugLogging=!0}log(e,t=null){this.enableDebugLogging&&console.log(`[DataService] ${e}`,t||"")}async getDates(e){this.log("🔍 getDates called for user:",e);try{const{data:t,error:n}=await Xt.from("user_dates").select("dates").eq("user_id",e).single();return!n&&t&&t.dates&&Array.isArray(t.dates)?(this.log("✅ Dates fetched from user_dates table",t.dates),t.dates.sort((s,i)=>new Date(i)-new Date(s))):n&&n.code==="PGRST116"?(this.log("📭 No user_dates record found - returning empty array"),[]):t&&(!t.dates||t.dates.length===0)?(this.log("📭 User dates array is empty - returning empty array"),[]):(this.log("📭 No valid dates found"),[])}catch(t){return this.log("❌ Error fetching dates from user_dates table",t.message),[]}}async saveDates(e,t){this.log("💾 Saving dates to Supabase:",{userId:e,dates:t});try{const{data:n,error:s}=await Xt.from("user_dates").upsert([{user_id:e,dates:t,updated_at:new Date().toISOString()}],{onConflict:"user_id",ignoreDuplicates:!1});if(s)throw this.log("❌ Error saving to Supabase",s.message),s;return this.log("✅ Dates saved to Supabase successfully",t),n}catch(n){throw this.log("❌ Exception saving dates",n.message),n}}async getExcelData(e,t){try{const{data:n,error:s}=await Xt.from("excel_data").select("*").eq("user_id",e).eq("date",t).single();return!s&&n?(this.log("✅ Excel data fetched from Supabase",{date:t,fileName:n.file_name}),{date:n.date,fileName:n.file_name,data:n.data,uploadedAt:n.uploaded_at}):null}catch(n){throw this.log("❌ Error fetching Excel data",n.message),n}}async saveExcelData(e,t,n){try{const s={user_id:e,date:t,file_name:n.fileName,data:n.data},{error:i}=await Xt.from("excel_data").upsert(s,{onConflict:"user_id,date"});if(!i){this.log("✅ Excel data saved to Supabase",{date:t,fileName:n.fileName});return}throw new Error(`Failed to save Excel data: ${i.message}`)}catch(s){throw this.log("❌ Error saving Excel data",s.message),s}}async hasExcelData(e,t){try{const{count:n,error:s}=await Xt.from("excel_data").select("*",{count:"exact",head:!0}).eq("user_id",e).eq("date",t);return!s&&n>0?(this.log("📊 Excel data check: EXISTS in Supabase",{userId:e,date:t,count:n}),!0):(this.log("📊 Excel data check: NOT FOUND",{userId:e,date:t}),!1)}catch(n){return this.log("❌ Excel data check failed:",n.message),!1}}async getHourEntry(e,t){var n,s;try{const{data:i,error:a}=await Xt.from("hour_entries").select("*").eq("user_id",e).eq("date_key",t).single();return!a&&i?(this.log("✅ Hour entry fetched from Supabase",{date:t}),{userId:i.user_id,date:i.date_key,planetSelections:((n=i.hour_data)==null?void 0:n.planetSelections)||{},savedAt:((s=i.hour_data)==null?void 0:s.savedAt)||i.created_at}):null}catch(i){throw this.log("❌ Error fetching hour entry",i.message),i}}async saveHourEntry(e,t,n){try{const s={user_id:e,date_key:t,hour_data:{planetSelections:n.planetSelections,userId:e,date:t,savedAt:n.savedAt||new Date().toISOString()}},{error:i}=await Xt.from("hour_entries").upsert(s,{onConflict:"user_id,date_key"});if(!i){this.log("✅ Hour entry saved to Supabase",{date:t});return}throw new Error(`Failed to save hour entry: ${i.message}`)}catch(s){throw this.log("❌ Error saving hour entry",s.message),s}}async hasHourEntry(e,t){try{const{count:n,error:s}=await Xt.from("hour_entries").select("*",{count:"exact",head:!0}).eq("user_id",e).eq("date_key",t);return!s&&n>0?(this.log("⏰ Hour Entry check: EXISTS in Supabase",{userId:e,date:t,count:n}),!0):(this.log("⏰ Hour Entry check: NOT FOUND",{userId:e,date:t}),!1)}catch(n){return this.log("❌ Hour Entry check failed:",n.message),!1}}async deleteDataForDate(e,t){this.log("🗑️ [COMPREHENSIVE] Deleting all data for date from ALL storage locations:",{userId:e,date:t});try{const n=[Xt.from("excel_data").delete().eq("user_id",e).eq("date",t),Xt.from("hour_entries").delete().eq("user_id",e).eq("date_key",t),Xt.from("hour_entries").delete().eq("user_id",e).eq("date_key",t),Xt.from("hr_data").delete().eq("user_id",e).eq("date",t),Xt.from("house").delete().eq("user_id",e).eq("date",t),Xt.from("processed_data").delete().eq("user_id",e).eq("date",t),Xt.from("abcd_sequences").delete().eq("user_id",e).eq("trigger_date",t),Xt.from("abcd_sequences").delete().eq("user_id",e).eq("a_date",t),Xt.from("abcd_sequences").delete().eq("user_id",e).eq("b_date",t),Xt.from("abcd_sequences").delete().eq("user_id",e).eq("c_date",t),Xt.from("abcd_sequences").delete().eq("user_id",e).eq("d_date",t),Xt.from("rule2_results").delete().eq("user_id",e).eq("date",t),Xt.from("analysis_results").delete().eq("user_id",e).eq("date",t),Xt.from("calculation_cache").delete().eq("user_id",e).eq("date",t),Xt.from("page_cache").delete().eq("user_id",e).eq("date",t),Xt.from("user_cache").delete().eq("user_id",e).eq("date",t),Xt.from("session_cache").delete().eq("user_id",e).eq("date",t)];this.log("🔄 Executing comprehensive deletion from 17 tables...",{tableCount:n.length});const s=await Promise.allSettled(n),i=["excel_data","hour_entry","hour_entries","hr_data","house","processed_data","abcd_sequences(trigger)","abcd_sequences(a_date)","abcd_sequences(b_date)","abcd_sequences(c_date)","abcd_sequences(d_date)","rule2_results","analysis_results","calculation_cache","page_cache","user_cache","session_cache"];let a=0,o=0;s.forEach((l,c)=>{var d,h;const u=i[c];l.status==="fulfilled"?(this.log(`✅ Deleted from ${u}`,{date:t,affected:((d=l.value)==null?void 0:d.count)||"unknown"}),a++):(this.log(`⚠️ Could not delete from ${u}:`,((h=l.reason)==null?void 0:h.message)||"Unknown error"),o++)}),this.log("✅ [COMPREHENSIVE] Complete data deletion finished",{date:t,successfulTables:a,failedTables:o,totalTablesChecked:i.length})}catch(n){throw this.log("❌ [COMPREHENSIVE] Error during complete deletion",n.message),n}}async createSampleData(e){this.log("🎲 Creating sample data for user",e);const t=new Date,n=[];for(let d=3;d>=0;d--){const h=new Date(t);h.setDate(h.getDate()-d),n.push(h.toISOString().split("T")[0])}const s=["D-1 Set-1 Matrix","D-1 Set-2 Matrix","D-3 Set-1 Matrix","D-3 Set-2 Matrix","D-4 Set-1 Matrix","D-4 Set-2 Matrix","D-5 Set-1 Matrix","D-5 Set-2 Matrix","D-7 Set-1 Matrix","D-7 Set-2 Matrix","D-9 Set-1 Matrix","D-9 Set-2 Matrix","D-10 Set-1 Matrix","D-10 Set-2 Matrix","D-11 Set-1 Matrix","D-11 Set-2 Matrix","D-12 Set-1 Matrix","D-12 Set-2 Matrix","D-27 Set-1 Matrix","D-27 Set-2 Matrix","D-30 Set-1 Matrix","D-30 Set-2 Matrix","D-60 Set-1 Matrix","D-60 Set-2 Matrix","D-81 Set-1 Matrix","D-81 Set-2 Matrix","D-108 Set-1 Matrix","D-108 Set-2 Matrix","D-144 Set-1 Matrix","D-144 Set-2 Matrix"],i=["Lagna","Moon","Hora Lagna","Ghati Lagna","Vighati Lagna","Varnada Lagna","Sree Lagna","Pranapada Lagna","Indu Lagna"],a=["as","mo","hl","gl","vig","var","sl","pp","in"],o=["Su","Mo","Ma","Me","Ju","Ve","Sa","Ra","Ke"],l={};s.forEach((d,h)=>{const f={};i.forEach((m,g)=>{const p=a[g],v={};o.forEach((y,b)=>{const E=h*3+g*5+b*2+1,N=(E+h+g)%12+1,j=(E*2+b)%30+1;v[y]=`${p}-${E}/${y.toLowerCase()}-(${N} Sc ${j})`}),f[m]=v}),l[d]=f});const c={fileName:"sample_30_topics.xlsx",data:{sets:l}},u={planetSelections:{1:"Su",2:"Mo",3:"Ma",4:"Me",5:"Ju",6:"Ve",7:"Sa",8:"Ra",9:"Ke",10:"Su",11:"Mo",12:"Ma",13:"Me",14:"Ju",15:"Ve",16:"Sa",17:"Ra",18:"Ke",19:"Su",20:"Mo",21:"Ma",22:"Me",23:"Ju",24:"Ve"}};for(const d of n){const h=n.indexOf(d),f={...c,data:{sets:{}}};Object.entries(c.data.sets).forEach(([m,g])=>{f.data.sets[m]={},Object.entries(g).forEach(([p,v])=>{f.data.sets[m][p]={},Object.entries(v).forEach(([y,b])=>{const E=b.replace(/(\d+)/g,N=>{const j=parseInt(N)+h;return String(j>50?j-50:j)});f.data.sets[m][p][y]=E})})}),await this.saveExcelData(e,d,f),await this.saveHourEntry(e,d,u)}await this.saveDates(e,n),this.log("✅ Sample data created successfully",{userId:e,dates:n})}};class MZ{constructor(){this.primaryService=yr,this.fallbackService=new PN,this.serviceName="UnifiedDataService"}getServiceInfo(){return{name:this.serviceName,primary:this.primaryService.constructor.name,fallback:this.fallbackService.constructor.name,timestamp:new Date().toISOString()}}async getDates(e){try{console.log(`📅 [UnifiedDataService] Fetching dates for ${e}`);const t=await this.primaryService.getUserDates(e);if(t&&Array.isArray(t))return console.log(`✅ [UnifiedDataService] Primary service returned ${t.length} dates`),t;console.log("🔄 [UnifiedDataService] Primary failed, trying fallback service");const n=await this.fallbackService.getDates(e);return n&&Array.isArray(n)?(console.log(`✅ [UnifiedDataService] Fallback service returned ${n.length} dates`),n):(console.log("❌ [UnifiedDataService] No dates found in any service"),[])}catch(t){return console.error("❌ [UnifiedDataService] Error fetching dates:",t),[]}}async getExcelData(e,t){try{console.log(`📊 [UnifiedDataService] Fetching Excel data for ${e} on ${t}`);const n=await this.primaryService.getExcelData(e,t);if(n&&n.sets)return console.log("✅ [UnifiedDataService] Primary service returned data"),n;console.log("🔄 [UnifiedDataService] Primary failed, trying fallback service");const s=await this.fallbackService.getExcelData(e,t);return s?(console.log("✅ [UnifiedDataService] Fallback service returned data"),s):(console.log("❌ [UnifiedDataService] No data found in any service"),null)}catch(n){return console.error("❌ [UnifiedDataService] Error fetching Excel data:",n),null}}async getHourEntry(e,t){try{console.log(`⏰ [UnifiedDataService] Fetching Hour Entry for ${e} on ${t}`);let n=null;try{if(n=await this.primaryService.getHourEntry(e,t),n&&n.planetSelections)return console.log(`✅ [UnifiedDataService] Primary service returned hour data with ${Object.keys(n.planetSelections).length} HR selections`),n;n===null&&console.log("ℹ️ [UnifiedDataService] Primary service found no data (this is normal for new dates)")}catch(i){console.warn("⚠️ [UnifiedDataService] Primary service error (will try fallback):",i.message)}console.log("🔄 [UnifiedDataService] Trying fallback service...");let s=null;try{if(s=await this.fallbackService.getHourEntry(e,t),s&&s.planetSelections)return console.log(`✅ [UnifiedDataService] Fallback service returned hour data with ${Object.keys(s.planetSelections).length} HR selections`),s;s===null&&console.log("ℹ️ [UnifiedDataService] Fallback service also found no data")}catch(i){console.warn("⚠️ [UnifiedDataService] Fallback service error:",i.message)}return console.log(`ℹ️ [UnifiedDataService] No hour data found for ${e} on ${t} (this is normal for new dates - upload Excel and create hour entries)`),null}catch(n){return console.error("❌ [UnifiedDataService] Unexpected error fetching Hour Entry:",n),null}}async saveExcelData(e,t,n){try{return await this.primaryService.saveExcelData(e,t,n)}catch(s){return console.error("❌ [UnifiedDataService] Error saving Excel data:",s),await this.fallbackService.saveExcelData(e,t,n)}}async saveHourEntry(e,t,n){try{return await this.primaryService.saveHourEntry(e,t,n)}catch(s){return console.error("❌ [UnifiedDataService] Error saving Hour Entry:",s),await this.fallbackService.saveHourEntry(e,t,n)}}}const cx=new MZ;class FZ extends PN{constructor(){super(),this.serviceName="DataService_New",this.cache=new Map,this.cacheTimeout=5*60*1e3}getServiceInfo(){return{name:this.serviceName,cacheSize:this.cache.size,timestamp:new Date().toISOString()}}_getCacheKey(e,t,n){return`${e}_${t}_${n}`}_isValidCacheEntry(e){return e&&Date.now()-e.timestamp<this.cacheTimeout}async getExcelData(e,t){const n=this._getCacheKey("excel",e,t),s=this.cache.get(n);if(this._isValidCacheEntry(s))return console.log(`🚀 [DataService_New] Cache hit for Excel data ${e}/${t}`),s.data;try{const i=await super.getExcelData(e,t);return i&&this.cache.set(n,{data:i,timestamp:Date.now()}),i}catch(i){throw console.error("❌ [DataService_New] Error fetching Excel data:",i),i}}async getHourEntry(e,t){const n=this._getCacheKey("hour",e,t),s=this.cache.get(n);if(this._isValidCacheEntry(s))return console.log(`🚀 [DataService_New] Cache hit for Hour Entry ${e}/${t}`),s.data;try{const i=await super.getHourEntry(e,t);return i&&this.cache.set(n,{data:i,timestamp:Date.now()}),i}catch(i){throw console.error("❌ [DataService_New] Error fetching Hour Entry:",i),i}}clearCache(){this.cache.clear(),console.log("🧹 [DataService_New] Cache cleared")}getCacheStats(){return{size:this.cache.size,keys:Array.from(this.cache.keys()),lastAccess:new Date().toISOString()}}}class LZ{constructor(){this.cache=new Map,this.serviceName="MockRedisClient",this.stats={hits:0,misses:0,sets:0,deletes:0}}async get(e){if(this.cache.has(e)){this.stats.hits++;const t=this.cache.get(e);return console.log(`🚀 [MockRedis] Cache hit for key: ${e}`),JSON.stringify(t.data)}return this.stats.misses++,console.log(`❌ [MockRedis] Cache miss for key: ${e}`),null}async set(e,t,n=3600){this.cache.set(e,{data:JSON.parse(t),timestamp:Date.now(),ttl:n*1e3}),this.stats.sets++,console.log(`💾 [MockRedis] Cache set for key: ${e} (TTL: ${n}s)`)}async del(e){const t=this.cache.delete(e);return t&&(this.stats.deletes++,console.log(`🗑️ [MockRedis] Cache deleted for key: ${e}`)),t?1:0}async exists(e){return this.cache.has(e)?1:0}async flushall(){this.cache.clear(),console.log("🧹 [MockRedis] Cache cleared completely")}getStats(){return{...this.stats,cacheSize:this.cache.size,serviceName:this.serviceName}}cleanExpired(){const e=Date.now();let t=0;for(const[n,s]of this.cache.entries())e-s.timestamp>s.ttl&&(this.cache.delete(n),t++);return t>0&&console.log(`🧹 [MockRedis] Cleaned ${t} expired entries`),t}}const Ro=new LZ;setInterval(()=>{Ro.cleanExpired()},5*60*1e3);function jZ(r){const[e,t]=Ae.useState({hits:0,misses:0,lastUpdate:null}),n=Ae.useCallback(()=>{const l=Ro.getStats();t({hits:l.hits,misses:l.misses,lastUpdate:new Date().toISOString()})},[]),s=Ae.useCallback(async(l,c)=>{const u=`excel_${l}_${c}`;try{const d=await Ro.get(u);if(d)return n(),JSON.parse(d);const h=await cx.getExcelData(l,c);return h&&await Ro.set(u,JSON.stringify(h),3600),n(),h}catch(d){return console.error("Error in getExcelData:",d),null}},[n]),i=Ae.useCallback(async(l,c)=>{const u=`hour_${l}_${c}`;try{const d=await Ro.get(u);if(d)return n(),JSON.parse(d);const h=await cx.getHourEntry(l,c);return h&&await Ro.set(u,JSON.stringify(h),3600),n(),h}catch(d){return console.error("Error in getHourEntry:",d),null}},[n]),a=Ae.useCallback(async(l,c)=>{try{await Ro.set(`analysis_${l}`,JSON.stringify(c),7200),n()}catch(u){console.error("Error caching analysis:",u)}},[n]),o=Ae.useCallback(async l=>{try{const c=await Ro.get(`analysis_${l}`);return n(),c?JSON.parse(c):null}catch(c){return console.error("Error getting cached analysis:",c),null}},[n]);return Ae.useEffect(()=>{n()},[n]),{cacheStats:e,getExcelData:s,getHourEntry:i,cacheAnalysis:a,getCachedAnalysis:o}}function BZ(r,e){const[t,n]=Ae.useState(null),[s,i]=Ae.useState(!1),a=Ae.useCallback(async(l,c)=>{const u=`${e}_${r}_${l}_${c}`;try{const d=await Ro.get(u);if(d){const h=JSON.parse(d);return n(h),i(!0),console.log(`🚀 [AnalysisCache] Cache hit for ${u}`),h}return i(!1),console.log(`❌ [AnalysisCache] Cache miss for ${u}`),null}catch(d){return console.error("Error checking analysis cache:",d),i(!1),null}},[r,e]),o=Ae.useCallback(async(l,c,u)=>{const d=`${e}_${r}_${l}_${c}`;try{await Ro.set(d,JSON.stringify(u),3600),n(u),console.log(`💾 [AnalysisCache] Saved result to cache: ${d}`)}catch(h){console.error("Error saving to analysis cache:",h)}},[r,e]);return{cachedResult:t,cacheHit:s,checkCache:a,saveToCache:o}}class UZ{static async saveResults(e,t,n=[],s=[]){try{console.log(`📊 [Rule2Results] Saving results for user ${e}, date ${t}:`,{abcdNumbers:n,bcdNumbers:s});const{data:i,error:a}=await Xt.from("rule2_results").upsert({user_id:e,date:t,abcd_numbers:n,bcd_numbers:s},{onConflict:["user_id","date"],returning:"minimal"});return a?(console.error("❌ [Rule2Results] Error saving results:",a),{success:!1,error:a.message}):(console.log(`✅ [Rule2Results] Successfully saved results for ${e}/${t}`),{success:!0,data:i})}catch(i){return console.error("❌ [Rule2Results] Exception saving results:",i),{success:!1,error:i.message}}}static async getResults(e,t){try{console.log(`🔍 [Rule2Results] Fetching results for user ${e}, date ${t}`);const{data:n,error:s}=await Xt.from("rule2_results").select("abcd_numbers, bcd_numbers, created_at, updated_at").eq("user_id",e).eq("date",t).single();return s?s.code==="PGRST116"?(console.log(`ℹ️ [Rule2Results] No results found for ${e}/${t}`),{success:!0,data:null}):(console.error("❌ [Rule2Results] Error fetching results:",s),{success:!1,error:s.message}):(console.log(`✅ [Rule2Results] Found results for ${e}/${t}:`,n),{success:!0,data:n})}catch(n){return console.error("❌ [Rule2Results] Exception fetching results:",n),{success:!1,error:n.message}}}static async getMultipleResults(e,t){try{console.log(`🔍 [Rule2Results] Fetching multiple results for user ${e}, dates:`,t);const{data:n,error:s}=await Xt.from("rule2_results").select("date, abcd_numbers, bcd_numbers, created_at, updated_at").eq("user_id",e).in("date",t);if(s)return console.error("❌ [Rule2Results] Error fetching multiple results:",s),{success:!1,error:s.message};const i=new Map;return n&&n.forEach(a=>{i.set(a.date,{abcd_numbers:a.abcd_numbers||[],bcd_numbers:a.bcd_numbers||[],created_at:a.created_at,updated_at:a.updated_at})}),console.log(`✅ [Rule2Results] Found ${i.size} results for ${t.length} dates`),{success:!0,data:i}}catch(n){return console.error("❌ [Rule2Results] Exception fetching multiple results:",n),{success:!1,error:n.message}}}static async deleteResults(e,t){try{console.log(`🗑️ [Rule2Results] Deleting results for user ${e}, date ${t}`);const{error:n}=await Xt.from("rule2_results").delete().eq("user_id",e).eq("date",t);return n?(console.error("❌ [Rule2Results] Error deleting results:",n),{success:!1,error:n.message}):(console.log(`✅ [Rule2Results] Successfully deleted results for ${e}/${t}`),{success:!0})}catch(n){return console.error("❌ [Rule2Results] Exception deleting results:",n),{success:!1,error:n.message}}}static async getResultDates(e){try{console.log(`📅 [Rule2Results] Fetching all result dates for user ${e}`);const{data:t,error:n}=await Xt.from("rule2_results").select("date").eq("user_id",e).order("date",{ascending:!0});if(n)return console.error("❌ [Rule2Results] Error fetching result dates:",n),{success:!1,error:n.message};const s=t?t.map(i=>i.date):[];return console.log(`✅ [Rule2Results] Found ${s.length} dates with results`),{success:!0,data:s}}catch(t){return console.error("❌ [Rule2Results] Exception fetching result dates:",t),{success:!1,error:t.message}}}}const hv=(r,e,t,n,s={})=>{const{includeDetailedAnalysis:i=!1,logResults:a=!1,setName:o="Unknown"}=s;if(!Array.isArray(n)||n.length===0)return{abcdNumbers:[],bcdNumbers:[],detailedAnalysis:i?{}:void 0,error:"No D-day numbers provided"};const l=[],c=[],u=i?{}:null,d=(f,m)=>Array.isArray(f)&&f.includes(m);for(const f of n){const m=d(r,f),g=d(e,f),p=d(t,f),v=[m,g,p].filter(Boolean).length,y=[];if(m&&y.push("A"),g&&y.push("B"),p&&y.push("C"),u&&(u[f]={inA:m,inB:g,inC:p,abcCount:v,occurrences:[...y],qualified:!1,type:null,reason:""}),v>=2){l.push(f),u&&(u[f].qualified=!0,u[f].type="ABCD",u[f].reason=`Appears in ${v}/3 ABC days: ${y.join(", ")}`);continue}const b=g&&!p;b||p&&!g?(c.push(f),u&&(u[f].qualified=!0,u[f].type="BCD",u[f].reason=b?"B-D pair only":"C-D pair only")):u&&(v===1?u[f].reason=`Only in ${y.join(", ")} (need ≥2 for ABCD)`:g&&p?u[f].reason="In both B and C (violates BCD exclusivity)":u[f].reason="Not in any ABC days")}l.sort((f,m)=>f-m),c.sort((f,m)=>f-m),a&&(console.log(`🎯 Enhanced ABCD/BCD Analysis for ${o}:`),console.log(`📊 D-day numbers: [${n.join(", ")}]`),console.log(`📊 A-day numbers: [${r.join(", ")}]`),console.log(`📊 B-day numbers: [${e.join(", ")}]`),console.log(`📊 C-day numbers: [${t.join(", ")}]`),console.log(`✅ ABCD results: [${l.join(", ")}] (${l.length} numbers)`),console.log(`✅ BCD results: [${c.join(", ")}] (${c.length} numbers)`));const h={abcdNumbers:l,bcdNumbers:c,summary:{dDayCount:n.length,abcdCount:l.length,bcdCount:c.length,totalQualified:l.length+c.length,qualificationRate:((l.length+c.length)/n.length*100).toFixed(1)}};return i&&(h.detailedAnalysis=u),h};class $Z{constructor(){this.dataService={hasExcelData:(e,t)=>yr.hasExcelData(e,t),getExcelData:(e,t)=>yr.getExcelData(e,t),hasHourEntry:(e,t)=>yr.hasHourEntry(e,t),getHourEntry:(e,t)=>yr.getHourEntry(e,t)},this.dateDataCache=new Map}extractElementNumber(e){if(typeof e!="string")return null;const t=e.match(/^[a-z]+-(\d+)[\/\-]/);return t?Number(t[1]):null}async preloadDateData(e,t){const n=t.map(async s=>{var i,a;try{const[o,l]=await Promise.all([this.dataService.getExcelData(e,s),this.dataService.getHourEntry(e,s)]);return console.log(`🔍 [Rule2Analysis] Data received for ${s}:`,{excelData:o?{hasDirectSets:!!o.sets,hasNestedSets:!!((i=o.data)!=null&&i.sets),directSetsCount:Object.keys(o.sets||{}).length,nestedSetsCount:Object.keys(((a=o.data)==null?void 0:a.sets)||{}).length}:null,hourData:l?{hasPlanetSelections:!!l.planetSelections,planetSelectionsCount:Object.keys(l.planetSelections||{}).length}:null}),this.dateDataCache.set(s,{excelData:o,hourData:l,sets:(o==null?void 0:o.sets)||{},planetSelections:(l==null?void 0:l.planetSelections)||{}}),{date:s,success:!0}}catch(o){return console.error(`Error preloading ${s}:`,o),this.dateDataCache.set(s,{excelData:null,hourData:null,sets:{},planetSelections:{}}),{date:s,success:!1}}});return Promise.all(n)}extractFromDateAndSet(e,t,n){const s=this.dateDataCache.get(e);if(console.log(`🔍 [Rule2Analysis] extractFromDateAndSet for ${e}, set ${t}:`,{cachedData:!!s,hasExcelData:!!(s!=null&&s.excelData),hasHourData:!!(s!=null&&s.hourData),selectedHR:n}),!s||!s.excelData||!s.hourData)return console.log(`❌ Missing data for ${e}:`,{cachedData:!!s,excelData:!!(s!=null&&s.excelData),hourData:!!(s!=null&&s.hourData)}),[];const{sets:i,planetSelections:a}=s;console.log(`📊 Data structure for ${e}:`,{availableSets:Object.keys(i),planetSelections:a,selectedHR:n,selectedPlanet:a[n]});const o=new Set,l=i[t];if(l){console.log(`📋 Found set ${t}:`,Object.keys(l));const u=a[n];u?(console.log(`🪐 Using planet: ${u}`),Object.entries(l).forEach(([d,h])=>{const f=h[u];if(console.log(`🔍 Element ${d}:`,{planetData:Object.keys(h),selectedPlanet:u,rawString:f}),f){const m=this.extractElementNumber(f);console.log(`🔢 Extracted from "${f}": ${m}`),m!==null&&o.add(m)}})):console.log(`❌ No planet selected for HR ${n}`)}else console.log(`❌ Set ${t} not found. Available sets:`,Object.keys(i));const c=Array.from(o).sort((u,d)=>u-d);return console.log(`✅ Final numbers for ${e}, set ${t}:`,c),c}processSetAnalysis(e,t,n,s,i,a){const o=this.extractFromDateAndSet(i,e,a),l=this.extractFromDateAndSet(s,e,a),c=this.extractFromDateAndSet(n,e,a),u=this.extractFromDateAndSet(t,e,a);if(o.length===0)return{setName:e,abcdNumbers:[],bcdNumbers:[],dDayCount:0,summary:{dDayCount:0,abcdCount:0,bcdCount:0,totalQualified:0,qualificationRate:"0.0"},error:"No D-day numbers found"};const d=hv(u,c,l,o,{includeDetailedAnalysis:!1,logResults:!0,setName:e});return{setName:e,abcdNumbers:d.abcdNumbers,bcdNumbers:d.bcdNumbers,dDayCount:o.length,summary:d.summary,error:d.error||null}}createTopicMatcher(e,t){const n=new Map;return e.forEach(s=>{const i=s.match(/D-(\d+)\s+Set-(\d+)/);if(i){const[,a,o]=i,l=t.find(c=>{const u=c.match(/D-(\d+)(?:\s*\([^)]*\))?\s+Set-(\d+)/);if(u){const[,d,h]=u;return a===d&&o===h}return!1});l&&n.set(s,l)}}),n}getAllAvailableSets(e){const t=this.dateDataCache.get(e);if(console.log(`🔍 getAllAvailableSets for ${e}:`,{hasCache:!!t,hasExcelData:!!(t!=null&&t.excelData),setsKeys:Object.keys((t==null?void 0:t.sets)||{})}),!t||!t.excelData)return console.log(`❌ No cached data or Excel data for ${e}`),[];const{sets:n}=t,s=Object.keys(n);console.log("📋 Available set names in data:",s);const i=["D-1 Set-1 Matrix","D-1 Set-2 Matrix","D-3 Set-1 Matrix","D-3 Set-2 Matrix","D-4 Set-1 Matrix","D-4 Set-2 Matrix","D-5 Set-1 Matrix","D-5 Set-2 Matrix","D-7 Set-1 Matrix","D-7 Set-2 Matrix","D-9 Set-1 Matrix","D-9 Set-2 Matrix","D-10 Set-1 Matrix","D-10 Set-2 Matrix","D-11 Set-1 Matrix","D-11 Set-2 Matrix","D-12 Set-1 Matrix","D-12 Set-2 Matrix","D-27 Set-1 Matrix","D-27 Set-2 Matrix","D-30 Set-1 Matrix","D-30 Set-2 Matrix","D-60 Set-1 Matrix","D-60 Set-2 Matrix","D-81 Set-1 Matrix","D-81 Set-2 Matrix","D-108 Set-1 Matrix","D-108 Set-2 Matrix","D-144 Set-1 Matrix","D-144 Set-2 Matrix"],a=this.createTopicMatcher(i,s),o=i.filter(l=>a.has(l)).map(l=>a.get(l));return console.log("✅ Filtered available sets (FIXED with Smart Matching):",{filteredSetsCount:o.length,filteredSets:o.slice(0,5),topicMappings:Array.from(a.entries()).slice(0,3),expectedTotal:30,actualFound:o.length,missingCount:30-o.length}),o}getAvailableHRs(e){const t=this.dateDataCache.get(e);if(!t||!t.hourData)return[];const{planetSelections:n}=t;return Object.keys(n).map(s=>parseInt(s)).sort((s,i)=>s-i)}calculateAbcdSequence(e,t){const n=[...t].sort((c,u)=>new Date(c)-new Date(u)),s=n.findIndex(c=>c===e);if(s<3)throw new Error(`Analysis requires the trigger date to have at least 3 preceding dates (A, B, C). Current position: ${s+1}, need position 4+`);const i=n[s],a=n[s-1],o=n[s-2],l=n[s-3];return console.log("🔗 ABCD SEQUENCE CALCULATION:"),console.log(`  A-day: sortedDates[${s-3}] = ${l}`),console.log(`  B-day: sortedDates[${s-2}] = ${o}`),console.log(`  C-day: sortedDates[${s-1}] = ${a}`),console.log(`  D-day: sortedDates[${s}] = ${i} ← ANALYSIS SOURCE`),{aDay:l,bDay:o,cDay:a,dDay:i}}async performRule2Analysis(e,t,n,s=1){try{console.log(`🚀 [Rule2Analysis] Starting analysis for ${t}, HR: ${s}`);const{aDay:i,bDay:a,cDay:o,dDay:l}=this.calculateAbcdSequence(t,n),c=[i,a,o,l];await this.preloadDateData(e,c);const u=this.getAllAvailableSets(l);if(console.log("📊 Available sets:",u),u.length===0)throw new Error("No available sets found for analysis");const d=u.map(C=>{const I=this.processSetAnalysis(C,i,a,o,l,s);return console.log(`📊 ${C}: ABCD(${I.abcdNumbers.length}) BCD(${I.bcdNumbers.length}) D-day(${I.dDayCount})`),I}),h=new Set,f=new Set,m=new Set,g=new Set;u.forEach(C=>{const I=this.extractFromDateAndSet(l,C,s),V=this.extractFromDateAndSet(i,C,s),B=this.extractFromDateAndSet(a,C,s),P=this.extractFromDateAndSet(o,C,s);I.forEach(k=>h.add(k)),V.forEach(k=>f.add(k)),B.forEach(k=>m.add(k)),P.forEach(k=>g.add(k))});const p=Array.from(h),v=Array.from(f),y=Array.from(m),b=Array.from(g);console.log("🔄 Combined numbers from all topics:"),console.log(`📊 Total unique D-day numbers: ${p.length}`),console.log(`📊 Total unique A-day numbers: ${v.length}`),console.log(`📊 Total unique B-day numbers: ${y.length}`),console.log(`📊 Total unique C-day numbers: ${b.length}`);const E=p.filter(C=>{let I=0;return v.includes(C)&&I++,y.includes(C)&&I++,b.includes(C)&&I++,I>=2&&console.log(`✅ ABCD candidate ${C}: appears in ${I}/3 ABC days`),I>=2}),N=p.filter(C=>{const I=y.includes(C),V=b.includes(C),B=I&&!V,k=B||V&&!I;return k&&console.log(`✅ BCD candidate ${C}: ${B?"B-D pair only":"C-D pair only"}`),k}),j=E.sort((C,I)=>C-I),D=N.filter(C=>{const I=E.includes(C);return I&&console.log(`⚠️ Number ${C} excluded from BCD (already in ABCD)`),!I}).sort((C,I)=>C-I);return console.log("🎉 Rule2Analysis Final Overall Results:"),console.log("📊 Overall ABCD Numbers:",j),console.log("📊 Overall BCD Numbers:",D),{success:!0,analysisDate:l,triggerDate:t,abcdNumbers:j,bcdNumbers:D,setResults:d,summary:{aDay:i,bDay:a,cDay:o,dDay:l,totalSets:u.length,selectedHR:s,availableHRs:this.getAvailableHRs(l)}}}catch(i){return console.error("❌ [Rule2Analysis] Error in analysis:",i),{success:!1,error:i.message,triggerDate:t}}}clearCache(){this.dateDataCache.clear()}}const VZ=new $Z;function HZ({date:r,analysisDate:e,selectedUser:t,datesList:n,onBack:s,users:i}){const[a,o]=Ae.useState(!0),[l,c]=Ae.useState(""),[u,d]=Ae.useState(null),[h,f]=Ae.useState(null),[m,g]=Ae.useState({}),[p,v]=Ae.useState(""),[y,b]=Ae.useState({}),[E,N]=Ae.useState([]),[j,D]=Ae.useState(new Set),[C,I]=Ae.useState([]),[V,B]=Ae.useState(!0),[P,k]=Ae.useState({}),[M,A]=Ae.useState({}),[w,S]=Ae.useState(!1),[_,x]=Ae.useState({}),{getExcelData:R,getHourEntry:W,cacheAnalysis:T,getCachedAnalysis:z}=jZ(),{cacheHit:q}=BZ(t,"rule1");new FZ,console.log("🔥 Rule1Page using unified data service:",cx.getServiceInfo());const Y=(ae,ve)=>{const Ee=new Map;return ae.forEach(Fe=>{const Ue=Fe.match(/D-(\d+)\s+Set-(\d+)/);if(Ue){const[,Ge,Ve]=Ue,ze=ve.find(Ke=>{const be=Ke.match(/D-(\d+)(?:\s*\([^)]*\))?\s+Set-(\d+)/);if(be){const[,Be,He]=be;return Ge===Be&&Ve===He}return!1});ze&&Ee.set(Fe,ze)}}),Ee},U=["D-1 Set-1 Matrix","D-1 Set-2 Matrix","D-3 Set-1 Matrix","D-3 Set-2 Matrix","D-4 Set-1 Matrix","D-4 Set-2 Matrix","D-5 Set-1 Matrix","D-5 Set-2 Matrix","D-7 Set-1 Matrix","D-7 Set-2 Matrix","D-9 Set-1 Matrix","D-9 Set-2 Matrix","D-10 Set-1 Matrix","D-10 Set-2 Matrix","D-11 Set-1 Matrix","D-11 Set-2 Matrix","D-12 Set-1 Matrix","D-12 Set-2 Matrix","D-27 Set-1 Matrix","D-27 Set-2 Matrix","D-30 Set-1 Matrix","D-30 Set-2 Matrix","D-60 Set-1 Matrix","D-60 Set-2 Matrix","D-81 Set-1 Matrix","D-81 Set-2 Matrix","D-108 Set-1 Matrix","D-108 Set-2 Matrix","D-144 Set-1 Matrix","D-144 Set-2 Matrix"],Q=ae=>{if(typeof ae!="string")return null;const ve=ae.match(/^[a-z]+-(\d+)[\/\-]/);return ve?Number(ve[1]):null},F=ae=>{if(typeof ae!="string")return ae;const ve=ae.match(/^([a-z]+-\d+)-\/[a-z]+-\(\d+\s+([A-Za-z]+)/);if(ve){const[,Fe,Ue]=ve,Ge=Ue.toLowerCase().slice(0,2);return`${Fe}-${Ge}`}if(ae.match(/^[a-z]+-\d+-[a-z]{2}$/))return ae;const Ee=ae.match(/^([a-z]+-\d+)/);return Ee?Ee[1]:ae},O=ae=>{const ve=new Set(j);j.has(ae)?ve.delete(ae):ve.add(ae),D(ve)},K=()=>{D(new Set(C))},ne=()=>{D(new Set)},ee=ae=>{const ve=C.filter(Ue=>Ue.includes(`Set-${ae}`)),Ee=new Set(j);ve.every(Ue=>j.has(Ue))?ve.forEach(Ue=>Ee.delete(Ue)):ve.forEach(Ue=>Ee.add(Ue)),D(Ee)},ie=ae=>ae.replace(/\s+Matrix$/i,""),he=()=>j.size===0?C:C.filter(ae=>j.has(ae)),ce=async()=>{if(!(!t||!h))try{S(!0),console.log("📥 Loading previously clicked numbers from Supabase...");const ae=await yr.getTopicClicks(t),ve={};ae.forEach(Ee=>{const{topic_name:Fe,date_key:Ue,hour:Ge,clicked_number:Ve}=Ee;ve[Fe]||(ve[Fe]={}),ve[Fe][Ue]||(ve[Fe][Ue]={}),ve[Fe][Ue][Ge]||(ve[Fe][Ue][Ge]=[]),ve[Fe][Ue][Ge].push(Ve)}),A(ve),console.log(`✅ Loaded ${ae.length} previously clicked numbers (highlighting determined by ABCD/BCD analysis)`)}catch(ae){console.error("❌ Error loading clicked numbers:",ae)}finally{S(!1)}},te=async(ae,ve,Ee)=>{var Fe,Ue,Ge,Ve,ze,Ke;if(!(!t||!h))try{console.log(`🔢 Number box clicked: ${Ee} for topic ${ae} on ${ve} HR${h}`);const be=((Ue=(Fe=y[ae])==null?void 0:Fe[ve])==null?void 0:Ue.abcdNumbers)||[],Be=((Ve=(Ge=y[ae])==null?void 0:Ge[ve])==null?void 0:Ve.bcdNumbers)||[],He=be.includes(Ee),Me=Be.includes(Ee),Le=He||Me;if(!Le){console.log(`❌ Number ${Ee} is not in ABCD/BCD arrays - cannot click`,{number:Ee,abcdNumbers:be,bcdNumbers:Be,explanation:"Only numbers present in ABCD or BCD arrays can be clicked"});return}const Je=(((Ke=(ze=M[ae])==null?void 0:ze[ve])==null?void 0:Ke[`HR${h}`])||[]).includes(Ee),et=He?"ABCD":"BCD";console.log(`🎯 Match check: Number ${Ee}`,{isAbcdMatch:He,isBcdMatch:Me,matchType:et,abcdNumbers:be,bcdNumbers:Be}),console.log(`🔄 Toggle check: Number ${Ee} is ${Je?"ALREADY CLICKED (will remove)":"NOT CLICKED (will add)"}`),Je?(console.log(`🗑️ Removing number ${Ee} from database and state`),await yr.deleteTopicClick(t,ae,ve,`HR${h}`,Ee),A(xt=>{var wt,mt;const pt={...xt};if((mt=(wt=pt[ae])==null?void 0:wt[ve])!=null&&mt[`HR${h}`]){const gt=pt[ae][ve][`HR${h}`],ft=gt.indexOf(Ee);ft>-1&&gt.splice(ft,1)}return pt}),console.log(`✅ Number ${Ee} successfully REMOVED (unclicked)`)):(console.log(`➕ Adding matched number ${Ee} (${et}) to database and state`),await yr.saveTopicClick(t,ae,ve,`HR${h}`,Ee,Le),A(xt=>{const pt={...xt};pt[ae]||(pt[ae]={}),pt[ae][ve]||(pt[ae][ve]={}),pt[ae][ve][`HR${h}`]||(pt[ae][ve][`HR${h}`]=[]);const wt=pt[ae][ve][`HR${h}`];return wt.includes(Ee)||wt.push(Ee),pt}),console.log(`✅ Number ${Ee} successfully ADDED (clicked as ${et})`))}catch(be){console.error("❌ Error handling number box click:",be)}},se=(ae,ve,Ee)=>{var ze,Ke,be;const Fe=ae.match(/(\d+)/);if(!Fe)return{highlighted:!1};const Ue=parseInt(Fe[1]);if((((Ke=(ze=M[ve])==null?void 0:ze[Ee])==null?void 0:Ke[`HR${h}`])||[]).includes(Ue)){const Be=(be=y[ve])==null?void 0:be[Ee];if(Be){const He=Be.abcdNumbers||[],Me=Be.bcdNumbers||[],Le=He.includes(Ue),Xe=Me.includes(Ue);if(Le||Xe)return{highlighted:!0,type:Le?"ABCD":"BCD"}}}return{highlighted:!1}},ge=(ae,ve)=>{var be,Be,He,Me,Le,Xe;if(Object.keys(m).sort((Je,et)=>new Date(Je)-new Date(et)).indexOf(ve)<4)return null;const Ue=((Be=(be=M[ae])==null?void 0:be[ve])==null?void 0:Be[`HR${h}`])||[],Ge=((Me=(He=y[ae])==null?void 0:He[ve])==null?void 0:Me.abcdNumbers)||[],Ve=((Xe=(Le=y[ae])==null?void 0:Le[ve])==null?void 0:Xe.bcdNumbers)||[],ze=(Je,et)=>{if(!et)return"bg-white text-gray-700 border-gray-300 hover:bg-gradient-to-r hover:from-gray-50 hover:to-gray-100 hover:border-gray-400 hover:shadow-sm";const xt=Ge.includes(Je),pt=Ve.includes(Je);return xt?"text-white border-orange-400 shadow-md scale-105":pt?"text-white shadow-md scale-105":"bg-gradient-to-r from-green-400 to-emerald-500 text-white border-emerald-400 shadow-md scale-105"},Ke=(Je,et)=>{if(!et)return{};const xt=Ge.includes(Je),pt=Ve.includes(Je);return xt?{backgroundColor:"#FB923C",borderColor:"#F97316",color:"white"}:pt?{backgroundColor:"#41B3A2",borderColor:"#359486",color:"white"}:{background:"linear-gradient(to right, #4ade80, #10b981)",color:"white",borderColor:"#10b981"}};return console.log(`🔢 Rendering number boxes for ${ae} ${ve} HR${h}:`,{currentClicks:Ue,abcdNumbers:Ge,bcdNumbers:Ve,clickedNumbersState:M}),G.jsxs("div",{className:"mt-2 space-y-1",children:[G.jsx("div",{className:"flex gap-1 justify-center",children:[1,2,3,4,5,6].map(Je=>{const et=Ue.includes(Je),xt=Ge.includes(Je)||Ve.includes(Je),pt=!xt||w;return G.jsx("button",{onClick:()=>te(ae,ve,Je),disabled:pt,className:`w-6 h-6 text-xs font-bold rounded border transition-all transform ${pt?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed opacity-50":ze(Je,et)}`,style:pt?{}:Ke(Je,et),title:xt?"":"Number not in ABCD/BCD arrays",children:Je},`${ae}-${ve}-${Je}`)})}),G.jsx("div",{className:"flex gap-1 justify-center",children:[7,8,9,10,11,12].map(Je=>{const et=Ue.includes(Je),xt=Ge.includes(Je)||Ve.includes(Je),pt=!xt||w;return G.jsx("button",{onClick:()=>te(ae,ve,Je),disabled:pt,className:`w-6 h-6 text-xs font-bold rounded border transition-all transform ${pt?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed opacity-50":ze(Je,et)}`,style:pt?{}:Ke(Je,et),title:xt?"":"Number not in ABCD/BCD arrays",children:Je},`${ae}-${ve}-${Je}`)})})]})},de=async()=>{var ae;try{o(!0),console.log(`🔍 [Rule-1 Enhanced] Loading data for user ${t}, display date: ${r}, analysis date: ${e||r}`);const ve=`rule1_data_${t}_${r}`,Ee=await z(ve);if(Ee&&q){console.log("🚀 [Rule-1 Enhanced] Using cached data"),g(Ee.allDaysData),I(Ee.availableTopics),f(Ee.activeHR),o(!1);return}const Fe=[...n].sort((Xe,Je)=>new Date(Xe)-new Date(Je)),Ue=e||r,Ge=Fe.indexOf(Ue);console.log("🔄 [Rule-1 Enhanced] FIXED Past Days Logic:",{displayDate:r,analysisDate:Ue,targetIndex:Ge,message:e?`Display: ${r}, Analyze: ${e} (rule2page logic)`:`Standard mode: ${r}`});let Ve=Fe;if(Ve.length<4){c(`Rule-1 requires at least 4 total dates. Only ${Ve.length} dates available.`),o(!1);return}const ze=Fe.indexOf(r);if(ze>=3)v(`Complete Historical View (showing ${Ve.length} dates including ${ze+1}th date)`);else{v("Insufficient Data"),c(`Rule-1 requires at least 4 total dates. Current date ${r} is the ${ze+1}th date.`),o(!1);return}const Ke={};for(let Xe=0;Xe<Ve.length;Xe++){const Je=Ve[Xe],et=Je;console.log(`📊 [Rule-1 Enhanced] Loading date ${Xe+1}/${Ve.length} (${Je})...`);try{const xt=await R(t,Je),pt=await W(t,Je);if(xt&&pt){const wt=pt.planetSelections||{},mt={};Object.entries(wt).forEach(([gt,ft])=>{var $t;const Nt={selectedPlanet:ft,sets:{}},Ht=(($t=xt.data)==null?void 0:$t.sets)||xt.sets||{};Object.entries(Ht).forEach(([_t,er])=>{const Gt={};Object.entries(er).forEach(([We,Qe])=>{const ht=Qe[ft];Gt[We]={rawData:ht||null,selectedPlanet:ft,hasData:!!ht}}),Nt.sets[_t]=Gt}),mt[gt]=Nt}),Ke[et]={date:Je,hrData:mt,success:Object.keys(mt).length>0,index:Xe,dateKey:et}}else Ke[et]={date:Je,hrData:{},success:!1,error:xt?"No Hour Entry data":"No Excel data",index:Xe,dateKey:et}}catch(xt){Ke[et]={date:Je,hrData:{},success:!1,error:xt.message||"Unknown error",index:Xe,dateKey:et}}}g(Ke);let be=null;for(const Xe of Object.keys(Ke))if((ae=Ke[Xe])!=null&&ae.success){const Je=Object.keys(Ke[Xe].hrData||{});if(Je.length){be=Je[0];break}}be&&f(be);const Be=new Set;Object.values(Ke).forEach(Xe=>{Xe.success&&Xe.hrData&&Object.values(Xe.hrData).forEach(Je=>{Object.keys(Je.sets||{}).forEach(et=>{Be.add(et)})})});const He=Array.from(Be),Me=Y(U,He),Le=U.filter(Xe=>Me.has(Xe)).map(Xe=>Me.get(Xe));console.log("🎯 [Rule1Page] Topic Discovery (FIXED with Smart Matching):",{discoveredSetsRaw:He,discoveredSetsCount:Be.size,orderedTopicsCount:Le.length,orderedTopics:Le.slice(0,5),topicMappings:Array.from(Me.entries()).slice(0,3),expectedTotal:30,actualFound:Le.length,missingCount:30-Le.length}),I(Le),D(new Set(Le)),await T(ve,{allDaysData:Ke,availableTopics:Le,activeHR:be}),o(!1)}catch(ve){console.error("❌ [Rule-1 Enhanced] Error building all days data:",ve),c(`Error loading data: ${ve.message||"Unknown error occurred"}`),o(!1)}},Te=async()=>{try{console.log("🔍 [Rule1Page] Loading Rule-2 ABCD/BCD analysis results using real-time analysis...");const ae=Object.keys(m).sort((Ee,Fe)=>new Date(Ee)-new Date(Fe));if(ae.length===0){console.log("⚠️ [Rule1Page] No dates available for Rule-2 analysis");return}console.log("🔄 [Rule1Page] Implementing (N-1) day pattern for Past Days...");const ve={};for(let Ee=0;Ee<ae.length;Ee++){const Fe=ae[Ee];if(Ee>0){const Ue=ae[Ee-1];console.log(`📅 [Rule1Page] Processing Past Days: "${Fe}" shows ABCD/BCD from "${Ue}"`),console.log(`📊 [Rule1Page] Available dates for analysis: [${ae.slice(0,Ee+1).join(", ")}]`);try{const Ge=ae.slice(0,Ee+1);console.log("🔧 [Rule1Page] Calling rule2AnalysisService.performRule2Analysis with:"),console.log(`   - User: ${t}`),console.log(`   - Trigger Date: ${Ue}`),console.log(`   - Dates List: [${Ge.join(", ")}]`),console.log(`   - HR: ${h||1}`);const Ve=await VZ.performRule2Analysis(t,Ue,Ge,h||1);if(Ve.success){console.log(`✅ [Rule1Page] Real-time analysis SUCCESS for "${Ue}" (shown in "${Fe}"):`),console.log(`   📊 ABCD Numbers: [${Ve.abcdNumbers.join(", ")}] (${Ve.abcdNumbers.length} total)`),console.log(`   📊 BCD Numbers: [${Ve.bcdNumbers.join(", ")}] (${Ve.bcdNumbers.length} total)`),console.log(`   📊 Analysis Date: ${Ve.analysisDate}`),console.log("   📊 Summary:",Ve.summary),console.log("🎯 [Rule1Page] Expected specific numbers - ABCD: [7, 10], BCD: [3, 6, 8] (from D-1 Set-1 Matrix)"),console.log(`🎯 [Rule1Page] Received overall numbers - ABCD: [${Ve.abcdNumbers.join(", ")}], BCD: [${Ve.bcdNumbers.join(", ")}]`),console.log("🔧 [Rule1Page] Getting individual topic analyses instead of overall analysis...");const ze=Ve.setResults||[];console.log(`📊 [Rule1Page] Found ${ze.length} topic-specific results`),ze.forEach(Ke=>{const be=Ke.setName;ve[be]||(ve[be]={}),console.log(`🔍 [Rule1Page] Topic "${be}" individual analysis:`,{abcdCount:Ke.abcdNumbers.length,bcdCount:Ke.bcdNumbers.length,abcdNumbers:Ke.abcdNumbers,bcdNumbers:Ke.bcdNumbers}),ve[be][Fe]={abcdNumbers:Ke.abcdNumbers||[],bcdNumbers:Ke.bcdNumbers||[],source:"rule2_topic_specific",date:Fe,analysisDate:Ue,pattern:"N-1",topicName:be}}),console.log(`✅ [Rule1Page] Successfully stored topic-specific ABCD/BCD data for ${ze.length} topics on date "${Fe}"`)}else console.error(`❌ [Rule1Page] Real-time analysis FAILED for "${Ue}":`,Ve.error),console.log("❌ [Rule1Page] Analysis details:",Ve)}catch(Ge){console.error(`❌ [Rule1Page] Error in real-time analysis for "${Ue}":`,Ge)}}else console.log(`⚠️ [Rule1Page] Skipping first date "${Fe}" - no previous date for N-1 pattern`)}if(Object.keys(ve).length>0){console.log(`🎯 [Rule1Page] Setting real-time ABCD/BCD analysis data for ${Object.keys(ve).length} topics`),console.log("📊 [Rule1Page] Past Days dates processed:",Object.keys(ve[C[0]]||{}));const Ee=C[0];Ee&&ve[Ee]&&console.log(`🔍 [Rule1Page] Sample analysis data for topic "${Ee}":`,ve[Ee]),b(ve),console.log("✅ [Rule1Page] abcdBcdAnalysis state updated successfully")}else console.log("ℹ️ [Rule1Page] No real-time ABCD/BCD numbers generated for any dates"),console.log("🔍 [Rule1Page] This could mean:"),console.log("   - No dates had sufficient data for Rule2 analysis"),console.log("   - All Rule2 analyses failed"),console.log("   - Not enough dates available (need at least 4 dates for Rule2)")}catch(ae){console.error("❌ [Rule1Page] Error loading real-time Rule-2 analysis results:",ae)}};Ae.useEffect(()=>{t&&n&&r&&de()},[t,n,r]),Ae.useEffect(()=>{Object.keys(m).length>0&&C.length>0&&t&&h&&Te()},[m,C,t,h]),Ae.useEffect(()=>{t&&h&&Object.keys(m).length>0&&ce()},[t,h,m]),Ae.useEffect(()=>{if(Object.keys(y).length===0||C.length===0||!h){console.log("🚫 [HighlightedCount] Skipping calculation - missing dependencies:",{hasAbcdBcdAnalysis:Object.keys(y).length>0,hasAvailableTopics:C.length>0,hasActiveHR:!!h}),x({});return}const ae=Object.keys(m).sort((Ee,Fe)=>new Date(Ee)-new Date(Fe)),ve={};console.log("🔍 [HighlightedCount] Starting calculation for clicked+highlighted topics..."),console.log("📊 [HighlightedCount] Dependencies check:",{availableTopics:C.length,availableDates:ae,activeHR:h,clickedNumbersKeys:Object.keys(M),abcdBcdAnalysisKeys:Object.keys(y),clickedNumbersStructure:Object.fromEntries(Object.entries(M).slice(0,2).map(([Ee,Fe])=>[Ee,Object.fromEntries(Object.entries(Fe).slice(0,2).map(([Ue,Ge])=>[Ue,Object.keys(Ge)]))]))}),ae.forEach((Ee,Fe)=>{if(Fe<4){console.log(`⏭️ [HighlightedCount] Skipping date ${Fe+1}: "${Ee}" - no ABCD/BCD available (first 4 dates)`);return}let Ue=0,Ge=0,Ve=0;console.log(`📊 [HighlightedCount] Processing date ${Fe+1}: "${Ee}" - ABCD/BCD numbers available`),C.forEach(ze=>{var et,xt,pt,wt,mt;const Ke=y[ze];if(!Ke||!Ke[Ee])return;Ve++;const be=Ke[Ee],Be=be.abcdNumbers||[],He=be.bcdNumbers||[],Me=((xt=(et=M[ze])==null?void 0:et[Ee])==null?void 0:xt[`HR${h}`])||[];if((Ee==="2025-06-30"||Ee.includes("30-6")||Ee.includes("06-30"))&&console.log(`🔍 [HighlightedCount] SPECIAL DEBUG for date ${Ee} topic ${ze}:`,{topicClickedNumbers:Me,abcdNumbers:Be,bcdNumbers:He,fullClickedNumbersState:(pt=M[ze])==null?void 0:pt[Ee],hasClickedData:!!((wt=M[ze])!=null&&wt[Ee])}),Me.length===0)return;Ge++;let Le=!1;const Xe=m[Ee];let Je=[];if(Xe!=null&&Xe.success&&((mt=Xe.hrData[h])!=null&&mt.sets[ze])){const gt=Xe.hrData[h].sets[ze];Object.values(gt).forEach(ft=>{ft!=null&&ft.rawData&&typeof ft.rawData=="string"&&Je.push(ft.rawData)})}Me.length>0&&(Le=Me.filter(ft=>{const Nt=Be.includes(ft)||He.includes(ft),Ht=Je.some($t=>$t.includes(`-${ft}-`));return Nt&&Ht}).length>0),console.log(`📊 [HighlightedCount] Analysis for "${ze}" on "${Ee}" HR${h}:`,{hasClickedNumbers:Me.length>0,clickedNumbers:Me,abcdNumbers:Be,bcdNumbers:He,topicRawDataStrings:Je.slice(0,3),hasClickedHighlightedNumber:Le,willCountTopic:Le,validationDetail:Me.length>0?Me.map(gt=>({number:gt,inAbcdBcd:Be.includes(gt)||He.includes(gt),inTopicData:Je.some(ft=>ft.includes(`-${gt}-`))})):[]}),Le?(Ue++,console.log(`🎯 [HighlightedCount] TOPIC COUNTED: "${ze}" on "${Ee}" HR${h} - has clicked+highlighted numbers`)):Me.length>0&&console.log(`⚪ [HighlightedCount] TOPIC NOT COUNTED: "${ze}" on "${Ee}" HR${h} - clicked numbers but none are highlighted`)}),ve[Ee]=Ue,console.log(`📊 [HighlightedCount] Date "${Ee}" HR${h}: ${Ue} topics with clicked+highlighted numbers`),console.log(`📈 [HighlightedCount] Date "${Ee}" HR${h} breakdown:`,{totalTopicsWithData:Ve,totalTopicsWithClicks:Ge,finalCountedTopics:Ue,explanation:"Only topics with clicked numbers that appear in ABCD/BCD AND are visible in topic raw data are counted"})}),x(ve),console.log("🎯 [HighlightedCount] Final clicked+highlighted counts per date:",ve)},[y,C,m,M,h]);const De=(ae,ve,Ee)=>{if(ae==="—"||ae==="(No Data)")return ae;const Fe=Q(ae);if((Ee==="2025-06-30"||ae.includes("-3-")||ae.includes("as-9")||ae.includes("mo-1")||ae.includes("hl-4"))&&console.log(`🔍 [GridDebug] Extracting from "${ae}":`,{displayValue:ae,extractedNumber:Fe,setName:ve,dateKey:Ee,extractFunction:"extractElementNumber"}),Fe===null)return ae;const Ue=y[ve];if(!Ue||!Ue[Ee])return ae;const Ge=Ue[Ee],Ve=Ge.abcdNumbers||[],ze=Ge.bcdNumbers||[];return Ee==="2025-06-30"&&(Ve.includes(Fe)||ze.includes(Fe))&&console.log(`🎯 [Rule1Page] MATCH FOUND! Element ${Fe} in "${ve}" on "${Ee}":`,{displayValue:ae,elementNumber:Fe,abcdNumbers:Ve,bcdNumbers:ze,isInAbcd:Ve.includes(Fe),isInBcd:ze.includes(Fe)}),Ve.includes(Fe)?(console.log(`✅ [Rule1Page] Rendering ABCD tag for number ${Fe} from "${ae}"`),G.jsxs("div",{className:"flex items-center justify-center gap-1",children:[G.jsx("span",{className:"text-data-value",children:ae}),G.jsx("span",{className:"bg-green-200 text-green-800 text-xs font-medium px-1 py-0.5 rounded",children:"ABCD"})]})):ze.includes(Fe)?(console.log(`✅ [Rule1Page] Rendering BCD tag for number ${Fe} from "${ae}"`),G.jsxs("div",{className:"flex items-center justify-center gap-1",children:[G.jsx("span",{className:"text-data-value",children:ae}),G.jsx("span",{className:"bg-blue-200 text-blue-800 text-xs font-medium px-1 py-0.5 rounded",children:"BCD"})]})):ae};if(a)return G.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:G.jsxs("div",{className:"text-center",children:[G.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),G.jsx("p",{className:"text-gray-600",children:"Loading enhanced Rule-1 analysis..."})]})});if(l)return G.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-6",children:G.jsx("div",{className:"container mx-auto",children:G.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:G.jsxs("div",{className:"text-center",children:[G.jsx("div",{className:"text-red-400 text-6xl mb-4",children:"⚠️"}),G.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Error Loading Rule-1 Data"}),G.jsx("p",{className:"text-red-600 mb-6",children:l}),G.jsx("button",{onClick:s,className:"bg-purple-500 hover:bg-purple-600 text-white px-6 py-3 rounded-lg",children:"← Go Back"})]})})})});const _e=Object.keys(m).sort((ae,ve)=>new Date(ae)-new Date(ve)),fe=he();return G.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 w-full",children:G.jsxs("div",{className:"w-full px-6 py-6",children:[G.jsxs("div",{className:"sticky top-0 z-50 bg-white shadow-md rounded-lg p-4 mb-6 border-t-4 border-purple-600",children:[G.jsxs("div",{className:"flex items-center justify-between",children:[G.jsxs("div",{className:"flex-1",children:[G.jsxs("h1",{className:"text-2xl font-bold text-gray-800",children:["Rule-1 Matrix Analysis - HR ",h||"?"]}),G.jsx("div",{className:"text-sm text-purple-800 mt-1",children:G.jsxs("p",{children:["👤 User: ",(()=>{const ae=i==null?void 0:i.find(ve=>ve.id===t);return ae?ae.username:`ID: ${t}`})()]})})]}),G.jsx("div",{className:"flex gap-2 ml-4",children:G.jsx("button",{onClick:s,className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg",children:"← Back to Main"})})]}),Object.keys(_).length>0&&G.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[G.jsxs("div",{className:"flex items-center justify-between mb-2",children:[G.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"📊 Highlighted Topics Summary"}),G.jsx("span",{className:"text-xs text-gray-500",children:"Topics with clicked+highlighted numbers (From 5th date onward)"})]}),G.jsx("div",{className:"flex flex-wrap gap-2",children:Object.keys(m).sort((ae,ve)=>new Date(ae)-new Date(ve)).filter((ae,ve)=>ve>=4).map(ae=>{const ve=_[ae]||0,Ee=new Date(ae),Fe=`${Ee.getDate()}-${Ee.getMonth()+1}-${Ee.getFullYear().toString().slice(-2)}`;return G.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-lg text-xs font-medium ${ve>0?"bg-green-100 text-green-800 border border-green-300 shadow-md":"bg-gray-100 text-gray-600 border border-gray-200"} ${ae===r?"ring-2 ring-blue-500 ring-opacity-75 shadow-lg":""}`,children:[G.jsx("span",{className:"font-semibold",children:Fe}),G.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-xs font-bold ${ve>0?"bg-green-200 text-green-900 border border-green-300":"bg-gray-200 text-gray-700"}`,children:ve}),ae===r&&G.jsx("span",{className:"text-blue-600 font-bold text-lg",children:"●"}),ve>0&&G.jsx("span",{className:"text-green-600 font-bold",children:"✓"})]},ae)})})]})]}),h&&G.jsx("div",{className:"bg-white rounded-lg shadow-md mb-6 p-4",children:G.jsx("div",{className:"flex flex-wrap gap-2",children:(()=>{const ae=new Set;return _e.forEach(ve=>{var Ee;(Ee=m[ve])!=null&&Ee.success&&Object.keys(m[ve].hrData||{}).forEach(Fe=>ae.add(Fe))}),Array.from(ae).sort((ve,Ee)=>parseInt(ve)-parseInt(Ee))})().map(ae=>G.jsxs("button",{onClick:()=>f(ae),className:`px-3 py-1 rounded text-sm transition-colors ${h===ae?"bg-purple-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:["HR ",ae]},ae))})}),V&&G.jsxs("div",{className:"bg-white rounded-lg shadow-md mb-4 p-2",children:[G.jsxs("div",{className:"flex items-center justify-between mb-1",children:[G.jsx("h3",{className:"text-xs font-semibold text-gray-800",children:"📊 Topic Selection"}),G.jsxs("div",{className:"flex gap-1",children:[G.jsx("button",{onClick:K,className:"bg-green-300 hover:bg-green-400 text-green-800 px-1.5 py-0.5 rounded text-xs",children:"All"}),G.jsx("button",{onClick:ne,className:"bg-red-300 hover:bg-red-400 text-red-800 px-1.5 py-0.5 rounded text-xs",children:"Clear"}),G.jsx("button",{onClick:()=>B(!1),className:"bg-gray-500 hover:bg-gray-600 text-white px-1.5 py-0.5 rounded text-xs",children:"Hide"})]})]}),G.jsxs("div",{className:"space-y-0.5",children:[G.jsxs("div",{className:"flex flex-wrap gap-0.5 items-center",children:[G.jsx("button",{onClick:()=>ee(1),className:"text-xs font-medium text-blue-600 mr-1 hover:text-blue-800 hover:bg-blue-50 px-1 py-0.5 rounded cursor-pointer transition-colors",title:"Click to select/deselect all Set-1 topics",children:"Set-1:"}),C.filter(ae=>ae.includes("Set-1")).map(ae=>G.jsxs("label",{className:"flex items-center space-x-0.5 text-xs bg-blue-50 px-1 py-0.5 rounded border",children:[G.jsx("input",{type:"checkbox",checked:j.has(ae),onChange:()=>O(ae),className:"rounded border-gray-300 w-2.5 h-2.5"}),G.jsx("span",{className:"whitespace-nowrap text-xs",children:ie(ae)})]},ae))]}),G.jsxs("div",{className:"flex flex-wrap gap-0.5 items-center",children:[G.jsx("button",{onClick:()=>ee(2),className:"text-xs font-medium text-green-600 mr-1 hover:text-green-800 hover:bg-green-50 px-1 py-0.5 rounded cursor-pointer transition-colors",title:"Click to select/deselect all Set-2 topics",children:"Set-2:"}),C.filter(ae=>ae.includes("Set-2")).map(ae=>G.jsxs("label",{className:"flex items-center space-x-0.5 text-xs bg-green-50 px-1 py-0.5 rounded border",children:[G.jsx("input",{type:"checkbox",checked:j.has(ae),onChange:()=>O(ae),className:"rounded border-gray-300 w-2.5 h-2.5"}),G.jsx("span",{className:"whitespace-nowrap text-xs",children:ie(ae)})]},ae))]})]})]}),!V&&G.jsx("div",{className:"mb-4",children:G.jsxs("button",{onClick:()=>B(!0),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm",children:["📊 Show Topic Selection (",j.size," selected)"]})}),G.jsx("div",{className:"bg-white rounded-lg shadow-lg w-full",children:G.jsx("div",{className:"p-4 space-y-6",children:fe.length>0?fe.map(ae=>G.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm",children:[G.jsxs("div",{className:"bg-blue-100 p-3 font-bold text-lg rounded-t-lg border-b border-gray-200",children:["📊 ",ie(ae)]}),G.jsx("div",{className:"overflow-x-auto",children:G.jsxs("table",{className:"w-full border-collapse min-w-max",children:[G.jsx("thead",{className:"bg-gray-100",children:G.jsxs("tr",{children:[G.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-medium text-gray-700 min-w-[120px]",children:"Element"}),_e.map(ve=>{const Ee=new Date(ve),Fe=Ee.getDate(),Ue=Ee.getMonth()+1,Ge=Ee.getFullYear().toString().slice(-2),Ve=`${Fe}-${Ue}-${Ge}`,ze=(()=>{const Me=m[ve];return Me!=null&&Me.success&&Me.hrData[h]&&Me.hrData[h].selectedPlanet||""})(),Ke=()=>{const Me=y[ae];if(!Me||!Me[ve])return{abcdNumbers:[],bcdNumbers:[]};const Le=Me[ve];return{abcdNumbers:Le.abcdNumbers||[],bcdNumbers:Le.bcdNumbers||[]}},{abcdNumbers:be,bcdNumbers:Be}=Ke(),He=be.length>0||Be.length>0;return G.jsxs("th",{className:`border border-gray-300 px-3 py-2 text-center font-medium text-sm min-w-[140px] ${ve===r?"bg-blue-500 text-white":"text-gray-700"}`,children:[G.jsxs("div",{className:"text-base font-semibold",children:[Ve," ",ze]}),ve===r&&G.jsx("div",{className:"text-xs font-bold",children:"TARGET"}),He&&G.jsxs("div",{className:"mt-1 text-xs",children:[be.length>0&&G.jsxs("div",{className:`${ve===r?"text-green-200":"text-green-600"} font-medium`,children:["ABCD: [",be.join(", "),"]"]}),Be.length>0&&G.jsxs("div",{className:`${ve===r?"text-blue-200":"text-blue-600"} font-medium`,children:["BCD: [",Be.join(", "),"]"]})]}),ge(ae,ve)]},ve)})]})}),G.jsx("tbody",{children:["Lagna","Moon","Hora Lagna","Ghati Lagna","Vighati Lagna","Varnada Lagna","Sree Lagna","Pranapada Lagna","Indu Lagna"].map(Ee=>G.jsxs("tr",{className:"hover:bg-gray-50",children:[G.jsx("td",{className:"border border-gray-300 px-4 py-2 font-medium bg-blue-200 min-w-[120px]",children:Ee}),_e.map(Fe=>{var Me;const Ue=m[Fe];let Ge="—",Ve=!1;if(Ue!=null&&Ue.success&&((Me=Ue.hrData[h])!=null&&Me.sets[ae])&&Ue.hrData[h].sets[ae][Ee]){const Le=Ue.hrData[h].sets[ae][Ee];Ve=Le.hasData;const Xe=Le.rawData||"—";Ge=Xe==="—"?Xe:F(Xe)}const ze="border border-gray-300 px-3 py-2 text-center font-mono text-sm min-w-[140px]",Ke=Fe===r,be=se(Ge,ae,Fe),Be=Le=>Le.highlighted?Le.type==="ABCD"?{backgroundColor:"#FCE7C8",color:"#8B4513",fontWeight:"bold",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}:Le.type==="BCD"?{backgroundColor:"#41B3A2",color:"#FFFFFF",fontWeight:"bold",boxShadow:"0 4px 6px -1px rgba(65, 179, 162, 0.4), 0 2px 4px -1px rgba(65, 179, 162, 0.3)"}:{backgroundColor:"#FCE7C8",color:"#8B4513",fontWeight:"bold",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}:{},He=Le=>Le.highlighted?Le.type==="ABCD"?"bg-orange-200 text-orange-900 ring-2 ring-orange-400 shadow-lg":Le.type==="BCD"?"bg-teal-600 text-white ring-2 ring-teal-500 shadow-lg":"bg-orange-200 text-orange-900 ring-2 ring-orange-400 shadow-lg":"";return G.jsx("td",{className:`${ze} ${be.highlighted?He(be):Ke?"ring-2 ring-blue-400 bg-blue-50":Ve?"bg-gray-100 text-gray-800":"bg-red-50 text-gray-400"}`,style:Be(be),children:De(Ge,ae,Fe)},Fe)})]},Ee))})]})})]},ae)):G.jsxs("div",{className:"text-center py-12 text-gray-500",children:[G.jsx("div",{className:"text-6xl mb-4",children:"📊"}),G.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Topics Selected"}),G.jsx("p",{children:"Please select topics to view the analysis matrix."})]})})})]})})}class zZ{static async saveAnalysisResults(e,t,n,s,i=[],a=[],o=[],l={}){try{console.log(`🔄 [Rule2AnalysisResults] Saving analysis results for ${e} on ${t}`),console.log(`📊 [Rule2AnalysisResults] Overall numbers - ABCD: [${i.join(", ")}], BCD: [${a.join(", ")}]`),console.log(`📊 [Rule2AnalysisResults] Topic results: ${o.length} topics`);const c={};o.forEach(g=>{c[g.setName]={abcd:g.abcdNumbers||[],bcd:g.bcdNumbers||[]}}),Object.keys(c).slice(0,3).forEach(g=>{const p=c[g];console.log(`🎯 [Rule2AnalysisResults] ${g}: ABCD[${p.abcd.join(",")}] BCD[${p.bcd.join(",")}]`)});const d={user_id:e,analysis_date:t,trigger_date:n,selected_hr:s,overall_abcd_numbers:i,overall_bcd_numbers:a,topic_numbers:c,total_topics:o.length,a_day:l.aDay,b_day:l.bDay,c_day:l.cDay,d_day:l.dDay,updated_at:new Date().toISOString()},{data:h,error:f}=await Xt.from("rule2_analysis_results").select("id").eq("user_id",e).eq("analysis_date",t).single();let m;if(h&&!f){console.log(`🔄 [Rule2AnalysisResults] Updating existing record for ${t}`);const{data:g,error:p}=await Xt.from("rule2_analysis_results").update(d).eq("id",h.id).select().single();m={data:g,error:p}}else{console.log(`✨ [Rule2AnalysisResults] Creating new record for ${t}`);const{data:g,error:p}=await Xt.from("rule2_analysis_results").insert(d).select().single();m={data:g,error:p}}return m.error?(console.error("❌ [Rule2AnalysisResults] Database error:",m.error),{success:!1,error:m.error.message}):(console.log(`✅ [Rule2AnalysisResults] Successfully saved analysis results for ${t}`),{success:!0,data:m.data})}catch(c){return console.error("💥 [Rule2AnalysisResults] Exception saving results:",c),{success:!1,error:c.message}}}static async getLatestAnalysisResults(e,t=1){var n,s;try{console.log(`🔍 [Rule2AnalysisResults] Fetching latest analysis results for ${e}`);const{data:i,error:a}=await Xt.from("rule2_analysis_results").select("*").eq("user_id",e).order("analysis_date",{ascending:!1}).limit(t);if(a)return console.error("❌ [Rule2AnalysisResults] Database error:",a),{success:!1,error:a.message};if(!i||i.length===0)return console.log(`📭 [Rule2AnalysisResults] No analysis results found for ${e}`),{success:!0,data:null};const o=i[0];return console.log(`✅ [Rule2AnalysisResults] Found analysis result for ${o.analysis_date}`),console.log(`📊 [Rule2AnalysisResults] Overall - ABCD: ${((n=o.overall_abcd_numbers)==null?void 0:n.length)||0}, BCD: ${((s=o.overall_bcd_numbers)==null?void 0:s.length)||0}`),console.log(`📊 [Rule2AnalysisResults] Topics: ${Object.keys(o.topic_numbers||{}).length}`),{success:!0,data:o}}catch(i){return console.error("💥 [Rule2AnalysisResults] Exception fetching results:",i),{success:!1,error:i.message}}}static async getAnalysisResultsByDate(e,t){try{console.log(`🔍 [Rule2AnalysisResults] Fetching analysis results for ${e} on ${t}`);const{data:n,error:s}=await Xt.from("rule2_analysis_results").select("*").eq("user_id",e).eq("analysis_date",t).single();return s?s.code==="PGRST116"?(console.log(`📭 [Rule2AnalysisResults] No analysis results found for ${t}`),{success:!0,data:null}):(console.error("❌ [Rule2AnalysisResults] Database error:",s),{success:!1,error:s.message}):(console.log(`✅ [Rule2AnalysisResults] Found analysis result for ${t}`),{success:!0,data:n})}catch(n){return console.error("💥 [Rule2AnalysisResults] Exception fetching results:",n),{success:!1,error:n.message}}}static async getTopicNumbers(e,t){var n,s,i;try{const a=await this.getLatestAnalysisResults(e);if(!a.success||!a.data)return{success:!1,error:"No analysis results found"};const o=(n=a.data.topic_numbers)==null?void 0:n[t];return o?(console.log(`✅ [Rule2AnalysisResults] ${t}: ABCD[${((s=o.abcd)==null?void 0:s.join(","))||""}] BCD[${((i=o.bcd)==null?void 0:i.join(","))||""}]`),{success:!0,data:{abcd:o.abcd||[],bcd:o.bcd||[]}}):(console.log(`⚠️ [Rule2AnalysisResults] Topic '${t}' not found in analysis results`),{success:!0,data:{abcd:[],bcd:[]}})}catch(a){return console.error("💥 [Rule2AnalysisResults] Exception getting topic numbers:",a),{success:!1,error:a.message}}}static async hasAnalysisResults(e,t){try{const n=await this.getAnalysisResultsByDate(e,t);return n.success&&n.data!==null}catch(n){return console.error("💥 [Rule2AnalysisResults] Exception checking if results exist:",n),!1}}static async deleteAnalysisResults(e,t){try{console.log(`🗑️ [Rule2AnalysisResults] Deleting analysis results for ${e} on ${t}`);const{error:n}=await Xt.from("rule2_analysis_results").delete().eq("user_id",e).eq("analysis_date",t);return n?(console.error("❌ [Rule2AnalysisResults] Database error:",n),{success:!1,error:n.message}):(console.log(`✅ [Rule2AnalysisResults] Successfully deleted analysis results for ${t}`),{success:!0})}catch(n){return console.error("💥 [Rule2AnalysisResults] Exception deleting results:",n),{success:!1,error:n.message}}}}const qZ=({date:r,selectedUser:e,selectedUserData:t,datesList:n,onBack:s,activeHR:i})=>{const a=$l(),o=e,[l,c]=Ae.useState([]),[u,d]=Ae.useState(!0),[h,f]=Ae.useState(0),[m,g]=Ae.useState("Initializing..."),[p,v]=Ae.useState(""),[y,b]=Ae.useState({}),[E,N]=Ae.useState(i||1),[j,D]=Ae.useState([]),[C,I]=Ae.useState(null),V={hasExcelData:(F,O)=>yr.hasExcelData(F,O),getExcelData:(F,O)=>yr.getExcelData(F,O),hasHourEntry:(F,O)=>yr.hasHourEntry(F,O),getHourEntry:(F,O)=>yr.getHourEntry(F,O)},B=F=>{N(F),C&&clearTimeout(C);const O=setTimeout(()=>{F!==E&&(console.log("🔄 HR changed, triggering re-analysis..."),performAnalysis())},500);I(O)};Ae.useEffect(()=>()=>{C&&clearTimeout(C)},[C]);const P=F=>{if(typeof F!="string")return null;const O=F.match(/^[a-z]+-(\d+)[\/\-]/);return O?Number(O[1]):null},k=new Map,M=async F=>{const O=F.map(async K=>{var ne,ee;try{const[ie,he]=await Promise.all([V.getExcelData(o,K),V.getHourEntry(o,K)]);return console.log(`🔍 [DEBUG] Data received for ${K}:`,{excelData:ie?{hasDirectSets:!!ie.sets,hasNestedSets:!!((ne=ie.data)!=null&&ne.sets),directSetsCount:Object.keys(ie.sets||{}).length,nestedSetsCount:Object.keys(((ee=ie.data)==null?void 0:ee.sets)||{}).length,structure:Object.keys(ie)}:null,hourData:he?{hasPlanetSelections:!!he.planetSelections,planetSelectionsCount:Object.keys(he.planetSelections||{}).length,structure:Object.keys(he)}:null}),k.set(K,{excelData:ie,hourData:he,sets:(ie==null?void 0:ie.sets)||{},planetSelections:(he==null?void 0:he.planetSelections)||{}}),{date:K,success:!0}}catch(ie){return console.error(`Error preloading ${K}:`,ie),k.set(K,{excelData:null,hourData:null,sets:{},planetSelections:{}}),{date:K,success:!1}}});return Promise.all(O)},A=(F,O)=>{const K=k.get(F);if(console.log(`🔍 Debug extractFromDateAndSet for ${F}, set ${O}:`,{cachedData:!!K,hasExcelData:!!(K!=null&&K.excelData),hasHourData:!!(K!=null&&K.hourData),selectedHR:E}),!K||!K.excelData||!K.hourData)return console.log(`❌ Missing data for ${F}:`,{cachedData:!!K,excelData:!!(K!=null&&K.excelData),hourData:!!(K!=null&&K.hourData)}),[];const{sets:ne,planetSelections:ee}=K;console.log(`📊 Data structure for ${F}:`,{availableSets:Object.keys(ne),planetSelections:ee,selectedHR:E,selectedPlanet:ee[E]});const ie=new Set,he=ne[O];if(he){console.log(`📋 Found set ${O}:`,Object.keys(he));const te=ee[E];te?(console.log(`🪐 Using planet: ${te}`),Object.entries(he).forEach(([se,ge])=>{const de=ge[te];if(console.log(`🔍 Element ${se}:`,{planetData:Object.keys(ge),selectedPlanet:te,rawString:de}),de){const Te=P(de);console.log(`🔢 Extracted from "${de}": ${Te}`),Te!==null&&ie.add(Te)}})):console.log(`❌ No planet selected for HR ${E}`)}else console.log(`❌ Set ${O} not found. Available sets:`,Object.keys(ne));const ce=Array.from(ie).sort((te,se)=>te-se);return console.log(`✅ Final numbers for ${F}, set ${O}:`,ce),ce},w=(F,O,K,ne,ee)=>{const ie=A(ee,F),he=A(ne,F),ce=A(K,F),te=A(O,F);if(ie.length===0)return{setName:F,abcdNumbers:[],bcdNumbers:[],dDayCount:0,summary:{dDayCount:0,abcdCount:0,bcdCount:0,totalQualified:0,qualificationRate:"0.0"},error:"No D-day numbers found"};const se=hv(te,ce,he,ie,{includeDetailedAnalysis:!1,logResults:!0,setName:F});return{setName:F,abcdNumbers:se.abcdNumbers,bcdNumbers:se.bcdNumbers,dDayCount:ie.length,summary:se.summary,error:se.error||null}},S=(F,O)=>{const K=new Map;return F.forEach(ne=>{const ee=ne.match(/D-(\d+)\s+Set-(\d+)/);if(ee){const[,ie,he]=ee,ce=O.find(te=>{const se=te.match(/D-(\d+)(?:\s*\([^)]*\))?\s+Set-(\d+)/);if(se){const[,ge,de]=se;return ie===ge&&he===de}return!1});ce&&K.set(ne,ce)}}),K},_=["D-1 Set-1 Matrix","D-1 Set-2 Matrix","D-3 Set-1 Matrix","D-3 Set-2 Matrix","D-4 Set-1 Matrix","D-4 Set-2 Matrix","D-5 Set-1 Matrix","D-5 Set-2 Matrix","D-7 Set-1 Matrix","D-7 Set-2 Matrix","D-9 Set-1 Matrix","D-9 Set-2 Matrix","D-10 Set-1 Matrix","D-10 Set-2 Matrix","D-11 Set-1 Matrix","D-11 Set-2 Matrix","D-12 Set-1 Matrix","D-12 Set-2 Matrix","D-27 Set-1 Matrix","D-27 Set-2 Matrix","D-30 Set-1 Matrix","D-30 Set-2 Matrix","D-60 Set-1 Matrix","D-60 Set-2 Matrix","D-81 Set-1 Matrix","D-81 Set-2 Matrix","D-108 Set-1 Matrix","D-108 Set-2 Matrix","D-144 Set-1 Matrix","D-144 Set-2 Matrix"],x=F=>{const O=k.get(F);if(console.log(`🔍 getAllAvailableSets for ${F}:`,{hasCache:!!O,hasExcelData:!!(O!=null&&O.excelData),setsKeys:Object.keys((O==null?void 0:O.sets)||{})}),!O||!O.excelData)return console.log(`❌ No cached data or Excel data for ${F}`),[];const{sets:K}=O,ne=Object.keys(K);console.log("📋 Available set names in data:",ne),console.log("📋 TOPIC_ORDER filter:",_);const ee=S(_,ne),ie=_.filter(he=>ee.has(he)).map(he=>ee.get(he));return console.log("✅ Filtered available sets (FIXED with Smart Matching):",{filteredSetsCount:ie.length,filteredSets:ie.slice(0,5),topicMappings:Array.from(ee.entries()).slice(0,3)}),ie},R=F=>{const O=k.get(F);if(!O||!O.hourData)return[];const{planetSelections:K}=O;return Object.keys(K).map(ne=>parseInt(ne)).sort((ne,ee)=>ne-ee)};if(Ae.useEffect(()=>{(async()=>{if(f(0),g("Initializing analysis..."),!(n!=null&&n.length)){v("Date list is empty or invalid."),d(!1);return}if(n.length<4){v("Need at least 4 dates to perform ABCD-BCD number extraction"),d(!1);return}try{f(10),g("Sorting dates...");const O=[...n].sort((Ke,be)=>new Date(Ke)-new Date(be));console.log("🔍 === RULE2COMPACT DATE SEQUENCE DEBUG ==="),console.log("📅 Received date (clicked):",r,typeof r),console.log("📅 Received datesList:",n),console.log("📅 Sorted dates:",O);const K=O.findIndex(Ke=>Ke===r);if(console.log(`📍 Clicked date "${r}" found at index ${K} (position ${K+1})`),K===-1&&(console.log("🚨 CRITICAL: Clicked date not found in sorted dates!"),console.log("🔍 Attempting string comparison:"),O.forEach((Ke,be)=>{console.log(`  ${be}: "${Ke}" === "${r}" → ${Ke===r}`),console.log(`  ${be}: Date objects: ${new Date(Ke).getTime()} === ${new Date(r).getTime()} → ${new Date(Ke).getTime()===new Date(r).getTime()}`)})),K<3){v(`Rule-2 requires the clicked date to have at least 3 preceding dates (A, B, C). Current position: ${K+1}, need position 4+`),d(!1);return}f(20),g("Determining ABCD sequence...");const ne=O[K],ee=O[K-1],ie=O[K-2],he=O[K-3];console.log("🔗 ABCD SEQUENCE CALCULATION (FIXED):"),console.log(`  A-day: sortedDates[${K-3}] = ${he}`),console.log(`  B-day: sortedDates[${K-2}] = ${ie}`),console.log(`  C-day: sortedDates[${K-1}] = ${ee}`),console.log(`  D-day: sortedDates[${K}] = ${ne} ← ANALYSIS SOURCE (CLICKED DATE)`),console.log(`  ✅ User clicked "${r}" and will see data from "${ne}"`),console.log("========================================"),f(30),g("🚀 Pre-loading all date data...");const ce=[he,ie,ee,ne];await M(ce),console.log("🔍 === DATA PIPELINE DEBUG ==="),console.log("📅 Dates to process:",{aDay:he,bDay:ie,cDay:ee,dDay:ne}),console.log("👤 User ID:",o),console.log("🪐 Selected HR:",E),ce.forEach(Ke=>{const be=k.get(Ke);console.log(`📊 ${Ke} data:`,{hasCache:!!be,hasExcelData:!!(be!=null&&be.excelData),hasHourData:!!(be!=null&&be.hourData),setsCount:Object.keys((be==null?void 0:be.sets)||{}).length,planetSelectionsCount:Object.keys((be==null?void 0:be.planetSelections)||{}).length,sets:Object.keys((be==null?void 0:be.sets)||{}),planetSelections:be==null?void 0:be.planetSelections})}),f(40),g("Getting available HRs...");const te=R(ne);D(te),te.length>0&&!te.includes(E)&&N(te[0]),f(50),g("Getting available sets..."),console.log("🎯 Rule2CompactPage - Processing all sets:"),console.log("Clicked date (Rule-2 trigger):",r),console.log("A-day (oldest in sequence):",he),console.log("B-day:",ie),console.log("C-day:",ee),console.log("D-day (analysis day):",ne),console.log("🪐 Available HRs:",te,"Selected HR:",E);const se=x(ne);console.log("📊 Available sets:",se),f(60),g(`🚀 Analyzing ${se.length} sets in parallel...`);const ge=[],de=10;for(let Ke=0;Ke<se.length;Ke+=de){const be=se.slice(Ke,Ke+de),Be=60+Math.floor((Ke+be.length)/se.length*30);f(Be),g(`Processing batch ${Math.floor(Ke/de)+1}/${Math.ceil(se.length/de)}: ${be.length} sets`);const He=be.map(Me=>{const Le=w(Me,he,ie,ee,ne);if(console.log(`📊 ${Me}: ABCD(${Le.abcdNumbers.length}) BCD(${Le.bcdNumbers.length}) D-day(${Le.dDayCount})`),Me==="D-1 Set-1 Matrix"){console.log(`🎯 [D-1 Set-1 HR Debug] Current HR ${E} Results:`,{abcd:Le.abcdNumbers,bcd:Le.bcdNumbers,dDayCount:Le.dDayCount}),console.log("🔍 [D-1 Set-1 HR Comparison] Testing all HRs for D-1 Set-1 Matrix:");for(let Xe=1;Xe<=6;Xe++)try{const Je=k.get(ne);if(Je&&Je.hourData&&Je.hourData.planetSelections[Xe]){const et=Je.hourData.planetSelections[Xe],xt=[];if(Je.excelData&&Je.excelData.sets&&Je.excelData.sets[Me]){const pt=Je.excelData.sets[Me];Object.entries(pt).forEach(([wt,mt])=>{const gt=mt[et];if(gt){const ft=P(gt);ft!==null&&xt.push(ft)}})}console.log(`   HR ${Xe} (Planet ${et}): D-day numbers [${xt.sort((pt,wt)=>pt-wt).join(", ")}]`)}else console.log(`   HR ${Xe}: No data available`)}catch(Je){console.log(`   HR ${Xe}: Error - ${Je.message}`)}}return Le});ge.push(...He),Ke+de<se.length&&await new Promise(Me=>setTimeout(Me,10))}f(90),g("Calculating overall ABCD/BCD results...");const Te=new Set,De=new Set,_e=new Set,fe=new Set;se.forEach(Ke=>{const be=A(ne,Ke),Be=A(he,Ke),He=A(ie,Ke),Me=A(ee,Ke);be.forEach(Le=>Te.add(Le)),Be.forEach(Le=>De.add(Le)),He.forEach(Le=>_e.add(Le)),Me.forEach(Le=>fe.add(Le))});const ae=Array.from(Te),ve=Array.from(De),Ee=Array.from(_e),Fe=Array.from(fe);console.log("🔄 Combined numbers from all topics:"),console.log(`📊 Total unique D-day numbers: ${ae.length}`),console.log(`📊 Total unique A-day numbers: ${ve.length}`),console.log(`📊 Total unique B-day numbers: ${Ee.length}`),console.log(`📊 Total unique C-day numbers: ${Fe.length}`);const Ue=ae.filter(Ke=>{let be=0;return ve.includes(Ke)&&be++,Ee.includes(Ke)&&be++,Fe.includes(Ke)&&be++,be>=2&&console.log(`✅ ABCD candidate ${Ke}: appears in ${be}/3 ABC days`),be>=2}),Ge=ae.filter(Ke=>{const be=Ee.includes(Ke),Be=Fe.includes(Ke),He=be&&!Be,Le=He||Be&&!be;return Le&&console.log(`✅ BCD candidate ${Ke}: ${He?"B-D pair only":"C-D pair only"}`),Le}),Ve=Ue.sort((Ke,be)=>Ke-be),ze=Ge.filter(Ke=>{const be=Ue.includes(Ke);return be&&console.log(`⚠️ Number ${Ke} excluded from BCD (already in ABCD)`),!be}).sort((Ke,be)=>Ke-be);console.log("🎉 Rule2CompactPage Final Overall Results:"),console.log("📊 Overall ABCD Numbers:",Ve),console.log("📊 Overall BCD Numbers:",ze),console.log("🔍 Filtering Summary:"),console.log(`   📈 Total D-day numbers from all topics: ${ae.length}`),console.log(`   ✅ ABCD candidates (≥2 in A,B,C): ${Ue.length}`),console.log(`   ✅ BCD candidates (exclusive B-D or C-D): ${Ge.length}`),console.log(`   🎯 Final ABCD (after priority): ${Ve.length}`),console.log(`   🎯 Final BCD (after exclusion): ${ze.length}`),f(95),g("Saving results to database...");try{const Ke=await UZ.saveResults(o,r,Ve,ze);Ke.success?console.log(`✅ [Rule2Compact] Successfully saved overall ABCD/BCD results to rule2_results for ${r}`):console.error("❌ [Rule2Compact] Failed to save to rule2_results:",Ke.error);const be=await zZ.saveAnalysisResults(o,r,r,E,Ve,ze,ge,{aDay:he,bDay:ie,cDay:ee,dDay:ne});be.success?(console.log(`✅ [Rule2Compact] Successfully saved topic-specific ABCD/BCD results to rule2_analysis_results for ${r}`),g("Analysis complete & saved to both databases!")):(console.error("❌ [Rule2Compact] Failed to save to rule2_analysis_results:",be.error),g("Analysis complete (enhanced save failed)"))}catch(Ke){console.error("❌ [Rule2Compact] Exception saving results to databases:",Ke),g("Analysis complete (save error)")}c(ge),b({aDay:he,bDay:ie,cDay:ee,dDay:ne,triggerDate:r,totalSets:se.length,selectedHR:E,availableHRs:te,overallAbcdNumbers:Ve,overallBcdNumbers:ze}),f(100),g("Analysis complete!"),setTimeout(()=>{d(!1)},500)}catch(O){console.error("Error in Rule2CompactPage analysis:",O),v("Error performing ABCD-BCD analysis: "+O.message),d(!1)}})()},[o,r,n,E]),u)return G.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:G.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 w-full max-w-md",children:[G.jsxs("div",{className:"text-center mb-6",children:[G.jsx("div",{className:"animate-spin h-10 w-10 border-4 border-purple-600 border-t-transparent rounded-full mx-auto mb-3"}),G.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"🚀 Processing 30-Topic Analysis (Optimized)"}),G.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Fast parallel processing with data caching..."})]}),G.jsx(Uw,{progress:h,message:m,color:"purple",className:"mb-4"}),h>80&&G.jsx("div",{className:"text-center",children:G.jsx("p",{className:"text-xs text-gray-500",children:"🚀 Optimized performance with data caching and parallel processing"})})]})});if(p)return G.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-6",children:G.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[G.jsx("div",{className:"text-red-600 text-xl mb-2",children:"⚠️ Analysis Error"}),G.jsx("p",{className:"mb-4 text-gray-700",children:p}),G.jsx("button",{onClick:s,className:"bg-purple-600 hover:bg-purple-700 text-white px-5 py-2 rounded-lg",children:"← Go Back"})]})});const{aDay:W,bDay:T,cDay:z,dDay:q,totalSets:Y,selectedHR:U,availableHRs:Q}=y;return G.jsx("div",{className:"min-h-screen bg-gray-50",children:G.jsxs("div",{className:"container mx-auto px-4 py-6",children:[G.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6 border-t-4 border-purple-600",children:G.jsxs("div",{className:"flex justify-between items-center",children:[G.jsxs("div",{children:[G.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"🔗 Rule-2 Compact Analysis (30-Topic Format)"}),G.jsxs("div",{className:"mt-2 text-sm text-purple-800",children:[G.jsxs("p",{children:["👤 User: ",(t==null?void 0:t.username)||o]}),G.jsxs("p",{children:["📅 Trigger Date (5th): ",new Date(r).toLocaleDateString()]}),G.jsxs("p",{children:["📊 Total Topics Processed: ",Y]}),G.jsxs("p",{children:["🪐 Selected HR: ",E]}),G.jsxs("p",{children:["⚙️ ABCD Sequence: A(",new Date(W).toLocaleDateString(),") → B(",new Date(T).toLocaleDateString(),") → C(",new Date(z).toLocaleDateString(),") → D(",new Date(q).toLocaleDateString(),")"]})]})]}),G.jsx("button",{onClick:s,className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg",children:"← Back"})]})}),j&&j.length>1&&G.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:[G.jsxs("div",{className:"flex items-center gap-4",children:[G.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Select HR Period:"}),j.map(F=>G.jsxs("button",{onClick:()=>B(F),className:`px-3 py-1 rounded-lg text-sm font-medium transition-all ${E===F?"bg-purple-500 text-white":"bg-gray-100 text-gray-700 hover:bg-purple-100"}`,children:["HR ",F]},F))]}),G.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"Analysis uses planet selections from the chosen HR period for all 4 dates (A, B, C, D)"})]}),G.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[G.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"📋 ABCD/BCD Numbers below for Next Day"}),G.jsx("div",{className:"space-y-2 font-mono text-sm",children:l.map((F,O)=>{const K=F.abcdNumbers.length>0?F.abcdNumbers.join(","):"None",ne=F.bcdNumbers.length>0?F.bcdNumbers.join(","):"None";return G.jsxs("div",{className:`p-3 rounded border-l-4 ${F.abcdNumbers.length>0||F.bcdNumbers.length>0?"border-green-500 bg-green-50":"border-gray-300 bg-gray-50"}`,children:[G.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[G.jsxs("span",{className:"font-semibold text-blue-700",children:[String(O+1).padStart(2,"0"),"."]}),G.jsx("span",{className:"font-bold text-gray-800",children:F.setName}),G.jsx("span",{className:"text-green-700",children:"-ABCD Numbers-"}),G.jsx("span",{className:"font-semibold bg-green-100 px-2 py-1 rounded",children:K}),G.jsx("span",{className:"text-blue-700",children:"/ BCD Numbers-"}),G.jsx("span",{className:"font-semibold bg-blue-100 px-2 py-1 rounded",children:ne}),G.jsxs("span",{className:"text-xs text-gray-500 ml-auto",children:["(D-day: ",F.dDayCount," numbers)"]})]}),F.error&&G.jsxs("div",{className:"text-xs text-red-600 mt-1",children:["Error: ",F.error]}),F.dDayCount===0&&!F.error&&G.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"No source numbers found in D-day data for this set"})]},F.setName)})}),G.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[G.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"📊 Summary Statistics"}),y.overallAbcdNumbers&&G.jsxs("div",{className:"mb-4 p-3 bg-white rounded border",children:[G.jsx("h4",{className:"font-semibold text-green-700 mb-2",children:"🎯 Overall ABCD/BCD Results (Saved to Database)"}),G.jsxs("div",{className:"space-y-2",children:[G.jsxs("div",{className:"flex items-center gap-2",children:[G.jsx("span",{className:"text-sm font-medium",children:"ABCD Numbers:"}),y.overallAbcdNumbers.length>0?G.jsx("div",{className:"flex gap-1",children:y.overallAbcdNumbers.map(F=>G.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-sm font-mono",children:F},F))}):G.jsx("span",{className:"text-gray-500 text-sm",children:"None"})]}),G.jsxs("div",{className:"flex items-center gap-2",children:[G.jsx("span",{className:"text-sm font-medium",children:"BCD Numbers:"}),y.overallBcdNumbers.length>0?G.jsx("div",{className:"flex gap-1",children:y.overallBcdNumbers.map(F=>G.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm font-mono",children:F},F))}):G.jsx("span",{className:"text-gray-500 text-sm",children:"None"})]})]})]}),G.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[G.jsxs("p",{children:["• HR Period used: ",G.jsxs("strong",{children:["HR ",E]})]}),G.jsxs("p",{children:["• Total topics analyzed: ",G.jsx("strong",{children:l.length})]}),G.jsxs("p",{children:["• Topics with ABCD numbers: ",G.jsx("strong",{children:l.filter(F=>F.abcdNumbers.length>0).length})]}),G.jsxs("p",{children:["• Topics with BCD numbers: ",G.jsx("strong",{children:l.filter(F=>F.bcdNumbers.length>0).length})]}),G.jsxs("p",{children:["• Topics with any results: ",G.jsx("strong",{children:l.filter(F=>F.abcdNumbers.length>0||F.bcdNumbers.length>0).length})]}),G.jsxs("p",{children:["• Total ABCD numbers found: ",G.jsx("strong",{children:l.reduce((F,O)=>F+O.abcdNumbers.length,0)})]}),G.jsxs("p",{children:["• Total BCD numbers found: ",G.jsx("strong",{children:l.reduce((F,O)=>F+O.bcdNumbers.length,0)})]})]})]}),G.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[G.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"🔍 Analysis Criteria"}),G.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[G.jsxs("p",{children:[G.jsx("strong",{children:"ABCD Numbers:"})," D-day numbers that appear in at least 2 out of 3 preceding days (A, B, C)"]}),G.jsxs("p",{children:[G.jsx("strong",{children:"BCD Numbers:"})," D-day numbers that form exclusive B-D pairs OR exclusive C-D pairs (NOT both B and C)"]}),G.jsxs("p",{children:[G.jsx("strong",{children:"Mutual Exclusivity:"})," Numbers cannot appear in both ABCD and BCD categories - ABCD takes priority"]}),G.jsxs("p",{children:[G.jsx("strong",{children:"Source:"})," All numbers extracted from Set matrices using the selected planet for HR ",E]}),G.jsxs("p",{children:[G.jsx("strong",{children:"HR Selection:"})," Uses the same HR period's planet selection across all 4 dates for consistent analysis"]})]})]}),l.length>0&&G.jsx("div",{className:"mt-6 p-4 bg-teal-50 border border-teal-200 rounded-lg",children:G.jsxs("div",{className:"flex items-center justify-between",children:[G.jsxs("div",{children:[G.jsx("h4",{className:"font-semibold text-teal-800 mb-1",children:"🪐 View ABCD/BCD Numbers on Planets Data"}),G.jsx("p",{className:"text-sm text-teal-700",children:"Display these ABCD/BCD numbers overlaid on Excel planets data for visual analysis"})]}),G.jsxs("button",{onClick:()=>{console.log("🔍 [Rule2→Planets] Raw topicResults:",l),console.log("🔍 [Rule2→Planets] Analysis info:",y);const F={success:!0,data:{source:"rule2",analysisDate:r,totalTopics:l.length,selectedHR:E,overallNumbers:{abcd:(y==null?void 0:y.overallAbcdNumbers)||[],bcd:(y==null?void 0:y.overallBcdNumbers)||[]},setResults:l.map(ie=>({setName:ie.setName,abcdNumbers:ie.abcdNumbers,bcdNumbers:ie.bcdNumbers})),topicNumbers:l.reduce((ie,he)=>(ie[he.setName]={abcd:he.abcdNumbers,bcd:he.bcdNumbers},ie),{})}};console.log("🚀 [Rule2→Planets] Prepared analysisData:",F),console.log("🚀 [Rule2→Planets] Topic Numbers mapping:",F.data.topicNumbers);const O="D-1 Set-1 Matrix",K=F.data.topicNumbers[O];console.log(`🎯 [Rule2→Planets D-1 Set-1] Key: "${O}"`),console.log("🎯 [Rule2→Planets D-1 Set-1] Data:",K),K?(console.log(`🎯 [Rule2→Planets D-1 Set-1] ABCD: [${K.abcd.join(", ")}]`),console.log(`🎯 [Rule2→Planets D-1 Set-1] BCD: [${K.bcd.join(", ")}]`)):(console.error("❌ [Rule2→Planets D-1 Set-1] NOT FOUND in topicNumbers!"),console.error("❌ [Rule2→Planets D-1 Set-1] Available keys:",Object.keys(F.data.topicNumbers)));const ne=l.find(ie=>ie.setName===O);console.log("🔍 [Rule2→Planets D-1 Set-1] Original topicResult:",ne),ne&&(console.log(`🔍 [Rule2→Planets D-1 Set-1] Original ABCD: [${ne.abcdNumbers.join(", ")}]`),console.log(`🔍 [Rule2→Planets D-1 Set-1] Original BCD: [${ne.bcdNumbers.join(", ")}]`));const ee=JSON.stringify(F);console.log("🌐 [Rule2→Planets] Navigating with navigation state"),console.log("🌐 [Rule2→Planets] Analysis data size:",ee.length,"characters");try{const ie=F.data.topicNumbers["D-1 Set-1 Matrix"];console.log("🧪 [Rule2→Planets] Pre-navigation D-1 Set-1 test:",ie),ie&&(console.log("🧪 [Rule2→Planets] Pre-navigation ABCD:",ie.abcd),console.log("🧪 [Rule2→Planets] Pre-navigation BCD:",ie.bcd))}catch(ie){console.error("❌ [Rule2→Planets] Pre-navigation test failed:",ie)}a(`/planets-analysis/${o}`,{state:{analysisData:F}})},className:"bg-teal-600 hover:bg-teal-700 text-white px-6 py-2 rounded-lg font-medium flex items-center gap-2",children:["🪐 Planets Analysis",G.jsxs("span",{className:"text-sm opacity-80",children:["(",l.length," topics)"]})]})]})})]})]})})};class WZ{constructor(){this.analysisHistory=[],this.currentAnalysis=null}extractNumber(e){if(!e||typeof e!="string")return null;const t=e.match(/^[a-z]+-(\d+)-\//);return t?parseInt(t[1]):null}extractDayNumbers(e){return!e||typeof e!="object"?[]:Object.values(e).map(t=>this.extractNumber(t)).filter(t=>t!==null)}prepareDataStructure(e){const{A:t,B:n,C:s,D:i}=e;return{aDayNumbers:this.extractDayNumbers(t),bDayNumbers:this.extractDayNumbers(n),cDayNumbers:this.extractDayNumbers(s),dDayNumbers:this.extractDayNumbers(i),rawData:e}}analyze(e,t={}){const{includeSummary:n=!0,includeElementWise:s=!0,includeDetailed:i=!0,setName:a="Analysis",saveToHistory:o=!0}=t;let l;if(e.A&&e.B&&e.C&&e.D)l=this.prepareDataStructure(e);else if(e.aDayNumbers&&e.bDayNumbers&&e.cDayNumbers&&e.dDayNumbers)l=e;else throw new Error("Invalid data format. Expected either {A, B, C, D} or {aDayNumbers, bDayNumbers, cDayNumbers, dDayNumbers}");const{aDayNumbers:c,bDayNumbers:u,cDayNumbers:d,dDayNumbers:h,rawData:f}=l,m=hv(c,u,d,h,{includeDetailedAnalysis:i,logResults:!1,setName:a}),g={timestamp:new Date().toISOString(),setName:a,extractedNumbers:{aDayNumbers:c,bDayNumbers:u,cDayNumbers:d,dDayNumbers:h},results:{abcdNumbers:m.abcdNumbers,bcdNumbers:m.bcdNumbers,unqualifiedNumbers:h.filter(p=>!m.abcdNumbers.includes(p)&&!m.bcdNumbers.includes(p))},summary:n?m.summary:null,detailedAnalysis:i?m.detailedAnalysis:null,elementWiseBreakdown:s&&f?this.getElementWiseBreakdown(f,c,u,d,h):null};return o&&(this.analysisHistory.push(g),this.currentAnalysis=g),g}getElementWiseBreakdown(e,t,n,s,i){const a=[];return Object.keys(e.A).forEach(l=>{const c=this.extractNumber(e.A[l]),u=this.extractNumber(e.B[l]),d=this.extractNumber(e.C[l]),h=this.extractNumber(e.D[l]),f=t.includes(h),m=n.includes(h),g=s.includes(h),p=[f,m,g].filter(Boolean).length;let v="None",y="",b=[];p>=2?(v="ABCD",f&&b.push("A"),m&&b.push("B"),g&&b.push("C"),y=`appears in ${b.join(", ")} days`):m&&!g?(v="BCD",y="B-D pair only",b=["B"]):g&&!m&&(v="BCD",y="C-D pair only",b=["C"]),a.push({element:l,numbers:{A:c,B:u,C:d,D:h},qualification:v,details:y,occurrences:b,abcCount:p})}),a}getFormattedSummary(e=null){const t=e||this.currentAnalysis;if(!t)return"No analysis available";const{results:n,summary:s}=t;return{abcdNumbers:n.abcdNumbers,bcdNumbers:n.bcdNumbers,unqualifiedNumbers:n.unqualifiedNumbers,stats:{totalDDay:s.dDayCount,totalABCD:s.abcdCount,totalBCD:s.bcdCount,totalQualified:s.totalQualified,qualificationRate:s.qualificationRate}}}generateReport(e=null,t={}){const n=e||this.currentAnalysis;if(!n)return"No analysis available";const{includeElementWise:s=!0,includeDetailed:i=!0,colorOutput:a=!0}=t;let o="";if(o+=`🎯 ABCD/BCD Analysis Report - ${n.setName}
`,o+=`${"=".repeat(50)}

`,o+=`📊 Extracted Numbers:
`,o+=`A-day: [${n.extractedNumbers.aDayNumbers.join(", ")}]
`,o+=`B-day: [${n.extractedNumbers.bDayNumbers.join(", ")}]
`,o+=`C-day: [${n.extractedNumbers.cDayNumbers.join(", ")}]
`,o+=`D-day: [${n.extractedNumbers.dDayNumbers.join(", ")}]

`,o+=`🎯 ANALYSIS RESULTS:
`,o+=`✅ ABCD Numbers: [${n.results.abcdNumbers.join(", ")}] (${n.results.abcdNumbers.length} total)
`,o+=`✅ BCD Numbers: [${n.results.bcdNumbers.join(", ")}] (${n.results.bcdNumbers.length} total)
`,o+=`❌ Unqualified: [${n.results.unqualifiedNumbers.join(", ")}] (${n.results.unqualifiedNumbers.length} total)

`,n.summary&&(o+=`📈 Summary Statistics:
`,o+=`   • D-day count: ${n.summary.dDayCount}
`,o+=`   • ABCD count: ${n.summary.abcdCount}
`,o+=`   • BCD count: ${n.summary.bcdCount}
`,o+=`   • Total qualified: ${n.summary.totalQualified}
`,o+=`   • Qualification rate: ${n.summary.qualificationRate}%

`),i&&n.detailedAnalysis){o+=`🔍 DETAILED BREAKDOWN BY NUMBER:
`;for(const[l,c]of Object.entries(n.detailedAnalysis)){const u=c.qualified?"✅":"❌",d=c.type?`[${c.type}]`:"";o+=`${u} Number ${l} ${d}: ${c.reason}
`}o+=`
`}return s&&n.elementWiseBreakdown&&(o+=`🎯 ELEMENT-WISE BREAKDOWN:
`,o+=`${"=".repeat(50)}
`,n.elementWiseBreakdown.forEach(l=>{const{element:c,numbers:u,qualification:d,details:h}=l;o+=`${c.padEnd(16)}: A=${u.A}, B=${u.B}, C=${u.C}, D=${u.D} → ${d}`,h&&(o+=` (${h})`),o+=`
`})),o}getHistory(){return this.analysisHistory}clearHistory(){this.analysisHistory=[],this.currentAnalysis=null}exportForComponent(e=null){const t=e||this.currentAnalysis;return t?{abcdNumbers:t.results.abcdNumbers,bcdNumbers:t.results.bcdNumbers,unqualifiedNumbers:t.results.unqualifiedNumbers,summary:t.summary,elementWiseBreakdown:t.elementWiseBreakdown,timestamp:t.timestamp}:null}}function GZ(){return new WZ}const KZ=({date:r,selectedUser:e,selectedUserData:t,datesList:n,onBack:s,onExtractNumbers:i})=>{var Ke,be,Be,He;$l();const[a,o]=Ae.useState(null),[l,c]=Ae.useState({}),[u,d]=Ae.useState(!0),[h,f]=Ae.useState(0),[m,g]=Ae.useState("Initializing..."),[p,v]=Ae.useState(""),[y,b]=Ae.useState({}),[E,N]=Ae.useState(0),[j,D]=Ae.useState(""),[C,I]=Ae.useState("Initializing..."),[V,B]=Ae.useState(null),[P,k]=Ae.useState(null),[M,A]=Ae.useState({}),[w,S]=Ae.useState(new Set),[_,x]=Ae.useState(!0),[R,W]=Ae.useState([]),T=yr;Ae.useEffect(()=>{const Me=GZ();B(Me),console.log("🎯 ABCD/BCD Analyzer initialized")},[]);const z=(Me,Le)=>{const Xe=new Map;return Me.forEach(Je=>{const et=Je.match(/D-(\d+)\s+Set-(\d+)/);if(et){const[,xt,pt]=et,wt=Le.find(mt=>{const gt=mt.match(/D-(\d+)(?:\s*\([^)]*\))?\s+Set-(\d+)/);if(gt){const[,ft,Nt]=gt;return xt===ft&&pt===Nt}return!1});wt&&Xe.set(Je,wt)}}),Xe},q=["D-1 Set-1 Matrix","D-1 Set-2 Matrix","D-3 Set-1 Matrix","D-3 Set-2 Matrix","D-4 Set-1 Matrix","D-4 Set-2 Matrix","D-5 Set-1 Matrix","D-5 Set-2 Matrix","D-7 Set-1 Matrix","D-7 Set-2 Matrix","D-9 Set-1 Matrix","D-9 Set-2 Matrix","D-10 Set-1 Matrix","D-10 Set-2 Matrix","D-11 Set-1 Matrix","D-11 Set-2 Matrix","D-12 Set-1 Matrix","D-12 Set-2 Matrix","D-27 Set-1 Matrix","D-27 Set-2 Matrix","D-30 Set-1 Matrix","D-30 Set-2 Matrix","D-60 Set-1 Matrix","D-60 Set-2 Matrix","D-81 Set-1 Matrix","D-81 Set-2 Matrix","D-108 Set-1 Matrix","D-108 Set-2 Matrix","D-144 Set-1 Matrix","D-144 Set-2 Matrix"],Y={as:"Lagna",mo:"Moon",hl:"Hora Lagna",gl:"Ghati Lagna",vig:"Vighati Lagna",var:"Varnada Lagna",sl:"Sree Lagna",pp:"Pranapada Lagna",in:"Indu Lagna"},U=Me=>{if(typeof Me!="string")return null;const Le=Me.match(/^[a-z]+-(\d+)[\/\-]/);return Le?Number(Le[1]):null},Q=async(Me,Le,Xe)=>{try{console.log(`🔍 [ABCD-DEBUG] Extracting from date=${Me}, set=${Le}, HR=${Xe}`),console.log(`☁️ [ABCD-DEBUG] Using CleanSupabaseService for ${Me}`);const Je=await T.getExcelData(e,Me),et=await T.getHourEntry(e,Me);if(console.log(`📊 [ABCD-DEBUG] Data for ${Me}:`,{hasExcel:!!Je,hasHour:!!et,excelSets:Je!=null&&Je.sets?Object.keys(Je.sets):[],hourPlanets:et!=null&&et.planetSelections?Object.keys(et.planetSelections):[],storageType:"CleanSupabaseService"}),!Je||!et)return console.log(`❌ [ABCD-DEBUG] Missing data for ${Me} - Excel: ${!!Je}, Hour: ${!!et}`),[];const xt=Je.sets||{},pt=et.planetSelections||{};console.log(`🔍 [ABCD-DEBUG] Data structure for ${Me}:`,{hasDirectSets:!!(Je!=null&&Je.sets),usingFormat:"CleanSupabaseService",setCount:Object.keys(xt).length,planetSelectionCount:Object.keys(pt).length});const wt=new Set,mt=xt[Le];if(mt){const ft=pt[Xe];console.log(`🌟 [ABCD-DEBUG] Selected planet for HR${Xe}: ${ft}`),ft?Object.entries(mt).forEach(([Nt,Ht])=>{const $t=Ht[ft];if($t){const _t=U($t);console.log(`🔢 [ABCD-DEBUG] ${Nt} -> "${$t}" -> ${_t}`),_t!==null&&wt.add(_t)}else console.log(`⚠️ [ABCD-DEBUG] No data for ${Nt} with planet ${ft}`)}):console.log(`❌ [ABCD-DEBUG] No planet selected for HR${Xe}`)}else console.log(`❌ [ABCD-DEBUG] No set data found for "${Le}" in sets:`,Object.keys(xt));const gt=Array.from(wt).sort((ft,Nt)=>ft-Nt);return console.log(`✅ [ABCD-DEBUG] Extracted ${gt.length} numbers for ${Me}/${Le}/HR${Xe}:`,gt),gt.length===0&&(console.log("🚨 [ABCD-DEBUG] ZERO NUMBERS EXTRACTED! This is likely the main issue."),console.log("🔍 [ABCD-DEBUG] Debug info:",{setExists:!!mt,planetSelected:!!pt[Xe],selectedPlanet:pt[Xe],availableElements:mt?Object.keys(mt):[],sampleElementData:mt?Object.values(mt)[0]:null})),gt}catch(Je){return console.error("Error extracting from date and set:",Je),[]}},F=async(Me,Le,Xe,Je,et,xt)=>{try{console.log(`🧮 Enhanced Analyzer - Performing ABCD-BCD analysis for ${Me} with days A=${Le}, B=${Xe}, C=${Je}, D=${et}, HR=${xt}`);const pt=et?await Q(et,Me,xt):[],wt=Je?await Q(Je,Me,xt):[],mt=Xe?await Q(Xe,Me,xt):[],gt=Le?await Q(Le,Me,xt):[];if(console.log("📈 Numbers extracted for enhanced analysis:",{A:gt,B:mt,C:wt,D:pt}),pt.length===0)return console.log(`⚠️ No D-day numbers for ${Me}, skipping analysis`),{abcdNumbers:[],bcdNumbers:[]};if(A(ft=>({...ft,[Me]:{aDayNumbers:gt,bDayNumbers:mt,cDayNumbers:wt,dDayNumbers:pt,hrNumber:xt,timestamp:new Date().toISOString()}})),V){const ft={aDayNumbers:gt,bDayNumbers:mt,cDayNumbers:wt,dDayNumbers:pt},Nt=V.analyze(ft,{setName:`IndexPage-${Me}`,includeSummary:!0,includeElementWise:!1,includeDetailed:!1,saveToHistory:!0});return console.log(`🎯 Enhanced analyzer results for ${Me}:`,{availableDays:[gt,mt,wt].filter(Ht=>Ht.length>0).length,summary:Nt.summary,abcdNumbers:Nt.results.abcdNumbers,bcdNumbers:Nt.results.bcdNumbers,unqualifiedNumbers:Nt.results.unqualifiedNumbers}),k(Ht=>({...Ht,[Me]:Nt})),{abcdNumbers:Nt.results.abcdNumbers,bcdNumbers:Nt.results.bcdNumbers,unqualifiedNumbers:Nt.results.unqualifiedNumbers,summary:Nt.summary}}else{console.log("📝 Analyzer not ready, using fallback utility");const ft=hv(gt,mt,wt,pt,{includeDetailedAnalysis:!1,logResults:!0,setName:Me});return{abcdNumbers:ft.abcdNumbers,bcdNumbers:ft.bcdNumbers}}}catch(pt){return console.error("Error performing enhanced ABCD-BCD analysis:",pt),{abcdNumbers:[],bcdNumbers:[]}}},O=Me=>{const Le=new Set(w);w.has(Me)?Le.delete(Me):Le.add(Me),S(Le)},K=()=>{S(new Set(R))},ne=()=>{S(new Set)},ee=Me=>Me.replace(/\s+Matrix$/i,""),ie=()=>w.size===0?R:R.filter(Me=>w.has(Me)),he=()=>{const Me=new Set;return R.forEach(Le=>{const Xe=Le.match(/^(D-\d+)/);Xe&&Me.add(Xe[1])}),Array.from(Me).sort((Le,Xe)=>{const Je=parseInt(Le.split("-")[1]),et=parseInt(Xe.split("-")[1]);return Je-et})},ce=Me=>R.filter(Le=>Le.startsWith(Me+" ")),te=Me=>{const Le=ce(Me);return Le.length>0&&Le.every(Xe=>w.has(Xe))},se=Me=>{const Le=ce(Me),Xe=Le.filter(Je=>w.has(Je)).length;return Xe>0&&Xe<Le.length},ge=Me=>{const Le=ce(Me),Xe=new Set(w);te(Me)?Le.forEach(Je=>Xe.delete(Je)):Le.forEach(Je=>Xe.add(Je)),S(Xe)};Ae.useEffect(()=>{if(l&&Object.keys(l).length>0){const Me=new Set;["A","B","C","D"].forEach(et=>{var xt;(xt=l[et])!=null&&xt.success&&l[et].hrData&&Object.values(l[et].hrData).forEach(pt=>{Object.keys(pt.sets||{}).forEach(wt=>{Me.add(wt)})})});const Le=Array.from(Me),Xe=z(q,Le),Je=q.filter(et=>Xe.has(et)).map(et=>Xe.get(et));console.log("📊 [IndexPage] Topic Discovery (FIXED with Smart Matching):",{allDaysDataKeys:Object.keys(l),discoveredSetsRaw:Le,discoveredSetsCount:Me.size,orderedTopicsCount:Je.length,orderedTopics:Je,topicMappings:Array.from(Xe.entries()).slice(0,5),missingFromOrder:Le.filter(et=>!Array.from(Xe.values()).includes(et)),notInData:q.filter(et=>!Xe.has(et))}),W(Je),w.size===0&&S(new Set(Je))}},[l]);const de=(Me,Le,Xe)=>{if(console.log("🎨 renderColorCodedDayNumber called:",{cellValue:Me,setName:Le,dayLabel:Xe,hasAnalysis:!!y[Le],analysisKeys:Object.keys(y),analysisForSet:y[Le]}),Xe!=="D"||!Me||Me==="—"||!y[Le])return console.log(`❌ Early return: dayLabel=${Xe}, cellValue=${Me}, hasAnalysis=${!!y[Le]}`),Me;const Je=U(Me);if(console.log(`🔢 Extracted element number: ${Je} from ${Me}`),Je===null||isNaN(Je))return console.log("⚠️ Invalid element number extracted"),Me;const{abcdNumbers:et=[],bcdNumbers:xt=[]}=y[Le];return console.log("🎯 Checking against analysis:",{abcdNumbers:et,bcdNumbers:xt,elementNumber:Je,abcdCount:et.length,bcdCount:xt.length,setName:Le,allAnalysisKeys:Object.keys(y)}),et.includes(Je)?(console.log(`✅ ABCD match for ${Je}`),G.jsxs("span",{className:"inline-flex items-center",children:[G.jsx("span",{className:"bg-green-200 text-green-800 px-2 py-1 rounded text-xs font-bold mr-2",children:"ABCD"}),G.jsx("span",{className:"font-mono",children:Me})]})):xt.includes(Je)?(console.log(`✅ BCD match for ${Je}`),G.jsxs("span",{className:"inline-flex items-center",children:[G.jsx("span",{className:"bg-blue-200 text-blue-800 px-2 py-1 rounded text-xs font-bold mr-2",children:"BCD"}),G.jsx("span",{className:"font-mono",children:Me})]})):(console.log(`🔸 No match for ${Je}`),G.jsx("span",{className:"font-mono",children:Me}))},Te=async()=>{var Me,Le;try{d(!0),f(0),g("Preparing date window..."),v("");const Xe=[...n].sort((gt,ft)=>new Date(gt)-new Date(ft)),Je=Xe.indexOf(r);let et;if(Je===-1){const gt=Math.min(4,Xe.length);et=Xe.slice(-gt),console.log(`⚠️ Target date "${r}" not found in datesList. Using ${et.length} available dates.`)}else{const gt=Je+1,ft=Math.max(0,gt-4);et=Xe.slice(ft,gt),console.log(`✅ Target date "${r}" found at index ${Je}. Using ${et.length} dates in window.`)}et.length===1&&console.log(`📊 Single date mode: Displaying data for "${et[0]}"`),console.log("🎯 Date Window Analysis:",{clickedDate:r,allDates:Xe,targetIndex:Je,windowDates:et,labelsToUse:et.map((gt,ft)=>`${["A","B","C","D"][ft]}: ${gt}`)}),f(10),g(`Loading data for ${et.length} dates...`);const xt=["A","B","C","D"],pt={};for(let gt=0;gt<et.length;gt++){const ft=et[gt],Nt=xt[gt],Ht=70/et.length,$t=10+gt*Ht;f($t),g(`Loading ${Nt}-day data (${ft})...`);try{const _t=await T.getExcelData(e,ft);f($t+Ht*.5);const er=await T.getHourEntry(e,ft);if(f($t+Ht),console.log(`🔍 Raw data for ${ft} (${Nt}):`,{excelData:_t?{hasSets:!!_t.sets,setNames:_t.sets?Object.keys(_t.sets):[],setCount:_t.sets?Object.keys(_t.sets).length:0,dataSource:_t.dataSource||"CleanSupabaseService",fileName:_t.fileName||"unknown"}:null,hourData:er?{hasPlanetSelections:!!er.planetSelections,hrNumbers:er.planetSelections?Object.keys(er.planetSelections):[],hrCount:er.planetSelections?Object.keys(er.planetSelections).length:0,dataSource:er.dataSource||"CleanSupabaseService"}:null}),_t&&er){const Gt=er.planetSelections||{};console.log(`🔍 [DATA DEBUG] Processing ${Nt}-day (${ft}):`,{excelSets:_t!=null&&_t.sets?Object.keys(_t.sets).length:"none",planetSelections:Object.keys(Gt).length});const We={};Object.entries(Gt).forEach(([Qe,ht])=>{const ue={selectedPlanet:ht,sets:{}},Pe=_t.sets||{};console.log(`🔍 [DATA DEBUG] HR${Qe} processing:`,{selectedPlanet:ht,setsDataKeys:Object.keys(Pe).length,firstFewSets:Object.keys(Pe).slice(0,3)}),Object.entries(Pe).forEach(([ye,ke])=>{const Re={};console.log(`🔍 [SETS DEBUG] Processing set "${ye}":`,{elementCount:Object.keys(ke).length,elements:Object.keys(ke).slice(0,3),selectedPlanet:ht}),Object.entries(ke).forEach(([Ie,Ye])=>{const st=Ye[ht];Re[Ie]={rawData:st||null,selectedPlanet:ht,hasData:!!st}}),Object.values(Y).forEach(Ie=>{Re[Ie]||(Re[Ie]={rawData:null,selectedPlanet:ht,hasData:!1})}),ue.sets[ye]=Re}),We[Qe]=ue}),pt[Nt]={date:ft,hrData:We,success:Object.keys(We).length>0,dayLabel:Nt}}else pt[Nt]={date:ft,hrData:{},success:!1,error:_t?"No Hour Entry data":"No Excel data",dayLabel:Nt}}catch(_t){pt[Nt]={date:ft,hrData:{},success:!1,error:`Error loading data: ${_t.message}`,dayLabel:Nt}}}f(80),g("Processing loaded data...");const wt=De(pt);if(c(wt),console.log("📈 FINAL DATA ASSEMBLY SUMMARY:"),console.log(`   Total days processed: ${Object.keys(pt).length}`),console.log(`   Date window: ${et.join(" → ")}`),console.log(`   Labels mapped: ${et.map((gt,ft)=>`${xt[ft]}: ${gt}`).join(", ")}`),Object.entries(pt).forEach(([gt,ft])=>{console.log(`   ${gt}-day (${ft.date}):`,{success:ft.success,error:ft.error,hrCount:Object.keys(ft.hrData||{}).length,hrNumbers:Object.keys(ft.hrData||{}),setsPerHR:Object.fromEntries(Object.entries(ft.hrData||{}).map(([Nt,Ht])=>[Nt,{setCount:Object.keys(Ht.sets||{}).length,setNames:Object.keys(Ht.sets||{}),selectedPlanet:Ht.selectedPlanet,sampleSetElements:Object.keys(Ht.sets||{})[0]?Object.keys(Ht.sets[Object.keys(Ht.sets)[0]]||{}):[],elementDataTypes:Object.keys(Ht.sets||{})[0]?Object.entries(Ht.sets[Object.keys(Ht.sets)[0]]||{}).slice(0,2).map(([$t,_t])=>`${$t}: ${typeof _t} (keys: ${Object.keys(_t||{}).join(",")})`):[]}]))})}),(Me=pt.D)!=null&&Me.success){const gt=Object.keys(pt.D.hrData||{})[0];if(gt){const ft=pt.D.hrData[gt],Nt=Object.keys(ft.sets||{});console.log(`🔬 D-day detailed structure check (HR${gt}):`,{totalSets:Nt.length,firstSetName:Nt[0],firstSetStructure:Nt[0]?ft.sets[Nt[0]]:null})}}f(90),g("Setting up interface...");let mt=null;for(let gt of["A","B","C","D"])if((Le=wt[gt])!=null&&Le.success){const ft=Object.keys(wt[gt].hrData||{});if(ft.length){mt=ft[0],console.log(`🎯 Auto-selected HR${mt} from ${gt}-day`);break}}mt?(o(mt),console.log(`✅ Successfully set activeHR to: ${mt}`)):console.warn("⚠️ No HR data found in any day. User needs to complete Hour Entries."),f(100),g("Complete!"),setTimeout(()=>{d(!1)},300)}catch(Xe){console.error(Xe),v("Error building index data."),d(!1)}};Ae.useEffect(()=>{(async()=>{var ft,Nt,Ht,$t,_t,er,Gt,We;if(console.log("🔍 [ABCD-DEBUG] Starting ABCD-BCD analysis...",{activeHR:a,hasA:!!l.A,hasB:!!l.B,hasC:!!l.C,hasD:!!l.D,allDaysDataKeys:Object.keys(l),aSuccess:(ft=l.A)==null?void 0:ft.success,bSuccess:(Nt=l.B)==null?void 0:Nt.success,cSuccess:(Ht=l.C)==null?void 0:Ht.success,dSuccess:($t=l.D)==null?void 0:$t.success}),I("Starting analysis..."),N(0),D(""),!a){console.log("❌ [ABCD-DEBUG] No activeHR, clearing analysis state"),I("No HR selected"),b({});return}const Le=["A","B","C","D"].filter(Qe=>{var ht;return(ht=l[Qe])==null?void 0:ht.success});if(console.log("📊 Available labels for analysis:",Le),Le.length<1){console.log(`⚠️ No days available for analysis (${Le.length}), clearing analysis`),b({});return}Le.length<4&&console.log(`📊 Partial analysis mode: Using ${Le.length} days instead of full 4-day window`);const Xe=Le.filter(Qe=>l[Qe].hrData&&l[Qe].hrData[a]);if(console.log(`🔑 Days with HR${a}:`,Xe),Xe.length===0){console.log(`❌ HR${a} not available in any days`),b({});return}Le.length<4&&(console.log(`⚠️ Partial data analysis: only ${Le.length}/4 days available`),D(`Partial analysis with ${Le.length} days...`)),N(10),D("Scanning available sets...");const Je={},et=new Set;Le.forEach(Qe=>{l[Qe].hrData[a]&&Object.keys(l[Qe].hrData[a].sets).forEach(ht=>{et.add(ht)})});const xt=Array.from(et),pt=z(q,xt),wt=q.filter(Qe=>pt.has(Qe)).map(Qe=>pt.get(Qe));if(console.log("🎯 [ABCD-DEBUG] Sets to analyze (FIXED with Smart Matching):",{orderedSetsCount:wt.length,orderedSets:wt.slice(0,5),topicMappings:Array.from(pt.entries()).slice(0,3)}),wt.length===0){console.log("❌ [ABCD-DEBUG] No sets found for analysis"),I("No sets found for analysis"),b({});return}I(`Analyzing ${wt.length} sets...`),N(20),D(`Analyzing ${wt.length} sets...`);const mt=wt;for(let Qe=0;Qe<mt.length;Qe++){const ht=mt[Qe],ue=70/mt.length,Pe=20+Qe*ue;N(Pe),D(`Analyzing ${ht} (${Qe+1}/${mt.length})...`);const ye=((_t=l.A)==null?void 0:_t.date)||null,ke=((er=l.B)==null?void 0:er.date)||null,Re=((Gt=l.C)==null?void 0:Gt.date)||null,Ie=((We=l.D)==null?void 0:We.date)||null;console.log(`🔬 Analyzing set "${ht}" for available dates:`,{aDay:ye||"missing",bDay:ke||"missing",cDay:Re||"missing",dDay:Ie||"missing"});try{const Ye=await F(ht,ye,ke,Re,Ie,a);Je[ht]={abcdNumbers:Array.isArray(Ye.abcdNumbers)?Ye.abcdNumbers:[],bcdNumbers:Array.isArray(Ye.bcdNumbers)?Ye.bcdNumbers:[]},console.log(`✅ Analysis result for "${ht}":`,Je[ht]),N(Pe+ue)}catch(Ye){console.error(`❌ Error analyzing set ${ht}:`,Ye),Je[ht]={abcdNumbers:[],bcdNumbers:[]}}}N(90),D("Finalizing analysis..."),console.log("🎉 Final analysis result:",Je),b(Je);const gt=Object.values(Je).reduce((Qe,ht)=>Qe+ht.abcdNumbers.length+ht.bcdNumbers.length,0);I(gt>0?`✅ Found ${gt} ABCD/BCD numbers`:"⚠️ No ABCD/BCD numbers found"),N(100),D("Analysis complete!"),setTimeout(()=>{N(0),D("")},1e3)})()},[a,Object.keys(l).join(","),(Ke=l.A)==null?void 0:Ke.success,(be=l.B)==null?void 0:be.success,(Be=l.C)==null?void 0:Be.success,(He=l.D)==null?void 0:He.success]),Ae.useEffect(()=>{console.log("🎪 abcdBcdAnalysis state updated:",y),console.log("🔑 Analysis keys:",Object.keys(y)),Object.entries(y).forEach(([Me,Le])=>{console.log(`📋 Set "${Me}":`,Le)})},[y]),Ae.useEffect(()=>{(async()=>{e&&Array.isArray(n)&&n.length>0?await Te():(v("Missing required user or dates data."),d(!1))})()},[e,n,r]);const De=Me=>Me,_e=Me=>{const Le=M[Me],Xe=P==null?void 0:P[Me];return Le&&Xe?(console.log(`📤 Providing enhanced analysis data for ${Me} to Rule2Page`),{extractedNumbers:Le,analysisResults:Xe,enhancedAnalyzer:V,timestamp:Le.timestamp}):(console.log(`⚠️ No enhanced analysis data available for ${Me}`),null)},fe=(Me,Le,Xe=null)=>{console.log(`🚀 Enhanced navigation to Rule2Page - Date: ${Me}, HR: ${Le}, Set: ${Xe}`);const Je={date:Me,hrNumber:Le,setName:Xe,analysisData:Xe?_e(Xe):null,allAnalysisResults:P,allExtractedNumbers:M,enhancedAnalyzer:V};i&&i(Me,Le,Je)};if(u)return G.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:G.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 w-full max-w-md",children:[G.jsxs("div",{className:"text-center mb-6",children:[G.jsx("div",{className:"animate-spin h-10 w-10 border-4 border-purple-600 border-t-transparent rounded-full mx-auto mb-3"}),G.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Loading Index Data"}),G.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Fetching data automatically with cloud sync and local backup..."})]}),G.jsx(Uw,{progress:h,message:m,color:"purple",className:"mb-4"}),h>80&&G.jsx("div",{className:"text-center",children:G.jsx("p",{className:"text-xs text-gray-500",children:"☁️ Using automatic storage selection for optimal performance and reliability"})})]})});if(p)return G.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-6",children:G.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 text-center",children:[G.jsx("div",{className:"text-red-600 text-xl mb-2",children:"⚠️ Error"}),G.jsx("p",{className:"mb-4 text-gray-700",children:p}),G.jsx("button",{onClick:s,className:"bg-purple-600 hover:bg-purple-700 text-white px-5 py-2 rounded-lg",children:"← Go Back"})]})});const Ee=[...n].sort((Me,Le)=>new Date(Me)-new Date(Le)).indexOf(r)>=4&&a!==null,Fe=Me=>{if(!Me.success||!a||!Me.hrData[a])return`${Me.date}-(${Me.dayLabel})`;const Le=Me.hrData[a].selectedPlanet;return`${Me.date}-${Le}(${Me.dayLabel})`},Ue=Me=>Me.dayLabel==="D",Ge=Me=>{let Le="border border-gray-300 px-4 py-2 font-semibold text-center";return Ue(Me)?Le+=" bg-blue-600 text-white":Le+=" bg-gray-50 text-gray-700",Le},Ve=["A","B","C","D"].filter(Me=>{var Le;return(Le=l[Me])==null?void 0:Le.success}),ze=(()=>{const Me=new Set;console.log("🔍 HR Choices Debug:",{availableLabels:Ve,allDaysDataKeys:Object.keys(l),successfulDays:Object.entries(l).map(([Xe,Je])=>({label:Xe,success:Je==null?void 0:Je.success,hasHrData:!!(Je!=null&&Je.hrData),hrDataKeys:Je!=null&&Je.hrData?Object.keys(Je.hrData):[]}))}),Object.entries(l).forEach(([Xe,Je])=>{console.log(`🔍 Checking ${Xe}-day:`,{hasData:!!Je,success:Je==null?void 0:Je.success,hasHrData:!!(Je!=null&&Je.hrData),hrKeys:Je!=null&&Je.hrData?Object.keys(Je.hrData):[]}),Je!=null&&Je.hrData&&Object.keys(Je.hrData).forEach(et=>{console.log(`  Found HR${et} in ${Xe}-day`),Me.add(et)})});const Le=Array.from(Me).sort((Xe,Je)=>parseInt(Xe)-parseInt(Je));return console.log("🎯 Final HR choices:",Le),Le})();return G.jsx("div",{className:"min-h-screen bg-gray-50",children:G.jsxs("div",{className:"container mx-auto px-4 py-6",children:[G.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6 border-t-4 border-orange-600",children:G.jsxs("div",{className:"flex justify-between items-center",children:[G.jsxs("div",{children:[G.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"🔮 Astrological Index Matrix"}),G.jsxs("div",{className:"mt-2 text-sm text-orange-800",children:[G.jsxs("p",{children:["👤 User: ",(t==null?void 0:t.username)||e]}),G.jsxs("p",{children:["📅 Clicked Date: ",new Date(r).toLocaleDateString()]}),G.jsxs("p",{children:["🗓️ Window: ",Ve.join(", ")]})]}),G.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[G.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Debug:"}),G.jsx("span",{className:`text-xs px-2 py-1 rounded ${C.includes("✅")?"bg-green-100 text-green-700":C.includes("⚠️")?"bg-yellow-100 text-yellow-700":C.includes("❌")?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:C})]})]}),G.jsx("button",{onClick:s,className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg",children:"← Back"})]})}),G.jsxs("div",{className:"bg-white rounded-lg shadow-md mb-6",children:[G.jsxs("div",{className:"border-b border-gray-200 p-4",children:[G.jsx("span",{className:"text-sm font-medium text-gray-600 mr-4",children:"Select HR:"}),ze.map(Me=>G.jsxs("button",{onClick:()=>o(Me),className:`mx-1 px-3 py-1 rounded-lg text-sm font-medium ${a===Me?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-orange-100"}`,children:["HR ",Me]},Me))]}),E>0&&E<100&&G.jsxs("div",{className:"border-b border-gray-200 p-4 bg-blue-50",children:[G.jsx(Uw,{progress:E,message:j,color:"blue",className:"mb-2"}),G.jsxs("p",{className:"text-xs text-gray-600 text-center",children:["🧮 Computing ABCD/BCD patterns for HR ",a,"..."]})]}),a&&Object.keys(y).length>0&&G.jsx("div",{className:"border-b border-gray-200 p-4 bg-gray-50",children:G.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[G.jsx("span",{className:"font-medium text-gray-700",children:"Legend:"}),G.jsxs("div",{className:"flex items-center space-x-2",children:[G.jsx("span",{className:"bg-green-200 text-green-800 px-2 py-1 rounded text-xs font-bold",children:"ABCD"}),G.jsx("span",{className:"text-gray-600",children:"D-day numbers appearing in ≥2 of A,B,C days"})]}),G.jsxs("div",{className:"flex items-center space-x-2",children:[G.jsx("span",{className:"bg-blue-200 text-blue-800 px-2 py-1 rounded text-xs font-bold",children:"BCD"}),G.jsx("span",{className:"text-gray-600",children:"D-day numbers in exclusive B-D or C-D pairs"})]}),G.jsx("span",{className:"text-xs text-gray-500 italic",children:"(ABCD takes priority over BCD - numbers can't be both)"})]})}),a&&R.length>0&&G.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:[G.jsxs("div",{className:"flex items-center justify-between mb-4",children:[G.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Filter Topics:"}),G.jsxs("div",{className:"flex items-center gap-4",children:[G.jsxs("span",{className:"text-sm text-gray-600",children:[w.size," of ",R.length," selected"]}),G.jsx("button",{onClick:K,className:"text-sm text-blue-600 hover:text-blue-800",children:"Select All"}),G.jsx("button",{onClick:ne,className:"text-sm text-red-600 hover:text-red-800",children:"Clear All"}),G.jsx("button",{onClick:()=>x(!_),className:"text-sm text-gray-600 hover:text-gray-800",children:_?"☑️ Hide Selector":"◻️ Show Selector"})]})]}),_&&G.jsxs("div",{className:"space-y-4",children:[G.jsxs("div",{children:[G.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Topic Groups (Smart Selection)"}),G.jsx("div",{className:"flex flex-wrap gap-2",children:he().map(Me=>{const Le=te(Me),Xe=se(Me),Je=ce(Me);return G.jsxs("button",{onClick:()=>ge(Me),className:`px-3 py-1 rounded-md text-sm font-medium transition-all ${Le?"bg-blue-500 text-white":Xe?"bg-blue-200 text-blue-800 border-2 border-blue-400":"bg-gray-100 text-gray-700 hover:bg-blue-100"}`,title:`${Me}: ${Je.join(", ")}`,children:[Me," ",Le?"✓":Xe?"◐":""]},Me)})})]}),G.jsxs("div",{children:[G.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Individual Topics (Fine Control)"}),G.jsx("div",{className:"grid grid-cols-4 gap-2",children:R.map(Me=>G.jsx("div",{className:"relative",children:G.jsx("button",{onClick:()=>O(Me),className:`w-full px-2 py-1 rounded text-xs font-medium transition-all text-left ${w.has(Me)?"bg-green-500 text-white":"bg-gray-100 text-gray-700 hover:bg-green-100"}`,children:G.jsxs("div",{className:"flex items-center justify-between",children:[G.jsx("span",{className:"truncate",children:ee(Me)}),w.has(Me)&&G.jsx("span",{className:"text-white text-xs",children:"✓"})]})})},Me))})]})]}),w.size===0&&G.jsx("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:G.jsx("p",{className:"text-sm text-yellow-800",children:"⚠️ No topics selected. Select at least one topic to view analysis results."})})]}),G.jsxs("div",{className:"p-6",children:[ze.length===0&&G.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-6",children:G.jsxs("div",{className:"flex items-start space-x-3",children:[G.jsx("div",{className:"text-2xl",children:"⚠️"}),G.jsxs("div",{className:"flex-1",children:[G.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"No HR Data Available"}),G.jsx("p",{className:"text-yellow-700 mb-4",children:"The IndexPage requires both Excel data and Hour Entry data for at least one date to display HR tabs."}),G.jsxs("div",{className:"bg-white rounded-lg p-4 mb-4",children:[G.jsx("h4",{className:"font-semibold mb-2",children:"Current Data Status:"}),G.jsx("div",{className:"space-y-2 text-sm",children:["A","B","C","D"].map(Me=>{const Le=l[Me],Xe=Le==null?void 0:Le.success,Je=!!(Le!=null&&Le.hrData),et=Je?Object.keys(Le.hrData).length:0;return G.jsxs("div",{className:"flex justify-between items-center",children:[G.jsxs("span",{className:"font-medium",children:[Me,"-day (",(Le==null?void 0:Le.date)||"Unknown","):"]}),G.jsxs("div",{className:"flex items-center space-x-2",children:[G.jsx("span",{className:`px-2 py-1 rounded text-xs ${Xe?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:Xe?"✅ Complete":"❌ Missing data"}),Je&&G.jsxs("span",{className:"text-xs text-gray-600",children:[et," HR",et!==1?"s":""]})]})]},Me)})})]}),G.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[G.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"💡 How to Fix:"}),G.jsxs("ol",{className:"list-decimal list-inside text-blue-700 space-y-1 text-sm",children:[G.jsx("li",{children:"Go back to the main ABCD page"}),G.jsx("li",{children:'For each missing date, click "Excel Upload" and upload Excel file'}),G.jsx("li",{children:'For each date, click "Hour Entry" and select planets for each HR'}),G.jsx("li",{children:"Return to IndexPage once you have complete data for at least one date"})]})]})]})]})}),a?(()=>{const Me=new Set,Le={availableLabels:Ve,activeHR:a,dayDataStatus:{}};if(Ve.forEach(et=>{var mt;const xt=l[et],pt=(mt=xt==null?void 0:xt.hrData)==null?void 0:mt[a],wt=pt==null?void 0:pt.sets;Le.dayDataStatus[et]={hasData:!!xt,success:xt==null?void 0:xt.success,hasHrData:!!pt,hasSets:!!wt,setCount:wt?Object.keys(wt).length:0,setNames:wt?Object.keys(wt):[]},wt&&Object.keys(wt).forEach(gt=>{Me.add(gt)})}),console.log(`🎭 Rendering tables for HR${a}:`,Le),Me.size===0)return G.jsxs("div",{className:"text-center py-12",children:[G.jsx("div",{className:"text-4xl mb-4",children:"⚠️"}),G.jsxs("p",{className:"text-lg font-semibold mb-4 text-red-600",children:["No Sets Found for HR",a]}),G.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg text-left max-w-2xl mx-auto",children:[G.jsx("h4",{className:"font-semibold mb-2",children:"Debug Information:"}),G.jsxs("div",{className:"text-sm space-y-1",children:[G.jsxs("div",{children:[G.jsx("strong",{children:"Available Labels:"})," ",Ve.join(", ")]}),G.jsxs("div",{children:[G.jsx("strong",{children:"Active HR:"})," ",a]}),Object.entries(Le.dayDataStatus).map(([et,xt])=>{var pt;return G.jsxs("div",{className:"ml-4",children:[G.jsxs("strong",{children:[et,"-day:"]})," Success=",(pt=xt.success)==null?void 0:pt.toString(),", Sets=",xt.setCount," ",xt.setNames.length>0&&`(${xt.setNames.join(", ")})`]},et)})]}),G.jsx("div",{className:"mt-3 text-xs text-gray-600",children:"Check console logs for detailed data loading information"})]})]});const Xe=ie(),Je=Array.from(Me).filter(et=>Xe.includes(et));return console.log("🎯 Topic filtering applied:",{totalSets:Me.size,selectedTopics:w.size,availableTopics:R.length,topicsToDisplay:Xe.length,filteredSets:Je.length,setsToRender:Je}),Je.map(et=>G.jsxs("div",{className:"mb-8",children:[G.jsx("h2",{className:"text-lg font-bold mb-3 bg-blue-50 p-2 rounded",children:et}),G.jsx("div",{className:"overflow-x-auto",children:G.jsxs("table",{className:"w-full table-auto border-collapse",children:[G.jsx("thead",{children:G.jsxs("tr",{children:[G.jsx("th",{className:"border border-gray-300 px-4 py-2 font-semibold bg-gray-100",children:"Element"}),Ve.map(xt=>{const pt=l[xt];return G.jsx("th",{className:Ge(pt),children:Fe(pt)},xt)})]})}),G.jsx("tbody",{children:(()=>{const xt=["Lagna","Moon","Hora Lagna","Ghati Lagna","Vighati Lagna","Varnada Lagna","Sree Lagna","Pranapada Lagna","Indu Lagna"],pt=new Set;Ve.forEach(mt=>{const gt=l[mt].hrData[a];gt&&gt.sets&&gt.sets[et]&&Object.keys(gt.sets[et]).forEach(ft=>pt.add(ft))}),Object.values(Y).forEach(mt=>{pt.add(mt)});const wt=xt.filter(mt=>pt.has(mt));return console.log(`🎭 Rendering elements for ${et} in specified order:`,wt),wt.map(mt=>G.jsxs("tr",{className:"hover:bg-gray-50",children:[G.jsx("td",{className:"border border-gray-300 px-4 py-2 font-medium bg-blue-200",children:mt}),Ve.map(gt=>{const ft=l[gt].hrData[a];let Nt="—",Ht=!1;if(ft&&ft.sets&&ft.sets[et]&&ft.sets[et][mt]){const er=ft.sets[et][mt];Ht=er.hasData,Nt=er.rawData||"—"}console.log(`📊 Cell value for ${gt}-${mt}:`,{hasHrObj:!!ft,hasSets:!!(ft&&ft.sets),hasSetName:!!(ft&&ft.sets&&ft.sets[et]),hasElement:!!(ft&&ft.sets&&ft.sets[et]&&ft.sets[et][mt]),hasData:Ht,cellValue:Nt});const $t="border border-gray-300 px-4 py-2 text-center font-mono text-sm",_t=l[gt].dayLabel;return G.jsx("td",{className:`${$t} ${Ue(l[gt])?"ring-2 ring-blue-400 bg-blue-50":Ht?"bg-green-50 text-gray-800":"bg-red-50 text-gray-400"}`,children:de(Nt,et,_t)},gt)})]},mt))})()})]})})]},et))})():G.jsxs("div",{className:"text-center py-12 text-gray-500",children:[G.jsx("div",{className:"text-6xl mb-4",children:"🏠"}),G.jsx("p",{className:"text-lg font-semibold mb-2",children:"Select an HR above"}),G.jsx("p",{children:"Click an HR tab to view the available data matrices"})]})]})]}),G.jsx("div",{className:"flex justify-center mb-6",children:G.jsx("button",{onClick:()=>{Ee&&fe(r,a)},disabled:!Ee,className:`px-6 py-3 rounded-lg font-semibold transition-all duration-200 ${Ee?"bg-purple-500 hover:bg-purple-600 text-white shadow-lg hover:shadow-xl transform hover:-translate-y-1 cursor-pointer":"bg-gray-300 text-gray-600 cursor-not-allowed opacity-60"}`,children:"🚀 Extract Numbers (Enhanced)"})})]})})};function XZ({visible:r,onClose:e,onSubmit:t,newDate:n,setNewDate:s,dateError:i,datesList:a}){if(!r)return null;const o=d=>{d.preventDefault(),t()},c=(()=>{if(a.length===0)return console.log("🚫 No dates in list, no minimum restriction"),"";const d=[...a].sort((E,N)=>new Date(N)-new Date(E)),h=d[0];console.log("🗓️ Date restriction calculation:"),console.log("   Original dates list:",a),console.log("   Sorted dates (newest first):",d),console.log("   Most recent date string:",h);const f=new Date(h+"T00:00:00");console.log("   Most recent date as Date object:",f);const m=new Date(f);m.setDate(m.getDate()+1),console.log("   Next day date object:",m),console.log("   Next day getDate():",m.getDate()),console.log("   Next day getMonth():",m.getMonth()),console.log("   Next day getFullYear():",m.getFullYear());const g=m.toISOString().split("T")[0];console.log("   Calculated min date (day after most recent):",g);const p=m.getFullYear(),v=String(m.getMonth()+1).padStart(2,"0"),y=String(m.getDate()).padStart(2,"0"),b=`${p}-${v}-${y}`;return console.log("   Timezone-safe min date:",b),console.log("   🚫 All dates up to and including",h,"should be disabled"),console.log("   ✅ Only dates from",b,"onwards should be selectable"),b})();console.log("🔍 Current min attribute value:",c);const u=Ae.useRef(null);return Ae.useEffect(()=>{u.current&&r&&(console.log("📅 Date input element:",u.current),console.log("📅 Date input min attribute:",u.current.min),console.log("📅 Date input value:",u.current.value))},[r,c]),G.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:G.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md mx-4",children:[G.jsxs("div",{className:"flex items-center justify-between mb-4",children:[G.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Add New Date"}),G.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 text-2xl font-bold",children:"×"})]}),G.jsxs("form",{onSubmit:o,children:[G.jsxs("div",{className:"mb-4",children:[G.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Date"}),G.jsx("input",{ref:u,type:"date",value:n,onChange:d=>s(d.target.value),min:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0}),i&&G.jsx("p",{className:"mt-2 text-sm text-red-600",children:i})]}),G.jsxs("div",{className:"flex gap-3 justify-end",children:[G.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),G.jsx("button",{type:"submit",className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Add Date"})]})]})]})})}const YZ=({show:r,onClose:e,hourEntryDate:t,selectedUserData:n,planets:s,hourEntryPlanetSelections:i,handleHourEntryPlanetChange:a,handleSaveHourEntry:o,hourEntryError:l})=>{if(!r)return null;const c=u=>{u.target===u.currentTarget&&e()};return G.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",onClick:c,children:G.jsxs("div",{className:"bg-white p-6 rounded-lg max-w-5xl w-full mx-4 max-h-[90vh] overflow-y-auto shadow-xl",onClick:u=>u.stopPropagation(),children:[G.jsxs("div",{className:"text-center mb-6",children:[G.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-1",children:["🕐 Hour Entry for ",t]}),G.jsx("p",{className:"text-sm text-gray-600",children:"Select a planet for each HR period"})]}),G.jsx("div",{className:"border-2 border-blue-200 rounded-lg p-4 bg-gradient-to-br from-blue-50 to-indigo-50 shadow-sm",children:G.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3",children:n&&Array.from({length:n.hr},(u,d)=>d+1).map(u=>G.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:[G.jsx("div",{className:"text-center mb-2",children:G.jsxs("span",{className:"inline-block bg-blue-600 text-white px-2 py-1 rounded-md text-sm font-semibold",children:["HR ",u]})}),G.jsxs("select",{value:i[u]||"",onChange:d=>a(u,d.target.value),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-md focus:border-blue-500 focus:ring-1 focus:ring-blue-200 bg-white text-center font-medium",children:[G.jsx("option",{value:"",children:"🌍 Select Planet"}),s.map(d=>G.jsx("option",{value:d.value,children:d.label},d.value))]}),i[u]&&G.jsx("div",{className:"mt-1.5 text-center",children:G.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded-full font-medium",children:"✓ Selected"})})]},u))})}),l&&G.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:G.jsxs("div",{className:"flex items-center",children:[G.jsx("span",{className:"text-red-500 mr-2",children:"⚠️"}),G.jsx("p",{className:"text-red-700 text-sm font-medium",children:l})]})}),G.jsxs("div",{className:"flex justify-center gap-3 mt-4",children:[G.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-600 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 hover:text-gray-700 transition-all duration-150 shadow-sm hover:shadow-md",children:"Cancel"}),G.jsx("button",{onClick:o,className:"px-6 py-2 text-sm font-medium rounded-lg shadow-sm hover:shadow-md transition-all duration-150 transform hover:scale-[1.02] bg-blue-600 hover:bg-blue-700 text-white border border-blue-600",children:"💾 Save Entry"})]})]})})},JZ=[{value:"Su",label:"Sun (Su)"},{value:"Mo",label:"Moon (Mo)"},{value:"Ma",label:"Mars (Ma)"},{value:"Me",label:"Mercury (Me)"},{value:"Ju",label:"Jupiter (Ju)"},{value:"Ve",label:"Venus (Ve)"},{value:"Sa",label:"Saturn (Sa)"},{value:"Ra",label:"Rahu (Ra)"},{value:"Ke",label:"Ketu (Ke)"}];function QZ(){const r=$l(),{userId:e}=M2(),[t,n]=Ae.useState([]),[s,i]=Ae.useState(""),[a,o]=Ae.useState(""),[l,c]=Ae.useState(!1),[u,d]=Ae.useState(""),[h,f]=Ae.useState(""),[m,g]=Ae.useState([]),[p,v]=Ae.useState(!1),[y,b]=Ae.useState(""),[E,N]=Ae.useState(""),[j,D]=Ae.useState(!1),[C,I]=Ae.useState(""),[V,B]=Ae.useState({}),[P,k]=Ae.useState(""),[M,A]=Ae.useState({}),[w,S]=Ae.useState(!1),[_,x]=Ae.useState(null),[R,W]=Ae.useState(!1),[T,z]=Ae.useState(null),[q,Y]=Ae.useState(!1),[U,Q]=Ae.useState(null),[F,O]=Ae.useState(null),K={saveDates:(be,Be)=>Sn.saveUserDates(be,Be,hs.ABCD),getDates:be=>Sn.getUserDates(be,hs.ABCD),hasExcelData:(be,Be)=>Sn.hasExcelData(be,Be),getExcelData:(be,Be)=>Sn.getExcelData(be,Be),saveExcelData:(be,Be,He)=>Sn.saveExcelData(be,Be,He),hasHourEntry:(be,Be)=>Sn.hasHourEntry(be,Be),getHourEntry:(be,Be)=>Sn.getHourEntry(be,Be),saveHourEntry:(be,Be,He)=>Sn.saveHourEntry(be,Be,He.planetSelections),deleteDataForDate:async(be,Be)=>{console.log("🗑️ [DATASERVICE] Calling Supabase-only deletion for:",{userId:be,date:Be});try{await Sn.deleteExcelData(be,Be),await Sn.deleteHourEntry(be,Be),console.log("✅ [DATASERVICE] Supabase-only deletion completed")}catch(He){throw console.error("❌ [DATASERVICE] Deletion failed:",He.message),He}},invalidateAnalysisCacheForDate:()=>Promise.resolve(),invalidateUser:()=>Promise.resolve(),clearAllCache:()=>Promise.resolve(),warmUpCache:()=>Promise.resolve()},ne=()=>Promise.resolve();Ae.useEffect(()=>{ee()},[]);const ee=async()=>{try{c(!0);const be=await Sn.getAllUsers();if(be&&be.length>0){const Be=be.map(He=>({...He,id:String(He.id),hr:Number(He.hr)||1}));n(Be),e&&(i(e),await ie(e))}else{const Be=[{id:"1",username:"Test User 1",hr:3},{id:"2",username:"Test User 2",hr:4},{id:"3",username:"Test User 3",hr:5}];try{for(const He of Be)await Sn.createUser({username:He.username,email:`${He.username.toLowerCase().replace(" ","")}@example.com`,hr:He.hr});n(Be)}catch(He){console.warn("Could not create default users, using local data:",He),n(Be)}}d("")}catch(be){console.error("Failed to fetch users:",be),d("Failed to fetch users. Please try again.")}finally{c(!1)}};Ae.useEffect(()=>{s?ie(s):(g([]),o(""))},[s]);const ie=async be=>{try{console.log("📅 Loading user dates for:",be);const Be=await Sn.getUserDates(be,hs.ABCD);if(console.log("📅 Loaded dates from user_dates_abcd table:",Be),Be&&Be.length>0){const He=Be.sort((Me,Le)=>new Date(Le)-new Date(Me));console.log("📅 Setting sorted dates in UI:",He),g(He),o(He[0]);return}console.log("📅 No dates found, setting empty state"),g([]),o("")}catch(Be){console.error("❌ Error loading user dates:",Be),g([]),o("")}};Ae.useEffect(()=>{s?(ie(s),setTimeout(()=>{K.warmUpCache(s).catch(be=>console.warn("Cache warming failed:",be))},1e3)):(g([]),o(""))},[s]);const he=async()=>{if(!y){N("Please select a date.");return}if(!s){N("Please select a user first.");return}try{N("");const be=new Date(y).toISOString().split("T")[0];if(m.map(Me=>new Date(Me).toISOString().split("T")[0]).includes(be)){N("This date already exists.");return}console.log("📅 [PROGRESSIVE] Adding date with progressive calendar logic (no N-1 validation required)..."),console.log(`📅 [PROGRESSIVE] User wants to add: ${be} - progressive calendar allows this`);try{if((await Sn.getUserDates(s)).includes(be)){N(`Date ${new Date(be).toLocaleDateString()} already exists for this user.`);return}console.log("✅ [PROGRESSIVE] Date validation passed - new date is unique")}catch{console.log("⚠️ [PROGRESSIVE] Could not check existing dates, proceeding anyway")}console.log("💾 Adding new date using CleanSupabaseService for ABCD page:",be),await Sn.addUserDate(s,be,hs.ABCD),console.log("✅ Date added successfully to user_dates_abcd table"),await ie(s),console.log("✅ Reloaded dates from database after adding"),o(be),b(""),N(""),v(!1);const He=`Date ${new Date(be).toLocaleDateString()} added successfully. Ready for Excel upload and hour entry.`;f(He),setTimeout(()=>f(""),3e3)}catch(be){console.error("❌ Error adding date:",be),N("Failed to add date. Please try again.")}},ce=async be=>{try{if(console.log("🗑️ Starting date removal process for:",be),m.length<=1){console.log("🗑️ Removing last date using CleanSupabaseService for ABCD page:",be),await Sn.removeUserDate(s,be,hs.ABCD),console.log("✅ Last date removed successfully from user_dates_abcd table"),await ie(s),o(""),f(`Date ${new Date(be).toLocaleDateString()} removed.`),setTimeout(()=>f(""),3e3);return}const Be=m[0],He=m[m.length-1];if(be!==Be&&be!==He){d("Only newest or oldest can be deleted directly."),setTimeout(()=>d(""),5e3);return}if(console.log("🗑️ Removing date using CleanSupabaseService for ABCD page:",be),await Sn.removeUserDate(s,be,hs.ABCD),console.log("✅ Date removed successfully from user_dates_abcd table"),await ie(s),console.log("✅ Reloaded dates from database after removal"),a===be){const Le=await Sn.getUserDates(s);Le.length>0?o(Le[0]):o("")}A(Le=>{const Xe={...Le};return delete Xe[be],Xe}),f(`${be===Be?"Newest":"Oldest"} date ${new Date(be).toLocaleDateString()} removed.`),setTimeout(()=>f(""),3e3)}catch(Be){console.error("❌ Error removing date:",Be),d("Failed to remove date. Please try again."),setTimeout(()=>d(""),5e3)}},te=async(be,Be)=>{try{const He=be.target.files[0];if(!He)return;console.log(`🔍 STRICT VALIDATION: Starting upload for ${He.name}`);const Me=10*1024*1024;if(He.size>Me){d(`File too large! Maximum size is 10MB. Your file: ${(He.size/1024/1024).toFixed(2)}MB`),setTimeout(()=>d(""),8e3),be.target.value=null;return}const Le=new FileReader;Le.onload=async Xe=>{var Je;try{console.log(`📊 Processing Excel file: ${He.name}`);const et=new Uint8Array(Xe.target.result),xt=_p(et,{type:"array"}),pt=xt.Sheets[xt.SheetNames[0]],wt=kc.sheet_to_json(pt,{header:1});console.log(`📋 Raw Excel data: ${wt.length} rows`);const mt=IZ(wt,He.name);if(!mt.isValid){console.error("❌ VALIDATION FAILED:",mt.errors);const $t=PZ(mt,He.name);console.error(`📋 VALIDATION REPORT:
`,$t),d("❌ Excel file can't be uploaded - it's not from ABCD and BCD number file."),setTimeout(()=>d(""),5e3),be.target.value=null;return}let gt="";mt.warnings&&mt.warnings.length>0?(console.warn("⚠️ VALIDATION WARNINGS:",mt.warnings),gt=`⚠️ File uploaded with ${mt.warnings.length} warning(s):
`,mt.warnings.slice(0,3).forEach(($t,_t)=>{gt+=`${_t+1}. ${$t}
`}),mt.warnings.length>3&&(gt+=`... and ${mt.warnings.length-3} more warnings
`),f(gt),setTimeout(()=>f(""),1e4)):(gt=`${mt.dataQualityScore>=98?"🟢":mt.dataQualityScore>=95?"🟡":"🟠"} Excel uploaded successfully for ${Be} - Quality: ${((Je=mt.dataQualityScore)==null?void 0:Je.toFixed(1))||"100.0"}% (${mt.validDataCells||2430} valid cells)`,f(gt),setTimeout(()=>f(""),8e3)),console.log("✅ VALIDATION PASSED - Processing data...");const ft=se(wt,Be);await K.saveExcelData(s,Be,{fileName:He.name,sets:ft.sets,date:Be,uploadedAt:new Date().toISOString(),validationReport:mt});const Nt=await K.hasExcelData(s,Be),Ht=await K.hasHourEntry(s,Be);console.log(`📊 Status after Excel upload for ${Be}:`,{excelUploaded:Nt,hourEntryCompleted:Ht,key:`${s}_${Be}`}),A($t=>({...$t,[Be]:{excelUploaded:Nt,hourEntryCompleted:Ht}})),f(`✅ Excel file validated and uploaded successfully for ${new Date(Be).toLocaleDateString()}!`),setTimeout(()=>f(""),5e3),g([...m])}catch(et){console.error("❌ Excel processing error:",et),d(`Failed to process Excel file: ${et.message}

Please ensure the file matches the required template format.`),setTimeout(()=>d(""),8e3)}},Le.readAsArrayBuffer(He),be.target.value=null,be.target.value=null}catch(He){d(`Failed to upload file: ${He.message}`),setTimeout(()=>d(""),5e3)}},se=(be,Be)=>{console.log(`🔍 Processing Excel with all 9 planets for ${Be}, ${be.length} rows`);const He={date:Be,sets:{},planets:{}},Me={1:"Su",2:"Mo",3:"Ma",4:"Me",5:"Ju",6:"Ve",7:"Sa",8:"Ra",9:"Ke"},Le={as:"Lagna",mo:"Moon",hl:"Hora Lagna",gl:"Ghati Lagna",vig:"Vighati Lagna",var:"Varnada Lagna",sl:"Sree Lagna",pp:"Pranapada Lagna",in:"Indu Lagna"};let Xe=null,Je={};for(let et=0;et<be.length;et++){const xt=be[et];if(!Array.isArray(xt)||xt.length===0)continue;const pt=String(xt[0]||"").trim();if(pt.includes("Matrix")&&(pt.includes("D-")||pt.includes("Set-"))){Xe&&Object.keys(Je).length>0&&(He.sets[Xe]={...Je}),Xe=pt,Je={},console.log(`📊 Found set: ${Xe}`);continue}if(pt.toLowerCase()==="x"||["sun","moon","mars","mercury","jupiter","venus","saturn","rahu","ketu"].some(wt=>pt.toLowerCase().includes(wt))){console.log(`🪐 Skipping planet header row: ${pt}`);continue}if(Xe&&pt&&pt.length<=3){const wt=pt.toLowerCase();if(Le[wt]){const mt=Le[wt],gt={};for(let ft=1;ft<=9&&ft<xt.length;ft++){const Nt=xt[ft];if(Nt&&typeof Nt=="string"&&Nt.trim()){const Ht=Me[ft];gt[Ht]=Nt.trim()}}Object.keys(gt).length>0&&(Je[mt]=gt,console.log(`  📝 ${mt}: ${Object.keys(gt).length} planets`))}}}return Xe&&Object.keys(Je).length>0&&(He.sets[Xe]={...Je}),console.log(`✅ Processed ${Object.keys(He.sets).length} sets for ${Be}`),console.log("📋 Sets found:",Object.keys(He.sets)),He},ge=async be=>{if(!s){d("Please select a user first.");return}await K.getExcelData(s,be);const Be=t.find(Le=>Le.id.toString()===s);if(!(Be!=null&&Be.hr)){d("User HR info missing.");return}let He={};for(let Le=1;Le<=Be.hr;Le++)He[Le]="";const Me=await K.getHourEntry(s,be);Me&&Me.planetSelections&&(He={...Me.planetSelections}),I(be),B(He),k(""),D(!0)},de=(be,Be)=>{B(He=>({...He,[be]:Be}))},Te=async()=>{const be=t.find(Me=>Me.id.toString()===s);let Be=!0;for(let Me=1;Me<=be.hr;Me++)if(!V[Me]){Be=!1;break}if(!Be){k("Select a planet for each HR.");return}const He={userId:s,date:C,planetSelections:V,savedAt:new Date().toISOString()};try{await K.saveHourEntry(s,C,He);const Me=await K.hasExcelData(s,C),Le=await K.hasHourEntry(s,C);console.log(`⏰ Status after Hour Entry save for ${C}:`,{excelUploaded:Me,hourEntryCompleted:Le,key:`${s}_${C}`}),A(Xe=>({...Xe,[C]:{excelUploaded:Me,hourEntryCompleted:Le}})),D(!1),f(`Hour entry saved for ${new Date(C).toLocaleDateString()}.`),setTimeout(()=>f(""),3e3)}catch{k("Failed to save. Try again.")}},De=async be=>{if(console.log("🏠 handleIndexClick called with date:",be),console.log("🏠 Current datesList:",m),console.log("🆚 INDEXPAGE vs RULE-1 INPUT COMPARISON:"),console.log("   IndexPage clicked date:",be,typeof be),console.log("   IndexPage datesList:",m),console.log("   IndexPage user:",s),console.log("   Rule-1 would get SAME inputs for SAME button click"),!s){d("Please select a user first.");return}const Be=await K.getExcelData(s,be),He=await K.getHourEntry(s,be);if(!He){d("Complete Hour Entry for this date first.");return}try{console.log("🔍 Excel data structure:",Be.data),console.log("🔍 Hour entry selections:",He.planetSelections),z({date:be,selectedUser:s}),W(!0)}catch{d("Error processing saved data. Please re-upload Excel and complete Hour Entry.")}},_e=()=>{W(!1),z(null)},fe=async be=>{if(console.log("🔗 handleRule2Click called with date:",be),console.log("🔗 Current datesList:",m),console.log("🔗 Current selectedUser:",s),console.log("🔍 === ABCDNUMBER RULE2 DEBUG ==="),console.log("📅 Clicked date type:",typeof be),console.log("📅 Clicked date value:",JSON.stringify(be)),console.log("📅 DatesList type:",typeof m),console.log("📅 DatesList value:",JSON.stringify(m)),!s){console.log("❌ No user selected"),d("Please select a user first.");return}const Be=[...m].sort((pt,wt)=>new Date(pt)-new Date(wt)),He=Be.indexOf(be);if(console.log("🔍 ABCDBCDNumber date processing (FIXED):"),console.log("  Sorted dates:",Be),console.log(`  Clicked date "${be}" is at index ${He} (position ${He+1})`),He<3){d("Rule-2 requires the clicked date to have at least 3 preceding dates. This is only the "+(He+1)+ve(He+1)+" date chronologically.");return}const Me=Be[He-3],Le=Be[He-2],Xe=Be[He-1],Je=Be[He];console.log("🔗 Checking dates for ABCD sequence:"),console.log("   A (3rd back):",Me),console.log("   B (2nd back):",Le),console.log("   C (1st back):",Xe),console.log("   D (clicked):",Je,"← Analysis source"),console.log("   D (1st back):",Je);const et=[{label:"A",date:Me},{label:"B",date:Le},{label:"C",date:Xe},{label:"D",date:Je}],xt=[];for(const{label:pt,date:wt}of et){const mt=await K.hasExcelData(s,wt),gt=await K.hasHourEntry(s,wt);mt||xt.push(`${pt}-day (${new Date(wt).toLocaleDateString()}): Missing Excel file`),gt||xt.push(`${pt}-day (${new Date(wt).toLocaleDateString()}): Missing Hour Entry`)}if(xt.length>0){d(`Rule-2 requires Excel and Hour Entry for all ABCD dates:

${xt.join(`
`)}`);return}console.log("✅ All validations passed, showing Rule2Page"),x({date:be,selectedUser:s}),S(!0)},ae=async be=>{if(console.log("🪐 handlePlanetsAnalysisClick called with date:",be),console.log("🪐 Date type:",typeof be),console.log("🪐 Date value (JSON):",JSON.stringify(be)),console.log("🪐 Current datesList:",m),console.log("🪐 Current selectedUser:",s),!s){console.log("❌ No user selected"),d("Please select a user first.");return}console.log("📅 [PROGRESSIVE] Navigating to Planets Analysis with progressive calendar logic..."),console.log(`🪐 [PROGRESSIVE] User selected date: ${be} - allowing direct navigation`);const Be=`/planets-analysis/${s}?date=${be}`;console.log("🪐 Navigating to URL:",Be),r(Be)},ve=be=>{if(be%100>=11&&be%100<=13)return"th";switch(be%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},Ee=()=>{S(!1),x(null)},Fe=be=>{if(console.log("🕰️ handleRule1Click called with date:",be),console.log("🕰️ Current datesList:",m),console.log("🕰️ Current selectedUser:",s),!s){console.log("❌ No user selected"),d("Please select a user first.");return}const Be=[...m].sort((Le,Xe)=>new Date(Le)-new Date(Xe)),He=Be.indexOf(be);if(He<4){d("Past Days requires at least 5 dates. This is only the "+(He+1)+ve(He+1)+" date chronologically.");return}const Me=Be[3];console.log("✅ Past Days validation passed, showing Rule1PageEnhanced"),console.log(`🔄 FIXED: Past Days → Display: "${be}", Analysis: "${Me}" (rule2page logic)`),console.log(`📅 User clicked: "${be}" → Show this date as Target, but analyze: "${Me}"`),Q({date:be,analysisDate:Me,selectedUser:s}),Y(!0)},Ue=()=>{Y(!1),Q(null)},Ge=(be,Be,He=null)=>{console.log("🚀 Enhanced extract numbers navigation:",{date:be,activeHR:Be,hasEnhancedData:!!He}),x({date:be,selectedUser:s,activeHR:Be,enhancedData:He}),S(!0)};Ae.useEffect(()=>{e&&t.length>0&&i(e)},[e,t]);const Ve=t.find(be=>be.id.toString()===s);Ae.useEffect(()=>{(async()=>{if(!s||m.length===0){A({});return}const Be={};for(const He of m){const Me=await K.hasExcelData(s,He),Le=await K.hasHourEntry(s,He);Be[He]={excelUploaded:Me,hourEntryCompleted:Le}}A(Be)})()},[m,s]);const ze=be=>{var Be;return((Be=M[be])==null?void 0:Be.excelUploaded)||!1},Ke=be=>{var Be;return((Be=M[be])==null?void 0:Be.hourEntryCompleted)||!1};return Ae.useEffect(()=>{(async()=>{if(m.length>0&&s){console.log("🔍 Rule-2 Debug Info:"),console.log("   - Total dates:",m.length),console.log("   - Checking Rule-2 availability per date based on chronological position (thisIndex >= 4)"),console.log("   - Dates list:",m);for(const[Be,He]of m.entries()){const Le=[...m].sort((xt,pt)=>new Date(xt)-new Date(pt)).indexOf(He),Xe=Le>=4,Je=await K.hasExcelData(s,He),et=await K.hasHourEntry(s,He);console.log(`   - Date ${Be+1} (${He}): chronoIndex=${Le}, Rule2Available=${Xe}, Excel=${Je}, HourEntry=${et}`)}}})()},[m,s]),Ae.useEffect(()=>{(async()=>{var Be;if(s){console.log("🔍 DEBUG: Current user data state for",s);const He=await K.getDates(s);console.log("📅 Available dates:",He);for(const Me of He){const Le=await K.getExcelData(s,Me),Xe=await K.getHourEntry(s,Me);console.log(`📊 Data for ${Me}:`,{hasExcel:!!Le,hasHour:!!Xe,excelSets:(Be=Le==null?void 0:Le.data)!=null&&Be.sets?Object.keys(Le.data.sets):[],hourPlanets:Xe!=null&&Xe.planetSelections?Object.keys(Xe.planetSelections):[]})}}})()},[s]),w&&_?G.jsx(qZ,{date:_.date,selectedUser:_.selectedUser,datesList:m,onBack:Ee,activeHR:_.activeHR,enhancedData:_.enhancedData},`rule2-${s}-${m.length}-${JSON.stringify(m)}`):R&&T?G.jsx(KZ,{date:T.date,selectedUser:T.selectedUser,datesList:m,onBack:_e,onExtractNumbers:Ge},`index-${s}-${m.length}-${JSON.stringify(m)}`):q&&U?G.jsx(HZ,{date:U.date,analysisDate:U.analysisDate,selectedUser:U.selectedUser,datesList:m,onBack:Ue,users:t},`rule1-${s}-${m.length}-${JSON.stringify(m)}`):G.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:G.jsxs("div",{className:"container mx-auto px-4 py-6",children:[G.jsx("div",{className:"bg-white rounded-lg shadow-lg p-4 mb-6 border-t-4 border-purple-600",children:G.jsxs("div",{className:"flex items-center justify-between",children:[G.jsxs("div",{children:[G.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"ABCD BCD Number"}),Ve?G.jsxs("div",{className:"text-sm text-purple-800",children:[G.jsxs("p",{children:["✅ User: ",Ve.username]}),G.jsxs("p",{children:["🏠 HR Numbers: ",Ve.hr]}),G.jsxs("p",{children:["📅 Dates: ",m.length]}),F&&G.jsxs("p",{children:["🚀 Cache: ",F.provider," ",F.available?"✅":"❌"]})]}):G.jsxs("div",{className:"text-sm text-red-600",children:[G.jsx("p",{children:"⚠️ No user data found"}),F&&G.jsxs("p",{children:["🚀 Cache: ",F.provider," ",F.available?"✅":"❌"]})]})]}),G.jsxs("div",{className:"flex gap-2",children:[F&&G.jsx("button",{onClick:async()=>{await K.clearAllCache(),await ne(),f("Cache cleared successfully"),setTimeout(()=>f(""),3e3)},className:"bg-orange-500 hover:bg-orange-600 text-white px-3 py-1 rounded-lg text-xs",title:"Clear all cache",children:"🧹 Cache"}),G.jsx("button",{onClick:()=>v(!0),className:"bg-purple-500 hover:bg-purple-600 text-white px-3 py-1 rounded-lg",children:"Add Date"}),G.jsx(no,{to:"/",className:"bg-gray-500 hover:bg-gray-600 text-white px-3 py-1 rounded-lg",children:"Back to Home"})]})]})}),G.jsxs("div",{className:"bg-white rounded-lg shadow-md p-3 mb-4",children:[G.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"📅 Dates List"}),m.length>0?G.jsx("div",{className:"space-y-2",children:m.map((be,Be)=>{const Me=[...m].sort((pt,wt)=>new Date(pt)-new Date(wt)).indexOf(be);m.length===1||Be===0||m.length-1;const Le=ze(be),Xe=Ke(be),Je=Me>=4,et=Je,xt=Me>=3;return G.jsxs("div",{className:`flex items-center gap-2 p-2.5 rounded-lg border transition-all ${a===be?"bg-purple-50 border-purple-300 shadow-sm":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:[G.jsx("div",{className:"cursor-pointer min-w-[120px]",onClick:()=>o(be),children:G.jsx("div",{className:"font-bold text-blue-700 text-base",children:new Date(be).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})}),G.jsxs("div",{className:"flex gap-1.5 flex-wrap",children:[G.jsxs("div",{className:"relative",children:[G.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:pt=>te(pt,be),className:"hidden",id:`excel-upload-${be}`}),G.jsxs("label",{htmlFor:`excel-upload-${be}`,className:`px-2 py-1 text-xs font-medium rounded cursor-pointer transition-all ${Le?"bg-green-100 text-green-700 border border-green-300":"bg-purple-100 text-purple-700 border border-purple-300 hover:bg-purple-200"}`,children:["📊 Excel",Le?" ✓":""]})]}),G.jsxs("button",{onClick:()=>ge(be),disabled:!1,className:`px-2 py-1 text-xs font-medium rounded transition-all ${Xe?"bg-blue-100 text-blue-700 border border-blue-300":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:["Hour Entry",Xe?" ✓":""]}),G.jsx("button",{onClick:()=>De(be),disabled:!1,className:"px-2 py-1 text-xs font-medium rounded transition-all bg-orange-500 hover:bg-orange-600 text-white",children:"Index"}),Je&&G.jsx("button",{onClick:()=>et?Fe(be):null,disabled:!et,className:`px-2 py-1 text-xs font-medium rounded transition-all ${et?"bg-green-500 hover:bg-green-600 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:et?"Past Days Analysis - 4-day rolling window":"Past Days disabled - requires at least 5 total dates",children:"Past Days"}),xt&&G.jsx("button",{onClick:()=>fe(be),className:"px-2 py-1 text-xs font-medium rounded bg-purple-500 text-white hover:bg-purple-600",children:"Rule-2"}),G.jsx("button",{onClick:()=>ae(be),className:"px-2 py-1 text-xs font-medium rounded bg-cyan-500 text-white hover:bg-cyan-600",title:"Planets Analysis - Target data (left) vs Planets data (right)",children:"Planets"}),(()=>{const pt=[...m].sort((ft,Nt)=>new Date(ft)-new Date(Nt)),wt=pt.indexOf(be),mt=pt.length-1,gt=wt===0||wt===mt;return G.jsx("button",{onClick:()=>{if(!gt)return;const ft=`Are you sure you want to delete ${new Date(be).toLocaleDateString()}? This action cannot be undone.`;window.confirm(ft)&&ce(be)},disabled:!gt,className:`px-2 py-1 text-xs font-medium rounded ${gt?"bg-red-500 hover:bg-red-600 text-white":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:"Delete"})})()]}),G.jsxs("div",{className:"ml-auto flex flex-col gap-0.5",children:[G.jsx("div",{className:`text-xs px-1.5 py-0.5 rounded ${Le?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:Le?"📊 Excel ✓":"📊 No Excel"}),G.jsx("div",{className:`text-xs px-1.5 py-0.5 rounded ${Xe?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}`,children:Xe?"🕐 Hour ✓":"🕐 Pending"})]})]},be)})}):G.jsxs("div",{className:"text-center py-8 text-gray-500",children:[G.jsx("div",{className:"text-4xl mb-3",children:"📅"}),G.jsx("h3",{className:"text-lg font-semibold mb-1",children:"No dates added yet"}),G.jsx("p",{className:"text-sm",children:'Click "Add Date" to start your astrological analysis'})]})]}),u&&G.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 text-red-700 px-3 py-2 rounded mb-4",children:u}),h&&G.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 text-green-700 px-3 py-2 rounded mb-4",children:h}),G.jsx(XZ,{visible:p,onClose:()=>{v(!1),b(""),N("")},onSubmit:he,newDate:y,setNewDate:b,dateError:E,datesList:m}),G.jsx(YZ,{show:j,onClose:()=>{D(!1),k("")},hourEntryDate:C,datesList:m,hourEntryPlanetSelections:V,setHourEntryPlanetSelections:B,hourEntryError:P,handleHourEntryPlanetChange:de,handleSaveHourEntry:Te,selectedUserData:Ve,planets:JZ})]})})}class ZZ{constructor(){this.tableName="topic_abcd_bcd_numbers"}async getAllTopicNumbers(){try{console.log("🔍 [AbcdBcdDB] Fetching all topic numbers from database...");const{data:e,error:t}=await Xt.from(this.tableName).select("topic_name, abcd_numbers, bcd_numbers").order("topic_name");if(t)return console.error("❌ [AbcdBcdDB] Database error:",t),{success:!1,error:`Database error: ${t.message}`,data:null};if(!e||e.length===0)return console.warn("⚠️ [AbcdBcdDB] No topic numbers found in database"),{success:!1,error:"No topic numbers found in database",data:null};const n={};return e.forEach(s=>{n[s.topic_name]={abcd:s.abcd_numbers||[],bcd:s.bcd_numbers||[]}}),console.log(`✅ [AbcdBcdDB] Loaded ${e.length} topics from database`),{success:!0,data:{topicNumbers:n,totalTopics:e.length,source:"Database (topic_abcd_bcd_numbers)",lastUpdated:new Date().toISOString()},error:null}}catch(e){return console.error("💥 [AbcdBcdDB] Service error:",e),{success:!1,error:`Service error: ${e.message}`,data:null}}}async getTopicNumbers(e){try{console.log(`🔍 [AbcdBcdDB] Fetching numbers for topic: ${e}`);const{data:t,error:n}=await Xt.from(this.tableName).select("abcd_numbers, bcd_numbers").eq("topic_name",e).single();if(n)return console.error(`❌ [AbcdBcdDB] Error fetching topic ${e}:`,n),{abcd:[],bcd:[]};if(!t)return console.warn(`⚠️ [AbcdBcdDB] Topic not found: ${e}`),{abcd:[],bcd:[]};const s={abcd:t.abcd_numbers||[],bcd:t.bcd_numbers||[]};return console.log(`✅ [AbcdBcdDB] Topic ${e}:`,s),s}catch(t){return console.error(`💥 [AbcdBcdDB] Error fetching topic ${e}:`,t),{abcd:[],bcd:[]}}}async updateTopicNumbers(e,t,n,s=""){try{console.log(`🔄 [AbcdBcdDB] Updating topic: ${e}`),console.log(`   ABCD: [${t.join(", ")}]`),console.log(`   BCD: [${n.join(", ")}]`);const{data:i,error:a}=await Xt.from(this.tableName).update({abcd_numbers:t,bcd_numbers:n,notes:s,updated_at:new Date().toISOString()}).eq("topic_name",e).select();return a?(console.error(`❌ [AbcdBcdDB] Error updating topic ${e}:`,a),{success:!1,error:`Database error: ${a.message}`}):(console.log(`✅ [AbcdBcdDB] Successfully updated topic: ${e}`),{success:!0,data:i[0]||null})}catch(i){return console.error(`💥 [AbcdBcdDB] Error updating topic ${e}:`,i),{success:!1,error:`Service error: ${i.message}`}}}isAbcdNumber(e,t){return!e||!e.abcd?!1:e.abcd.includes(t)}isBcdNumber(e,t){return!e||!e.bcd?!1:e.bcd.includes(t)}getAnalysisSummary(e){if(!e.success||!e.data)return{source:"Database (failed)",totalTopics:0,totalAbcdNumbers:0,totalBcdNumbers:0,lastUpdated:new Date().toISOString()};const{topicNumbers:t}=e.data;let n=0,s=0;return Object.values(t).forEach(i=>{n+=i.abcd.length,s+=i.bcd.length}),{source:e.data.source,totalTopics:e.data.totalTopics,totalAbcdNumbers:n,totalBcdNumbers:s,lastUpdated:e.data.lastUpdated}}async bulkUpdateTopics(e){try{console.log(`🔄 [AbcdBcdDB] Bulk updating ${e.length} topics...`);const t=[];for(const s of e){const i=await this.updateTopicNumbers(s.topicName,s.abcdNumbers,s.bcdNumbers,s.notes);t.push({topicName:s.topicName,...i})}const n=t.filter(s=>s.success).length;return console.log(`✅ [AbcdBcdDB] Bulk update completed: ${n}/${e.length} successful`),{success:n===e.length,results:t,summary:`${n}/${e.length} topics updated successfully`}}catch(t){return console.error("💥 [AbcdBcdDB] Bulk update error:",t),{success:!1,error:`Bulk update error: ${t.message}`}}}}const K8=new ZZ;function X8(){const r=$l(),{userId:e}=M2(),t=gd(),[n,s]=Ae.useState(!1),[i,a]=Ae.useState(""),[o,l]=Ae.useState(""),[c,u]=Ae.useState(null),[d,h]=Ae.useState(new Set),[f,m]=Ae.useState(!0),[g,p]=Ae.useState(null),[v,y]=Ae.useState(""),[b,E]=Ae.useState(1),[N,j]=Ae.useState({}),[D,C]=Ae.useState(!1),[I,V]=Ae.useState(null),[B,P]=Ae.useState(!1),[k,M]=Ae.useState(null),[A,w]=Ae.useState("loading"),[S,_]=Ae.useState({});Ae.useEffect(()=>{const fe=async()=>{if(e)try{const{data:Ee,error:Fe}=await Xt.from("users").select("id, username, hr, days").eq("id",e).single();if(Fe)throw Fe;p(Ee)}catch(Ee){console.error("Error loading user info:",Ee),p({id:e,username:"Unknown User",hr:"N/A"})}},ae=new URLSearchParams(t.search),ve=ae.get("date");console.log("🔍 [PlanetsAnalysis] URL date extraction:"),console.log("  Full URL:",window.location.href),console.log("  Search params:",t.search),console.log("  All params:",Object.fromEntries(ae.entries())),console.log("  Extracted dateParam:",ve),console.log("  dateParam type:",typeof ve),console.log("  Current selectedDate state:",v),console.log("  Provided userId:",e),ve?(console.log("  ✅ Setting selectedDate to:",ve),y(ve)):(console.log("  ❌ No date parameter found in URL"),console.log("  💡 Expected URL format: /planets-analysis/{userId}?date=2025-07-07")),fe()},[e,t.search]),Ae.useEffect(()=>{e&&g&&(console.log("🔄 [PlanetsAnalysis] Triggering data load - userId:",e,"selectedDate:",v),x())},[e,g,v]),Ae.useEffect(()=>{g&&g.hr&&b>g.hr&&E(1)},[g]),Ae.useEffect(()=>{if(k&&b){if(console.log(`🔄 [PlanetsAnalysis] Hour/Data change detected - HR ${b}`),console.log(`🔄 [PlanetsAnalysis] Current realAnalysisData source: ${k.source}`),console.log("✅ [PlanetsAnalysis] Real analysis data updated for HR switching"),k.topicNumbers){const fe=Object.keys(k.topicNumbers).length;console.log(`📊 [PlanetsAnalysis] Real analysis data contains ${fe} topics`)}if(k.topicNumbers&&k.topicNumbers["D-1 Set-1 Matrix"]){const fe=k.topicNumbers["D-1 Set-1 Matrix"];console.log(`🔄 [PlanetsAnalysis] Effect - D-1 Set-1 Matrix HR ${b}:`,fe)}}},[b,k]);const x=async()=>{try{P(!0),a(""),w("loading"),console.log("🔍 [PlanetsAnalysis] Loading ABCD/BCD numbers from all sources...");try{if(e){console.log("📊 [PlanetsAnalysis] Attempting to fetch real Rule2 analysis data...");let ae=[];console.log("🔍 [DEBUG] Loading dates - Priority 1: CleanSupabaseServiceWithSeparateStorage");try{const{default:ve,PAGE_CONTEXTS:Ee}=await ho(async()=>{const{default:Fe,PAGE_CONTEXTS:Ue}=await Promise.resolve().then(()=>jS);return{default:Fe,PAGE_CONTEXTS:Ue}},void 0);console.log("🔧 [PlanetsAnalysis] Attempting to load dates from CleanSupabaseServiceWithSeparateStorage..."),console.log("🔧 [PlanetsAnalysis] Using userId:",e),console.log("🔧 [PlanetsAnalysis] Using PAGE_CONTEXTS.ABCD:",Ee.ABCD),ae=await ve.getUserDates(e,Ee.ABCD),console.log("📅 [PlanetsAnalysis] CleanSupabaseServiceWithSeparateStorage result:",ae),console.log("📅 [PlanetsAnalysis] Result type:",typeof ae),console.log("📅 [PlanetsAnalysis] Result length:",ae?ae.length:"null/undefined"),ae&&ae.length>0?(console.log("✅ [PlanetsAnalysis] Successfully loaded dates from CleanSupabaseServiceWithSeparateStorage"),console.log("🔍 [PRIORITY DEBUG] All dates from CleanSupabaseServiceWithSeparateStorage:",ae),console.log("🔍 [PRIORITY DEBUG] July 2025 dates available:",ae.filter(Fe=>Fe.startsWith("2025-07")))):(console.log("❌ [PlanetsAnalysis] CleanSupabaseServiceWithSeparateStorage returned empty/null result"),ae=[])}catch(ve){console.log("❌ [PlanetsAnalysis] CleanSupabaseServiceWithSeparateStorage error:",ve),console.log("❌ [PlanetsAnalysis] Error details:",ve.message),console.log("❌ [PlanetsAnalysis] Error stack:",ve.stack),ae=[]}if(ae.length===0){console.log("🔄 [DEBUG] CleanSupabaseServiceWithSeparateStorage failed, falling back to localStorage");try{const ve=localStorage.getItem(`abcd_dates_${e}`);if(ve)ae=JSON.parse(ve),console.log("📅 [PlanetsAnalysis] Found dates in localStorage:",ae);else{console.log("⚠️ [PlanetsAnalysis] No dates found in localStorage with key:",`abcd_dates_${e}`);const Fe=Object.keys(localStorage).filter(Ge=>Ge.includes(e));console.log("🔍 [PlanetsAnalysis] Available localStorage keys for user:",Fe);const Ue=[`abcd_dates_${e}`,`dates_${e}`,`user_dates_${e}`,`${e}_dates`];for(const Ge of Ue){const Ve=localStorage.getItem(Ge);if(Ve){console.log(`🔍 [PlanetsAnalysis] Found dates in alternative key "${Ge}":`,JSON.parse(Ve)),ae=JSON.parse(Ve);break}}}}catch(ve){console.log("❌ [PlanetsAnalysis] Error reading localStorage dates:",ve)}}if(ae.length===0){console.log("❌ [PlanetsAnalysis] CRITICAL: No dates found in any source!"),console.log("🔍 [PlanetsAnalysis] This suggests a data storage/retrieval issue"),a("No date data available. Please ensure data is properly loaded in the system."),P(!1);return}if(v&&!ae.includes(v)&&(console.log(`🔧 [PlanetsAnalysis] Selected date ${v} not in availableDates`),console.log("📅 [PlanetsAnalysis] Current availableDates:",ae),ae=[...ae,v].sort((Ee,Fe)=>new Date(Ee)-new Date(Fe)),console.log(`✅ [PlanetsAnalysis] Added ${v} to availableDates`),console.log("📅 [PlanetsAnalysis] Updated availableDates:",ae),console.log(`📍 [PlanetsAnalysis] Selected date ${v} now at position:`,ae.indexOf(v)+1)),ae&&ae.length>0){a("");try{console.log("🚀 [PlanetsAnalysis] Loading real ABCD/BCD data for each hour using RealTimeRule2AnalysisService...");const{RealTimeRule2AnalysisService:ve}=await ho(async()=>{const{RealTimeRule2AnalysisService:Ge}=await import("./realTimeRule2AnalysisService-C796P8bz.js");return{RealTimeRule2AnalysisService:Ge}},[]);let Ee=v,Fe=v;if(console.log("🔍 [DEBUG] Date selection debug (Simple Previous Date Logic):"),console.log("  selectedDate from URL:",v),console.log("  availableDates:",ae),console.log("  availableDates length:",ae.length),console.log("  availableDates (sorted):",[...ae].sort()),console.log("  selectedDate type:",typeof v),v==="2025-07-08"&&(console.log("🔍 [JULY 8TH DEBUG] Special debug for July 8th click:"),console.log("  🔍 Is July 7th (2025-07-07) in availableDates?",ae.includes("2025-07-07")),console.log("  🔍 Is July 6th (2025-07-06) in availableDates?",ae.includes("2025-07-06")),console.log("  🔍 Is July 5th (2025-07-05) in availableDates?",ae.includes("2025-07-05")),console.log("  🔍 All July 2025 dates in availableDates:",ae.filter(Ge=>Ge.startsWith("2025-07"))),console.log("  🔍 All June 2025 dates in availableDates:",ae.filter(Ge=>Ge.startsWith("2025-06")))),!Ee||!(v!=null&&v.trim())){const Ge=[...ae].sort((Ve,ze)=>new Date(Ve)-new Date(ze));Ee=Ge[Ge.length-1],Fe=Ee,console.log("  No selectedDate, using latest:",Ee)}else{if(Fe=v.trim(),console.log("  🎯 SIMPLIFIED PATTERN Applied:"),console.log("    Display date (user clicked):",Fe),console.log("    Available dates:",ae),console.log("  🔍 Finding closest previous date with data..."),ae.length===0){console.log("  ❌ DEBUG: No available dates found!");try{const{default:Ke,PAGE_CONTEXTS:be}=await ho(async()=>{const{default:He,PAGE_CONTEXTS:Me}=await Promise.resolve().then(()=>jS);return{default:He,PAGE_CONTEXTS:Me}},void 0),Be=await Ke.getUserDates(e,be.ABCD);console.log("  📅 DEBUG: Found dates from CleanSupabaseServiceWithSeparateStorage:",Be),Be&&Be.length>0&&(ae=Be)}catch(Ke){console.log("  ❌ DEBUG: CleanSupabaseServiceWithSeparateStorage also failed:",Ke)}}const Ge=[...ae].sort((Ke,be)=>new Date(Ke)-new Date(be));console.log("  📅 DEBUG: sortedDates after sorting:",Ge),console.log("  📅 DEBUG: selectedDate:",v);const Ve=new Date(v);console.log(`  🔍 ALWAYS finding closest previous date before ${v} (N-1 pattern)...`),console.log("  📅 Available dates to check:",Ge),console.log("  🎯 Note: With sparse dates (1,3,7,8), N-1 pattern requires closest previous logic");let ze=null;for(let Ke=Ge.length-1;Ke>=0;Ke--){const be=new Date(Ge[Ke]),Be=be<Ve,He=(Ve.getTime()-be.getTime())/(1e3*60*60*24);if(console.log(`    📅 Checking: ${Ge[Ke]} < ${v} = ${Be}, gap: ${Math.round(He)} days`),Be){ze=Ge[Ke],console.log(`    ✅ Found closest previous date (${Math.round(He)} days gap): ${ze}`);break}}ze||(ze=Ge[Ge.length-1],console.log(`    🔄 No previous date found, using latest available: ${ze}`)),Ee=ze,console.log(`  🎯 FINAL LOGIC: ${v} clicked → using ${Ee} data`),console.log("  📅 Analysis will use the closest previous date with actual data"),console.log("  ✅ FINAL: Date selection complete - Analysis will use date:",Ee)}console.log(`📅 [PlanetsAnalysis] Using date for analysis: ${Ee} (clicked: ${v||"none"})`),l(v&&Ee?`🎯 Clicked ${new Date(v).toLocaleDateString()} → Using closest previous data from ${new Date(Ee).toLocaleDateString()}`:v?`📅 No previous data available for ${new Date(v).toLocaleDateString()}`:`📅 Analyzing data for ${new Date(Ee).toLocaleDateString()} (latest available date)`);const Ue=await ve.performRule2Analysis(e,Ee,ae);if(Ue.success&&Ue.data.hrResults){const Ge={},Ve=Ue.data.hrResults;if(console.log("✅ [PlanetsAnalysis] RealTime analysis successful! Found HR results:",Object.keys(Ve)),Object.entries(Ve).forEach(([ze,Ke])=>{var be,Be;if(Ke&&!Ke.error&&Ke.topicResults){const He={};Ke.topicResults.forEach(Me=>{Me.error||(He[Me.setName]={abcd:Me.abcdNumbers||[],bcd:Me.bcdNumbers||[]})}),Ge[ze]={source:"realTimeRule2Analysis",analysisDate:Ee,timestamp:Ue.data.timestamp,hrNumber:parseInt(ze),topicNumbers:He,overallNumbers:{abcd:Ke.overallAbcdNumbers||[],bcd:Ke.overallBcdNumbers||[]},totalTopics:Ke.topicResults.length,dataSource:`Real Analysis HR-${ze}`,realData:!0},console.log(`🎯 [PlanetsAnalysis] HR ${ze} real data:`,{topics:Object.keys(He).length,overallABCD:((be=Ke.overallAbcdNumbers)==null?void 0:be.length)||0,overallBCD:((Be=Ke.overallBcdNumbers)==null?void 0:Be.length)||0,sampleTopic:Object.keys(He)[0]?He[Object.keys(He)[0]]:null})}else console.log(`⚠️ [PlanetsAnalysis] HR ${ze} has error:`,(Ke==null?void 0:Ke.error)||"Unknown error")}),Object.keys(Ge).length>0){M(Ge[b]||Ge[Object.keys(Ge)[0]]),j(Ge),w("analysis"),l(`✅ Loaded real ABCD/BCD data for ${Object.keys(Ge).length} hours with unique numbers per hour`);const ze=Object.keys(Ge).slice(0,3);console.log("🔍 [PlanetsAnalysis] Hour-specific data verification:"),ze.forEach(Ke=>{const be=Ge[Ke];if(be.topicNumbers["D-1 Set-1 Matrix"]){const Be=be.topicNumbers["D-1 Set-1 Matrix"];console.log(`   HR ${Ke}: ABCD=[${Be.abcd.join(",")}], BCD=[${Be.bcd.join(",")}]`)}}),P(!1);return}}else if(console.log("⚠️ [PlanetsAnalysis] RealTime analysis failed:",Ue.error),v&&!isSelectedDateAvailable){console.log("🔄 [PlanetsAnalysis] Retrying with latest available date as fallback...");const Ge=[...ae].sort((ze,Ke)=>new Date(ze)-new Date(Ke)),Ve=Ge[Ge.length-1];try{const ze=await ve.performRule2Analysis(e,Ve,ae);if(ze.success&&ze.data.hrResults){console.log("✅ [PlanetsAnalysis] Fallback analysis successful with date:",Ve);const Ke={},be=ze.data.hrResults;console.log("✅ [PlanetsAnalysis] Fallback processing HR results:",Object.keys(be)),Object.entries(be).forEach(([Be,He])=>{var Me;He.error||(Ke[Be]={source:"realTimeRule2Analysis",date:Ve,hrNumber:parseInt(Be),topicNumbers:{},overallNumbers:{abcd:He.overallAbcdNumbers||[],bcd:He.overallBcdNumbers||[]},totalTopics:((Me=He.topicResults)==null?void 0:Me.length)||0,timestamp:ze.data.timestamp},He.topicResults&&He.topicResults.forEach(Le=>{Ke[Be].topicNumbers[Le.setName]={abcd:Le.abcdNumbers||[],bcd:Le.bcdNumbers||[]}}))}),setHourlyAnalysisData(Ke),w("realTimeRule2Analysis"),y(Ve),console.log("📊 [PlanetsAnalysis] Fallback data preview:"),Object.keys(Ke).forEach(Be=>{const He=Ke[Be];if(He.topicNumbers["D-1 Set-1 Matrix"]){const Me=He.topicNumbers["D-1 Set-1 Matrix"];console.log(`   HR ${Be}: ABCD=[${Me.abcd.join(",")}], BCD=[${Me.bcd.join(",")}]`)}}),a(`⚠️ No data available for ${new Date(v).toLocaleDateString()}. Showing data for ${new Date(Ve).toLocaleDateString()} instead. Add ${v} data for direct analysis.`),P(!1);return}else a(`❌ No analysis data available for ${new Date(v).toLocaleDateString()} or any recent dates.`)}catch(ze){console.log("❌ [PlanetsAnalysis] Fallback analysis also failed:",ze.message),a(`❌ Analysis failed for ${new Date(v).toLocaleDateString()}. Please try a different date.`)}}else a(`❌ Analysis failed: ${Ue.error}`)}catch(ve){console.log("⚠️ [PlanetsAnalysis] RealTime analysis error:",ve.message)}}}}catch(ae){console.log("⚠️ [PlanetsAnalysis] Analysis data not available:",ae.message)}console.log("🗄️ [PlanetsAnalysis] Trying database as fallback...");const fe=await K8.getAllTopicNumbers();if(fe.success){V(fe.data),w("database");const ae=K8.getAnalysisSummary(fe);l(`✅ Loaded ${ae.totalTopics} topics from database`),console.log("✅ [PlanetsAnalysis] Database data loaded:",ae),P(!1);return}console.log("📋 [PlanetsAnalysis] Using enhanced fallback data..."),w("fallback"),l("Using comprehensive fallback ABCD/BCD numbers for all topics")}catch(fe){console.error("❌ [PlanetsAnalysis] Error loading data:",fe),a(`Failed to load ABCD/BCD numbers: ${fe.message}`),w("fallback")}finally{P(!1)}},R=fe=>{if(k&&k.topicNumbers&&!k.incomplete){let ae=k.topicNumbers[fe];if(ae&&(ae.abcd.length>0||ae.bcd.length>0))return ae;const ve=[fe,fe.replace(" Matrix",""),fe+" Matrix",fe.replace(/\s*Matrix\s*/g,"").trim()];for(const Ee of ve)if(Ee!==fe&&(ae=k.topicNumbers[Ee],ae&&(ae.abcd.length>0||ae.bcd.length>0)))return ae}return{abcd:[],bcd:[]}},W=fe=>{if(!fe||typeof fe!="string")return fe;let ae=fe.replace(/\s*\([^)]*\)\s*/g," ").trim();return ae.includes("Matrix")||(ae+=" Matrix"),ae=ae.replace(/\s+/g," ").trim(),console.log(`🔄 [TopicNormalize] "${fe}" → "${ae}"`),ae},T=fe=>{const ae=W(fe);let ve=R(ae);if(ve.abcd.length>0||ve.bcd.length>0||(ve=R(fe),ve.abcd.length>0||ve.bcd.length>0))return ve;const Ee=[fe.replace(/\s*\([^)]*\)\s*/g," ").trim()+" Matrix",fe.replace(/\s*\([^)]*\)\s*/g," ").replace("Set-","Set-").trim()+" Matrix",fe.replace(/\s*\([^)]*\)\s*/g,"").trim()+" Matrix"];for(const Fe of Ee){const Ue=Fe.replace(/\s+/g," ").trim();if(Ue!==fe&&Ue!==ae&&(ve=R(Ue),ve.abcd.length>0||ve.bcd.length>0))return ve}return{abcd:[],bcd:[]}},z=fe=>{if(typeof fe!="string")return null;const ae=fe.match(/^[a-z]+-(\d+)/);return ae?Number(ae[1]):null},q=fe=>{if(!fe||typeof fe!="string")return null;const ae=fe.match(/^([a-z]+-\d+)-\/[a-z]+-\(\d+\s+([A-Za-z]+)/);if(ae){const[,Ee,Fe]=ae;return`${Ee}-${Fe}`}if(fe.match(/^[a-z]+-\d+-[A-Za-z]+$/))return fe;const ve=fe.match(/^([a-z]+-\d+)/);return ve?ve[1]:fe},Y=fe=>{var Ee;if(!((Ee=c==null?void 0:c.sets)!=null&&Ee[fe]))return{};const ae={Su:[],Mo:[],Ma:[],Me:[],Ju:[],Ve:[],Sa:[],Ra:[],Ke:[]},ve=c.sets[fe];return Object.values(ve).forEach(Fe=>{Object.entries(Fe).forEach(([Ue,Ge])=>{if(ae[Ue]!==void 0){const Ve=z(Ge);Ve!==null&&!ae[Ue].includes(Ve)&&ae[Ue].push(Ve)}})}),Object.keys(ae).forEach(Fe=>{ae[Fe].sort((Ue,Ge)=>Ue-Ge)}),ae},U=fe=>{if(!fe)return"—";const ae=q(fe);if(ae)return ae;let ve=fe.match(/^([a-z]+-\d+)\/[a-z]+-\((\d+)\s+([A-Za-z]+)/);if(ve){const[,Fe,,Ue]=ve;return`${Fe}-${Ue}`}if(fe.match(/^[a-z]+-\d+-[A-Za-z]+$/))return fe;const Ee=fe.match(/^([a-z]+-\d+)/);return Ee?Ee[1]:fe},Q=(fe,ae)=>{const ve=z(fe);if(!ve&&ve!==0)return null;const{abcd:Ee,bcd:Fe}=T(ae);return Ee.includes(ve)?G.jsx("span",{className:"bg-green-200 text-green-800 px-1 py-0.5 rounded text-xs font-medium",children:"A"}):Fe.includes(ve)?G.jsx("span",{className:"bg-blue-200 text-blue-800 px-1 py-0.5 rounded text-xs font-medium",children:"B"}):null},F=fe=>{const ae={sets:{}},ve={1:"Su",2:"Mo",3:"Ma",4:"Me",5:"Ju",6:"Ve",7:"Sa",8:"Ra",9:"Ke"},Ee={as:"Lagna",mo:"Moon",hl:"Hora Lagna",gl:"Ghati Lagna",vig:"Vighati Lagna",var:"Varnada Lagna",sl:"Sree Lagna",pp:"Pranapada Lagna",in:"Indu Lagna"};let Fe=null,Ue={};for(let Ge=0;Ge<fe.length;Ge++){const Ve=fe[Ge];if(!Array.isArray(Ve)||Ve.length===0)continue;const ze=String(Ve[0]||"").trim();if(ze.includes("Matrix")&&(ze.includes("D-")||ze.includes("Set-"))){Fe&&Object.keys(Ue).length>0&&(ae.sets[Fe]={...Ue}),Fe=ze,Ue={};continue}if(Fe&&ze&&ze.length<=3){const Ke=ze.toLowerCase();if(Ee[Ke]){const be={};for(let Be=1;Be<=9;Be++){const He=ve[Be],Me=Ve[Be];Me&&Me.toString().trim()&&(be[He]=Me.toString().trim())}Object.keys(be).length>0&&(Ue[Ee[Ke]]=be)}}}return Fe&&Object.keys(Ue).length>0&&(ae.sets[Fe]={...Ue}),ae},O=async fe=>{const ae=fe.target.files[0];if(ae){s(!0),a(""),l("");try{const ve=new FileReader;ve.onload=async Ee=>{try{const Fe=new Uint8Array(Ee.target.result),Ue=_p(Fe,{type:"array"}),Ge=Ue.SheetNames[0],Ve=Ue.Sheets[Ge],ze=kc.sheet_to_json(Ve,{header:1}),Ke=F(ze);if(Object.keys(Ke.sets).length===0)throw new Error("No valid data found in Excel file");u(Ke),h(new Set),l(`✅ Excel uploaded successfully! Found ${Object.keys(Ke.sets).length} topics.`)}catch(Fe){console.error("Excel processing error:",Fe),a(`Failed to process Excel file: ${Fe.message}`)}},ve.readAsArrayBuffer(ae),fe.target.value=null}catch(ve){a(`Failed to upload file: ${ve.message}`)}finally{s(!1)}}},K=fe=>fe.sort((ae,ve)=>{const Ee=Ke=>{const be=Ke.match(/D-(\d+)(?:\s*\([^)]*\))?/);return be?parseInt(be[1],10):0},Fe=Ke=>{const be=Ke.match(/Set-(\d+)/);return be?parseInt(be[1],10):0},Ue=Ee(ae),Ge=Ee(ve);if(Ue!==Ge)return Ue-Ge;const Ve=Fe(ae),ze=Fe(ve);return Ve!==ze?Ve-ze:ae.localeCompare(ve)}),ne=c?K(Object.keys(c.sets)):[],ee=()=>d.size===0?ne:K(Array.from(d)),ie=fe=>fe.replace(/\s+Matrix$/i,""),he=fe=>{const ae=new Set(d);d.has(fe)?ae.delete(fe):ae.add(fe),h(ae)},ce=()=>{h(new Set(ne))},te=()=>{h(new Set)},se=async fe=>{if(console.log(`🕐 [PlanetsAnalysis] Switching to Hour ${fe}...`),C(!0),await new Promise(ae=>setTimeout(ae,300)),E(fe),N[fe]){if(M(N[fe]),console.log(`✅ [PlanetsAnalysis] Hour ${fe} data loaded:`,N[fe]),N[fe].topicNumbers&&N[fe].topicNumbers["D-1 Set-1 Matrix"]){const ae=N[fe].topicNumbers["D-1 Set-1 Matrix"];console.log(`🎯 [PlanetsAnalysis] D-1 Set-1 Matrix for HR ${fe}:`,ae),console.log(`🎯 [PlanetsAnalysis] ABCD: [${ae.abcd.join(",")}], BCD: [${ae.bcd.join(",")}]`)}if(l(`✅ Now viewing Hour ${fe} - ABCD/BCD data updated`),N[fe].topicNumbers){const ae=Object.keys(N[fe].topicNumbers).length;console.log(`🎯 [PlanetsAnalysis] Hour ${fe} has ${ae} topics with ABCD/BCD data`);const ve=Object.keys(N[fe].topicNumbers)[0];if(ve){const Ee=N[fe].topicNumbers[ve];console.log(`📊 [Sample] ${ve} (HR ${fe}):`,Ee)}}}else console.warn(`⚠️ [PlanetsAnalysis] No pre-loaded analysis data for Hour ${fe}`),M({incomplete:!0,source:`No specific data for HR ${fe}`,topicNumbers:{},note:"Fallback mode - will use database or hardcoded TOPIC_NUMBERS data"}),l(`📊 Hour ${fe} selected - Using fallback ABCD/BCD data sources`),console.log("🔍 [Debug] Available hours in hourTabsData:",Object.keys(N)),console.log("🔍 [Debug] User info HR count:",g==null?void 0:g.hr),console.log("🔍 [Debug] Requested hour:",fe),g&&g.id&&g.hr>=fe?(console.log(`🔄 [PlanetsAnalysis] Attempting to reload data for HR ${fe}...`),x().catch(ae=>{console.error(`❌ [PlanetsAnalysis] Failed to reload data for HR ${fe}:`,ae)})):console.log(`ℹ️ [PlanetsAnalysis] HR ${fe} is beyond user's configured range (${g==null?void 0:g.hr}) or user info unavailable`);setTimeout(()=>{C(!1)},500)},ge=["Su","Mo","Ma","Me","Ju","Ve","Sa","Ra","Ke"],de=(fe,ae)=>{_(ve=>{const Ee=`${fe}_HR${b}`,Fe=ve[Ee]||new Set,Ue=new Set(Fe);return Ue.has(ae)?Ue.delete(ae):Ue.add(ae),{...ve,[Ee]:Ue}})},Te=(fe,ae)=>{const ve=`${fe}_HR${b}`;return(S[ve]||new Set).has(ae)},De=(fe,ae)=>{if(!ae)return{highlighted:!1};const ve=z(ae);if(!ve)return{highlighted:!1};if(!Te(fe,ve))return{highlighted:!1};const{abcd:Fe,bcd:Ue}=T(fe),Ge=Fe.includes(ve),Ve=Ue.includes(ve);return{highlighted:!0,type:Ge?"ABCD":Ve?"BCD":"unknown"}},_e=fe=>fe.highlighted?fe.type==="ABCD"?{backgroundColor:"#FCE7C8",borderColor:"#F97316",color:"#8B4513",fontWeight:"bold",fontSize:"0.875rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}:fe.type==="BCD"?{backgroundColor:"#41B3A2",borderColor:"#359486",color:"#FFFFFF",fontWeight:"bold",fontSize:"0.875rem",boxShadow:"0 4px 6px -1px rgba(65, 179, 162, 0.4), 0 2px 4px -1px rgba(65, 179, 162, 0.3)"}:{backgroundColor:"#FCE7C8",borderColor:"#F97316",color:"#8B4513",fontWeight:"bold",fontSize:"0.875rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}:{};return G.jsx("div",{className:"min-h-screen bg-gray-50",children:G.jsxs("div",{className:"max-w-full px-2 py-4",children:[G.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 mb-4 border-t-4 border-teal-600",children:[G.jsxs("div",{className:"flex justify-between items-center",children:[G.jsx("div",{children:G.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"🔬 Planets Analysis"})}),G.jsx("div",{children:G.jsx("button",{onClick:()=>r(-1),className:"px-3 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-colors flex items-center gap-2 text-sm font-medium",children:"← Back"})})]}),G.jsx("div",{className:"mt-2",children:g?G.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[G.jsx("div",{className:"bg-blue-50 px-3 py-1 rounded-lg border border-blue-200",children:G.jsxs("span",{className:"text-sm",children:["👤 User: ",G.jsx("span",{className:"font-semibold text-blue-700",children:g.username})]})}),G.jsxs("div",{className:`px-3 py-1 rounded-lg border ${g.hr>1?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:[G.jsxs("span",{className:"text-sm",children:["🕐 Hours: ",G.jsx("span",{className:`font-semibold ${g.hr>1?"text-green-700":"text-yellow-700"}`,children:g.hr})]}),g.hr>1&&G.jsx("span",{className:"ml-1 text-xs text-green-600",children:"(Hour tabs available)"}),g.hr===1&&G.jsx("span",{className:"ml-1 text-xs text-yellow-600",children:"(Single hour only)"})]}),v&&G.jsxs("div",{className:"bg-purple-50 px-3 py-1 rounded-lg border border-purple-200",children:[G.jsxs("span",{className:"text-sm",children:["📅 Clicked: ",G.jsx("span",{className:"font-semibold text-purple-700",children:new Date(v).toLocaleDateString()})]}),k&&k.analysisDate&&k.analysisDate!==v&&G.jsxs("span",{className:"text-sm ml-2",children:["🎯 Analysis: ",G.jsx("span",{className:"font-semibold text-green-700",children:new Date(k.analysisDate).toLocaleDateString()})]})]})]}):G.jsx("div",{className:"bg-gray-50 px-3 py-2 rounded-lg border border-gray-200",children:G.jsx("span",{className:"text-sm text-gray-600",children:"Upload Excel file to see planets data with ABCD/BCD analysis"})})})]}),g&&g.hr&&g.hr>1&&G.jsxs("div",{className:"bg-white rounded-lg shadow-md p-2 mb-4",children:[G.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[G.jsx("span",{className:"text-xs font-medium text-gray-700 mr-2",children:"Hour:"}),G.jsxs("div",{className:"flex items-center mr-2",children:[G.jsxs("div",{className:`relative w-6 h-6 rounded-full border-2 transition-all duration-300 ${D?"border-orange-400 bg-orange-100 animate-pulse":k?"border-green-400 bg-green-100":"border-gray-300 bg-gray-100"}`,children:[G.jsx("div",{className:`absolute top-1/2 left-1/2 w-1 h-2 bg-current transform -translate-x-1/2 -translate-y-full origin-bottom transition-all duration-300 ${D?"text-orange-600 animate-spin":k?"text-green-600":"text-gray-400"}`,style:{transform:`translate(-50%, -100%) rotate(${b*30-90}deg)`}}),G.jsx("div",{className:`absolute top-1/2 left-1/2 w-0.5 h-1.5 bg-current transform -translate-x-1/2 -translate-y-full origin-bottom transition-all duration-300 ${D?"text-orange-500 animate-spin":k?"text-green-500":"text-gray-300"}`,style:{transform:`translate(-50%, -100%) rotate(${b*6-90}deg)`}}),G.jsx("div",{className:`absolute top-1/2 left-1/2 w-1 h-1 rounded-full transform -translate-x-1/2 -translate-y-1/2 transition-all duration-300 ${D?"bg-orange-500":k?"bg-green-500":"bg-gray-400"}`}),D&&G.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-transparent border-t-orange-500 animate-spin"})]}),G.jsx("span",{className:`ml-1 text-xs font-medium transition-all duration-300 ${D?"text-orange-600":k?"text-green-600":"text-gray-500"}`,children:D?"Updating...":k?`HR ${b}`:"No Data"})]}),Array.from({length:g.hr},(fe,ae)=>ae+1).map(fe=>G.jsxs("button",{onClick:()=>se(fe),disabled:D,className:`px-2 py-1 rounded text-xs font-medium transition-all ${b===fe?"bg-teal-500 text-white shadow-md":D?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-gray-100 text-gray-700 hover:bg-teal-100"}`,children:["HR ",fe,N[fe]&&G.jsx("span",{className:"ml-1 text-xs",children:N[fe].topicNumbers?G.jsx("span",{className:"text-green-400",children:"●"}):G.jsx("span",{className:"text-gray-400",children:"○"})})]},fe)),Object.keys(N).length>0&&G.jsxs("span",{className:"ml-2 text-xs text-green-600",children:["📊 ",Object.keys(N).length,"/",g.hr," hours loaded"]}),k&&k.timestamp&&!D&&G.jsxs("span",{className:"ml-2 text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded",children:["🕒 Updated: ",new Date(k.timestamp).toLocaleTimeString()]})]}),G.jsx("div",{className:"mt-2 h-1 bg-gray-200 rounded-full overflow-hidden",children:G.jsx("div",{className:`h-full transition-all duration-500 ${D?"bg-orange-400 animate-pulse":k?"bg-green-400":"bg-gray-300"}`,style:{width:D?"100%":k?`${Object.keys(N).length/g.hr*100}%`:"0%"}})})]}),G.jsxs("div",{className:"bg-white rounded-lg shadow-md p-3 mb-4",children:[G.jsxs("div",{className:"flex items-center gap-2 mb-3 flex-wrap",children:[G.jsxs("div",{className:"flex-1 min-w-0",children:[G.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Upload Excel File:"}),G.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:O,disabled:n,className:"block w-full text-xs text-gray-500 file:mr-2 file:py-1 file:px-2 file:rounded file:border-0 file:text-xs file:font-medium file:bg-teal-50 file:text-teal-700 hover:file:bg-teal-100"})]}),G.jsx("div",{className:"text-xs text-gray-600 italic",children:"ABCD/BCD data loads automatically for all hours when user information is available"})]}),k?G.jsxs("div",{className:`border-l-4 p-2 rounded text-xs mb-3 transition-all duration-300 ${D?"bg-orange-50 border-orange-400":"bg-green-50 border-green-400"}`,children:[G.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[G.jsx("span",{className:`text-white px-1 py-0.5 rounded text-xs font-medium transition-all duration-300 ${D?"bg-orange-600":"bg-green-600"}`,children:D?"🔄 UPDATING":"🎯 REAL ANALYSIS"}),G.jsx("span",{className:`font-medium text-xs transition-all duration-300 ${D?"text-orange-700":"text-green-700"}`,children:D?"Switching to HR data...":"Using actual Rule2 ABCD/BCD numbers"}),G.jsxs("span",{className:`text-white px-1 py-0.5 rounded text-xs font-medium ml-1 transition-all duration-300 ${D?"bg-orange-500 animate-pulse":"bg-teal-500"}`,children:["HR ",b]}),g&&g.hr>1&&G.jsx("span",{className:`text-white px-1 py-0.5 rounded text-xs font-medium ml-1 transition-all duration-300 ${D?"bg-orange-500":"bg-blue-500"}`,children:D?"⏳ Loading":"📊 Hour-Specific Data"})]}),G.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[G.jsxs("div",{children:[G.jsxs("div",{children:[G.jsx("strong",{children:"Source:"})," ",k.source]}),G.jsxs("div",{children:[G.jsx("strong",{children:"Date:"})," ",k.analysisDate]}),G.jsxs("div",{children:[G.jsx("strong",{children:"Current Hour:"})," HR ",b]})]}),G.jsxs("div",{children:[G.jsxs("div",{children:[G.jsx("strong",{children:"Topics:"})," ",k.totalTopics]}),G.jsxs("div",{children:[G.jsx("strong",{children:"ABCD:"})," ",Object.values(k.topicNumbers||{}).reduce((fe,ae)=>fe+ae.abcd.length,0)]}),G.jsxs("div",{children:[G.jsx("strong",{children:"BCD:"})," ",Object.values(k.topicNumbers||{}).reduce((fe,ae)=>fe+ae.bcd.length,0)]})]})]}),k.topicNumbers&&k.topicNumbers["D-1 Set-1 Matrix"]&&G.jsxs("div",{className:"mt-1 p-1 bg-white rounded border text-xs",children:[G.jsxs("div",{className:"font-medium text-green-800",children:["🔍 D-1 Set-1 Verification (HR ",b,"):"]}),G.jsxs("div",{className:"text-green-700",children:[G.jsx("strong",{children:"ABCD:"})," [",k.topicNumbers["D-1 Set-1 Matrix"].abcd.join(", "),"] |",G.jsx("strong",{children:" BCD:"})," [",k.topicNumbers["D-1 Set-1 Matrix"].bcd.join(", "),"]"]}),G.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["Analysis Date: ",new Date(k.analysisDate).toLocaleDateString()]})]})]}):null,I&&!k?G.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-2 rounded text-xs",children:G.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[G.jsx("span",{className:"bg-green-500 text-white px-1 py-0.5 rounded text-xs font-medium",children:"✓ DATABASE"}),G.jsx("span",{className:"text-green-700 font-medium text-xs",children:"Using Supabase ABCD/BCD numbers"})]})}):k?null:G.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-2 rounded text-xs",children:[G.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[G.jsx("span",{className:"bg-yellow-500 text-white px-1 py-0.5 rounded text-xs font-medium",children:"⚠ FALLBACK"}),G.jsx("span",{className:"text-yellow-700 font-medium text-xs",children:"Using hardcoded ABCD/BCD numbers"})]}),G.jsxs("div",{className:"text-yellow-700 text-xs",children:[G.jsxs("div",{children:[G.jsx("strong",{children:"Status:"})," Real analysis data not available for HR ",b]}),G.jsxs("div",{children:[G.jsx("strong",{children:"Action:"}),' Click "🎯 All Hours" to load calculated data from Rule2CompactPage']})]})]})]}),c&&ne.length>0&&G.jsxs("div",{className:"bg-white rounded-lg shadow-md p-3 mb-4",children:[G.jsxs("div",{className:"flex items-center justify-between mb-3",children:[G.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:"Filter Topics:"}),G.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[G.jsxs("span",{className:"text-gray-600",children:[d.size,"/",ne.length]}),G.jsx("button",{onClick:ce,className:"text-blue-600 hover:text-blue-800",children:"All"}),G.jsx("button",{onClick:te,className:"text-red-600 hover:text-red-800",children:"Clear"}),G.jsx("button",{onClick:()=>m(!f),className:"text-gray-600 hover:text-gray-800",children:f?"☑️":"◻️"})]})]}),k&&G.jsxs("div",{className:"mb-3 p-2 bg-green-50 rounded text-xs",children:[G.jsxs("div",{className:"font-medium text-green-800 mb-1",children:["📊 HR ",b," ABCD/BCD Status:"]}),G.jsx("div",{className:"grid grid-cols-4 gap-1 text-xs",children:ne.slice(0,8).map(fe=>{const{abcd:ae,bcd:ve}=T(fe),Ee=ae.length>0||ve.length>0;return G.jsxs("div",{className:`p-1 rounded ${Ee?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[G.jsx("div",{className:"font-medium",children:ie(fe)}),G.jsx("div",{children:Ee?`A:${ae.length} B:${ve.length}`:"No data"})]},fe)})}),ne.length>8&&G.jsxs("div",{className:"mt-1 text-green-700",children:["...and ",ne.length-8," more topics"]})]}),f&&G.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 lg:grid-cols-6 gap-1",children:ne.map(fe=>{const{abcd:ae,bcd:ve}=T(fe),Ee=ae.length>0||ve.length>0;return G.jsx("button",{onClick:()=>he(fe),className:`w-full px-1 py-1 rounded text-xs font-medium transition-all text-left relative ${d.has(fe)?"bg-green-500 text-white":"bg-gray-100 text-gray-700 hover:bg-green-100"}`,children:G.jsxs("div",{className:"flex items-center justify-between",children:[G.jsx("span",{className:"truncate text-xs",children:ie(fe)}),G.jsxs("div",{className:"flex items-center gap-0.5",children:[Ee?G.jsx("span",{className:"text-green-600 text-xs",children:"●"}):G.jsx("span",{className:"text-red-500 text-xs",children:"○"}),d.has(fe)&&G.jsx("span",{className:"text-white text-xs",children:"✓"})]})]})},fe)})})]}),i&&G.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 text-red-700 px-2 py-1 rounded mb-3 text-xs",children:i}),o&&G.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 text-green-700 px-2 py-1 rounded mb-3 text-xs",children:o}),G.jsxs("div",{className:"bg-white rounded-lg shadow-md p-3",children:[G.jsx("div",{className:"flex items-center justify-between mb-3",children:G.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:"Planets Analysis Results"})}),n?G.jsxs("div",{className:"text-center py-8",children:[G.jsx("div",{className:"animate-spin h-6 w-6 border-4 border-teal-500 border-t-transparent rounded-full mx-auto mb-2"}),G.jsx("p",{className:"text-sm text-gray-600",children:"Processing Excel file..."})]}):c&&c.sets&&Object.keys(c.sets).length>0?G.jsx("div",{className:"space-y-4",children:ee().map(fe=>G.jsxs("div",{className:"border rounded p-2",children:[G.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2 bg-gray-50 p-1 rounded flex items-center justify-between",children:[G.jsxs("span",{className:"flex items-center gap-2",children:[ie(fe),D&&G.jsxs("div",{className:"flex items-center gap-1",children:[G.jsx("div",{className:"w-3 h-3 border-2 border-orange-400 border-t-transparent rounded-full animate-spin"}),G.jsx("span",{className:"text-xs text-orange-600",children:"Updating..."})]})]}),g&&g.hr>1&&k&&G.jsx("span",{className:`text-xs px-2 py-0.5 rounded transition-all duration-300 ${D?"bg-orange-100 text-orange-700":"bg-teal-100 text-teal-700"}`,children:D?"⏳ HR Data":`HR ${b} Data`})]}),(()=>{const{abcd:ae,bcd:ve}=T(fe);return((ae==null?void 0:ae.length)||0)+((ve==null?void 0:ve.length)||0)===0?null:G.jsxs("div",{className:"mb-2 flex flex-wrap gap-4 items-center bg-blue-50 p-2 rounded",children:[G.jsxs("div",{className:"flex items-center gap-2",children:[G.jsx("span",{className:"text-xs font-semibold text-green-700 mr-1",children:"ABCD:"}),ae&&ae.length>0?ae.sort((Ee,Fe)=>Ee-Fe).map(Ee=>G.jsx("button",{onClick:()=>de(fe,Ee),className:`px-2 py-0.5 rounded text-xs font-mono font-bold border-2 transition-all duration-200 cursor-pointer hover:scale-105 ${Te(fe,Ee)?"shadow-md transform scale-105":"bg-green-200 text-green-900 border-green-300 hover:bg-green-300"}`,style:Te(fe,Ee)?{backgroundColor:"#FB923C",borderColor:"#F97316",color:"white"}:{},children:Ee},Ee)):G.jsx("span",{className:"text-xs text-gray-400",children:"None"})]}),G.jsxs("div",{className:"flex items-center gap-2",children:[G.jsx("span",{className:"text-xs font-semibold text-blue-700 mr-1",children:"BCD:"}),ve&&ve.length>0?ve.sort((Ee,Fe)=>Ee-Fe).map(Ee=>G.jsx("button",{onClick:()=>de(fe,Ee),className:`px-2 py-0.5 rounded text-xs font-mono font-bold border-2 transition-all duration-200 cursor-pointer hover:scale-105 ${Te(fe,Ee)?"shadow-md transform scale-105":"bg-blue-200 text-blue-900 border-blue-300 hover:bg-blue-300"}`,style:Te(fe,Ee)?{backgroundColor:"#41B3A2",borderColor:"#359486",color:"white"}:{},children:Ee},Ee)):G.jsx("span",{className:"text-xs text-gray-400",children:"None"})]})]})})(),G.jsx("div",{className:"mb-2 grid grid-cols-9 gap-1",children:ge.map(ae=>{const{abcd:ve,bcd:Ee}=T(fe),Fe=Y(fe)[ae]||[],Ue=Fe.filter(Ve=>ve.includes(Ve)),Ge=Fe.filter(Ve=>Ee.includes(Ve));return G.jsxs("div",{className:"text-center bg-purple-100 p-1 rounded",children:[G.jsx("div",{className:"text-xs font-semibold",children:ae}),G.jsxs("div",{className:"text-xs mt-0.5",children:[Ue.length>0&&G.jsxs("div",{className:"bg-green-200 text-green-800 px-0.5 py-0.5 rounded mb-0.5 text-xs",children:["A: ",Ue.join(",")]}),Ge.length>0&&G.jsxs("div",{className:"bg-blue-200 text-blue-800 px-0.5 py-0.5 rounded text-xs",children:["B: ",Ge.join(",")]}),Ue.length===0&&Ge.length===0&&G.jsx("div",{className:"text-gray-400 text-xs",children:"—"})]})]},`${ae}-${b}`)})},`planet-headers-${b}-${(k==null?void 0:k.timestamp)||"fallback"}`),G.jsx("div",{className:"w-full overflow-x-auto",children:G.jsxs("table",{className:"w-full table-auto border-collapse text-xs",children:[G.jsx("thead",{children:G.jsxs("tr",{children:[G.jsx("th",{className:"border border-gray-300 px-1 py-1 font-semibold bg-gray-100 text-left w-16",children:"Element"}),ge.map(ae=>G.jsx("th",{className:"border border-gray-300 px-1 py-1 font-semibold text-center bg-purple-100 w-16",children:ae},ae))]})}),G.jsx("tbody",{children:(()=>{const ae=["Lagna","Moon","Hora Lagna","Ghati Lagna","Vighati Lagna","Varnada Lagna","Sree Lagna","Pranapada Lagna","Indu Lagna"],ve=c.sets[fe]||{};return ae.filter(Ee=>ve[Ee]).map(Ee=>{const Fe=ve[Ee];return G.jsxs("tr",{className:"hover:bg-gray-50",children:[G.jsx("td",{className:"border border-gray-300 px-1 py-1 font-medium bg-gray-50 text-xs",children:Ee}),ge.map(Ue=>{const Ge=Fe[Ue],Ve=U(Ge);return G.jsx("td",{className:`border border-gray-300 px-1 py-1 text-center transition-all duration-200 ${De(fe,Ge).highlighted?"shadow-md":""}`,style:_e(De(fe,Ge)),children:Ge?G.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[G.jsx("span",{className:`font-mono text-gray-700 text-xs ${De(fe,Ge).highlighted?"font-bold":""}`,style:De(fe,Ge).highlighted?{color:_e(De(fe,Ge)).color}:{},children:Ve}),Q(Ge,fe)]}):G.jsx("span",{className:"text-gray-400 text-xs",children:"—"})},Ue)})]},Ee)})})()})]})})]},fe))}):G.jsx("div",{className:"text-center py-8",children:G.jsx("p",{className:"text-sm text-gray-600",children:"No analysis results available. Please upload an Excel file."})})]})]})})}class eee{constructor(){this.currentUser=null,this.authListeners=[],Xt.auth.onAuthStateChange((e,t)=>{console.log("🔐 Supabase auth state change:",e),this.currentUser=(t==null?void 0:t.user)||null,this.authListeners.forEach(n=>n(this.currentUser))}),console.log("🟢 SupabaseAuthService initialized")}async signIn(e,t){var n;try{const{data:s,error:i}=await Xt.auth.signInWithPassword({email:e,password:t});if(i)throw i;const a=s.user;return console.log("✅ User signed in with Supabase:",a.email),{user:{uid:a.id,email:a.email,displayName:((n=a.user_metadata)==null?void 0:n.display_name)||a.email.split("@")[0],authenticated:!0,loginTime:new Date().toISOString()}}}catch(s){throw console.error("❌ Supabase sign in error:",s),new Error(this.getAuthErrorMessage(s.message))}}async signUp(e,t,n=null){var s;try{const{data:i,error:a}=await Xt.auth.signUp({email:e,password:t,options:{data:{display_name:n||e.split("@")[0]}}});if(a)throw a;const o=i.user;return console.log("✅ User account created with Supabase:",o.email),{user:{uid:o.id,email:o.email,displayName:n||((s=o.user_metadata)==null?void 0:s.display_name),authenticated:!0,loginTime:new Date().toISOString()}}}catch(i){throw console.error("❌ Supabase sign up error:",i),new Error(this.getAuthErrorMessage(i.message))}}async signOut(){try{const{error:e}=await Xt.auth.signOut();if(e)throw e;return this.currentUser=null,console.log("✅ User signed out from Supabase"),!0}catch(e){throw console.error("❌ Supabase sign out error:",e),e}}getCurrentUser(){var e,t,n;if(!this.currentUser){const s=Xt.auth.getSession();(t=(e=s==null?void 0:s.data)==null?void 0:e.session)!=null&&t.user&&(this.currentUser=s.data.session.user)}return this.currentUser?{user:{uid:this.currentUser.id,email:this.currentUser.email,displayName:((n=this.currentUser.user_metadata)==null?void 0:n.display_name)||this.currentUser.email.split("@")[0],authenticated:!0}}:null}isAuthenticated(){return this.currentUser!==null}onAuthStateChange(e){return this.authListeners.push(e),()=>{this.authListeners=this.authListeners.filter(t=>t!==e)}}async getUserData(e){try{const{data:t,error:n}=await Xt.from("users").select("*").eq("id",e).single();if(n&&n.code!=="PGRST116")throw n;return t||null}catch(t){throw console.error("❌ Error getting user data from Supabase:",t),t}}getAuthErrorMessage(e){return e.includes("Invalid login credentials")?"Invalid email or password. Please check your credentials.":e.includes("User already registered")?"An account with this email already exists.":e.includes("Password should be at least")?"Password should be at least 6 characters.":e.includes("Unable to validate email address")?"Invalid email address format.":e.includes("Email rate limit exceeded")?"Too many attempts. Please try again later.":e.includes("Network request failed")?"Network error. Please check your connection.":e||"Authentication failed. Please try again."}async authenticateUser(e,t){const n=e.includes("@")?e:`${e}@viboothi.in`;try{return await this.signIn(n,t)}catch(s){if(e==="gurukrpasharma"&&t==="Srimatha1@")try{return await this.signUp("admin@viboothi.in",t,"Admin User")}catch{return await this.signIn("admin@viboothi.in",t)}throw s}}async resetPassword(e){try{const{error:t}=await Xt.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});if(t)throw t;return console.log("✅ Password reset email sent"),!0}catch(t){throw console.error("❌ Password reset error:",t),new Error(this.getAuthErrorMessage(t.message))}}async updatePassword(e){try{const{error:t}=await Xt.auth.updateUser({password:e});if(t)throw t;return console.log("✅ Password updated successfully"),!0}catch(t){throw console.error("❌ Password update error:",t),new Error(this.getAuthErrorMessage(t.message))}}async updateProfile(e){try{const{error:t}=await Xt.auth.updateUser({data:e});if(t)throw t;return console.log("✅ Profile updated successfully"),!0}catch(t){throw console.error("❌ Profile update error:",t),new Error(this.getAuthErrorMessage(t.message))}}}const tee=new eee,ree=()=>{};var Y8={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},nee=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const s=r[t++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const i=r[t++];e[n++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=r[t++],a=r[t++],o=r[t++],l=((s&7)<<18|(i&63)<<12|(a&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const i=r[t++],a=r[t++];e[n++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},MN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<r.length;s+=3){const i=r[s],a=s+1<r.length,o=a?r[s+1]:0,l=s+2<r.length,c=l?r[s+2]:0,u=i>>2,d=(i&3)<<4|o>>4;let h=(o&15)<<2|c>>6,f=c&63;l||(f=64,a||(h=64)),n.push(t[u],t[d],t[h],t[f])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(ON(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):nee(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<r.length;){const i=t[r.charAt(s++)],o=s<r.length?t[r.charAt(s)]:0;++s;const c=s<r.length?t[r.charAt(s)]:64;++s;const d=s<r.length?t[r.charAt(s)]:64;if(++s,i==null||o==null||c==null||d==null)throw new see;const h=i<<2|o>>4;if(n.push(h),c!==64){const f=o<<4&240|c>>2;if(n.push(f),d!==64){const m=c<<6&192|d;n.push(m)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class see extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iee=function(r){const e=ON(r);return MN.encodeByteArray(e,!0)},Q1=function(r){return iee(r).replace(/\./g,"")},FN=function(r){try{return MN.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oee=()=>aee().__FIREBASE_DEFAULTS__,lee=()=>{if(typeof process>"u"||typeof Y8>"u")return;const r=Y8.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},cee=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&FN(r[1]);return e&&JSON.parse(e)},fv=()=>{try{return ree()||oee()||lee()||cee()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},LN=r=>{var e,t;return(t=(e=fv())==null?void 0:e.emulatorHosts)==null?void 0:t[r]},uee=r=>{const e=LN(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},jN=()=>{var r;return(r=fv())==null?void 0:r.config},BN=r=>{var e;return(e=fv())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hee{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function UN(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fee(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",s=r.iat||0,i=r.sub||r.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Q1(JSON.stringify(t)),Q1(JSON.stringify(a)),""].join(".")}const H0={};function dee(){const r={prod:[],emulator:[]};for(const e of Object.keys(H0))H0[e]?r.emulator.push(e):r.prod.push(e);return r}function pee(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let J8=!1;function $N(r,e){if(typeof window>"u"||typeof document>"u"||!Sd(window.location.host)||H0[r]===e||H0[r]||J8)return;H0[r]=e;function t(h){return`__firebase__banner__${h}`}const n="__firebase__banner",i=dee().prod.length>0;function a(){const h=document.getElementById(n);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,f){h.setAttribute("width","24"),h.setAttribute("id",f),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{J8=!0,a()},h}function u(h,f){h.setAttribute("id",f),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){const h=pee(n),f=t("text"),m=document.getElementById(f)||document.createElement("span"),g=t("learnmore"),p=document.getElementById(g)||document.createElement("a"),v=t("preprendIcon"),y=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const b=h.element;o(b),u(p,g);const E=c();l(y,v),b.append(y,m,p,E),document.body.appendChild(b)}i?(m.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",f)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hi())}function gee(){var e;const r=(e=fv())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vee(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yee(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function bee(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wee(){const r=hi();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function xee(){return!gee()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _ee(){try{return typeof indexedDB=="object"}catch{return!1}}function See(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eee="FirebaseError";class zl extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=Eee,Object.setPrototypeOf(this,zl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yp.prototype.create)}}class Yp{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?kee(i,n):"Error",o=`${this.serviceName}: ${a} (${s}).`;return new zl(s,o,n)}}function kee(r,e){return r.replace(Aee,(t,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const Aee=/\{\$([^}]+)}/g;function Tee(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function hh(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const s of t){if(!n.includes(s))return!1;const i=r[s],a=e[s];if(Q8(i)&&Q8(a)){if(!hh(i,a))return!1}else if(i!==a)return!1}for(const s of n)if(!t.includes(s))return!1;return!0}function Q8(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Cee(r,e){const t=new Nee(r,e);return t.subscribe.bind(t)}class Nee{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let s;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");Dee(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:n},s.next===void 0&&(s.next=lb),s.error===void 0&&(s.error=lb),s.complete===void 0&&(s.complete=lb);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Dee(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function lb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(r){return r&&r._delegate?r._delegate:r}class fh{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ree{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new hee;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(n)return null;throw s}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Pee(e))try{this.getOrInitializeService({instanceIdentifier:Uu})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:s});n.resolve(i)}catch{}}}}clearInstance(e=Uu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Uu){return this.instances.has(e)}getOptions(e=Uu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);n===o&&a.resolve(s)}return s}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(n)??new Set;s.add(e),this.onInitCallbacks.set(n,s);const i=this.instances.get(n);return i&&e(i,n),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Iee(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Uu){return this.component?this.component.multipleInstances?e:Uu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Iee(r){return r===Uu?void 0:r}function Pee(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oee{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ree(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lr;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Lr||(Lr={}));const Mee={debug:Lr.DEBUG,verbose:Lr.VERBOSE,info:Lr.INFO,warn:Lr.WARN,error:Lr.ERROR,silent:Lr.SILENT},Fee=Lr.INFO,Lee={[Lr.DEBUG]:"log",[Lr.VERBOSE]:"log",[Lr.INFO]:"info",[Lr.WARN]:"warn",[Lr.ERROR]:"error"},jee=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),s=Lee[e];if(s)console[s](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class O_{constructor(e){this.name=e,this._logLevel=Fee,this._logHandler=jee,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Mee[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lr.DEBUG,...e),this._logHandler(this,Lr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lr.VERBOSE,...e),this._logHandler(this,Lr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lr.INFO,...e),this._logHandler(this,Lr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lr.WARN,...e),this._logHandler(this,Lr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lr.ERROR,...e),this._logHandler(this,Lr.ERROR,...e)}}const Bee=(r,e)=>e.some(t=>r instanceof t);let Z8,eE;function Uee(){return Z8||(Z8=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $ee(){return eE||(eE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VN=new WeakMap,ux=new WeakMap,HN=new WeakMap,cb=new WeakMap,M_=new WeakMap;function Vee(r){const e=new Promise((t,n)=>{const s=()=>{r.removeEventListener("success",i),r.removeEventListener("error",a)},i=()=>{t(Jc(r.result)),s()},a=()=>{n(r.error),s()};r.addEventListener("success",i),r.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&VN.set(t,r)}).catch(()=>{}),M_.set(e,r),e}function Hee(r){if(ux.has(r))return;const e=new Promise((t,n)=>{const s=()=>{r.removeEventListener("complete",i),r.removeEventListener("error",a),r.removeEventListener("abort",a)},i=()=>{t(),s()},a=()=>{n(r.error||new DOMException("AbortError","AbortError")),s()};r.addEventListener("complete",i),r.addEventListener("error",a),r.addEventListener("abort",a)});ux.set(r,e)}let hx={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return ux.get(r);if(e==="objectStoreNames")return r.objectStoreNames||HN.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Jc(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function zee(r){hx=r(hx)}function qee(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(ub(this),e,...t);return HN.set(n,e.sort?e.sort():[e]),Jc(n)}:$ee().includes(r)?function(...e){return r.apply(ub(this),e),Jc(VN.get(this))}:function(...e){return Jc(r.apply(ub(this),e))}}function Wee(r){return typeof r=="function"?qee(r):(r instanceof IDBTransaction&&Hee(r),Bee(r,Uee())?new Proxy(r,hx):r)}function Jc(r){if(r instanceof IDBRequest)return Vee(r);if(cb.has(r))return cb.get(r);const e=Wee(r);return e!==r&&(cb.set(r,e),M_.set(e,r)),e}const ub=r=>M_.get(r);function Gee(r,e,{blocked:t,upgrade:n,blocking:s,terminated:i}={}){const a=indexedDB.open(r,e),o=Jc(a);return n&&a.addEventListener("upgradeneeded",l=>{n(Jc(a.result),l.oldVersion,l.newVersion,Jc(a.transaction),l)}),t&&a.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),o.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const Kee=["get","getKey","getAll","getAllKeys","count"],Xee=["put","add","delete","clear"],hb=new Map;function tE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(hb.get(e))return hb.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,s=Xee.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(s||Kee.includes(t)))return;const i=async function(a,...o){const l=this.transaction(a,s?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[t](...o),s&&l.done]))[0]};return hb.set(e,i),i}zee(r=>({...r,get:(e,t,n)=>tE(e,t)||r.get(e,t,n),has:(e,t)=>!!tE(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yee{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Jee(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function Jee(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fx="@firebase/app",rE="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol=new O_("@firebase/app"),Qee="@firebase/app-compat",Zee="@firebase/analytics-compat",ete="@firebase/analytics",tte="@firebase/app-check-compat",rte="@firebase/app-check",nte="@firebase/auth",ste="@firebase/auth-compat",ite="@firebase/database",ate="@firebase/data-connect",ote="@firebase/database-compat",lte="@firebase/functions",cte="@firebase/functions-compat",ute="@firebase/installations",hte="@firebase/installations-compat",fte="@firebase/messaging",dte="@firebase/messaging-compat",pte="@firebase/performance",mte="@firebase/performance-compat",gte="@firebase/remote-config",vte="@firebase/remote-config-compat",yte="@firebase/storage",bte="@firebase/storage-compat",wte="@firebase/firestore",xte="@firebase/ai",_te="@firebase/firestore-compat",Ste="firebase",Ete="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="[DEFAULT]",kte={[fx]:"fire-core",[Qee]:"fire-core-compat",[ete]:"fire-analytics",[Zee]:"fire-analytics-compat",[rte]:"fire-app-check",[tte]:"fire-app-check-compat",[nte]:"fire-auth",[ste]:"fire-auth-compat",[ite]:"fire-rtdb",[ate]:"fire-data-connect",[ote]:"fire-rtdb-compat",[lte]:"fire-fn",[cte]:"fire-fn-compat",[ute]:"fire-iid",[hte]:"fire-iid-compat",[fte]:"fire-fcm",[dte]:"fire-fcm-compat",[pte]:"fire-perf",[mte]:"fire-perf-compat",[gte]:"fire-rc",[vte]:"fire-rc-compat",[yte]:"fire-gcs",[bte]:"fire-gcs-compat",[wte]:"fire-fst",[_te]:"fire-fst-compat",[xte]:"fire-vertex","fire-js":"fire-js",[Ste]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=new Map,Ate=new Map,px=new Map;function nE(r,e){try{r.container.addComponent(e)}catch(t){Ol.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function nd(r){const e=r.name;if(px.has(e))return Ol.debug(`There were multiple attempts to register component ${e}.`),!1;px.set(e,r);for(const t of Z1.values())nE(t,r);for(const t of Ate.values())nE(t,r);return!0}function F_(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Fo(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tte={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qc=new Yp("app","Firebase",Tte);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cte{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new fh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=Ete;function zN(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n={name:dx,automaticDataCollectionEnabled:!0,...e},s=n.name;if(typeof s!="string"||!s)throw Qc.create("bad-app-name",{appName:String(s)});if(t||(t=jN()),!t)throw Qc.create("no-options");const i=Z1.get(s);if(i){if(hh(t,i.options)&&hh(n,i.config))return i;throw Qc.create("duplicate-app",{appName:s})}const a=new Oee(s);for(const l of px.values())a.addComponent(l);const o=new Cte(t,n,a);return Z1.set(s,o),o}function qN(r=dx){const e=Z1.get(r);if(!e&&r===dx&&jN())return zN();if(!e)throw Qc.create("no-app",{appName:r});return e}function Zc(r,e,t){let n=kte[r]??r;t&&(n+=`-${t}`);const s=n.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const a=[`Unable to register library "${n}" with version "${e}":`];s&&a.push(`library name "${n}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ol.warn(a.join(" "));return}nd(new fh(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nte="firebase-heartbeat-database",Dte=1,Cp="firebase-heartbeat-store";let fb=null;function WN(){return fb||(fb=Gee(Nte,Dte,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Cp)}catch(t){console.warn(t)}}}}).catch(r=>{throw Qc.create("idb-open",{originalErrorMessage:r.message})})),fb}async function Rte(r){try{const t=(await WN()).transaction(Cp),n=await t.objectStore(Cp).get(GN(r));return await t.done,n}catch(e){if(e instanceof zl)Ol.warn(e.message);else{const t=Qc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ol.warn(t.message)}}}async function sE(r,e){try{const n=(await WN()).transaction(Cp,"readwrite");await n.objectStore(Cp).put(e,GN(r)),await n.done}catch(t){if(t instanceof zl)Ol.warn(t.message);else{const n=Qc.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ol.warn(n.message)}}}function GN(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ite=1024,Pte=30;class Ote{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Fte(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=iE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>Pte){const a=Lte(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Ol.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=iE(),{heartbeatsToSend:n,unsentEntries:s}=Mte(this._heartbeatsCache.heartbeats),i=Q1(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return Ol.warn(t),""}}}function iE(){return new Date().toISOString().substring(0,10)}function Mte(r,e=Ite){const t=[];let n=r.slice();for(const s of r){const i=t.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),aE(t)>e){i.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),aE(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class Fte{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _ee()?See().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Rte(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return sE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return sE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function aE(r){return Q1(JSON.stringify({version:2,heartbeats:r})).length}function Lte(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jte(r){nd(new fh("platform-logger",e=>new Yee(e),"PRIVATE")),nd(new fh("heartbeat",e=>new Ote(e),"PRIVATE")),Zc(fx,rE,r),Zc(fx,rE,"esm2020"),Zc("fire-js","")}jte("");var Bte="firebase",Ute="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zc(Bte,Ute,"app");var oE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eu,KN;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,C){function I(){}I.prototype=C.prototype,D.D=C.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(V,B,P){for(var k=Array(arguments.length-2),M=2;M<arguments.length;M++)k[M-2]=arguments[M];return C.prototype[B].apply(V,k)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,C,I){I||(I=0);var V=Array(16);if(typeof C=="string")for(var B=0;16>B;++B)V[B]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(B=0;16>B;++B)V[B]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=D.g[0],I=D.g[1],B=D.g[2];var P=D.g[3],k=C+(P^I&(B^P))+V[0]+3614090360&4294967295;C=I+(k<<7&4294967295|k>>>25),k=P+(B^C&(I^B))+V[1]+3905402710&4294967295,P=C+(k<<12&4294967295|k>>>20),k=B+(I^P&(C^I))+V[2]+606105819&4294967295,B=P+(k<<17&4294967295|k>>>15),k=I+(C^B&(P^C))+V[3]+3250441966&4294967295,I=B+(k<<22&4294967295|k>>>10),k=C+(P^I&(B^P))+V[4]+4118548399&4294967295,C=I+(k<<7&4294967295|k>>>25),k=P+(B^C&(I^B))+V[5]+1200080426&4294967295,P=C+(k<<12&4294967295|k>>>20),k=B+(I^P&(C^I))+V[6]+2821735955&4294967295,B=P+(k<<17&4294967295|k>>>15),k=I+(C^B&(P^C))+V[7]+4249261313&4294967295,I=B+(k<<22&4294967295|k>>>10),k=C+(P^I&(B^P))+V[8]+1770035416&4294967295,C=I+(k<<7&4294967295|k>>>25),k=P+(B^C&(I^B))+V[9]+2336552879&4294967295,P=C+(k<<12&4294967295|k>>>20),k=B+(I^P&(C^I))+V[10]+4294925233&4294967295,B=P+(k<<17&4294967295|k>>>15),k=I+(C^B&(P^C))+V[11]+2304563134&4294967295,I=B+(k<<22&4294967295|k>>>10),k=C+(P^I&(B^P))+V[12]+1804603682&4294967295,C=I+(k<<7&4294967295|k>>>25),k=P+(B^C&(I^B))+V[13]+4254626195&4294967295,P=C+(k<<12&4294967295|k>>>20),k=B+(I^P&(C^I))+V[14]+2792965006&4294967295,B=P+(k<<17&4294967295|k>>>15),k=I+(C^B&(P^C))+V[15]+1236535329&4294967295,I=B+(k<<22&4294967295|k>>>10),k=C+(B^P&(I^B))+V[1]+4129170786&4294967295,C=I+(k<<5&4294967295|k>>>27),k=P+(I^B&(C^I))+V[6]+3225465664&4294967295,P=C+(k<<9&4294967295|k>>>23),k=B+(C^I&(P^C))+V[11]+643717713&4294967295,B=P+(k<<14&4294967295|k>>>18),k=I+(P^C&(B^P))+V[0]+3921069994&4294967295,I=B+(k<<20&4294967295|k>>>12),k=C+(B^P&(I^B))+V[5]+3593408605&4294967295,C=I+(k<<5&4294967295|k>>>27),k=P+(I^B&(C^I))+V[10]+38016083&4294967295,P=C+(k<<9&4294967295|k>>>23),k=B+(C^I&(P^C))+V[15]+3634488961&4294967295,B=P+(k<<14&4294967295|k>>>18),k=I+(P^C&(B^P))+V[4]+3889429448&4294967295,I=B+(k<<20&4294967295|k>>>12),k=C+(B^P&(I^B))+V[9]+568446438&4294967295,C=I+(k<<5&4294967295|k>>>27),k=P+(I^B&(C^I))+V[14]+3275163606&4294967295,P=C+(k<<9&4294967295|k>>>23),k=B+(C^I&(P^C))+V[3]+4107603335&4294967295,B=P+(k<<14&4294967295|k>>>18),k=I+(P^C&(B^P))+V[8]+1163531501&4294967295,I=B+(k<<20&4294967295|k>>>12),k=C+(B^P&(I^B))+V[13]+2850285829&4294967295,C=I+(k<<5&4294967295|k>>>27),k=P+(I^B&(C^I))+V[2]+4243563512&4294967295,P=C+(k<<9&4294967295|k>>>23),k=B+(C^I&(P^C))+V[7]+1735328473&4294967295,B=P+(k<<14&4294967295|k>>>18),k=I+(P^C&(B^P))+V[12]+2368359562&4294967295,I=B+(k<<20&4294967295|k>>>12),k=C+(I^B^P)+V[5]+4294588738&4294967295,C=I+(k<<4&4294967295|k>>>28),k=P+(C^I^B)+V[8]+2272392833&4294967295,P=C+(k<<11&4294967295|k>>>21),k=B+(P^C^I)+V[11]+1839030562&4294967295,B=P+(k<<16&4294967295|k>>>16),k=I+(B^P^C)+V[14]+4259657740&4294967295,I=B+(k<<23&4294967295|k>>>9),k=C+(I^B^P)+V[1]+2763975236&4294967295,C=I+(k<<4&4294967295|k>>>28),k=P+(C^I^B)+V[4]+1272893353&4294967295,P=C+(k<<11&4294967295|k>>>21),k=B+(P^C^I)+V[7]+4139469664&4294967295,B=P+(k<<16&4294967295|k>>>16),k=I+(B^P^C)+V[10]+3200236656&4294967295,I=B+(k<<23&4294967295|k>>>9),k=C+(I^B^P)+V[13]+681279174&4294967295,C=I+(k<<4&4294967295|k>>>28),k=P+(C^I^B)+V[0]+3936430074&4294967295,P=C+(k<<11&4294967295|k>>>21),k=B+(P^C^I)+V[3]+3572445317&4294967295,B=P+(k<<16&4294967295|k>>>16),k=I+(B^P^C)+V[6]+76029189&4294967295,I=B+(k<<23&4294967295|k>>>9),k=C+(I^B^P)+V[9]+3654602809&4294967295,C=I+(k<<4&4294967295|k>>>28),k=P+(C^I^B)+V[12]+3873151461&4294967295,P=C+(k<<11&4294967295|k>>>21),k=B+(P^C^I)+V[15]+530742520&4294967295,B=P+(k<<16&4294967295|k>>>16),k=I+(B^P^C)+V[2]+3299628645&4294967295,I=B+(k<<23&4294967295|k>>>9),k=C+(B^(I|~P))+V[0]+4096336452&4294967295,C=I+(k<<6&4294967295|k>>>26),k=P+(I^(C|~B))+V[7]+1126891415&4294967295,P=C+(k<<10&4294967295|k>>>22),k=B+(C^(P|~I))+V[14]+2878612391&4294967295,B=P+(k<<15&4294967295|k>>>17),k=I+(P^(B|~C))+V[5]+4237533241&4294967295,I=B+(k<<21&4294967295|k>>>11),k=C+(B^(I|~P))+V[12]+1700485571&4294967295,C=I+(k<<6&4294967295|k>>>26),k=P+(I^(C|~B))+V[3]+2399980690&4294967295,P=C+(k<<10&4294967295|k>>>22),k=B+(C^(P|~I))+V[10]+4293915773&4294967295,B=P+(k<<15&4294967295|k>>>17),k=I+(P^(B|~C))+V[1]+2240044497&4294967295,I=B+(k<<21&4294967295|k>>>11),k=C+(B^(I|~P))+V[8]+1873313359&4294967295,C=I+(k<<6&4294967295|k>>>26),k=P+(I^(C|~B))+V[15]+4264355552&4294967295,P=C+(k<<10&4294967295|k>>>22),k=B+(C^(P|~I))+V[6]+2734768916&4294967295,B=P+(k<<15&4294967295|k>>>17),k=I+(P^(B|~C))+V[13]+1309151649&4294967295,I=B+(k<<21&4294967295|k>>>11),k=C+(B^(I|~P))+V[4]+4149444226&4294967295,C=I+(k<<6&4294967295|k>>>26),k=P+(I^(C|~B))+V[11]+3174756917&4294967295,P=C+(k<<10&4294967295|k>>>22),k=B+(C^(P|~I))+V[2]+718787259&4294967295,B=P+(k<<15&4294967295|k>>>17),k=I+(P^(B|~C))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(B+(k<<21&4294967295|k>>>11))&4294967295,D.g[2]=D.g[2]+B&4294967295,D.g[3]=D.g[3]+P&4294967295}n.prototype.u=function(D,C){C===void 0&&(C=D.length);for(var I=C-this.blockSize,V=this.B,B=this.h,P=0;P<C;){if(B==0)for(;P<=I;)s(this,D,P),P+=this.blockSize;if(typeof D=="string"){for(;P<C;)if(V[B++]=D.charCodeAt(P++),B==this.blockSize){s(this,V),B=0;break}}else for(;P<C;)if(V[B++]=D[P++],B==this.blockSize){s(this,V),B=0;break}}this.h=B,this.o+=C},n.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;var I=8*this.o;for(C=D.length-8;C<D.length;++C)D[C]=I&255,I/=256;for(this.u(D),D=Array(16),C=I=0;4>C;++C)for(var V=0;32>V;V+=8)D[I++]=this.g[C]>>>V&255;return D};function i(D,C){var I=o;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=C(D)}function a(D,C){this.h=C;for(var I=[],V=!0,B=D.length-1;0<=B;B--){var P=D[B]|0;V&&P==C||(I[B]=P,V=!1)}this.g=I}var o={};function l(D){return-128<=D&&128>D?i(D,function(C){return new a([C|0],0>C?-1:0)}):new a([D|0],0>D?-1:0)}function c(D){if(isNaN(D)||!isFinite(D))return d;if(0>D)return p(c(-D));for(var C=[],I=1,V=0;D>=I;V++)C[V]=D/I|0,I*=4294967296;return new a(C,0)}function u(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return p(u(D.substring(1),C));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(C,8)),V=d,B=0;B<D.length;B+=8){var P=Math.min(8,D.length-B),k=parseInt(D.substring(B,B+P),C);8>P?(P=c(Math.pow(C,P)),V=V.j(P).add(c(k))):(V=V.j(I),V=V.add(c(k)))}return V}var d=l(0),h=l(1),f=l(16777216);r=a.prototype,r.m=function(){if(g(this))return-p(this).m();for(var D=0,C=1,I=0;I<this.g.length;I++){var V=this.i(I);D+=(0<=V?V:4294967296+V)*C,C*=4294967296}return D},r.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(m(this))return"0";if(g(this))return"-"+p(this).toString(D);for(var C=c(Math.pow(D,6)),I=this,V="";;){var B=E(I,C).g;I=v(I,B.j(C));var P=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=B,m(I))return P+V;for(;6>P.length;)P="0"+P;V=P+V}},r.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function m(D){if(D.h!=0)return!1;for(var C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function g(D){return D.h==-1}r.l=function(D){return D=v(this,D),g(D)?-1:m(D)?0:1};function p(D){for(var C=D.g.length,I=[],V=0;V<C;V++)I[V]=~D.g[V];return new a(I,~D.h).add(h)}r.abs=function(){return g(this)?p(this):this},r.add=function(D){for(var C=Math.max(this.g.length,D.g.length),I=[],V=0,B=0;B<=C;B++){var P=V+(this.i(B)&65535)+(D.i(B)&65535),k=(P>>>16)+(this.i(B)>>>16)+(D.i(B)>>>16);V=k>>>16,P&=65535,k&=65535,I[B]=k<<16|P}return new a(I,I[I.length-1]&-2147483648?-1:0)};function v(D,C){return D.add(p(C))}r.j=function(D){if(m(this)||m(D))return d;if(g(this))return g(D)?p(this).j(p(D)):p(p(this).j(D));if(g(D))return p(this.j(p(D)));if(0>this.l(f)&&0>D.l(f))return c(this.m()*D.m());for(var C=this.g.length+D.g.length,I=[],V=0;V<2*C;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(var B=0;B<D.g.length;B++){var P=this.i(V)>>>16,k=this.i(V)&65535,M=D.i(B)>>>16,A=D.i(B)&65535;I[2*V+2*B]+=k*A,y(I,2*V+2*B),I[2*V+2*B+1]+=P*A,y(I,2*V+2*B+1),I[2*V+2*B+1]+=k*M,y(I,2*V+2*B+1),I[2*V+2*B+2]+=P*M,y(I,2*V+2*B+2)}for(V=0;V<C;V++)I[V]=I[2*V+1]<<16|I[2*V];for(V=C;V<2*C;V++)I[V]=0;return new a(I,0)};function y(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function b(D,C){this.g=D,this.h=C}function E(D,C){if(m(C))throw Error("division by zero");if(m(D))return new b(d,d);if(g(D))return C=E(p(D),C),new b(p(C.g),p(C.h));if(g(C))return C=E(D,p(C)),new b(p(C.g),C.h);if(30<D.g.length){if(g(D)||g(C))throw Error("slowDivide_ only works with positive integers.");for(var I=h,V=C;0>=V.l(D);)I=N(I),V=N(V);var B=j(I,1),P=j(V,1);for(V=j(V,2),I=j(I,2);!m(V);){var k=P.add(V);0>=k.l(D)&&(B=B.add(I),P=k),V=j(V,1),I=j(I,1)}return C=v(D,B.j(C)),new b(B,C)}for(B=d;0<=D.l(C);){for(I=Math.max(1,Math.floor(D.m()/C.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),P=c(I),k=P.j(C);g(k)||0<k.l(D);)I-=V,P=c(I),k=P.j(C);m(P)&&(P=h),B=B.add(P),D=v(D,k)}return new b(B,D)}r.A=function(D){return E(this,D).h},r.and=function(D){for(var C=Math.max(this.g.length,D.g.length),I=[],V=0;V<C;V++)I[V]=this.i(V)&D.i(V);return new a(I,this.h&D.h)},r.or=function(D){for(var C=Math.max(this.g.length,D.g.length),I=[],V=0;V<C;V++)I[V]=this.i(V)|D.i(V);return new a(I,this.h|D.h)},r.xor=function(D){for(var C=Math.max(this.g.length,D.g.length),I=[],V=0;V<C;V++)I[V]=this.i(V)^D.i(V);return new a(I,this.h^D.h)};function N(D){for(var C=D.g.length+1,I=[],V=0;V<C;V++)I[V]=D.i(V)<<1|D.i(V-1)>>>31;return new a(I,D.h)}function j(D,C){var I=C>>5;C%=32;for(var V=D.g.length-I,B=[],P=0;P<V;P++)B[P]=0<C?D.i(P+I)>>>C|D.i(P+I+1)<<32-C:D.i(P+I);return new a(B,D.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,KN=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=u,eu=a}).apply(typeof oE<"u"?oE:typeof self<"u"?self:typeof window<"u"?window:{});var bg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XN,m0,YN,Wg,mx,JN,QN,ZN;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(H,re,le){return H==Array.prototype||H==Object.prototype||(H[re]=le.value),H};function t(H){H=[typeof globalThis=="object"&&globalThis,H,typeof window=="object"&&window,typeof self=="object"&&self,typeof bg=="object"&&bg];for(var re=0;re<H.length;++re){var le=H[re];if(le&&le.Math==Math)return le}throw Error("Cannot find global object")}var n=t(this);function s(H,re){if(re)e:{var le=n;H=H.split(".");for(var Ce=0;Ce<H.length-1;Ce++){var at=H[Ce];if(!(at in le))break e;le=le[at]}H=H[H.length-1],Ce=le[H],re=re(Ce),re!=Ce&&re!=null&&e(le,H,{configurable:!0,writable:!0,value:re})}}function i(H,re){H instanceof String&&(H+="");var le=0,Ce=!1,at={next:function(){if(!Ce&&le<H.length){var bt=le++;return{value:re(bt,H[bt]),done:!1}}return Ce=!0,{done:!0,value:void 0}}};return at[Symbol.iterator]=function(){return at},at}s("Array.prototype.values",function(H){return H||function(){return i(this,function(re,le){return le})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(H){var re=typeof H;return re=re!="object"?re:H?Array.isArray(H)?"array":re:"null",re=="array"||re=="object"&&typeof H.length=="number"}function c(H){var re=typeof H;return re=="object"&&H!=null||re=="function"}function u(H,re,le){return H.call.apply(H.bind,arguments)}function d(H,re,le){if(!H)throw Error();if(2<arguments.length){var Ce=Array.prototype.slice.call(arguments,2);return function(){var at=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(at,Ce),H.apply(re,at)}}return function(){return H.apply(re,arguments)}}function h(H,re,le){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,h.apply(null,arguments)}function f(H,re){var le=Array.prototype.slice.call(arguments,1);return function(){var Ce=le.slice();return Ce.push.apply(Ce,arguments),H.apply(this,Ce)}}function m(H,re){function le(){}le.prototype=re.prototype,H.aa=re.prototype,H.prototype=new le,H.prototype.constructor=H,H.Qb=function(Ce,at,bt){for(var Lt=Array(arguments.length-2),xr=2;xr<arguments.length;xr++)Lt[xr-2]=arguments[xr];return re.prototype[at].apply(Ce,Lt)}}function g(H){const re=H.length;if(0<re){const le=Array(re);for(let Ce=0;Ce<re;Ce++)le[Ce]=H[Ce];return le}return[]}function p(H,re){for(let le=1;le<arguments.length;le++){const Ce=arguments[le];if(l(Ce)){const at=H.length||0,bt=Ce.length||0;H.length=at+bt;for(let Lt=0;Lt<bt;Lt++)H[at+Lt]=Ce[Lt]}else H.push(Ce)}}class v{constructor(re,le){this.i=re,this.j=le,this.h=0,this.g=null}get(){let re;return 0<this.h?(this.h--,re=this.g,this.g=re.next,re.next=null):re=this.i(),re}}function y(H){return/^[\s\xa0]*$/.test(H)}function b(){var H=o.navigator;return H&&(H=H.userAgent)?H:""}function E(H){return E[" "](H),H}E[" "]=function(){};var N=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function j(H,re,le){for(const Ce in H)re.call(le,H[Ce],Ce,H)}function D(H,re){for(const le in H)re.call(void 0,H[le],le,H)}function C(H){const re={};for(const le in H)re[le]=H[le];return re}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(H,re){let le,Ce;for(let at=1;at<arguments.length;at++){Ce=arguments[at];for(le in Ce)H[le]=Ce[le];for(let bt=0;bt<I.length;bt++)le=I[bt],Object.prototype.hasOwnProperty.call(Ce,le)&&(H[le]=Ce[le])}}function B(H){var re=1;H=H.split(":");const le=[];for(;0<re&&H.length;)le.push(H.shift()),re--;return H.length&&le.push(H.join(":")),le}function P(H){o.setTimeout(()=>{throw H},0)}function k(){var H=x;let re=null;return H.g&&(re=H.g,H.g=H.g.next,H.g||(H.h=null),re.next=null),re}class M{constructor(){this.h=this.g=null}add(re,le){const Ce=A.get();Ce.set(re,le),this.h?this.h.next=Ce:this.g=Ce,this.h=Ce}}var A=new v(()=>new w,H=>H.reset());class w{constructor(){this.next=this.g=this.h=null}set(re,le){this.h=re,this.g=le,this.next=null}reset(){this.next=this.g=this.h=null}}let S,_=!1,x=new M,R=()=>{const H=o.Promise.resolve(void 0);S=()=>{H.then(W)}};var W=()=>{for(var H;H=k();){try{H.h.call(H.g)}catch(le){P(le)}var re=A;re.j(H),100>re.h&&(re.h++,H.next=re.g,re.g=H)}_=!1};function T(){this.s=this.s,this.C=this.C}T.prototype.s=!1,T.prototype.ma=function(){this.s||(this.s=!0,this.N())},T.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(H,re){this.type=H,this.g=this.target=re,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var q=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var H=!1,re=Object.defineProperty({},"passive",{get:function(){H=!0}});try{const le=()=>{};o.addEventListener("test",le,re),o.removeEventListener("test",le,re)}catch{}return H}();function Y(H,re){if(z.call(this,H?H.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,H){var le=this.type=H.type,Ce=H.changedTouches&&H.changedTouches.length?H.changedTouches[0]:null;if(this.target=H.target||H.srcElement,this.g=re,re=H.relatedTarget){if(N){e:{try{E(re.nodeName);var at=!0;break e}catch{}at=!1}at||(re=null)}}else le=="mouseover"?re=H.fromElement:le=="mouseout"&&(re=H.toElement);this.relatedTarget=re,Ce?(this.clientX=Ce.clientX!==void 0?Ce.clientX:Ce.pageX,this.clientY=Ce.clientY!==void 0?Ce.clientY:Ce.pageY,this.screenX=Ce.screenX||0,this.screenY=Ce.screenY||0):(this.clientX=H.clientX!==void 0?H.clientX:H.pageX,this.clientY=H.clientY!==void 0?H.clientY:H.pageY,this.screenX=H.screenX||0,this.screenY=H.screenY||0),this.button=H.button,this.key=H.key||"",this.ctrlKey=H.ctrlKey,this.altKey=H.altKey,this.shiftKey=H.shiftKey,this.metaKey=H.metaKey,this.pointerId=H.pointerId||0,this.pointerType=typeof H.pointerType=="string"?H.pointerType:U[H.pointerType]||"",this.state=H.state,this.i=H,H.defaultPrevented&&Y.aa.h.call(this)}}m(Y,z);var U={2:"touch",3:"pen",4:"mouse"};Y.prototype.h=function(){Y.aa.h.call(this);var H=this.i;H.preventDefault?H.preventDefault():H.returnValue=!1};var Q="closure_listenable_"+(1e6*Math.random()|0),F=0;function O(H,re,le,Ce,at){this.listener=H,this.proxy=null,this.src=re,this.type=le,this.capture=!!Ce,this.ha=at,this.key=++F,this.da=this.fa=!1}function K(H){H.da=!0,H.listener=null,H.proxy=null,H.src=null,H.ha=null}function ne(H){this.src=H,this.g={},this.h=0}ne.prototype.add=function(H,re,le,Ce,at){var bt=H.toString();H=this.g[bt],H||(H=this.g[bt]=[],this.h++);var Lt=ie(H,re,Ce,at);return-1<Lt?(re=H[Lt],le||(re.fa=!1)):(re=new O(re,this.src,bt,!!Ce,at),re.fa=le,H.push(re)),re};function ee(H,re){var le=re.type;if(le in H.g){var Ce=H.g[le],at=Array.prototype.indexOf.call(Ce,re,void 0),bt;(bt=0<=at)&&Array.prototype.splice.call(Ce,at,1),bt&&(K(re),H.g[le].length==0&&(delete H.g[le],H.h--))}}function ie(H,re,le,Ce){for(var at=0;at<H.length;++at){var bt=H[at];if(!bt.da&&bt.listener==re&&bt.capture==!!le&&bt.ha==Ce)return at}return-1}var he="closure_lm_"+(1e6*Math.random()|0),ce={};function te(H,re,le,Ce,at){if(Array.isArray(re)){for(var bt=0;bt<re.length;bt++)te(H,re[bt],le,Ce,at);return null}return le=ve(le),H&&H[Q]?H.K(re,le,c(Ce)?!!Ce.capture:!1,at):se(H,re,le,!1,Ce,at)}function se(H,re,le,Ce,at,bt){if(!re)throw Error("Invalid event type");var Lt=c(at)?!!at.capture:!!at,xr=fe(H);if(xr||(H[he]=xr=new ne(H)),le=xr.add(re,le,Ce,Lt,bt),le.proxy)return le;if(Ce=ge(),le.proxy=Ce,Ce.src=H,Ce.listener=le,H.addEventListener)q||(at=Lt),at===void 0&&(at=!1),H.addEventListener(re.toString(),Ce,at);else if(H.attachEvent)H.attachEvent(De(re.toString()),Ce);else if(H.addListener&&H.removeListener)H.addListener(Ce);else throw Error("addEventListener and attachEvent are unavailable.");return le}function ge(){function H(le){return re.call(H.src,H.listener,le)}const re=_e;return H}function de(H,re,le,Ce,at){if(Array.isArray(re))for(var bt=0;bt<re.length;bt++)de(H,re[bt],le,Ce,at);else Ce=c(Ce)?!!Ce.capture:!!Ce,le=ve(le),H&&H[Q]?(H=H.i,re=String(re).toString(),re in H.g&&(bt=H.g[re],le=ie(bt,le,Ce,at),-1<le&&(K(bt[le]),Array.prototype.splice.call(bt,le,1),bt.length==0&&(delete H.g[re],H.h--)))):H&&(H=fe(H))&&(re=H.g[re.toString()],H=-1,re&&(H=ie(re,le,Ce,at)),(le=-1<H?re[H]:null)&&Te(le))}function Te(H){if(typeof H!="number"&&H&&!H.da){var re=H.src;if(re&&re[Q])ee(re.i,H);else{var le=H.type,Ce=H.proxy;re.removeEventListener?re.removeEventListener(le,Ce,H.capture):re.detachEvent?re.detachEvent(De(le),Ce):re.addListener&&re.removeListener&&re.removeListener(Ce),(le=fe(re))?(ee(le,H),le.h==0&&(le.src=null,re[he]=null)):K(H)}}}function De(H){return H in ce?ce[H]:ce[H]="on"+H}function _e(H,re){if(H.da)H=!0;else{re=new Y(re,this);var le=H.listener,Ce=H.ha||H.src;H.fa&&Te(H),H=le.call(Ce,re)}return H}function fe(H){return H=H[he],H instanceof ne?H:null}var ae="__closure_events_fn_"+(1e9*Math.random()>>>0);function ve(H){return typeof H=="function"?H:(H[ae]||(H[ae]=function(re){return H.handleEvent(re)}),H[ae])}function Ee(){T.call(this),this.i=new ne(this),this.M=this,this.F=null}m(Ee,T),Ee.prototype[Q]=!0,Ee.prototype.removeEventListener=function(H,re,le,Ce){de(this,H,re,le,Ce)};function Fe(H,re){var le,Ce=H.F;if(Ce)for(le=[];Ce;Ce=Ce.F)le.push(Ce);if(H=H.M,Ce=re.type||re,typeof re=="string")re=new z(re,H);else if(re instanceof z)re.target=re.target||H;else{var at=re;re=new z(Ce,H),V(re,at)}if(at=!0,le)for(var bt=le.length-1;0<=bt;bt--){var Lt=re.g=le[bt];at=Ue(Lt,Ce,!0,re)&&at}if(Lt=re.g=H,at=Ue(Lt,Ce,!0,re)&&at,at=Ue(Lt,Ce,!1,re)&&at,le)for(bt=0;bt<le.length;bt++)Lt=re.g=le[bt],at=Ue(Lt,Ce,!1,re)&&at}Ee.prototype.N=function(){if(Ee.aa.N.call(this),this.i){var H=this.i,re;for(re in H.g){for(var le=H.g[re],Ce=0;Ce<le.length;Ce++)K(le[Ce]);delete H.g[re],H.h--}}this.F=null},Ee.prototype.K=function(H,re,le,Ce){return this.i.add(String(H),re,!1,le,Ce)},Ee.prototype.L=function(H,re,le,Ce){return this.i.add(String(H),re,!0,le,Ce)};function Ue(H,re,le,Ce){if(re=H.i.g[String(re)],!re)return!0;re=re.concat();for(var at=!0,bt=0;bt<re.length;++bt){var Lt=re[bt];if(Lt&&!Lt.da&&Lt.capture==le){var xr=Lt.listener,Mr=Lt.ha||Lt.src;Lt.fa&&ee(H.i,Lt),at=xr.call(Mr,Ce)!==!1&&at}}return at&&!Ce.defaultPrevented}function Ge(H,re,le){if(typeof H=="function")le&&(H=h(H,le));else if(H&&typeof H.handleEvent=="function")H=h(H.handleEvent,H);else throw Error("Invalid listener argument");return 2147483647<Number(re)?-1:o.setTimeout(H,re||0)}function Ve(H){H.g=Ge(()=>{H.g=null,H.i&&(H.i=!1,Ve(H))},H.l);const re=H.h;H.h=null,H.m.apply(null,re)}class ze extends T{constructor(re,le){super(),this.m=re,this.l=le,this.h=null,this.i=!1,this.g=null}j(re){this.h=arguments,this.g?this.i=!0:Ve(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ke(H){T.call(this),this.h=H,this.g={}}m(Ke,T);var be=[];function Be(H){j(H.g,function(re,le){this.g.hasOwnProperty(le)&&Te(re)},H),H.g={}}Ke.prototype.N=function(){Ke.aa.N.call(this),Be(this)},Ke.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var He=o.JSON.stringify,Me=o.JSON.parse,Le=class{stringify(H){return o.JSON.stringify(H,void 0)}parse(H){return o.JSON.parse(H,void 0)}};function Xe(){}Xe.prototype.h=null;function Je(H){return H.h||(H.h=H.i())}function et(){}var xt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pt(){z.call(this,"d")}m(pt,z);function wt(){z.call(this,"c")}m(wt,z);var mt={},gt=null;function ft(){return gt=gt||new Ee}mt.La="serverreachability";function Nt(H){z.call(this,mt.La,H)}m(Nt,z);function Ht(H){const re=ft();Fe(re,new Nt(re))}mt.STAT_EVENT="statevent";function $t(H,re){z.call(this,mt.STAT_EVENT,H),this.stat=re}m($t,z);function _t(H){const re=ft();Fe(re,new $t(re,H))}mt.Ma="timingevent";function er(H,re){z.call(this,mt.Ma,H),this.size=re}m(er,z);function Gt(H,re){if(typeof H!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){H()},re)}function We(){this.g=!0}We.prototype.xa=function(){this.g=!1};function Qe(H,re,le,Ce,at,bt){H.info(function(){if(H.g)if(bt)for(var Lt="",xr=bt.split("&"),Mr=0;Mr<xr.length;Mr++){var _r=xr[Mr].split("=");if(1<_r.length){var Zr=_r[0];_r=_r[1];var cn=Zr.split("_");Lt=2<=cn.length&&cn[1]=="type"?Lt+(Zr+"="+_r+"&"):Lt+(Zr+"=redacted&")}}else Lt=null;else Lt=bt;return"XMLHTTP REQ ("+Ce+") [attempt "+at+"]: "+re+`
`+le+`
`+Lt})}function ht(H,re,le,Ce,at,bt,Lt){H.info(function(){return"XMLHTTP RESP ("+Ce+") [ attempt "+at+"]: "+re+`
`+le+`
`+bt+" "+Lt})}function ue(H,re,le,Ce){H.info(function(){return"XMLHTTP TEXT ("+re+"): "+ye(H,le)+(Ce?" "+Ce:"")})}function Pe(H,re){H.info(function(){return"TIMEOUT: "+re})}We.prototype.info=function(){};function ye(H,re){if(!H.g)return re;if(!re)return null;try{var le=JSON.parse(re);if(le){for(H=0;H<le.length;H++)if(Array.isArray(le[H])){var Ce=le[H];if(!(2>Ce.length)){var at=Ce[1];if(Array.isArray(at)&&!(1>at.length)){var bt=at[0];if(bt!="noop"&&bt!="stop"&&bt!="close")for(var Lt=1;Lt<at.length;Lt++)at[Lt]=""}}}}return He(le)}catch{return re}}var ke={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Re={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ie;function Ye(){}m(Ye,Xe),Ye.prototype.g=function(){return new XMLHttpRequest},Ye.prototype.i=function(){return{}},Ie=new Ye;function st(H,re,le,Ce){this.j=H,this.i=re,this.l=le,this.R=Ce||1,this.U=new Ke(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tt}function tt(){this.i=null,this.g="",this.h=!1}var ct={},ot={};function At(H,re,le){H.L=1,H.v=Ci(Pn(re)),H.m=le,H.P=!0,Ot(H,null)}function Ot(H,re){H.F=Date.now(),qe(H),H.A=Pn(H.v);var le=H.A,Ce=H.R;Array.isArray(Ce)||(Ce=[String(Ce)]),cr(le.i,"t",Ce),H.C=0,le=H.j.J,H.h=new tt,H.g=pe(H.j,le?re:null,!H.m),0<H.O&&(H.M=new ze(h(H.Y,H,H.g),H.O)),re=H.U,le=H.g,Ce=H.ca;var at="readystatechange";Array.isArray(at)||(at&&(be[0]=at.toString()),at=be);for(var bt=0;bt<at.length;bt++){var Lt=te(le,at[bt],Ce||re.handleEvent,!1,re.h||re);if(!Lt)break;re.g[Lt.key]=Lt}re=H.H?C(H.H):{},H.m?(H.u||(H.u="POST"),re["Content-Type"]="application/x-www-form-urlencoded",H.g.ea(H.A,H.u,H.m,re)):(H.u="GET",H.g.ea(H.A,H.u,null,re)),Ht(),Qe(H.i,H.u,H.A,H.l,H.R,H.m)}st.prototype.ca=function(H){H=H.target;const re=this.M;re&&os(H)==3?re.j():this.Y(H)},st.prototype.Y=function(H){try{if(H==this.g)e:{const cn=os(this.g);var re=this.g.Ba();const Va=this.g.Z();if(!(3>cn)&&(cn!=3||this.g&&(this.h.h||this.g.oa()||Ih(this.g)))){this.J||cn!=4||re==7||(re==8||0>=Va?Ht(3):Ht(2)),St(this);var le=this.g.Z();this.X=le;t:if(Vt(this)){var Ce=Ih(this.g);H="";var at=Ce.length,bt=os(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tt(this),Bt(this);var Lt="";break t}this.h.i=new o.TextDecoder}for(re=0;re<at;re++)this.h.h=!0,H+=this.h.i.decode(Ce[re],{stream:!(bt&&re==at-1)});Ce.length=0,this.h.g+=H,this.C=0,Lt=this.h.g}else Lt=this.g.oa();if(this.o=le==200,ht(this.i,this.u,this.A,this.l,this.R,cn,le),this.o){if(this.T&&!this.K){t:{if(this.g){var xr,Mr=this.g;if((xr=Mr.g?Mr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(xr)){var _r=xr;break t}}_r=null}if(le=_r)ue(this.i,this.l,le,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jt(this,le);else{this.o=!1,this.s=3,_t(12),Tt(this),Bt(this);break e}}if(this.P){le=!0;let Ds;for(;!this.J&&this.C<Lt.length;)if(Ds=Se(this,Lt),Ds==ot){cn==4&&(this.s=4,_t(14),le=!1),ue(this.i,this.l,null,"[Incomplete Response]");break}else if(Ds==ct){this.s=4,_t(15),ue(this.i,this.l,Lt,"[Invalid Chunk]"),le=!1;break}else ue(this.i,this.l,Ds,null),jt(this,Ds);if(Vt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),cn!=4||Lt.length!=0||this.h.h||(this.s=1,_t(16),le=!1),this.o=this.o&&le,!le)ue(this.i,this.l,Lt,"[Invalid Chunked Response]"),Tt(this),Bt(this);else if(0<Lt.length&&!this.W){this.W=!0;var Zr=this.j;Zr.g==this&&Zr.ba&&!Zr.M&&(Zr.j.info("Great, no buffering proxy detected. Bytes received: "+Lt.length),ec(Zr),Zr.M=!0,_t(11))}}else ue(this.i,this.l,Lt,null),jt(this,Lt);cn==4&&Tt(this),this.o&&!this.J&&(cn==4?_o(this.j,this):(this.o=!1,qe(this)))}else wo(this.g),le==400&&0<Lt.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),Tt(this),Bt(this)}}}catch{}finally{}};function Vt(H){return H.g?H.u=="GET"&&H.L!=2&&H.j.Ca:!1}function Se(H,re){var le=H.C,Ce=re.indexOf(`
`,le);return Ce==-1?ot:(le=Number(re.substring(le,Ce)),isNaN(le)?ct:(Ce+=1,Ce+le>re.length?ot:(re=re.slice(Ce,Ce+le),H.C=Ce+le,re)))}st.prototype.cancel=function(){this.J=!0,Tt(this)};function qe(H){H.S=Date.now()+H.I,dt(H,H.I)}function dt(H,re){if(H.B!=null)throw Error("WatchDog timer not null");H.B=Gt(h(H.ba,H),re)}function St(H){H.B&&(o.clearTimeout(H.B),H.B=null)}st.prototype.ba=function(){this.B=null;const H=Date.now();0<=H-this.S?(Pe(this.i,this.A),this.L!=2&&(Ht(),_t(17)),Tt(this),this.s=2,Bt(this)):dt(this,this.S-H)};function Bt(H){H.j.G==0||H.J||_o(H.j,H)}function Tt(H){St(H);var re=H.M;re&&typeof re.ma=="function"&&re.ma(),H.M=null,Be(H.U),H.g&&(re=H.g,H.g=null,re.abort(),re.ma())}function jt(H,re){try{var le=H.j;if(le.G!=0&&(le.g==H||mr(le.h,H))){if(!H.K&&mr(le.h,H)&&le.G==3){try{var Ce=le.Da.g.parse(re)}catch{Ce=null}if(Array.isArray(Ce)&&Ce.length==3){var at=Ce;if(at[0]==0){e:if(!le.u){if(le.g)if(le.g.F+3e3<H.F)$a(le),Yl(le);else break e;nl(le),_t(18)}}else le.za=at[1],0<le.za-le.T&&37500>at[2]&&le.F&&le.v==0&&!le.C&&(le.C=Gt(h(le.Za,le),6e3));if(1>=Qt(le.h)&&le.ca){try{le.ca()}catch{}le.ca=void 0}}else zs(le,11)}else if((H.K||le.g==H)&&$a(le),!y(re))for(at=le.Da.g.parse(re),re=0;re<at.length;re++){let _r=at[re];if(le.T=_r[0],_r=_r[1],le.G==2)if(_r[0]=="c"){le.K=_r[1],le.ia=_r[2];const Zr=_r[3];Zr!=null&&(le.la=Zr,le.j.info("VER="+le.la));const cn=_r[4];cn!=null&&(le.Aa=cn,le.j.info("SVER="+le.Aa));const Va=_r[5];Va!=null&&typeof Va=="number"&&0<Va&&(Ce=1.5*Va,le.L=Ce,le.j.info("backChannelRequestTimeoutMs_="+Ce)),Ce=le;const Ds=H.g;if(Ds){const So=Ds.g?Ds.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(So){var bt=Ce.h;bt.g||So.indexOf("spdy")==-1&&So.indexOf("quic")==-1&&So.indexOf("h2")==-1||(bt.j=bt.l,bt.g=new Set,bt.h&&(nr(bt,bt.h),bt.h=null))}if(Ce.D){const Eo=Ds.g?Ds.g.getResponseHeader("X-HTTP-Session-Id"):null;Eo&&(Ce.ya=Eo,Ir(Ce.I,Ce.D,Eo))}}le.G=3,le.l&&le.l.ua(),le.ba&&(le.R=Date.now()-H.F,le.j.info("Handshake RTT: "+le.R+"ms")),Ce=le;var Lt=H;if(Ce.qa=J(Ce,Ce.J?Ce.ia:null,Ce.W),Lt.K){Rr(Ce.h,Lt);var xr=Lt,Mr=Ce.L;Mr&&(xr.I=Mr),xr.B&&(St(xr),qe(xr)),Ce.g=Lt}else Zl(Ce);0<le.i.length&&Jl(le)}else _r[0]!="stop"&&_r[0]!="close"||zs(le,7);else le.G==3&&(_r[0]=="stop"||_r[0]=="close"?_r[0]=="stop"?zs(le,7):Ua(le):_r[0]!="noop"&&le.l&&le.l.ta(_r),le.v=0)}}Ht(4)}catch{}}var pr=class{constructor(H,re){this.g=H,this.map=re}};function rr(H){this.l=H||10,o.PerformanceNavigationTiming?(H=o.performance.getEntriesByType("navigation"),H=0<H.length&&(H[0].nextHopProtocol=="hq"||H[0].nextHopProtocol=="h2")):H=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=H?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sr(H){return H.h?!0:H.g?H.g.size>=H.j:!1}function Qt(H){return H.h?1:H.g?H.g.size:0}function mr(H,re){return H.h?H.h==re:H.g?H.g.has(re):!1}function nr(H,re){H.g?H.g.add(re):H.h=re}function Rr(H,re){H.h&&H.h==re?H.h=null:H.g&&H.g.has(re)&&H.g.delete(re)}rr.prototype.cancel=function(){if(this.i=Kr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const H of this.g.values())H.cancel();this.g.clear()}};function Kr(H){if(H.h!=null)return H.i.concat(H.h.D);if(H.g!=null&&H.g.size!==0){let re=H.i;for(const le of H.g.values())re=re.concat(le.D);return re}return g(H.i)}function yn(H){if(H.V&&typeof H.V=="function")return H.V();if(typeof Map<"u"&&H instanceof Map||typeof Set<"u"&&H instanceof Set)return Array.from(H.values());if(typeof H=="string")return H.split("");if(l(H)){for(var re=[],le=H.length,Ce=0;Ce<le;Ce++)re.push(H[Ce]);return re}re=[],le=0;for(Ce in H)re[le++]=H[Ce];return re}function An(H){if(H.na&&typeof H.na=="function")return H.na();if(!H.V||typeof H.V!="function"){if(typeof Map<"u"&&H instanceof Map)return Array.from(H.keys());if(!(typeof Set<"u"&&H instanceof Set)){if(l(H)||typeof H=="string"){var re=[];H=H.length;for(var le=0;le<H;le++)re.push(le);return re}re=[],le=0;for(const Ce in H)re[le++]=Ce;return re}}}function gs(H,re){if(H.forEach&&typeof H.forEach=="function")H.forEach(re,void 0);else if(l(H)||typeof H=="string")Array.prototype.forEach.call(H,re,void 0);else for(var le=An(H),Ce=yn(H),at=Ce.length,bt=0;bt<at;bt++)re.call(void 0,Ce[bt],le&&le[bt],H)}var In=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function di(H,re){if(H){H=H.split("&");for(var le=0;le<H.length;le++){var Ce=H[le].indexOf("="),at=null;if(0<=Ce){var bt=H[le].substring(0,Ce);at=H[le].substring(Ce+1)}else bt=H[le];re(bt,at?decodeURIComponent(at.replace(/\+/g," ")):"")}}}function tn(H){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,H instanceof tn){this.h=H.h,Dr(this,H.j),this.o=H.o,this.g=H.g,Ar(this,H.s),this.l=H.l;var re=H.i,le=new pi;le.i=re.i,re.g&&(le.g=new Map(re.g),le.h=re.h),Hs(this,le),this.m=H.m}else H&&(re=String(H).match(In))?(this.h=!1,Dr(this,re[1]||"",!0),this.o=Tn(re[2]||""),this.g=Tn(re[3]||"",!0),Ar(this,re[4]),this.l=Tn(re[5]||"",!0),Hs(this,re[6]||"",!0),this.m=Tn(re[7]||"")):(this.h=!1,this.i=new pi(null,this.h))}tn.prototype.toString=function(){var H=[],re=this.j;re&&H.push(Un(re,fa,!0),":");var le=this.g;return(le||re=="file")&&(H.push("//"),(re=this.o)&&H.push(Un(re,fa,!0),"@"),H.push(encodeURIComponent(String(le)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),le=this.s,le!=null&&H.push(":",String(le))),(le=this.l)&&(this.g&&le.charAt(0)!="/"&&H.push("/"),H.push(Un(le,le.charAt(0)=="/"?vs:yo,!0))),(le=this.i.toString())&&H.push("?",le),(le=this.m)&&H.push("#",Un(le,Fa)),H.join("")};function Pn(H){return new tn(H)}function Dr(H,re,le){H.j=le?Tn(re,!0):re,H.j&&(H.j=H.j.replace(/:$/,""))}function Ar(H,re){if(re){if(re=Number(re),isNaN(re)||0>re)throw Error("Bad port number "+re);H.s=re}else H.s=null}function Hs(H,re,le){re instanceof pi?(H.i=re,bo(H.i,H.h)):(le||(re=Un(re,Cs)),H.i=new pi(re,H.h))}function Ir(H,re,le){H.i.set(re,le)}function Ci(H){return Ir(H,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),H}function Tn(H,re){return H?re?decodeURI(H.replace(/%25/g,"%2525")):decodeURIComponent(H):""}function Un(H,re,le){return typeof H=="string"?(H=encodeURI(H).replace(re,Ni),le&&(H=H.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),H):null}function Ni(H){return H=H.charCodeAt(0),"%"+(H>>4&15).toString(16)+(H&15).toString(16)}var fa=/[#\/\?@]/g,yo=/[#\?:]/g,vs=/[#\?]/g,Cs=/[#\?@]/g,Fa=/#/g;function pi(H,re){this.h=this.g=null,this.i=H||null,this.j=!!re}function rn(H){H.g||(H.g=new Map,H.h=0,H.i&&di(H.i,function(re,le){H.add(decodeURIComponent(re.replace(/\+/g," ")),le)}))}r=pi.prototype,r.add=function(H,re){rn(this),this.i=null,H=mi(this,H);var le=this.g.get(H);return le||this.g.set(H,le=[]),le.push(re),this.h+=1,this};function La(H,re){rn(H),re=mi(H,re),H.g.has(re)&&(H.i=null,H.h-=H.g.get(re).length,H.g.delete(re))}function da(H,re){return rn(H),re=mi(H,re),H.g.has(re)}r.forEach=function(H,re){rn(this),this.g.forEach(function(le,Ce){le.forEach(function(at){H.call(re,at,Ce,this)},this)},this)},r.na=function(){rn(this);const H=Array.from(this.g.values()),re=Array.from(this.g.keys()),le=[];for(let Ce=0;Ce<re.length;Ce++){const at=H[Ce];for(let bt=0;bt<at.length;bt++)le.push(re[Ce])}return le},r.V=function(H){rn(this);let re=[];if(typeof H=="string")da(this,H)&&(re=re.concat(this.g.get(mi(this,H))));else{H=Array.from(this.g.values());for(let le=0;le<H.length;le++)re=re.concat(H[le])}return re},r.set=function(H,re){return rn(this),this.i=null,H=mi(this,H),da(this,H)&&(this.h-=this.g.get(H).length),this.g.set(H,[re]),this.h+=1,this},r.get=function(H,re){return H?(H=this.V(H),0<H.length?String(H[0]):re):re};function cr(H,re,le){La(H,re),0<le.length&&(H.i=null,H.g.set(mi(H,re),g(le)),H.h+=le.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const H=[],re=Array.from(this.g.keys());for(var le=0;le<re.length;le++){var Ce=re[le];const bt=encodeURIComponent(String(Ce)),Lt=this.V(Ce);for(Ce=0;Ce<Lt.length;Ce++){var at=bt;Lt[Ce]!==""&&(at+="="+encodeURIComponent(String(Lt[Ce]))),H.push(at)}}return this.i=H.join("&")};function mi(H,re){return re=String(re),H.j&&(re=re.toLowerCase()),re}function bo(H,re){re&&!H.j&&(rn(H),H.i=null,H.g.forEach(function(le,Ce){var at=Ce.toLowerCase();Ce!=at&&(La(this,Ce),cr(this,at,le))},H)),H.j=re}function pa(H,re){const le=new We;if(o.Image){const Ce=new Image;Ce.onload=f(Wi,le,"TestLoadImage: loaded",!0,re,Ce),Ce.onerror=f(Wi,le,"TestLoadImage: error",!1,re,Ce),Ce.onabort=f(Wi,le,"TestLoadImage: abort",!1,re,Ce),Ce.ontimeout=f(Wi,le,"TestLoadImage: timeout",!1,re,Ce),o.setTimeout(function(){Ce.ontimeout&&Ce.ontimeout()},1e4),Ce.src=H}else re(!1)}function Dh(H,re){const le=new We,Ce=new AbortController,at=setTimeout(()=>{Ce.abort(),Wi(le,"TestPingServer: timeout",!1,re)},1e4);fetch(H,{signal:Ce.signal}).then(bt=>{clearTimeout(at),bt.ok?Wi(le,"TestPingServer: ok",!0,re):Wi(le,"TestPingServer: server error",!1,re)}).catch(()=>{clearTimeout(at),Wi(le,"TestPingServer: error",!1,re)})}function Wi(H,re,le,Ce,at){try{at&&(at.onload=null,at.onerror=null,at.onabort=null,at.ontimeout=null),Ce(le)}catch{}}function ql(){this.g=new Le}function xu(H,re,le){const Ce=le||"";try{gs(H,function(at,bt){let Lt=at;c(at)&&(Lt=He(at)),re.push(Ce+bt+"="+encodeURIComponent(Lt))})}catch(at){throw re.push(Ce+"type="+encodeURIComponent("_badmap")),at}}function Wl(H){this.l=H.Ub||null,this.j=H.eb||!1}m(Wl,Xe),Wl.prototype.g=function(){return new Gl(this.l,this.j)},Wl.prototype.i=function(H){return function(){return H}}({});function Gl(H,re){Ee.call(this),this.D=H,this.o=re,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(Gl,Ee),r=Gl.prototype,r.open=function(H,re){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=H,this.A=re,this.readyState=1,Gi(this)},r.send=function(H){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const re={headers:this.u,method:this.B,credentials:this.m,cache:void 0};H&&(re.body=H),(this.D||o).fetch(new Request(this.A,re)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ja(this)),this.readyState=0},r.Sa=function(H){if(this.g&&(this.l=H,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=H.headers,this.readyState=2,Gi(this)),this.g&&(this.readyState=3,Gi(this),this.g)))if(this.responseType==="arraybuffer")H.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in H){if(this.j=H.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rh(this)}else H.text().then(this.Ra.bind(this),this.ga.bind(this))};function Rh(H){H.j.read().then(H.Pa.bind(H)).catch(H.ga.bind(H))}r.Pa=function(H){if(this.g){if(this.o&&H.value)this.response.push(H.value);else if(!this.o){var re=H.value?H.value:new Uint8Array(0);(re=this.v.decode(re,{stream:!H.done}))&&(this.response=this.responseText+=re)}H.done?ja(this):Gi(this),this.readyState==3&&Rh(this)}},r.Ra=function(H){this.g&&(this.response=this.responseText=H,ja(this))},r.Qa=function(H){this.g&&(this.response=H,ja(this))},r.ga=function(){this.g&&ja(this)};function ja(H){H.readyState=4,H.l=null,H.j=null,H.v=null,Gi(H)}r.setRequestHeader=function(H,re){this.u.append(H,re)},r.getResponseHeader=function(H){return this.h&&this.h.get(H.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const H=[],re=this.h.entries();for(var le=re.next();!le.done;)le=le.value,H.push(le[0]+": "+le[1]),le=re.next();return H.join(`\r
`)};function Gi(H){H.onreadystatechange&&H.onreadystatechange.call(H)}Object.defineProperty(Gl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(H){this.m=H?"include":"same-origin"}});function Ba(H){let re="";return j(H,function(le,Ce){re+=Ce,re+=":",re+=le,re+=`\r
`}),re}function _u(H,re,le){e:{for(Ce in le){var Ce=!1;break e}Ce=!0}Ce||(le=Ba(le),typeof H=="string"?le!=null&&encodeURIComponent(String(le)):Ir(H,re,le))}function Qr(H){Ee.call(this),this.headers=new Map,this.o=H||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(Qr,Ee);var Su=/^https?$/i,Kl=["POST","PUT"];r=Qr.prototype,r.Ha=function(H){this.J=H},r.ea=function(H,re,le,Ce){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+H);re=re?re.toUpperCase():"GET",this.D=H,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ie.g(),this.v=this.o?Je(this.o):Je(Ie),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(re,String(H),!0),this.B=!1}catch(bt){Eu(this,bt);return}if(H=le||"",le=new Map(this.headers),Ce)if(Object.getPrototypeOf(Ce)===Object.prototype)for(var at in Ce)le.set(at,Ce[at]);else if(typeof Ce.keys=="function"&&typeof Ce.get=="function")for(const bt of Ce.keys())le.set(bt,Ce.get(bt));else throw Error("Unknown input type for opt_headers: "+String(Ce));Ce=Array.from(le.keys()).find(bt=>bt.toLowerCase()=="content-type"),at=o.FormData&&H instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Kl,re,void 0))||Ce||at||le.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[bt,Lt]of le)this.g.setRequestHeader(bt,Lt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ki(this),this.u=!0,this.g.send(H),this.u=!1}catch(bt){Eu(this,bt)}};function Eu(H,re){H.h=!1,H.g&&(H.j=!0,H.g.abort(),H.j=!1),H.l=re,H.m=5,ku(H),el(H)}function ku(H){H.A||(H.A=!0,Fe(H,"complete"),Fe(H,"error"))}r.abort=function(H){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=H||7,Fe(this,"complete"),Fe(this,"abort"),el(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),el(this,!0)),Qr.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Au(this):this.bb())},r.bb=function(){Au(this)};function Au(H){if(H.h&&typeof a<"u"&&(!H.v[1]||os(H)!=4||H.Z()!=2)){if(H.u&&os(H)==4)Ge(H.Ea,0,H);else if(Fe(H,"readystatechange"),os(H)==4){H.h=!1;try{const Lt=H.Z();e:switch(Lt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var re=!0;break e;default:re=!1}var le;if(!(le=re)){var Ce;if(Ce=Lt===0){var at=String(H.D).match(In)[1]||null;!at&&o.self&&o.self.location&&(at=o.self.location.protocol.slice(0,-1)),Ce=!Su.test(at?at.toLowerCase():"")}le=Ce}if(le)Fe(H,"complete"),Fe(H,"success");else{H.m=6;try{var bt=2<os(H)?H.g.statusText:""}catch{bt=""}H.l=bt+" ["+H.Z()+"]",ku(H)}}finally{el(H)}}}}function el(H,re){if(H.g){Ki(H);const le=H.g,Ce=H.v[0]?()=>{}:null;H.g=null,H.v=null,re||Fe(H,"ready");try{le.onreadystatechange=Ce}catch{}}}function Ki(H){H.I&&(o.clearTimeout(H.I),H.I=null)}r.isActive=function(){return!!this.g};function os(H){return H.g?H.g.readyState:0}r.Z=function(){try{return 2<os(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(H){if(this.g){var re=this.g.responseText;return H&&re.indexOf(H)==0&&(re=re.substring(H.length)),Me(re)}};function Ih(H){try{if(!H.g)return null;if("response"in H.g)return H.g.response;switch(H.H){case"":case"text":return H.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in H.g)return H.g.mozResponseArrayBuffer}return null}catch{return null}}function wo(H){const re={};H=(H.g&&2<=os(H)&&H.g.getAllResponseHeaders()||"").split(`\r
`);for(let Ce=0;Ce<H.length;Ce++){if(y(H[Ce]))continue;var le=B(H[Ce]);const at=le[0];if(le=le[1],typeof le!="string")continue;le=le.trim();const bt=re[at]||[];re[at]=bt,bt.push(le)}D(re,function(Ce){return Ce.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ns(H,re,le){return le&&le.internalChannelParams&&le.internalChannelParams[H]||re}function Xl(H){this.Aa=0,this.i=[],this.j=new We,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ns("failFast",!1,H),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ns("baseRetryDelayMs",5e3,H),this.cb=Ns("retryDelaySeedMs",1e4,H),this.Wa=Ns("forwardChannelMaxRetries",2,H),this.wa=Ns("forwardChannelRequestTimeoutMs",2e4,H),this.pa=H&&H.xmlHttpFactory||void 0,this.Xa=H&&H.Tb||void 0,this.Ca=H&&H.useFetchStreams||!1,this.L=void 0,this.J=H&&H.supportsCrossDomainXhr||!1,this.K="",this.h=new rr(H&&H.concurrentRequestLimit),this.Da=new ql,this.P=H&&H.fastHandshake||!1,this.O=H&&H.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=H&&H.Rb||!1,H&&H.xa&&this.j.xa(),H&&H.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&H&&H.detectBufferingProxy||!1,this.ja=void 0,H&&H.longPollingTimeout&&0<H.longPollingTimeout&&(this.ja=H.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Xl.prototype,r.la=8,r.G=1,r.connect=function(H,re,le,Ce){_t(0),this.W=H,this.H=re||{},le&&Ce!==void 0&&(this.H.OSID=le,this.H.OAID=Ce),this.F=this.X,this.I=J(this,null,this.W),Jl(this)};function Ua(H){if(tl(H),H.G==3){var re=H.U++,le=Pn(H.I);if(Ir(le,"SID",H.K),Ir(le,"RID",re),Ir(le,"TYPE","terminate"),xo(H,le),re=new st(H,H.j,re),re.L=2,re.v=Ci(Pn(le)),le=!1,o.navigator&&o.navigator.sendBeacon)try{le=o.navigator.sendBeacon(re.v.toString(),"")}catch{}!le&&o.Image&&(new Image().src=re.v,le=!0),le||(re.g=pe(re.j,null),re.g.ea(re.v)),re.F=Date.now(),qe(re)}rc(H)}function Yl(H){H.g&&(ec(H),H.g.cancel(),H.g=null)}function tl(H){Yl(H),H.u&&(o.clearTimeout(H.u),H.u=null),$a(H),H.h.cancel(),H.s&&(typeof H.s=="number"&&o.clearTimeout(H.s),H.s=null)}function Jl(H){if(!sr(H.h)&&!H.s){H.s=!0;var re=H.Ga;S||R(),_||(S(),_=!0),x.add(re,H),H.B=0}}function Tu(H,re){return Qt(H.h)>=H.h.j-(H.s?1:0)?!1:H.s?(H.i=re.D.concat(H.i),!0):H.G==1||H.G==2||H.B>=(H.Va?0:H.Wa)?!1:(H.s=Gt(h(H.Ga,H,re),tc(H,H.B)),H.B++,!0)}r.Ga=function(H){if(this.s)if(this.s=null,this.G==1){if(!H){this.U=Math.floor(1e5*Math.random()),H=this.U++;const at=new st(this,this.j,H);let bt=this.o;if(this.S&&(bt?(bt=C(bt),V(bt,this.S)):bt=this.S),this.m!==null||this.O||(at.H=bt,bt=null),this.P)e:{for(var re=0,le=0;le<this.i.length;le++){t:{var Ce=this.i[le];if("__data__"in Ce.map&&(Ce=Ce.map.__data__,typeof Ce=="string")){Ce=Ce.length;break t}Ce=void 0}if(Ce===void 0)break;if(re+=Ce,4096<re){re=le;break e}if(re===4096||le===this.i.length-1){re=le+1;break e}}re=1e3}else re=1e3;re=rl(this,at,re),le=Pn(this.I),Ir(le,"RID",H),Ir(le,"CVER",22),this.D&&Ir(le,"X-HTTP-Session-Id",this.D),xo(this,le),bt&&(this.O?re="headers="+encodeURIComponent(String(Ba(bt)))+"&"+re:this.m&&_u(le,this.m,bt)),nr(this.h,at),this.Ua&&Ir(le,"TYPE","init"),this.P?(Ir(le,"$req",re),Ir(le,"SID","null"),at.T=!0,At(at,le,null)):At(at,le,re),this.G=2}}else this.G==3&&(H?Ql(this,H):this.i.length==0||sr(this.h)||Ql(this))};function Ql(H,re){var le;re?le=re.l:le=H.U++;const Ce=Pn(H.I);Ir(Ce,"SID",H.K),Ir(Ce,"RID",le),Ir(Ce,"AID",H.T),xo(H,Ce),H.m&&H.o&&_u(Ce,H.m,H.o),le=new st(H,H.j,le,H.B+1),H.m===null&&(le.H=H.o),re&&(H.i=re.D.concat(H.i)),re=rl(H,le,1e3),le.I=Math.round(.5*H.wa)+Math.round(.5*H.wa*Math.random()),nr(H.h,le),At(le,Ce,re)}function xo(H,re){H.H&&j(H.H,function(le,Ce){Ir(re,Ce,le)}),H.l&&gs({},function(le,Ce){Ir(re,Ce,le)})}function rl(H,re,le){le=Math.min(H.i.length,le);var Ce=H.l?h(H.l.Na,H.l,H):null;e:{var at=H.i;let bt=-1;for(;;){const Lt=["count="+le];bt==-1?0<le?(bt=at[0].g,Lt.push("ofs="+bt)):bt=0:Lt.push("ofs="+bt);let xr=!0;for(let Mr=0;Mr<le;Mr++){let _r=at[Mr].g;const Zr=at[Mr].map;if(_r-=bt,0>_r)bt=Math.max(0,at[Mr].g-100),xr=!1;else try{xu(Zr,Lt,"req"+_r+"_")}catch{Ce&&Ce(Zr)}}if(xr){Ce=Lt.join("&");break e}}}return H=H.i.splice(0,le),re.D=H,Ce}function Zl(H){if(!H.g&&!H.u){H.Y=1;var re=H.Fa;S||R(),_||(S(),_=!0),x.add(re,H),H.v=0}}function nl(H){return H.g||H.u||3<=H.v?!1:(H.Y++,H.u=Gt(h(H.Fa,H),tc(H,H.v)),H.v++,!0)}r.Fa=function(){if(this.u=null,Ph(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var H=2*this.R;this.j.info("BP detection timer enabled: "+H),this.A=Gt(h(this.ab,this),H)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),Yl(this),Ph(this))};function ec(H){H.A!=null&&(o.clearTimeout(H.A),H.A=null)}function Ph(H){H.g=new st(H,H.j,"rpc",H.Y),H.m===null&&(H.g.H=H.o),H.g.O=0;var re=Pn(H.qa);Ir(re,"RID","rpc"),Ir(re,"SID",H.K),Ir(re,"AID",H.T),Ir(re,"CI",H.F?"0":"1"),!H.F&&H.ja&&Ir(re,"TO",H.ja),Ir(re,"TYPE","xmlhttp"),xo(H,re),H.m&&H.o&&_u(re,H.m,H.o),H.L&&(H.g.I=H.L);var le=H.g;H=H.ia,le.L=1,le.v=Ci(Pn(re)),le.m=null,le.P=!0,Ot(le,H)}r.Za=function(){this.C!=null&&(this.C=null,Yl(this),nl(this),_t(19))};function $a(H){H.C!=null&&(o.clearTimeout(H.C),H.C=null)}function _o(H,re){var le=null;if(H.g==re){$a(H),ec(H),H.g=null;var Ce=2}else if(mr(H.h,re))le=re.D,Rr(H.h,re),Ce=1;else return;if(H.G!=0){if(re.o)if(Ce==1){le=re.m?re.m.length:0,re=Date.now()-re.F;var at=H.B;Ce=ft(),Fe(Ce,new er(Ce,le)),Jl(H)}else Zl(H);else if(at=re.s,at==3||at==0&&0<re.X||!(Ce==1&&Tu(H,re)||Ce==2&&nl(H)))switch(le&&0<le.length&&(re=H.h,re.i=re.i.concat(le)),at){case 1:zs(H,5);break;case 4:zs(H,10);break;case 3:zs(H,6);break;default:zs(H,2)}}}function tc(H,re){let le=H.Ta+Math.floor(Math.random()*H.cb);return H.isActive()||(le*=2),le*re}function zs(H,re){if(H.j.info("Error code "+re),re==2){var le=h(H.fb,H),Ce=H.Xa;const at=!Ce;Ce=new tn(Ce||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Dr(Ce,"https"),Ci(Ce),at?pa(Ce.toString(),le):Dh(Ce.toString(),le)}else _t(2);H.G=0,H.l&&H.l.sa(re),rc(H),tl(H)}r.fb=function(H){H?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function rc(H){if(H.G=0,H.ka=[],H.l){const re=Kr(H.h);(re.length!=0||H.i.length!=0)&&(p(H.ka,re),p(H.ka,H.i),H.h.i.length=0,g(H.i),H.i.length=0),H.l.ra()}}function J(H,re,le){var Ce=le instanceof tn?Pn(le):new tn(le);if(Ce.g!="")re&&(Ce.g=re+"."+Ce.g),Ar(Ce,Ce.s);else{var at=o.location;Ce=at.protocol,re=re?re+"."+at.hostname:at.hostname,at=+at.port;var bt=new tn(null);Ce&&Dr(bt,Ce),re&&(bt.g=re),at&&Ar(bt,at),le&&(bt.l=le),Ce=bt}return le=H.D,re=H.ya,le&&re&&Ir(Ce,le,re),Ir(Ce,"VER",H.la),xo(H,Ce),Ce}function pe(H,re,le){if(re&&!H.J)throw Error("Can't create secondary domain capable XhrIo object.");return re=H.Ca&&!H.pa?new Qr(new Wl({eb:le})):new Qr(H.pa),re.Ha(H.J),re}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function $e(){}r=$e.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ze(){}Ze.prototype.g=function(H,re){return new lt(H,re)};function lt(H,re){Ee.call(this),this.g=new Xl(re),this.l=H,this.h=re&&re.messageUrlParams||null,H=re&&re.messageHeaders||null,re&&re.clientProtocolHeaderRequired&&(H?H["X-Client-Protocol"]="webchannel":H={"X-Client-Protocol":"webchannel"}),this.g.o=H,H=re&&re.initMessageHeaders||null,re&&re.messageContentType&&(H?H["X-WebChannel-Content-Type"]=re.messageContentType:H={"X-WebChannel-Content-Type":re.messageContentType}),re&&re.va&&(H?H["X-WebChannel-Client-Profile"]=re.va:H={"X-WebChannel-Client-Profile":re.va}),this.g.S=H,(H=re&&re.Sb)&&!y(H)&&(this.g.m=H),this.v=re&&re.supportsCrossDomainXhr||!1,this.u=re&&re.sendRawJson||!1,(re=re&&re.httpSessionIdParam)&&!y(re)&&(this.g.D=re,H=this.h,H!==null&&re in H&&(H=this.h,re in H&&delete H[re])),this.j=new qt(this)}m(lt,Ee),lt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},lt.prototype.close=function(){Ua(this.g)},lt.prototype.o=function(H){var re=this.g;if(typeof H=="string"){var le={};le.__data__=H,H=le}else this.u&&(le={},le.__data__=He(H),H=le);re.i.push(new pr(re.Ya++,H)),re.G==3&&Jl(re)},lt.prototype.N=function(){this.g.l=null,delete this.j,Ua(this.g),delete this.g,lt.aa.N.call(this)};function kt(H){pt.call(this),H.__headers__&&(this.headers=H.__headers__,this.statusCode=H.__status__,delete H.__headers__,delete H.__status__);var re=H.__sm__;if(re){e:{for(const le in re){H=le;break e}H=void 0}(this.i=H)&&(H=this.i,re=re!==null&&H in re?re[H]:void 0),this.data=re}else this.data=H}m(kt,pt);function Ft(){wt.call(this),this.status=1}m(Ft,wt);function qt(H){this.g=H}m(qt,$e),qt.prototype.ua=function(){Fe(this.g,"a")},qt.prototype.ta=function(H){Fe(this.g,new kt(H))},qt.prototype.sa=function(H){Fe(this.g,new Ft)},qt.prototype.ra=function(){Fe(this.g,"b")},Ze.prototype.createWebChannel=Ze.prototype.g,lt.prototype.send=lt.prototype.o,lt.prototype.open=lt.prototype.m,lt.prototype.close=lt.prototype.close,ZN=function(){return new Ze},QN=function(){return ft()},JN=mt,mx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ke.NO_ERROR=0,ke.TIMEOUT=8,ke.HTTP_ERROR=6,Wg=ke,Re.COMPLETE="complete",YN=Re,et.EventType=xt,xt.OPEN="a",xt.CLOSE="b",xt.ERROR="c",xt.MESSAGE="d",Ee.prototype.listen=Ee.prototype.K,m0=et,Qr.prototype.listenOnce=Qr.prototype.L,Qr.prototype.getLastError=Qr.prototype.Ka,Qr.prototype.getLastErrorCode=Qr.prototype.Ba,Qr.prototype.getStatus=Qr.prototype.Z,Qr.prototype.getResponseJson=Qr.prototype.Oa,Qr.prototype.getResponseText=Qr.prototype.oa,Qr.prototype.send=Qr.prototype.ea,Qr.prototype.setWithCredentials=Qr.prototype.Ha,XN=Qr}).apply(typeof bg<"u"?bg:typeof self<"u"?self:typeof window<"u"?window:{});const lE="@firebase/firestore",cE="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ti.UNAUTHENTICATED=new ti(null),ti.GOOGLE_CREDENTIALS=new ti("google-credentials-uid"),ti.FIRST_PARTY=new ti("first-party-uid"),ti.MOCK_USER=new ti("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kd="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new O_("@firebase/firestore");function of(){return dh.logLevel}function Jt(r,...e){if(dh.logLevel<=Lr.DEBUG){const t=e.map(L_);dh.debug(`Firestore (${kd}): ${r}`,...t)}}function Ml(r,...e){if(dh.logLevel<=Lr.ERROR){const t=e.map(L_);dh.error(`Firestore (${kd}): ${r}`,...t)}}function sd(r,...e){if(dh.logLevel<=Lr.WARN){const t=e.map(L_);dh.warn(`Firestore (${kd}): ${r}`,...t)}}function L_(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(r,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,eD(r,n,t)}function eD(r,e,t){let n=`FIRESTORE (${kd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw Ml(n),new Error(n)}function en(r,e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,r||eD(e,s,n)}function kr(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Yt extends zl{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $te{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ti.UNAUTHENTICATED))}shutdown(){}}class Vte{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Hte{constructor(e){this.t=e,this.currentUser=ti.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){en(this.o===void 0,42304);let n=this.i;const s=l=>this.i!==n?(n=this.i,t(l)):Promise.resolve();let i=new Al;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Al,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},o=l=>{Jt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Jt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Al)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(Jt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(en(typeof n.accessToken=="string",31837,{l:n}),new tD(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return en(e===null||typeof e=="string",2055,{h:e}),new ti(e)}}class zte{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=ti.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qte{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new zte(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(ti.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Wte{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fo(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){en(this.o===void 0,3512);const n=i=>{i.error!=null&&Jt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,Jt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>n(i))};const s=i=>{Jt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Jt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new uE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(en(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new uE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gte(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const s=Gte(40);for(let i=0;i<s.length;++i)n.length<20&&s[i]<t&&(n+=e.charAt(s[i]%62))}return n}}function jr(r,e){return r<e?-1:r>e?1:0}function gx(r,e){const t=Math.min(r.length,e.length);for(let n=0;n<t;n++){const s=r.charAt(n),i=e.charAt(n);if(s!==i)return db(s)===db(i)?jr(s,i):db(s)?1:-1}return jr(r.length,e.length)}const Kte=55296,Xte=57343;function db(r){const e=r.charCodeAt(0);return e>=Kte&&e<=Xte}function id(r,e,t){return r.length===e.length&&r.every((n,s)=>t(n,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="__name__";class Io{constructor(e,t,n){t===void 0?t=0:t>e.length&&dr(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&dr(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return Io.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Io?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const i=Io.compareSegments(e.get(s),t.get(s));if(i!==0)return i}return jr(e.length,t.length)}static compareSegments(e,t){const n=Io.isNumericId(e),s=Io.isNumericId(t);return n&&!s?-1:!n&&s?1:n&&s?Io.extractNumericId(e).compare(Io.extractNumericId(t)):gx(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return eu.fromString(e.substring(4,e.length-2))}}class mn extends Io{construct(e,t,n){return new mn(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Yt(Rt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(s=>s.length>0))}return new mn(t)}static emptyPath(){return new mn([])}}const Yte=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ls extends Io{construct(e,t,n){return new Ls(e,t,n)}static isValidIdentifier(e){return Yte.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ls.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hE}static keyField(){return new Ls([hE])}static fromServerFormat(e){const t=[];let n="",s=0;const i=()=>{if(n.length===0)throw new Yt(Rt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let a=!1;for(;s<e.length;){const o=e[s];if(o==="\\"){if(s+1===e.length)throw new Yt(Rt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Yt(Rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,s+=2}else o==="`"?(a=!a,s++):o!=="."||a?(n+=o,s++):(i(),s++)}if(i(),a)throw new Yt(Rt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ls(t)}static emptyPath(){return new Ls([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.path=e}static fromPath(e){return new ar(mn.fromString(e))}static fromName(e){return new ar(mn.fromString(e).popFirst(5))}static empty(){return new ar(mn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return mn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ar(new mn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(r,e,t){if(!t)throw new Yt(Rt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Jte(r,e,t,n){if(e===!0&&n===!0)throw new Yt(Rt.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function fE(r){if(!ar.isDocumentKey(r))throw new Yt(Rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function dE(r){if(ar.isDocumentKey(r))throw new Yt(Rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function nD(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function dv(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":dr(12329,{type:typeof r})}function lu(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Yt(Rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dv(r);throw new Yt(Rt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(r,e){const t={typeString:r};return e&&(t.value=e),t}function Qp(r,e){if(!nD(r))throw new Yt(Rt.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const s=e[n].typeString,i="value"in e[n]?{value:e[n].value}:void 0;if(!(n in r)){t=`JSON missing required field: '${n}'`;break}const a=r[n];if(s&&typeof a!==s){t=`JSON field '${n}' must be a ${s}.`;break}if(i!==void 0&&a!==i.value){t=`Expected '${n}' field to equal '${i.value}'`;break}}if(t)throw new Yt(Rt.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=-62135596800,mE=1e6;class wn{static now(){return wn.fromMillis(Date.now())}static fromDate(e){return wn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*mE);return new wn(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Yt(Rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Yt(Rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<pE)throw new Yt(Rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Yt(Rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mE}_compareTo(e){return this.seconds===e.seconds?jr(this.nanoseconds,e.nanoseconds):jr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:wn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Qp(e,wn._jsonSchema))return new wn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-pE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}wn._jsonSchemaVersion="firestore/timestamp/1.0",wn._jsonSchema={type:is("string",wn._jsonSchemaVersion),seconds:is("number"),nanoseconds:is("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{static fromTimestamp(e){return new wr(e)}static min(){return new wr(new wn(0,0))}static max(){return new wr(new wn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np=-1;function Qte(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,s=wr.fromTimestamp(n===1e9?new wn(t+1,0):new wn(t,n));return new cu(s,ar.empty(),e)}function Zte(r){return new cu(r.readTime,r.key,Np)}class cu{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new cu(wr.min(),ar.empty(),Np)}static max(){return new cu(wr.max(),ar.empty(),Np)}}function ere(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ar.comparator(r.documentKey,e.documentKey),t!==0?t:jr(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tre="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rre{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ad(r){if(r.code!==Rt.FAILED_PRECONDITION||r.message!==tre)throw r;Jt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&dr(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Pt((n,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(n,s)},this.catchCallback=i=>{this.wrapFailure(t,i).next(n,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Pt?t:Pt.resolve(t)}catch(t){return Pt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Pt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Pt.reject(t)}static resolve(e){return new Pt((t,n)=>{t(e)})}static reject(e){return new Pt((t,n)=>{n(e)})}static waitFor(e){return new Pt((t,n)=>{let s=0,i=0,a=!1;e.forEach(o=>{++s,o.next(()=>{++i,a&&i===s&&t()},l=>n(l))}),a=!0,i===s&&t()})}static or(e){let t=Pt.resolve(!1);for(const n of e)t=t.next(s=>s?Pt.resolve(s):n());return t}static forEach(e,t){const n=[];return e.forEach((s,i)=>{n.push(t.call(this,s,i))}),this.waitFor(n)}static mapArray(e,t){return new Pt((n,s)=>{const i=e.length,a=new Array(i);let o=0;for(let l=0;l<i;l++){const c=l;t(e[c]).next(u=>{a[c]=u,++o,o===i&&n(a)},u=>s(u))}})}static doWhile(e,t){return new Pt((n,s)=>{const i=()=>{e()===!0?t().next(()=>{i()},s):n()};i()})}}function nre(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Td(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>t.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}pv.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=-1;function mv(r){return r==null}function e2(r){return r===0&&1/r==-1/0}function sre(r){return typeof r=="number"&&Number.isInteger(r)&&!e2(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD="";function ire(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=gE(e)),e=are(r.get(t),e);return gE(e)}function are(r,e){let t=e;const n=r.length;for(let s=0;s<n;s++){const i=r.charAt(s);switch(i){case"\0":t+="";break;case sD:t+="";break;default:t+=i}}return t}function gE(r){return r+sD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Ah(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function iD(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,t){this.comparator=e,this.root=t||Os.EMPTY}insert(e,t){return new Rn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Os.BLACK,null,null))}remove(e){return new Rn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Os.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return t+n.left.size;s<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wg(this.root,e,this.comparator,!1)}getReverseIterator(){return new wg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wg(this.root,e,this.comparator,!0)}}class wg{constructor(e,t,n,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Os{constructor(e,t,n,s,i){this.key=e,this.value=t,this.color=n??Os.RED,this.left=s??Os.EMPTY,this.right=i??Os.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,s,i){return new Os(e??this.key,t??this.value,n??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let s=this;const i=n(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,t,n),null):i===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Os.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Os.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Os.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Os.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dr(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dr(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw dr(27949);return e+(this.isRed()?0:1)}}Os.EMPTY=null,Os.RED=!0,Os.BLACK=!1;Os.EMPTY=new class{constructor(){this.size=0}get key(){throw dr(57766)}get value(){throw dr(16141)}get color(){throw dr(16727)}get left(){throw dr(29726)}get right(){throw dr(36894)}copy(e,t,n,s,i){return this}insert(e,t,n){return new Os(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e){this.comparator=e,this.data=new Rn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yE(this.data.getIterator())}getIteratorFrom(e){return new yE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof ms)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=n.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ms(this.comparator);return t.data=e,t}}class yE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.fields=e,e.sort(Ls.comparator)}static empty(){return new oo([])}unionWith(e){let t=new ms(Ls.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new oo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return id(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new aD("Invalid base64 string: "+i):i}}(e);return new Vs(t)}static fromUint8Array(e){const t=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new Vs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let s=0;s<t.length;s++)n[s]=t.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vs.EMPTY_BYTE_STRING=new Vs("");const ore=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function uu(r){if(en(!!r,39018),typeof r=="string"){let e=0;const t=ore.exec(r);if(en(!!t,46558,{timestamp:r}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:zn(r.seconds),nanos:zn(r.nanos)}}function zn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function hu(r){return typeof r=="string"?Vs.fromBase64String(r):Vs.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD="server_timestamp",lD="__type__",cD="__previous_value__",uD="__local_write_time__";function U_(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[lD])==null?void 0:n.stringValue)===oD}function gv(r){const e=r.mapValue.fields[cD];return U_(e)?gv(e):e}function Dp(r){const e=uu(r.mapValue.fields[uD].timestampValue);return new wn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lre{constructor(e,t,n,s,i,a,o,l,c,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const t2="(default)";class Rp{constructor(e,t){this.projectId=e,this.database=t||t2}static empty(){return new Rp("","")}get isDefaultDatabase(){return this.database===t2}isEqual(e){return e instanceof Rp&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD="__type__",cre="__max__",xg={mapValue:{}},fD="__vector__",r2="value";function fu(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?U_(r)?4:hre(r)?9007199254740991:ure(r)?10:11:dr(28295,{value:r})}function Yo(r,e){if(r===e)return!0;const t=fu(r);if(t!==fu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Dp(r).isEqual(Dp(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=uu(s.timestampValue),o=uu(i.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(s,i){return hu(s.bytesValue).isEqual(hu(i.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,i){return zn(s.geoPointValue.latitude)===zn(i.geoPointValue.latitude)&&zn(s.geoPointValue.longitude)===zn(i.geoPointValue.longitude)}(r,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return zn(s.integerValue)===zn(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=zn(s.doubleValue),o=zn(i.doubleValue);return a===o?e2(a)===e2(o):isNaN(a)&&isNaN(o)}return!1}(r,e);case 9:return id(r.arrayValue.values||[],e.arrayValue.values||[],Yo);case 10:case 11:return function(s,i){const a=s.mapValue.fields||{},o=i.mapValue.fields||{};if(vE(a)!==vE(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Yo(a[l],o[l])))return!1;return!0}(r,e);default:return dr(52216,{left:r})}}function Ip(r,e){return(r.values||[]).find(t=>Yo(t,e))!==void 0}function ad(r,e){if(r===e)return 0;const t=fu(r),n=fu(e);if(t!==n)return jr(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return jr(r.booleanValue,e.booleanValue);case 2:return function(i,a){const o=zn(i.integerValue||i.doubleValue),l=zn(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(r,e);case 3:return bE(r.timestampValue,e.timestampValue);case 4:return bE(Dp(r),Dp(e));case 5:return gx(r.stringValue,e.stringValue);case 6:return function(i,a){const o=hu(i),l=hu(a);return o.compareTo(l)}(r.bytesValue,e.bytesValue);case 7:return function(i,a){const o=i.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=jr(o[c],l[c]);if(u!==0)return u}return jr(o.length,l.length)}(r.referenceValue,e.referenceValue);case 8:return function(i,a){const o=jr(zn(i.latitude),zn(a.latitude));return o!==0?o:jr(zn(i.longitude),zn(a.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return wE(r.arrayValue,e.arrayValue);case 10:return function(i,a){var h,f,m,g;const o=i.fields||{},l=a.fields||{},c=(h=o[r2])==null?void 0:h.arrayValue,u=(f=l[r2])==null?void 0:f.arrayValue,d=jr(((m=c==null?void 0:c.values)==null?void 0:m.length)||0,((g=u==null?void 0:u.values)==null?void 0:g.length)||0);return d!==0?d:wE(c,u)}(r.mapValue,e.mapValue);case 11:return function(i,a){if(i===xg.mapValue&&a===xg.mapValue)return 0;if(i===xg.mapValue)return 1;if(a===xg.mapValue)return-1;const o=i.fields||{},l=Object.keys(o),c=a.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=gx(l[d],u[d]);if(h!==0)return h;const f=ad(o[l[d]],c[u[d]]);if(f!==0)return f}return jr(l.length,u.length)}(r.mapValue,e.mapValue);default:throw dr(23264,{he:t})}}function bE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return jr(r,e);const t=uu(r),n=uu(e),s=jr(t.seconds,n.seconds);return s!==0?s:jr(t.nanos,n.nanos)}function wE(r,e){const t=r.values||[],n=e.values||[];for(let s=0;s<t.length&&s<n.length;++s){const i=ad(t[s],n[s]);if(i)return i}return jr(t.length,n.length)}function od(r){return vx(r)}function vx(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=uu(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return hu(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return ar.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",s=!0;for(const i of t.values||[])s?s=!1:n+=",",n+=vx(i);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let s="{",i=!0;for(const a of n)i?i=!1:s+=",",s+=`${a}:${vx(t.fields[a])}`;return s+"}"}(r.mapValue):dr(61005,{value:r})}function Gg(r){switch(fu(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gv(r);return e?16+Gg(e):16;case 5:return 2*r.stringValue.length;case 6:return hu(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((s,i)=>s+Gg(i),0)}(r.arrayValue);case 10:case 11:return function(n){let s=0;return Ah(n.fields,(i,a)=>{s+=i.length+Gg(a)}),s}(r.mapValue);default:throw dr(13486,{value:r})}}function xE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function yx(r){return!!r&&"integerValue"in r}function $_(r){return!!r&&"arrayValue"in r}function _E(r){return!!r&&"nullValue"in r}function SE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Kg(r){return!!r&&"mapValue"in r}function ure(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[hD])==null?void 0:n.stringValue)===fD}function z0(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ah(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=z0(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=z0(r.arrayValue.values[t]);return e}return{...r}}function hre(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===cre}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this.value=e}static empty(){return new Ta({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Kg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=z0(t)}setAll(e){let t=Ls.emptyPath(),n={},s=[];e.forEach((a,o)=>{if(!t.isImmediateParentOf(o)){const l=this.getFieldsMap(t);this.applyChanges(l,n,s),n={},s=[],t=o.popLast()}a?n[o.lastSegment()]=z0(a):s.push(o.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,s)}delete(e){const t=this.field(e.popLast());Kg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=t.mapValue.fields[e.get(n)];Kg(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,n){Ah(t,(s,i)=>e[s]=i);for(const s of n)delete e[s]}clone(){return new Ta(z0(this.value))}}function dD(r){const e=[];return Ah(r.fields,(t,n)=>{const s=new Ls([t]);if(Kg(n)){const i=dD(n.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new oo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,t,n,s,i,a,o){this.key=e,this.documentType=t,this.version=n,this.readTime=s,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(e){return new si(e,0,wr.min(),wr.min(),wr.min(),Ta.empty(),0)}static newFoundDocument(e,t,n,s){return new si(e,1,t,wr.min(),n,s,0)}static newNoDocument(e,t){return new si(e,2,t,wr.min(),wr.min(),Ta.empty(),0)}static newUnknownDocument(e,t){return new si(e,3,t,wr.min(),wr.min(),Ta.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(wr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ta.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ta.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof si&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new si(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,t){this.position=e,this.inclusive=t}}function EE(r,e,t){let n=0;for(let s=0;s<r.position.length;s++){const i=e[s],a=r.position[s];if(i.field.isKeyField()?n=ar.comparator(ar.fromName(a.referenceValue),t.key):n=ad(a,t.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function kE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Yo(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,t="asc"){this.field=e,this.dir=t}}function fre(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{}class ss extends pD{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new pre(e,t,n):t==="array-contains"?new vre(e,n):t==="in"?new yre(e,n):t==="not-in"?new bre(e,n):t==="array-contains-any"?new wre(e,n):new ss(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new mre(e,n):new gre(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ad(t,this.value)):t!==null&&fu(this.value)===fu(t)&&this.matchesComparison(ad(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dr(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mo extends pD{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new mo(e,t)}matches(e){return mD(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function mD(r){return r.op==="and"}function gD(r){return dre(r)&&mD(r)}function dre(r){for(const e of r.filters)if(e instanceof mo)return!1;return!0}function bx(r){if(r instanceof ss)return r.field.canonicalString()+r.op.toString()+od(r.value);if(gD(r))return r.filters.map(e=>bx(e)).join(",");{const e=r.filters.map(t=>bx(t)).join(",");return`${r.op}(${e})`}}function vD(r,e){return r instanceof ss?function(n,s){return s instanceof ss&&n.op===s.op&&n.field.isEqual(s.field)&&Yo(n.value,s.value)}(r,e):r instanceof mo?function(n,s){return s instanceof mo&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((i,a,o)=>i&&vD(a,s.filters[o]),!0):!1}(r,e):void dr(19439)}function yD(r){return r instanceof ss?function(t){return`${t.field.canonicalString()} ${t.op} ${od(t.value)}`}(r):r instanceof mo?function(t){return t.op.toString()+" {"+t.getFilters().map(yD).join(" ,")+"}"}(r):"Filter"}class pre extends ss{constructor(e,t,n){super(e,t,n),this.key=ar.fromName(n.referenceValue)}matches(e){const t=ar.comparator(e.key,this.key);return this.matchesComparison(t)}}class mre extends ss{constructor(e,t){super(e,"in",t),this.keys=bD("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class gre extends ss{constructor(e,t){super(e,"not-in",t),this.keys=bD("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function bD(r,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map(n=>ar.fromName(n.referenceValue))}class vre extends ss{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $_(t)&&Ip(t.arrayValue,this.value)}}class yre extends ss{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ip(this.value.arrayValue,t)}}class bre extends ss{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ip(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ip(this.value.arrayValue,t)}}class wre extends ss{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>Ip(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xre{constructor(e,t=null,n=[],s=[],i=null,a=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=s,this.limit=i,this.startAt=a,this.endAt=o,this.Te=null}}function AE(r,e=null,t=[],n=[],s=null,i=null,a=null){return new xre(r,e,t,n,s,i,a)}function V_(r){const e=kr(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>bx(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),mv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>od(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>od(n)).join(",")),e.Te=t}return e.Te}function H_(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!fre(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!vD(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!kE(r.startAt,e.startAt)&&kE(r.endAt,e.endAt)}function wx(r){return ar.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,t=null,n=[],s=[],i=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=s,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _re(r,e,t,n,s,i,a,o){return new Zp(r,e,t,n,s,i,a,o)}function z_(r){return new Zp(r)}function TE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function wD(r){return r.collectionGroup!==null}function q0(r){const e=kr(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),t.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new ms(Ls.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(i=>{t.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new s2(i,n))}),t.has(Ls.keyField().canonicalString())||e.Ie.push(new s2(Ls.keyField(),n))}return e.Ie}function Vo(r){const e=kr(r);return e.Ee||(e.Ee=Sre(e,q0(r))),e.Ee}function Sre(r,e){if(r.limitType==="F")return AE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new s2(s.field,i)});const t=r.endAt?new n2(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new n2(r.startAt.position,r.startAt.inclusive):null;return AE(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function xx(r,e){const t=r.filters.concat([e]);return new Zp(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function _x(r,e,t){return new Zp(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function vv(r,e){return H_(Vo(r),Vo(e))&&r.limitType===e.limitType}function xD(r){return`${V_(Vo(r))}|lt:${r.limitType}`}function lf(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(s=>yD(s)).join(", ")}]`),mv(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>od(s)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>od(s)).join(",")),`Target(${n})`}(Vo(r))}; limitType=${r.limitType})`}function yv(r,e){return e.isFoundDocument()&&function(n,s){const i=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ar.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(r,e)&&function(n,s){for(const i of q0(n))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(r,e)&&function(n,s){for(const i of n.filters)if(!i.matches(s))return!1;return!0}(r,e)&&function(n,s){return!(n.startAt&&!function(a,o,l){const c=EE(a,o,l);return a.inclusive?c<=0:c<0}(n.startAt,q0(n),s)||n.endAt&&!function(a,o,l){const c=EE(a,o,l);return a.inclusive?c>=0:c>0}(n.endAt,q0(n),s))}(r,e)}function Ere(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function _D(r){return(e,t)=>{let n=!1;for(const s of q0(r)){const i=kre(s,e,t);if(i!==0)return i;n=n||s.field.isKeyField()}return 0}}function kre(r,e,t){const n=r.field.isKeyField()?ar.comparator(e.key,t.key):function(i,a,o){const l=a.data.field(i),c=o.data.field(i);return l!==null&&c!==null?ad(l,c):dr(42886)}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return dr(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[s,i]of n)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[t]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ah(this.inner,(t,n)=>{for(const[s,i]of n)e(s,i)})}isEmpty(){return iD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Are=new Rn(ar.comparator);function Fl(){return Are}const SD=new Rn(ar.comparator);function g0(...r){let e=SD;for(const t of r)e=e.insert(t.key,t);return e}function ED(r){let e=SD;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function Xu(){return W0()}function kD(){return W0()}function W0(){return new Th(r=>r.toString(),(r,e)=>r.isEqual(e))}const Tre=new Rn(ar.comparator),Cre=new ms(ar.comparator);function Br(...r){let e=Cre;for(const t of r)e=e.add(t);return e}const Nre=new ms(jr);function Dre(){return Nre}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:e2(e)?"-0":e}}function AD(r){return{integerValue:""+r}}function Rre(r,e){return sre(e)?AD(e):q_(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(){this._=void 0}}function Ire(r,e,t){return r instanceof i2?function(s,i){const a={fields:{[lD]:{stringValue:oD},[uD]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&U_(i)&&(i=gv(i)),i&&(a.fields[cD]=i),{mapValue:a}}(t,e):r instanceof Pp?CD(r,e):r instanceof Op?ND(r,e):function(s,i){const a=TD(s,i),o=CE(a)+CE(s.Ae);return yx(a)&&yx(s.Ae)?AD(o):q_(s.serializer,o)}(r,e)}function Pre(r,e,t){return r instanceof Pp?CD(r,e):r instanceof Op?ND(r,e):t}function TD(r,e){return r instanceof a2?function(n){return yx(n)||function(i){return!!i&&"doubleValue"in i}(n)}(e)?e:{integerValue:0}:null}class i2 extends bv{}class Pp extends bv{constructor(e){super(),this.elements=e}}function CD(r,e){const t=DD(e);for(const n of r.elements)t.some(s=>Yo(s,n))||t.push(n);return{arrayValue:{values:t}}}class Op extends bv{constructor(e){super(),this.elements=e}}function ND(r,e){let t=DD(e);for(const n of r.elements)t=t.filter(s=>!Yo(s,n));return{arrayValue:{values:t}}}class a2 extends bv{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function CE(r){return zn(r.integerValue||r.doubleValue)}function DD(r){return $_(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Ore(r,e){return r.field.isEqual(e.field)&&function(n,s){return n instanceof Pp&&s instanceof Pp||n instanceof Op&&s instanceof Op?id(n.elements,s.elements,Yo):n instanceof a2&&s instanceof a2?Yo(n.Ae,s.Ae):n instanceof i2&&s instanceof i2}(r.transform,e.transform)}class Mre{constructor(e,t){this.version=e,this.transformResults=t}}class Ho{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ho}static exists(e){return new Ho(void 0,e)}static updateTime(e){return new Ho(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xg(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class wv{}function RD(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new W_(r.key,Ho.none()):new em(r.key,r.data,Ho.none());{const t=r.data,n=Ta.empty();let s=new ms(Ls.comparator);for(let i of e.fields)if(!s.has(i)){let a=t.field(i);a===null&&i.length>1&&(i=i.popLast(),a=t.field(i)),a===null?n.delete(i):n.set(i,a),s=s.add(i)}return new Ch(r.key,n,new oo(s.toArray()),Ho.none())}}function Fre(r,e,t){r instanceof em?function(s,i,a){const o=s.value.clone(),l=DE(s.fieldTransforms,i,a.transformResults);o.setAll(l),i.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(r,e,t):r instanceof Ch?function(s,i,a){if(!Xg(s.precondition,i))return void i.convertToUnknownDocument(a.version);const o=DE(s.fieldTransforms,i,a.transformResults),l=i.data;l.setAll(ID(s)),l.setAll(o),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(r,e,t):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function G0(r,e,t,n){return r instanceof em?function(i,a,o,l){if(!Xg(i.precondition,a))return o;const c=i.value.clone(),u=RE(i.fieldTransforms,l,a);return c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(r,e,t,n):r instanceof Ch?function(i,a,o,l){if(!Xg(i.precondition,a))return o;const c=RE(i.fieldTransforms,l,a),u=a.data;return u.setAll(ID(i)),u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(r,e,t,n):function(i,a,o){return Xg(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(r,e,t)}function Lre(r,e){let t=null;for(const n of r.fieldTransforms){const s=e.data.field(n.field),i=TD(n.transform,s||null);i!=null&&(t===null&&(t=Ta.empty()),t.set(n.field,i))}return t||null}function NE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&id(n,s,(i,a)=>Ore(i,a))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class em extends wv{constructor(e,t,n,s=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ch extends wv{constructor(e,t,n,s,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function ID(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function DE(r,e,t){const n=new Map;en(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let s=0;s<t.length;s++){const i=r[s],a=i.transform,o=e.data.field(i.field);n.set(i.field,Pre(a,o,t[s]))}return n}function RE(r,e,t){const n=new Map;for(const s of r){const i=s.transform,a=t.data.field(s.field);n.set(s.field,Ire(i,a,e))}return n}class W_ extends wv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jre extends wv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bre{constructor(e,t,n,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&Fre(i,e,n[s])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=G0(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=G0(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=kD();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let o=this.applyToLocalView(a,i.mutatedFields);o=t.has(s.key)?null:o;const l=RD(a,o);l!==null&&n.set(s.key,l),a.isValidDocument()||a.convertToNoDocument(wr.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Br())}isEqual(e){return this.batchId===e.batchId&&id(this.mutations,e.mutations,(t,n)=>NE(t,n))&&id(this.baseMutations,e.baseMutations,(t,n)=>NE(t,n))}}class G_{constructor(e,t,n,s){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=s}static from(e,t,n){en(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let s=function(){return Tre}();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,n[a].version);return new G_(e,t,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ure{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $re{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zn,$r;function Vre(r){switch(r){case Rt.OK:return dr(64938);case Rt.CANCELLED:case Rt.UNKNOWN:case Rt.DEADLINE_EXCEEDED:case Rt.RESOURCE_EXHAUSTED:case Rt.INTERNAL:case Rt.UNAVAILABLE:case Rt.UNAUTHENTICATED:return!1;case Rt.INVALID_ARGUMENT:case Rt.NOT_FOUND:case Rt.ALREADY_EXISTS:case Rt.PERMISSION_DENIED:case Rt.FAILED_PRECONDITION:case Rt.ABORTED:case Rt.OUT_OF_RANGE:case Rt.UNIMPLEMENTED:case Rt.DATA_LOSS:return!0;default:return dr(15467,{code:r})}}function PD(r){if(r===void 0)return Ml("GRPC error has no .code"),Rt.UNKNOWN;switch(r){case Zn.OK:return Rt.OK;case Zn.CANCELLED:return Rt.CANCELLED;case Zn.UNKNOWN:return Rt.UNKNOWN;case Zn.DEADLINE_EXCEEDED:return Rt.DEADLINE_EXCEEDED;case Zn.RESOURCE_EXHAUSTED:return Rt.RESOURCE_EXHAUSTED;case Zn.INTERNAL:return Rt.INTERNAL;case Zn.UNAVAILABLE:return Rt.UNAVAILABLE;case Zn.UNAUTHENTICATED:return Rt.UNAUTHENTICATED;case Zn.INVALID_ARGUMENT:return Rt.INVALID_ARGUMENT;case Zn.NOT_FOUND:return Rt.NOT_FOUND;case Zn.ALREADY_EXISTS:return Rt.ALREADY_EXISTS;case Zn.PERMISSION_DENIED:return Rt.PERMISSION_DENIED;case Zn.FAILED_PRECONDITION:return Rt.FAILED_PRECONDITION;case Zn.ABORTED:return Rt.ABORTED;case Zn.OUT_OF_RANGE:return Rt.OUT_OF_RANGE;case Zn.UNIMPLEMENTED:return Rt.UNIMPLEMENTED;case Zn.DATA_LOSS:return Rt.DATA_LOSS;default:return dr(39323,{code:r})}}($r=Zn||(Zn={}))[$r.OK=0]="OK",$r[$r.CANCELLED=1]="CANCELLED",$r[$r.UNKNOWN=2]="UNKNOWN",$r[$r.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$r[$r.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$r[$r.NOT_FOUND=5]="NOT_FOUND",$r[$r.ALREADY_EXISTS=6]="ALREADY_EXISTS",$r[$r.PERMISSION_DENIED=7]="PERMISSION_DENIED",$r[$r.UNAUTHENTICATED=16]="UNAUTHENTICATED",$r[$r.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$r[$r.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$r[$r.ABORTED=10]="ABORTED",$r[$r.OUT_OF_RANGE=11]="OUT_OF_RANGE",$r[$r.UNIMPLEMENTED=12]="UNIMPLEMENTED",$r[$r.INTERNAL=13]="INTERNAL",$r[$r.UNAVAILABLE=14]="UNAVAILABLE",$r[$r.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hre(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zre=new eu([4294967295,4294967295],0);function IE(r){const e=Hre().encode(r),t=new KN;return t.update(e),new Uint8Array(t.digest())}function PE(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new eu([t,n],0),new eu([s,i],0)]}class K_{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new v0(`Invalid padding: ${t}`);if(n<0)throw new v0(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new v0(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new v0(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=eu.fromNumber(this.ge)}ye(e,t,n){let s=e.add(t.multiply(eu.fromNumber(n)));return s.compare(zre)===1&&(s=new eu([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=IE(e),[n,s]=PE(t);for(let i=0;i<this.hashCount;i++){const a=this.ye(n,s,i);if(!this.we(a))return!1}return!0}static create(e,t,n){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new K_(i,s,t);return n.forEach(o=>a.insert(o)),a}insert(e){if(this.ge===0)return;const t=IE(e),[n,s]=PE(t);for(let i=0;i<this.hashCount;i++){const a=this.ye(n,s,i);this.Se(a)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class v0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,t,n,s,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const s=new Map;return s.set(e,tm.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new xv(wr.min(),s,new Rn(jr),Fl(),Br())}}class tm{constructor(e,t,n,s,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new tm(n,t,Br(),Br(),Br())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,t,n,s){this.be=e,this.removedTargetIds=t,this.key=n,this.De=s}}class OD{constructor(e,t){this.targetId=e,this.Ce=t}}class MD{constructor(e,t,n=Vs.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=s}}class OE{constructor(){this.ve=0,this.Fe=ME(),this.Me=Vs.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Br(),t=Br(),n=Br();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:n=n.add(s);break;default:dr(38017,{changeType:i})}}),new tm(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=ME()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,en(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class qre{constructor(e){this.Ge=e,this.ze=new Map,this.je=Fl(),this.Je=_g(),this.He=_g(),this.Ye=new Rn(jr)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:dr(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((n,s)=>{this.rt(s)&&t(s)})}st(e){const t=e.targetId,n=e.Ce.count,s=this.ot(t);if(s){const i=s.target;if(wx(i))if(n===0){const a=new ar(i.path);this.et(t,a,si.newNoDocument(a,wr.min()))}else en(n===1,20013,{expectedCount:n});else{const a=this._t(t);if(a!==n){const o=this.ut(e),l=o?this.ct(o,e,a):1;if(l!==0){this.it(t);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,c)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:i=0}=t;let a,o;try{a=hu(n).toUint8Array()}catch(l){if(l instanceof aD)return sd("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new K_(a,s,i)}catch(l){return sd(l instanceof v0?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let s=0;return n.forEach(i=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(o)||(this.et(t,i,null),s++)}),s}Tt(e){const t=new Map;this.ze.forEach((i,a)=>{const o=this.ot(a);if(o){if(i.current&&wx(o.target)){const l=new ar(o.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,si.newNoDocument(l,e))}i.Be&&(t.set(a,i.ke()),i.qe())}});let n=Br();this.He.forEach((i,a)=>{let o=!0;a.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(i))}),this.je.forEach((i,a)=>a.setReadTime(e));const s=new xv(e,t,this.Ye,this.je,n);return this.je=Fl(),this.Je=_g(),this.He=_g(),this.Ye=new Rn(jr),s}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new OE,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new ms(jr),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new ms(jr),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Jt("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new OE),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function _g(){return new Rn(ar.comparator)}function ME(){return new Rn(ar.comparator)}const Wre={asc:"ASCENDING",desc:"DESCENDING"},Gre={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kre={and:"AND",or:"OR"};class Xre{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Sx(r,e){return r.useProto3Json||mv(e)?e:{value:e}}function o2(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FD(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Yre(r,e){return o2(r,e.toTimestamp())}function zo(r){return en(!!r,49232),wr.fromTimestamp(function(t){const n=uu(t);return new wn(n.seconds,n.nanos)}(r))}function X_(r,e){return Ex(r,e).canonicalString()}function Ex(r,e){const t=function(s){return new mn(["projects",s.projectId,"databases",s.database])}(r).child("documents");return e===void 0?t:t.child(e)}function LD(r){const e=mn.fromString(r);return en(VD(e),10190,{key:e.toString()}),e}function kx(r,e){return X_(r.databaseId,e.path)}function pb(r,e){const t=LD(e);if(t.get(1)!==r.databaseId.projectId)throw new Yt(Rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Yt(Rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ar(BD(t))}function jD(r,e){return X_(r.databaseId,e)}function Jre(r){const e=LD(r);return e.length===4?mn.emptyPath():BD(e)}function Ax(r){return new mn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function BD(r){return en(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function FE(r,e,t){return{name:kx(r,e),fields:t.value.mapValue.fields}}function Qre(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:dr(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(en(u===void 0||typeof u=="string",58123),Vs.fromBase64String(u||"")):(en(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Vs.fromUint8Array(u||new Uint8Array))}(r,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(c){const u=c.code===void 0?Rt.UNKNOWN:PD(c.code);return new Yt(u,c.message||"")}(a);t=new MD(n,s,i,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=pb(r,n.document.name),i=zo(n.document.updateTime),a=n.document.createTime?zo(n.document.createTime):wr.min(),o=new Ta({mapValue:{fields:n.document.fields}}),l=si.newFoundDocument(s,i,a,o),c=n.targetIds||[],u=n.removedTargetIds||[];t=new Yg(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=pb(r,n.document),i=n.readTime?zo(n.readTime):wr.min(),a=si.newNoDocument(s,i),o=n.removedTargetIds||[];t=new Yg([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=pb(r,n.document),i=n.removedTargetIds||[];t=new Yg([],i,s,null)}else{if(!("filter"in e))return dr(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:s=0,unchangedNames:i}=n,a=new $re(s,i),o=n.targetId;t=new OD(o,a)}}return t}function Zre(r,e){let t;if(e instanceof em)t={update:FE(r,e.key,e.value)};else if(e instanceof W_)t={delete:kx(r,e.key)};else if(e instanceof Ch)t={update:FE(r,e.key,e.data),updateMask:lne(e.fieldMask)};else{if(!(e instanceof jre))return dr(16599,{Vt:e.type});t={verify:kx(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(i,a){const o=a.transform;if(o instanceof i2)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Pp)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Op)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof a2)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw dr(20930,{transform:a.transform})}(0,n))),e.precondition.isNone||(t.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:Yre(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:dr(27497)}(r,e.precondition)),t}function ene(r,e){return r&&r.length>0?(en(e!==void 0,14353),r.map(t=>function(s,i){let a=s.updateTime?zo(s.updateTime):zo(i);return a.isEqual(wr.min())&&(a=zo(i)),new Mre(a,s.transformResults||[])}(t,e))):[]}function tne(r,e){return{documents:[jD(r,e.path)]}}function rne(r,e){const t={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=jD(r,s);const i=function(c){if(c.length!==0)return $D(mo.create(c,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:cf(h.field),direction:ine(h.dir)}}(u))}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const o=Sx(r,e.limit);return o!==null&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:t,parent:s}}function nne(r){let e=Jre(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let s=null;if(n>0){en(n===1,65062);const u=t.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];t.where&&(i=function(d){const h=UD(d);return h instanceof mo&&gD(h)?h.getFilters():[h]}(t.where));let a=[];t.orderBy&&(a=function(d){return d.map(h=>function(m){return new s2(uf(m.field),function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(t.orderBy));let o=null;t.limit&&(o=function(d){let h;return h=typeof d=="object"?d.value:d,mv(h)?null:h}(t.limit));let l=null;t.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new n2(f,h)}(t.startAt));let c=null;return t.endAt&&(c=function(d){const h=!d.before,f=d.values||[];return new n2(f,h)}(t.endAt)),_re(e,s,a,i,o,"F",l,c)}function sne(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dr(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function UD(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=uf(t.unaryFilter.field);return ss.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=uf(t.unaryFilter.field);return ss.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=uf(t.unaryFilter.field);return ss.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=uf(t.unaryFilter.field);return ss.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dr(61313);default:return dr(60726)}}(r):r.fieldFilter!==void 0?function(t){return ss.create(uf(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dr(58110);default:return dr(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return mo.create(t.compositeFilter.filters.map(n=>UD(n)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return dr(1026)}}(t.compositeFilter.op))}(r):dr(30097,{filter:r})}function ine(r){return Wre[r]}function ane(r){return Gre[r]}function one(r){return Kre[r]}function cf(r){return{fieldPath:r.canonicalString()}}function uf(r){return Ls.fromServerFormat(r.fieldPath)}function $D(r){return r instanceof ss?function(t){if(t.op==="=="){if(SE(t.value))return{unaryFilter:{field:cf(t.field),op:"IS_NAN"}};if(_E(t.value))return{unaryFilter:{field:cf(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(SE(t.value))return{unaryFilter:{field:cf(t.field),op:"IS_NOT_NAN"}};if(_E(t.value))return{unaryFilter:{field:cf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cf(t.field),op:ane(t.op),value:t.value}}}(r):r instanceof mo?function(t){const n=t.getFilters().map(s=>$D(s));return n.length===1?n[0]:{compositeFilter:{op:one(t.op),filters:n}}}(r):dr(54877,{filter:r})}function lne(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function VD(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,t,n,s,i=wr.min(),a=wr.min(),o=Vs.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Uc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Uc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Uc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Uc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cne{constructor(e){this.yt=e}}function une(r){const e=nne({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?_x(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hne{constructor(){this.Cn=new fne}addToCollectionParentIndex(e,t){return this.Cn.add(t),Pt.resolve()}getCollectionParents(e,t){return Pt.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Pt.resolve()}deleteFieldIndex(e,t){return Pt.resolve()}deleteAllFieldIndexes(e){return Pt.resolve()}createTargetIndexes(e,t){return Pt.resolve()}getDocumentsMatchingTarget(e,t){return Pt.resolve(null)}getIndexType(e,t){return Pt.resolve(0)}getFieldIndexes(e,t){return Pt.resolve([])}getNextCollectionGroupToUpdate(e){return Pt.resolve(null)}getMinOffset(e,t){return Pt.resolve(cu.min())}getMinOffsetFromCollectionGroup(e,t){return Pt.resolve(cu.min())}updateCollectionGroup(e,t,n){return Pt.resolve()}updateIndexEntries(e,t){return Pt.resolve()}}class fne{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t]||new ms(mn.comparator),i=!s.has(n);return this.index[t]=s.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t];return s&&s.has(n)}getEntries(e){return(this.index[e]||new ms(mn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HD=41943040;class Li{static withCacheSize(e){return new Li(e,Li.DEFAULT_COLLECTION_PERCENTILE,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Li.DEFAULT_COLLECTION_PERCENTILE=10,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Li.DEFAULT=new Li(HD,Li.DEFAULT_COLLECTION_PERCENTILE,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Li.DISABLED=new Li(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ld(0)}static cr(){return new ld(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="LruGarbageCollector",dne=1048576;function BE([r,e],[t,n]){const s=jr(r,t);return s===0?jr(e,n):s}class pne{constructor(e){this.Ir=e,this.buffer=new ms(BE),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();BE(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class mne{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Jt(jE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Td(t)?Jt(jE,"Ignoring IndexedDB error during garbage collection: ",t):await Ad(t)}await this.Vr(3e5)})}}class gne{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return Pt.resolve(pv.ce);const n=new pne(t);return this.mr.forEachTarget(e,s=>n.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>n.Ar(s))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Jt("LruGarbageCollector","Garbage collection skipped; disabled"),Pt.resolve(LE)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Jt("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LE):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,s,i,a,o,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Jt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),s=this.params.maximumSequenceNumbersToCollect):s=d,a=Date.now(),this.nthSequenceNumber(e,s))).next(d=>(n=d,o=Date.now(),this.removeTargets(e,n,t))).next(d=>(i=d,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(d=>(c=Date.now(),of()<=Lr.DEBUG&&Jt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-u}ms
	Determined least recently used ${s} in `+(o-a)+`ms
	Removed ${i} targets in `+(l-o)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),Pt.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:d})))}}function vne(r,e){return new gne(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yne{constructor(){this.changes=new Th(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,si.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?Pt.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bne{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wne{constructor(e,t,n,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(n=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(n!==null&&G0(n.mutation,s,oo.empty(),wn.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,Br()).next(()=>n))}getLocalViewOfDocuments(e,t,n=Br()){const s=Xu();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,n).next(i=>{let a=g0();return i.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){const n=Xu();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Br()))}populateOverlays(e,t,n){const s=[];return n.forEach(i=>{t.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,o)=>{t.set(a,o)})})}computeViews(e,t,n,s){let i=Fl();const a=W0(),o=function(){return W0()}();return t.forEach((l,c)=>{const u=n.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof Ch)?i=i.insert(c.key,c):u!==void 0?(a.set(c.key,u.mutation.getFieldMask()),G0(u.mutation,c,u.mutation.getFieldMask(),wn.now())):a.set(c.key,oo.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>a.set(c,u)),t.forEach((c,u)=>o.set(c,new bne(u,a.get(c)??null))),o))}recalculateAndSaveOverlays(e,t){const n=W0();let s=new Rn((a,o)=>a-o),i=Br();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(const o of a)o.keys().forEach(l=>{const c=t.get(l);if(c===null)return;let u=n.get(l)||oo.empty();u=o.applyToLocalView(c,u),n.set(l,u);const d=(s.get(o.batchId)||Br()).add(l);s=s.insert(o.batchId,d)})}).next(()=>{const a=[],o=s.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,d=kD();u.forEach(h=>{if(!i.has(h)){const f=RD(t.get(h),n.get(h));f!==null&&d.set(h,f),i=i.add(h)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,d))}return Pt.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,s){return function(a){return ar.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):wD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,s):this.getDocumentsMatchingCollectionQuery(e,t,n,s)}getNextDocuments(e,t,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,s-i.size):Pt.resolve(Xu());let o=Np,l=i;return a.next(c=>Pt.forEach(c,(u,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),i.get(u)?Pt.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Br())).next(u=>({batchId:o,changes:ED(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ar(t)).next(n=>{let s=g0();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,n,s){const i=t.collectionGroup;let a=g0();return this.indexManager.getCollectionParents(e,i).next(o=>Pt.forEach(o,l=>{const c=function(d,h){return new Zp(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(t,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,n,s).next(u=>{u.forEach((d,h)=>{a=a.insert(d,h)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,n,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,s))).next(a=>{i.forEach((l,c)=>{const u=c.getKey();a.get(u)===null&&(a=a.insert(u,si.newInvalidDocument(u)))});let o=g0();return a.forEach((l,c)=>{const u=i.get(l);u!==void 0&&G0(u.mutation,c,oo.empty(),wn.now()),yv(t,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xne{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Pt.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:zo(s.createTime)}}(t)),Pt.resolve()}getNamedQuery(e,t){return Pt.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(s){return{name:s.name,query:une(s.bundledQuery),readTime:zo(s.readTime)}}(t)),Pt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ne{constructor(){this.overlays=new Rn(ar.comparator),this.qr=new Map}getOverlay(e,t){return Pt.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Xu();return Pt.forEach(t,s=>this.getOverlay(e,s).next(i=>{i!==null&&n.set(s,i)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((s,i)=>{this.St(e,t,i)}),Pt.resolve()}removeOverlaysForBatchId(e,t,n){const s=this.qr.get(n);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(n)),Pt.resolve()}getOverlaysForCollection(e,t,n){const s=Xu(),i=t.length+1,a=new ar(t.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>n&&s.set(l.getKey(),l)}return Pt.resolve(s)}getOverlaysForCollectionGroup(e,t,n,s){let i=new Rn((c,u)=>c-u);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>n){let u=i.get(c.largestBatchId);u===null&&(u=Xu(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=Xu(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=s)););return Pt.resolve(o)}St(e,t,n){const s=this.overlays.get(n.key);if(s!==null){const a=this.qr.get(s.largestBatchId).delete(n.key);this.qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new Ure(t,n));let i=this.qr.get(t);i===void 0&&(i=Br(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sne{constructor(){this.sessionToken=Vs.EMPTY_BYTE_STRING}getSessionToken(e){return Pt.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Pt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(){this.Qr=new ms(_s.$r),this.Ur=new ms(_s.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new _s(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.Gr(new _s(e,t))}zr(e,t){e.forEach(n=>this.removeReference(n,t))}jr(e){const t=new ar(new mn([])),n=new _s(t,e),s=new _s(t,e+1),i=[];return this.Ur.forEachInRange([n,s],a=>{this.Gr(a),i.push(a.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ar(new mn([])),n=new _s(t,e),s=new _s(t,e+1);let i=Br();return this.Ur.forEachInRange([n,s],a=>{i=i.add(a.key)}),i}containsKey(e){const t=new _s(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class _s{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ar.comparator(e.key,t.key)||jr(e.Yr,t.Yr)}static Kr(e,t){return jr(e.Yr,t.Yr)||ar.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ene{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new ms(_s.$r)}checkEmpty(e){return Pt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Bre(i,t,n,s);this.mutationQueue.push(a);for(const o of s)this.Zr=this.Zr.add(new _s(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Pt.resolve(a)}lookupMutationBatch(e,t){return Pt.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,s=this.ei(n),i=s<0?0:s;return Pt.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Pt.resolve(this.mutationQueue.length===0?B_:this.tr-1)}getAllMutationBatches(e){return Pt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new _s(t,0),s=new _s(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,s],a=>{const o=this.Xr(a.Yr);i.push(o)}),Pt.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ms(jr);return t.forEach(s=>{const i=new _s(s,0),a=new _s(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,a],o=>{n=n.add(o.Yr)})}),Pt.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,s=n.length+1;let i=n;ar.isDocumentKey(i)||(i=i.child(""));const a=new _s(new ar(i),0);let o=new ms(jr);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===s&&(o=o.add(l.Yr)),!0)},a),Pt.resolve(this.ti(o))}ti(e){const t=[];return e.forEach(n=>{const s=this.Xr(n);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){en(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return Pt.forEach(t.mutations,s=>{const i=new _s(s.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new _s(t,0),s=this.Zr.firstAfterOrEqual(n);return Pt.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Pt.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kne{constructor(e){this.ri=e,this.docs=function(){return new Rn(ar.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,s=this.docs.get(n),i=s?s.size:0,a=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Pt.resolve(n?n.document.mutableCopy():si.newInvalidDocument(t))}getEntries(e,t){let n=Fl();return t.forEach(s=>{const i=this.docs.get(s);n=n.insert(s,i?i.document.mutableCopy():si.newInvalidDocument(s))}),Pt.resolve(n)}getDocumentsMatchingQuery(e,t,n,s){let i=Fl();const a=t.path,o=new ar(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||ere(Zte(u),n)<=0||(s.has(u.key)||yv(t,u))&&(i=i.insert(u.key,u.mutableCopy()))}return Pt.resolve(i)}getAllFromCollectionGroup(e,t,n,s){dr(9500)}ii(e,t){return Pt.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new Ane(this)}getSize(e){return Pt.resolve(this.size)}}class Ane extends yne{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(n)}),Pt.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tne{constructor(e){this.persistence=e,this.si=new Th(t=>V_(t),H_),this.lastRemoteSnapshotVersion=wr.min(),this.highestTargetId=0,this.oi=0,this._i=new Y_,this.targetCount=0,this.ai=ld.ur()}forEachTarget(e,t){return this.si.forEach((n,s)=>t(s)),Pt.resolve()}getLastRemoteSnapshotVersion(e){return Pt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Pt.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Pt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Pt.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ld(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Pt.resolve()}updateTargetData(e,t){return this.Pr(t),Pt.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Pt.resolve()}removeTargets(e,t,n){let s=0;const i=[];return this.si.forEach((a,o)=>{o.sequenceNumber<=t&&n.get(o.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),s++)}),Pt.waitFor(i).next(()=>s)}getTargetCount(e){return Pt.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return Pt.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Pt.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const s=this.persistence.referenceDelegate,i=[];return s&&t.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),Pt.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Pt.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return Pt.resolve(n)}containsKey(e,t){return Pt.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,t){this.ui={},this.overlays={},this.ci=new pv(0),this.li=!1,this.li=!0,this.hi=new Sne,this.referenceDelegate=e(this),this.Pi=new Tne(this),this.indexManager=new hne,this.remoteDocumentCache=function(s){return new kne(s)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new cne(t),this.Ii=new xne(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _ne,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new Ene(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){Jt("MemoryPersistence","Starting transaction:",e);const s=new Cne(this.ci.next());return this.referenceDelegate.Ei(),n(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,t){return Pt.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class Cne extends rre{constructor(e){super(),this.currentSequenceNumber=e}}class J_{constructor(e){this.persistence=e,this.Ri=new Y_,this.Vi=null}static mi(e){return new J_(e)}get fi(){if(this.Vi)return this.Vi;throw dr(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Pt.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Pt.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Pt.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(s=>this.fi.add(s.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pt.forEach(this.fi,n=>{const s=ar.fromPath(n);return this.gi(e,s).next(i=>{i||t.removeEntry(s,wr.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(n=>{n?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return Pt.or([()=>Pt.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class l2{constructor(e,t){this.persistence=e,this.pi=new Th(n=>ire(n.path),(n,s)=>n.isEqual(s)),this.garbageCollector=vne(this,t)}static mi(e,t){return new l2(e,t)}Ei(){}di(e){return Pt.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(s=>n+s))}wr(e){let t=0;return this.pr(e,n=>{t++}).next(()=>t)}pr(e,t){return Pt.forEach(this.pi,(n,s)=>this.br(e,n,s).next(i=>i?Pt.resolve():t(s)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,a=>this.br(e,a,t).next(o=>{o||(n++,i.removeEntry(a,wr.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Pt.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Pt.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Pt.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Pt.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Gg(e.data.value)),t}br(e,t,n){return Pt.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return Pt.resolve(s!==void 0&&s>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,t,n,s){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=s}static As(e,t){let n=Br(),s=Br();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Q_(e,t.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nne{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dne{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return xee()?8:nre(hi())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,s){const i={result:null};return this.ys(e,t).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.ws(e,t,s,n).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new Nne;return this.Ss(e,t,a).next(o=>{if(i.result=o,this.Vs)return this.bs(e,t,a,o.size)})}).next(()=>i.result)}bs(e,t,n,s){return n.documentReadCount<this.fs?(of()<=Lr.DEBUG&&Jt("QueryEngine","SDK will not create cache indexes for query:",lf(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Pt.resolve()):(of()<=Lr.DEBUG&&Jt("QueryEngine","Query:",lf(t),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.gs*s?(of()<=Lr.DEBUG&&Jt("QueryEngine","The SDK decides to create cache indexes for query:",lf(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vo(t))):Pt.resolve())}ys(e,t){if(TE(t))return Pt.resolve(null);let n=Vo(t);return this.indexManager.getIndexType(e,n).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=_x(t,null,"F"),n=Vo(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(i=>{const a=Br(...i);return this.ps.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,n).next(l=>{const c=this.Ds(t,o);return this.Cs(t,c,a,l.readTime)?this.ys(e,_x(t,null,"F")):this.vs(e,c,t,l)}))})))}ws(e,t,n,s){return TE(t)||s.isEqual(wr.min())?Pt.resolve(null):this.ps.getDocuments(e,n).next(i=>{const a=this.Ds(t,i);return this.Cs(t,a,n,s)?Pt.resolve(null):(of()<=Lr.DEBUG&&Jt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),lf(t)),this.vs(e,a,t,Qte(s,Np)).next(o=>o))})}Ds(e,t){let n=new ms(_D(e));return t.forEach((s,i)=>{yv(e,i)&&(n=n.add(i))}),n}Cs(e,t,n,s){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,t,n){return of()<=Lr.DEBUG&&Jt("QueryEngine","Using full collection scan to execute query:",lf(t)),this.ps.getDocumentsMatchingQuery(e,t,cu.min(),n)}vs(e,t,n,s){return this.ps.getDocumentsMatchingQuery(e,n,s).next(i=>(t.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="LocalStore",Rne=3e8;class Ine{constructor(e,t,n,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new Rn(jr),this.xs=new Th(i=>V_(i),H_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wne(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function Pne(r,e,t,n){return new Ine(r,e,t,n)}async function qD(r,e){const t=kr(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let s;return t.mutationQueue.getAllMutationBatches(n).next(i=>(s=i,t.Bs(e),t.mutationQueue.getAllMutationBatches(n))).next(i=>{const a=[],o=[];let l=Br();for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(n,l).next(c=>({Ls:c,removedBatchIds:a,addedBatchIds:o}))})})}function One(r,e){const t=kr(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const s=e.batch.keys(),i=t.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const d=c.batch,h=d.keys();let f=Pt.resolve();return h.forEach(m=>{f=f.next(()=>u.getEntry(l,m)).next(g=>{const p=c.docVersions.get(m);en(p!==null,48541),g.version.compareTo(p)<0&&(d.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(l,d))}(t,n,e,i).next(()=>i.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=Br();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(n,s))})}function WD(r){const e=kr(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function Mne(r,e){const t=kr(r),n=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const o=[];e.targetChanges.forEach((u,d)=>{const h=s.get(d);if(!h)return;o.push(t.Pi.removeMatchingKeys(i,u.removedDocuments,d).next(()=>t.Pi.addMatchingKeys(i,u.addedDocuments,d)));let f=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(Vs.EMPTY_BYTE_STRING,wr.min()).withLastLimboFreeSnapshotVersion(wr.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,n)),s=s.insert(d,f),function(g,p,v){return g.resumeToken.approximateByteSize()===0||p.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=Rne?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,f,u)&&o.push(t.Pi.updateTargetData(i,f))});let l=Fl(),c=Br();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&o.push(t.persistence.referenceDelegate.updateLimboDocument(i,u))}),o.push(Fne(i,a,e.documentUpdates).next(u=>{l=u.ks,c=u.qs})),!n.isEqual(wr.min())){const u=t.Pi.getLastRemoteSnapshotVersion(i).next(d=>t.Pi.setTargetsMetadata(i,i.currentSequenceNumber,n));o.push(u)}return Pt.waitFor(o).next(()=>a.apply(i)).next(()=>t.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(t.Ms=s,i))}function Fne(r,e,t){let n=Br(),s=Br();return t.forEach(i=>n=n.add(i)),e.getEntries(r,n).next(i=>{let a=Fl();return t.forEach((o,l)=>{const c=i.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(o)),l.isNoDocument()&&l.version.isEqual(wr.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):Jt(Z_,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{ks:a,qs:s}})}function Lne(r,e){const t=kr(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=B_),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function jne(r,e){const t=kr(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let s;return t.Pi.getTargetData(n,e).next(i=>i?(s=i,Pt.resolve(s)):t.Pi.allocateTargetId(n).next(a=>(s=new Uc(e,a,"TargetPurposeListen",n.currentSequenceNumber),t.Pi.addTargetData(n,s).next(()=>s))))}).then(n=>{const s=t.Ms.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(n.targetId,n),t.xs.set(e,n.targetId)),n})}async function Tx(r,e,t){const n=kr(r),s=n.Ms.get(e),i=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",i,a=>n.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Td(a))throw a;Jt(Z_,`Failed to update sequence numbers for target ${e}: ${a}`)}n.Ms=n.Ms.remove(e),n.xs.delete(s.target)}function UE(r,e,t){const n=kr(r);let s=wr.min(),i=Br();return n.persistence.runTransaction("Execute query","readwrite",a=>function(l,c,u){const d=kr(l),h=d.xs.get(u);return h!==void 0?Pt.resolve(d.Ms.get(h)):d.Pi.getTargetData(c,u)}(n,a,Vo(e)).next(o=>{if(o)return s=o.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(a,o.targetId).next(l=>{i=l})}).next(()=>n.Fs.getDocumentsMatchingQuery(a,e,t?s:wr.min(),t?i:Br())).next(o=>(Bne(n,Ere(e),o),{documents:o,Qs:i})))}function Bne(r,e,t){let n=r.Os.get(e)||wr.min();t.forEach((s,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),r.Os.set(e,n)}class $E{constructor(){this.activeTargetIds=Dre()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Une{constructor(){this.Mo=new $E,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new $E,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ne{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="ConnectivityMonitor";class HE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Jt(VE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Jt(VE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sg=null;function Cx(){return Sg===null?Sg=function(){return 268435456+Math.round(2147483648*Math.random())}():Sg++,"0x"+Sg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="RestConnection",Vne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Hne{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${s}`,this.Wo=this.databaseId.database===t2?`project_id=${n}`:`project_id=${n}&database_id=${s}`}Go(e,t,n,s,i){const a=Cx(),o=this.zo(e,t.toUriEncodedString());Jt(mb,`Sending RPC '${e}' ${a}:`,o,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:c}=new URL(o),u=Sd(c);return this.Jo(e,o,l,n,u).then(d=>(Jt(mb,`Received RPC '${e}' ${a}: `,d),d),d=>{throw sd(mb,`RPC '${e}' ${a} failed with error: `,d,"url: ",o,"request:",n),d})}Ho(e,t,n,s,i,a){return this.Go(e,t,n,s,i)}jo(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+kd}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,i)=>e[i]=s),n&&n.headers.forEach((s,i)=>e[i]=s)}zo(e,t){const n=Vne[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zne{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="WebChannelConnection";class qne extends Hne{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,s,i){const a=Cx();return new Promise((o,l)=>{const c=new XN;c.setWithCredentials(!0),c.listenOnce(YN.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Wg.NO_ERROR:const d=c.getResponseJson();Jt(Qs,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(d)),o(d);break;case Wg.TIMEOUT:Jt(Qs,`RPC '${e}' ${a} timed out`),l(new Yt(Rt.DEADLINE_EXCEEDED,"Request time out"));break;case Wg.HTTP_ERROR:const h=c.getStatus();if(Jt(Qs,`RPC '${e}' ${a} failed with status:`,h,"response text:",c.getResponseText()),h>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const g=function(v){const y=v.toLowerCase().replace(/_/g,"-");return Object.values(Rt).indexOf(y)>=0?y:Rt.UNKNOWN}(m.status);l(new Yt(g,m.message))}else l(new Yt(Rt.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Yt(Rt.UNAVAILABLE,"Connection failed."));break;default:dr(9055,{l_:e,streamId:a,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{Jt(Qs,`RPC '${e}' ${a} completed.`)}});const u=JSON.stringify(s);Jt(Qs,`RPC '${e}' ${a} sending request:`,s),c.send(t,"POST",u,n,15)})}T_(e,t,n){const s=Cx(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=ZN(),o=QN(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,t,n),l.encodeInitMessageHeaders=!0;const u=i.join("");Jt(Qs,`Creating RPC '${e}' stream ${s}: ${u}`,l);const d=a.createWebChannel(u,l);this.I_(d);let h=!1,f=!1;const m=new zne({Yo:p=>{f?Jt(Qs,`Not sending because RPC '${e}' stream ${s} is closed:`,p):(h||(Jt(Qs,`Opening RPC '${e}' stream ${s} transport.`),d.open(),h=!0),Jt(Qs,`RPC '${e}' stream ${s} sending:`,p),d.send(p))},Zo:()=>d.close()}),g=(p,v,y)=>{p.listen(v,b=>{try{y(b)}catch(E){setTimeout(()=>{throw E},0)}})};return g(d,m0.EventType.OPEN,()=>{f||(Jt(Qs,`RPC '${e}' stream ${s} transport opened.`),m.o_())}),g(d,m0.EventType.CLOSE,()=>{f||(f=!0,Jt(Qs,`RPC '${e}' stream ${s} transport closed`),m.a_(),this.E_(d))}),g(d,m0.EventType.ERROR,p=>{f||(f=!0,sd(Qs,`RPC '${e}' stream ${s} transport errored. Name:`,p.name,"Message:",p.message),m.a_(new Yt(Rt.UNAVAILABLE,"The operation could not be completed")))}),g(d,m0.EventType.MESSAGE,p=>{var v;if(!f){const y=p.data[0];en(!!y,16349);const b=y,E=(b==null?void 0:b.error)||((v=b[0])==null?void 0:v.error);if(E){Jt(Qs,`RPC '${e}' stream ${s} received error:`,E);const N=E.status;let j=function(I){const V=Zn[I];if(V!==void 0)return PD(V)}(N),D=E.message;j===void 0&&(j=Rt.INTERNAL,D="Unknown error status: "+N+" with message "+E.message),f=!0,m.a_(new Yt(j,D)),d.close()}else Jt(Qs,`RPC '${e}' stream ${s} received:`,y),m.u_(y)}}),g(o,JN.STAT_EVENT,p=>{p.stat===mx.PROXY?Jt(Qs,`RPC '${e}' stream ${s} detected buffering proxy`):p.stat===mx.NOPROXY&&Jt(Qs,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{m.__()},0),m}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function gb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(r){return new Xre(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,t,n=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-n);s>0&&Jt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="PersistentStream";class KD{constructor(e,t,n,s,i,a,o,l){this.Mi=e,this.S_=n,this.b_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new GD(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Rt.RESOURCE_EXHAUSTED?(Ml(t.toString()),Ml("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,s])=>{this.D_===t&&this.G_(n,s)},n=>{e(()=>{const s=new Yt(Rt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(s)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{n(()=>this.z_(s))}),this.stream.onMessage(s=>{n(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Jt(zE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(Jt(zE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Wne extends KD{constructor(e,t,n,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,s,a),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=Qre(this.serializer,e),n=function(i){if(!("targetChange"in i))return wr.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?wr.min():a.readTime?zo(a.readTime):wr.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Ax(this.serializer),t.addTarget=function(i,a){let o;const l=a.target;if(o=wx(l)?{documents:tne(i,l)}:{query:rne(i,l).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=FD(i,a.resumeToken);const c=Sx(i,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(wr.min())>0){o.readTime=o2(i,a.snapshotVersion.toTimestamp());const c=Sx(i,a.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const n=sne(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Ax(this.serializer),t.removeTarget=e,this.q_(t)}}class Gne extends KD{constructor(e,t,n,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,s,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return en(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,en(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){en(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=ene(e.writeResults,e.commitTime),n=zo(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Ax(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>Zre(this.serializer,n))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kne{}class Xne extends Kne{constructor(e,t,n,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Yt(Rt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Go(e,Ex(t,n),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Yt(Rt.UNKNOWN,i.toString())})}Ho(e,t,n,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Ho(e,Ex(t,n),s,a,o,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Yt(Rt.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Yne{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ml(t),this.aa=!1):Jt("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph="RemoteStore";class Jne{constructor(e,t,n,s,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(a=>{n.enqueueAndForget(async()=>{Nh(this)&&(Jt(ph,"Restarting streams for network reachability change."),await async function(l){const c=kr(l);c.Ea.add(4),await rm(c),c.Ra.set("Unknown"),c.Ea.delete(4),await Sv(c)}(this))})}),this.Ra=new Yne(n,s)}}async function Sv(r){if(Nh(r))for(const e of r.da)await e(!0)}async function rm(r){for(const e of r.da)await e(!1)}function XD(r,e){const t=kr(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),n4(t)?r4(t):Cd(t).O_()&&t4(t,e))}function e4(r,e){const t=kr(r),n=Cd(t);t.Ia.delete(e),n.O_()&&YD(t,e),t.Ia.size===0&&(n.O_()?n.L_():Nh(t)&&t.Ra.set("Unknown"))}function t4(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(wr.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Cd(r).Y_(e)}function YD(r,e){r.Va.Ue(e),Cd(r).Z_(e)}function r4(r){r.Va=new qre({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Cd(r).start(),r.Ra.ua()}function n4(r){return Nh(r)&&!Cd(r).x_()&&r.Ia.size>0}function Nh(r){return kr(r).Ea.size===0}function JD(r){r.Va=void 0}async function Qne(r){r.Ra.set("Online")}async function Zne(r){r.Ia.forEach((e,t)=>{t4(r,e)})}async function ese(r,e){JD(r),n4(r)?(r.Ra.ha(e),r4(r)):r.Ra.set("Unknown")}async function tse(r,e,t){if(r.Ra.set("Online"),e instanceof MD&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const o of i.targetIds)s.Ia.has(o)&&(await s.remoteSyncer.rejectListen(o,a),s.Ia.delete(o),s.Va.removeTarget(o))}(r,e)}catch(n){Jt(ph,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await c2(r,n)}else if(e instanceof Yg?r.Va.Ze(e):e instanceof OD?r.Va.st(e):r.Va.tt(e),!t.isEqual(wr.min()))try{const n=await WD(r.localStore);t.compareTo(n)>=0&&await function(i,a){const o=i.Va.Tt(a);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.Ia.get(c);u&&i.Ia.set(c,u.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,c)=>{const u=i.Ia.get(l);if(!u)return;i.Ia.set(l,u.withResumeToken(Vs.EMPTY_BYTE_STRING,u.snapshotVersion)),YD(i,l);const d=new Uc(u.target,l,c,u.sequenceNumber);t4(i,d)}),i.remoteSyncer.applyRemoteEvent(o)}(r,t)}catch(n){Jt(ph,"Failed to raise snapshot:",n),await c2(r,n)}}async function c2(r,e,t){if(!Td(e))throw e;r.Ea.add(1),await rm(r),r.Ra.set("Offline"),t||(t=()=>WD(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{Jt(ph,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await Sv(r)})}function QD(r,e){return e().catch(t=>c2(r,t,e))}async function Ev(r){const e=kr(r),t=du(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:B_;for(;rse(e);)try{const s=await Lne(e.localStore,n);if(s===null){e.Ta.length===0&&t.L_();break}n=s.batchId,nse(e,s)}catch(s){await c2(e,s)}ZD(e)&&eR(e)}function rse(r){return Nh(r)&&r.Ta.length<10}function nse(r,e){r.Ta.push(e);const t=du(r);t.O_()&&t.X_&&t.ea(e.mutations)}function ZD(r){return Nh(r)&&!du(r).x_()&&r.Ta.length>0}function eR(r){du(r).start()}async function sse(r){du(r).ra()}async function ise(r){const e=du(r);for(const t of r.Ta)e.ea(t.mutations)}async function ase(r,e,t){const n=r.Ta.shift(),s=G_.from(n,e,t);await QD(r,()=>r.remoteSyncer.applySuccessfulWrite(s)),await Ev(r)}async function ose(r,e){e&&du(r).X_&&await async function(n,s){if(function(a){return Vre(a)&&a!==Rt.ABORTED}(s.code)){const i=n.Ta.shift();du(n).B_(),await QD(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Ev(n)}}(r,e),ZD(r)&&eR(r)}async function qE(r,e){const t=kr(r);t.asyncQueue.verifyOperationInProgress(),Jt(ph,"RemoteStore received new credentials");const n=Nh(t);t.Ea.add(3),await rm(t),n&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Sv(t)}async function lse(r,e){const t=kr(r);e?(t.Ea.delete(2),await Sv(t)):e||(t.Ea.add(2),await rm(t),t.Ra.set("Unknown"))}function Cd(r){return r.ma||(r.ma=function(t,n,s){const i=kr(t);return i.sa(),new Wne(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(r.datastore,r.asyncQueue,{Xo:Qne.bind(null,r),t_:Zne.bind(null,r),r_:ese.bind(null,r),H_:tse.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),n4(r)?r4(r):r.Ra.set("Unknown")):(await r.ma.stop(),JD(r))})),r.ma}function du(r){return r.fa||(r.fa=function(t,n,s){const i=kr(t);return i.sa(),new Gne(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:sse.bind(null,r),r_:ose.bind(null,r),ta:ise.bind(null,r),na:ase.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await Ev(r)):(await r.fa.stop(),r.Ta.length>0&&(Jt(ph,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,t,n,s,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=s,this.removalCallback=i,this.deferred=new Al,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,s,i){const a=Date.now()+n,o=new s4(e,t,a,s,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Yt(Rt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function i4(r,e){if(Ml("AsyncQueue",`${e}: ${r}`),Td(r))return new Yt(Rt.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{static emptySet(e){return new $f(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||ar.comparator(t.key,n.key):(t,n)=>ar.comparator(t.key,n.key),this.keyedMap=g0(),this.sortedSet=new Rn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $f)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=n.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new $f;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(){this.ga=new Rn(ar.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):dr(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class cd{constructor(e,t,n,s,i,a,o,l,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,n,s,i){const a=[];return t.forEach(o=>{a.push({type:0,doc:o})}),new cd(e,t,$f.emptySet(t),a,n,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==n[s].type||!t[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cse{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class use{constructor(){this.queries=GE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,n){const s=kr(t),i=s.queries;s.queries=GE(),i.forEach((a,o)=>{for(const l of o.Sa)l.onError(n)})})(this,new Yt(Rt.ABORTED,"Firestore shutting down"))}}function GE(){return new Th(r=>xD(r),vv)}async function tR(r,e){const t=kr(r);let n=3;const s=e.query;let i=t.queries.get(s);i?!i.ba()&&e.Da()&&(n=2):(i=new cse,n=e.Da()?0:1);try{switch(n){case 0:i.wa=await t.onListen(s,!0);break;case 1:i.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(a){const o=i4(a,`Initialization of query '${lf(e.query)}' failed`);return void e.onError(o)}t.queries.set(s,i),i.Sa.push(e),e.va(t.onlineState),i.wa&&e.Fa(i.wa)&&a4(t)}async function rR(r,e){const t=kr(r),n=e.query;let s=3;const i=t.queries.get(n);if(i){const a=i.Sa.indexOf(e);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function hse(r,e){const t=kr(r);let n=!1;for(const s of e){const i=s.query,a=t.queries.get(i);if(a){for(const o of a.Sa)o.Fa(s)&&(n=!0);a.wa=s}}n&&a4(t)}function fse(r,e,t){const n=kr(r),s=n.queries.get(e);if(s)for(const i of s.Sa)i.onError(t);n.queries.delete(e)}function a4(r){r.Ca.forEach(e=>{e.next()})}var Nx,KE;(KE=Nx||(Nx={})).Ma="default",KE.Cache="cache";class nR{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new cd(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const n=t!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=cd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Nx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e){this.key=e}}class iR{constructor(e){this.key=e}}class dse{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Br(),this.mutatedKeys=Br(),this.eu=_D(e),this.tu=new $f(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new WE,s=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,a=s,o=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,d)=>{const h=s.get(u),f=yv(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let p=!1;h&&f?h.data.isEqual(f.data)?m!==g&&(n.track({type:3,doc:f}),p=!0):this.su(h,f)||(n.track({type:2,doc:f}),p=!0,(l&&this.eu(f,l)>0||c&&this.eu(f,c)<0)&&(o=!0)):!h&&f?(n.track({type:0,doc:f}),p=!0):h&&!f&&(n.track({type:1,doc:h}),p=!0,(l||c)&&(o=!0)),p&&(f?(a=a.add(f),i=g?i.add(u):i.delete(u)):(a=a.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const u=this.query.limitType==="F"?a.last():a.first();a=a.delete(u.key),i=i.delete(u.key),n.track({type:1,doc:u})}return{tu:a,iu:n,Cs:o,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((u,d)=>function(f,m){const g=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dr(20277,{Rt:p})}};return g(f)-g(m)}(u.type,d.type)||this.eu(u.doc,d.doc)),this.ou(n),s=s??!1;const o=t&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,c=l!==this.Za;return this.Za=l,a.length!==0||c?{snapshot:new cd(this.query,e.tu,i,a,e.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new WE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Br(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const t=[];return e.forEach(n=>{this.Xa.has(n)||t.push(new iR(n))}),this.Xa.forEach(n=>{e.has(n)||t.push(new sR(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=Br();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return cd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const o4="SyncEngine";class pse{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class mse{constructor(e){this.key=e,this.hu=!1}}class gse{constructor(e,t,n,s,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Th(o=>xD(o),vv),this.Iu=new Map,this.Eu=new Set,this.du=new Rn(ar.comparator),this.Au=new Map,this.Ru=new Y_,this.Vu={},this.mu=new Map,this.fu=ld.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vse(r,e,t=!0){const n=hR(r);let s;const i=n.Tu.get(e);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await aR(n,e,t,!0),s}async function yse(r,e){const t=hR(r);await aR(t,e,!0,!1)}async function aR(r,e,t,n){const s=await jne(r.localStore,Vo(e)),i=s.targetId,a=r.sharedClientState.addLocalQueryTarget(i,t);let o;return n&&(o=await bse(r,e,i,a==="current",s.resumeToken)),r.isPrimaryClient&&t&&XD(r.remoteStore,s),o}async function bse(r,e,t,n,s){r.pu=(d,h,f)=>async function(g,p,v,y){let b=p.view.ru(v);b.Cs&&(b=await UE(g.localStore,p.query,!1).then(({documents:D})=>p.view.ru(D,b)));const E=y&&y.targetChanges.get(p.targetId),N=y&&y.targetMismatches.get(p.targetId)!=null,j=p.view.applyChanges(b,g.isPrimaryClient,E,N);return YE(g,p.targetId,j.au),j.snapshot}(r,d,h,f);const i=await UE(r.localStore,e,!0),a=new dse(e,i.Qs),o=a.ru(i.documents),l=tm.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",s),c=a.applyChanges(o,r.isPrimaryClient,l);YE(r,t,c.au);const u=new pse(e,t,a);return r.Tu.set(e,u),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),c.snapshot}async function wse(r,e,t){const n=kr(r),s=n.Tu.get(e),i=n.Iu.get(s.targetId);if(i.length>1)return n.Iu.set(s.targetId,i.filter(a=>!vv(a,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await Tx(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),t&&e4(n.remoteStore,s.targetId),Dx(n,s.targetId)}).catch(Ad)):(Dx(n,s.targetId),await Tx(n.localStore,s.targetId,!0))}async function xse(r,e){const t=kr(r),n=t.Tu.get(e),s=t.Iu.get(n.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),e4(t.remoteStore,n.targetId))}async function _se(r,e,t){const n=Nse(r);try{const s=await function(a,o){const l=kr(a),c=wn.now(),u=o.reduce((f,m)=>f.add(m.key),Br());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=Fl(),g=Br();return l.Ns.getEntries(f,u).next(p=>{m=p,m.forEach((v,y)=>{y.isValidDocument()||(g=g.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,m)).next(p=>{d=p;const v=[];for(const y of o){const b=Lre(y,d.get(y.key).overlayedDocument);b!=null&&v.push(new Ch(y.key,b,dD(b.value.mapValue),Ho.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,v,o)}).next(p=>{h=p;const v=p.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(f,p.batchId,v)})}).then(()=>({batchId:h.batchId,changes:ED(d)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),function(a,o,l){let c=a.Vu[a.currentUser.toKey()];c||(c=new Rn(jr)),c=c.insert(o,l),a.Vu[a.currentUser.toKey()]=c}(n,s.batchId,t),await nm(n,s.changes),await Ev(n.remoteStore)}catch(s){const i=i4(s,"Failed to persist write");t.reject(i)}}async function oR(r,e){const t=kr(r);try{const n=await Mne(t.localStore,e);e.targetChanges.forEach((s,i)=>{const a=t.Au.get(i);a&&(en(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?en(a.hu,14607):s.removedDocuments.size>0&&(en(a.hu,42227),a.hu=!1))}),await nm(t,n,e)}catch(n){await Ad(n)}}function XE(r,e,t){const n=kr(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const s=[];n.Tu.forEach((i,a)=>{const o=a.view.va(e);o.snapshot&&s.push(o.snapshot)}),function(a,o){const l=kr(a);l.onlineState=o;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.Sa)h.va(o)&&(c=!0)}),c&&a4(l)}(n.eventManager,e),s.length&&n.Pu.H_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Sse(r,e,t){const n=kr(r);n.sharedClientState.updateQueryState(e,"rejected",t);const s=n.Au.get(e),i=s&&s.key;if(i){let a=new Rn(ar.comparator);a=a.insert(i,si.newNoDocument(i,wr.min()));const o=Br().add(i),l=new xv(wr.min(),new Map,new Rn(jr),a,o);await oR(n,l),n.du=n.du.remove(i),n.Au.delete(e),l4(n)}else await Tx(n.localStore,e,!1).then(()=>Dx(n,e,t)).catch(Ad)}async function Ese(r,e){const t=kr(r),n=e.batch.batchId;try{const s=await One(t.localStore,e);cR(t,n,null),lR(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await nm(t,s)}catch(s){await Ad(s)}}async function kse(r,e,t){const n=kr(r);try{const s=await function(a,o){const l=kr(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(d=>(en(d!==null,37113),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(n.localStore,e);cR(n,e,t),lR(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await nm(n,s)}catch(s){await Ad(s)}}function lR(r,e){(r.mu.get(e)||[]).forEach(t=>{t.resolve()}),r.mu.delete(e)}function cR(r,e,t){const n=kr(r);let s=n.Vu[n.currentUser.toKey()];if(s){const i=s.get(e);i&&(t?i.reject(t):i.resolve(),s=s.remove(e)),n.Vu[n.currentUser.toKey()]=s}}function Dx(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Iu.get(e))r.Tu.delete(n),t&&r.Pu.yu(n,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(n=>{r.Ru.containsKey(n)||uR(r,n)})}function uR(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(e4(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),l4(r))}function YE(r,e,t){for(const n of t)n instanceof sR?(r.Ru.addReference(n.key,e),Ase(r,n)):n instanceof iR?(Jt(o4,"Document no longer in limbo: "+n.key),r.Ru.removeReference(n.key,e),r.Ru.containsKey(n.key)||uR(r,n.key)):dr(19791,{wu:n})}function Ase(r,e){const t=e.key,n=t.path.canonicalString();r.du.get(t)||r.Eu.has(n)||(Jt(o4,"New document in limbo: "+t),r.Eu.add(n),l4(r))}function l4(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new ar(mn.fromString(e)),n=r.fu.next();r.Au.set(n,new mse(t)),r.du=r.du.insert(t,n),XD(r.remoteStore,new Uc(Vo(z_(t.path)),n,"TargetPurposeLimboResolution",pv.ce))}}async function nm(r,e,t){const n=kr(r),s=[],i=[],a=[];n.Tu.isEmpty()||(n.Tu.forEach((o,l)=>{a.push(n.pu(l,e,t).then(c=>{var u;if((c||t)&&n.isPrimaryClient){const d=c?!c.fromCache:(u=t==null?void 0:t.targetChanges.get(l.targetId))==null?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){s.push(c);const d=Q_.As(l.targetId,c);i.push(d)}}))}),await Promise.all(a),n.Pu.H_(s),await async function(l,c){const u=kr(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Pt.forEach(c,h=>Pt.forEach(h.Es,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>Pt.forEach(h.ds,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Td(d))throw d;Jt(Z_,"Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=u.Ms.get(h),m=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(m);u.Ms=u.Ms.insert(h,g)}}}(n.localStore,i))}async function Tse(r,e){const t=kr(r);if(!t.currentUser.isEqual(e)){Jt(o4,"User change. New user:",e.toKey());const n=await qD(t.localStore,e);t.currentUser=e,function(i,a){i.mu.forEach(o=>{o.forEach(l=>{l.reject(new Yt(Rt.CANCELLED,a))})}),i.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await nm(t,n.Ls)}}function Cse(r,e){const t=kr(r),n=t.Au.get(e);if(n&&n.hu)return Br().add(n.key);{let s=Br();const i=t.Iu.get(e);if(!i)return s;for(const a of i){const o=t.Tu.get(a);s=s.unionWith(o.view.nu)}return s}}function hR(r){const e=kr(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=oR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cse.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Sse.bind(null,e),e.Pu.H_=hse.bind(null,e.eventManager),e.Pu.yu=fse.bind(null,e.eventManager),e}function Nse(r){const e=kr(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ese.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kse.bind(null,e),e}class u2{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_v(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Pne(this.persistence,new Dne,e.initialUser,this.serializer)}Cu(e){return new zD(J_.mi,this.serializer)}Du(e){return new Une}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}u2.provider={build:()=>new u2};class Dse extends u2{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){en(this.persistence.referenceDelegate instanceof l2,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new mne(n,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Li.withCacheSize(this.cacheSizeBytes):Li.DEFAULT;return new zD(n=>l2.mi(n,t),this.serializer)}}class Rx{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>XE(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Tse.bind(null,this.syncEngine),await lse(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new use}()}createDatastore(e){const t=_v(e.databaseInfo.databaseId),n=function(i){return new qne(i)}(e.databaseInfo);return function(i,a,o,l){return new Xne(i,a,o,l)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,s,i,a,o){return new Jne(n,s,i,a,o)}(this.localStore,this.datastore,e.asyncQueue,t=>XE(this.syncEngine,t,0),function(){return HE.v()?new HE:new $ne}())}createSyncEngine(e,t){return function(s,i,a,o,l,c,u){const d=new gse(s,i,a,o,l,c);return u&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const i=kr(s);Jt(ph,"RemoteStore shutting down."),i.Ea.add(5),await rm(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Rx.provider={build:()=>new Rx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ml("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu="FirestoreClient";class Rse{constructor(e,t,n,s,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=s,this.user=ti.UNAUTHENTICATED,this.clientId=j_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async a=>{Jt(pu,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(Jt(pu,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Al;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=i4(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function vb(r,e){r.asyncQueue.verifyOperationInProgress(),Jt(pu,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async s=>{n.isEqual(s)||(await qD(e.localStore,s),n=s)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function JE(r,e){r.asyncQueue.verifyOperationInProgress();const t=await Ise(r);Jt(pu,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>qE(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,s)=>qE(e.remoteStore,s)),r._onlineComponents=e}async function Ise(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Jt(pu,"Using user provided OfflineComponentProvider");try{await vb(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===Rt.FAILED_PRECONDITION||s.code===Rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;sd("Error using user provided cache. Falling back to memory cache: "+t),await vb(r,new u2)}}else Jt(pu,"Using default OfflineComponentProvider"),await vb(r,new Dse(void 0));return r._offlineComponents}async function dR(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Jt(pu,"Using user provided OnlineComponentProvider"),await JE(r,r._uninitializedComponentsProvider._online)):(Jt(pu,"Using default OnlineComponentProvider"),await JE(r,new Rx))),r._onlineComponents}function Pse(r){return dR(r).then(e=>e.syncEngine)}async function pR(r){const e=await dR(r),t=e.eventManager;return t.onListen=vse.bind(null,e.syncEngine),t.onUnlisten=wse.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=yse.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=xse.bind(null,e.syncEngine),t}function Ose(r,e,t={}){const n=new Al;return r.asyncQueue.enqueueAndForget(async()=>function(i,a,o,l,c){const u=new fR({next:h=>{u.Nu(),a.enqueueAndForget(()=>rR(i,d));const f=h.docs.has(o);!f&&h.fromCache?c.reject(new Yt(Rt.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&l&&l.source==="server"?c.reject(new Yt(Rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new nR(z_(o.path),u,{includeMetadataChanges:!0,qa:!0});return tR(i,d)}(await pR(r),r.asyncQueue,e,t,n)),n.promise}function Mse(r,e,t={}){const n=new Al;return r.asyncQueue.enqueueAndForget(async()=>function(i,a,o,l,c){const u=new fR({next:h=>{u.Nu(),a.enqueueAndForget(()=>rR(i,d)),h.fromCache&&l.source==="server"?c.reject(new Yt(Rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new nR(o,u,{includeMetadataChanges:!0,qa:!0});return tR(i,d)}(await pR(r),r.asyncQueue,e,t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="firestore.googleapis.com",ZE=!0;class ek{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Yt(Rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gR,this.ssl=ZE}else this.host=e.host,this.ssl=e.ssl??ZE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=HD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dne)throw new Yt(Rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Jte("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mR(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new Yt(Rt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new Yt(Rt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new Yt(Rt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,s){return n.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kv{constructor(e,t,n,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ek({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Yt(Rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Yt(Rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ek(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new $te;switch(n.type){case"firstParty":return new qte(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Yt(Rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=QE.get(t);n&&(Jt("ComponentProvider","Removing Datastore"),QE.delete(t),n.terminate())}(this),Promise.resolve()}}function Fse(r,e,t,n={}){var c;r=lu(r,kv);const s=Sd(e),i=r._getSettings(),a={...i,emulatorOptions:r._getEmulatorOptions()},o=`${e}:${t}`;s&&(UN(`https://${o}`),$N("Firestore",!0)),i.host!==gR&&i.host!==o&&sd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:o,ssl:s,emulatorOptions:n};if(!hh(l,a)&&(r._setSettings(l),n.mockUserToken)){let u,d;if(typeof n.mockUserToken=="string")u=n.mockUserToken,d=ti.MOCK_USER;else{u=fee(n.mockUserToken,(c=r._app)==null?void 0:c.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Yt(Rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new ti(h)}r._authCredentials=new Vte(new tD(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Nd(this.firestore,e,this._query)}}class as{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new as(this.firestore,e,this._key)}toJSON(){return{type:as._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Qp(t,as._jsonSchema))return new as(e,n||null,new ar(mn.fromString(t.referencePath)))}}as._jsonSchemaVersion="firestore/documentReference/1.0",as._jsonSchema={type:is("string",as._jsonSchemaVersion),referencePath:is("string")};class tu extends Nd{constructor(e,t,n){super(e,t,z_(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new as(this.firestore,null,new ar(e))}withConverter(e){return new tu(this.firestore,e,this._path)}}function yb(r,e,...t){if(r=Oa(r),rD("collection","path",e),r instanceof kv){const n=mn.fromString(e,...t);return dE(n),new tu(r,null,n)}{if(!(r instanceof as||r instanceof tu))throw new Yt(Rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(mn.fromString(e,...t));return dE(n),new tu(r.firestore,null,n)}}function Ya(r,e,...t){if(r=Oa(r),arguments.length===1&&(e=j_.newId()),rD("doc","path",e),r instanceof kv){const n=mn.fromString(e,...t);return fE(n),new as(r,null,new ar(n))}{if(!(r instanceof as||r instanceof tu))throw new Yt(Rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(mn.fromString(e,...t));return fE(n),new as(r.firestore,r instanceof tu?r.converter:null,new ar(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk="AsyncQueue";class rk{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new GD(this,"async_queue_retry"),this._c=()=>{const n=gb();n&&Jt(tk,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const t=gb();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=gb();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Al;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Td(e))throw e;Jt(tk,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,Ml("INTERNAL UNHANDLED ERROR: ",nk(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=s4.createAndSchedule(this,e,t,n,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&dr(47125,{Pc:nk(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function nk(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class sm extends kv{constructor(e,t,n,s){super(e,t,n,s),this.type="firestore",this._queue=new rk,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rk(e),this._firestoreClient=void 0,await e}}}function Lse(r,e){const t=typeof r=="object"?r:qN(),n=typeof r=="string"?r:t2,s=F_(t,"firestore").getImmediate({identifier:n});if(!s._initialized){const i=uee("firestore");i&&Fse(s,...i)}return s}function c4(r){if(r._terminated)throw new Yt(Rt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||jse(r),r._firestoreClient}function jse(r){var n,s,i;const e=r._freezeSettings(),t=function(o,l,c,u){return new lre(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,mR(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(r._databaseId,((n=r._app)==null?void 0:n.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new Rse(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ca(Vs.fromBase64String(e))}catch(t){throw new Yt(Rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ca(Vs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ca._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Qp(e,Ca._jsonSchema))return Ca.fromBase64String(e.bytes)}}Ca._jsonSchemaVersion="firestore/bytes/1.0",Ca._jsonSchema={type:is("string",Ca._jsonSchemaVersion),bytes:is("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Yt(Rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ls(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Yt(Rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Yt(Rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return jr(this._lat,e._lat)||jr(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qo._jsonSchemaVersion}}static fromJSON(e){if(Qp(e,qo._jsonSchema))return new qo(e.latitude,e.longitude)}}qo._jsonSchemaVersion="firestore/geoPoint/1.0",qo._jsonSchema={type:is("string",qo._jsonSchemaVersion),latitude:is("number"),longitude:is("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,s){if(n.length!==s.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Wo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Qp(e,Wo._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Wo(e.vectorValues);throw new Yt(Rt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wo._jsonSchemaVersion="firestore/vectorValue/1.0",Wo._jsonSchema={type:is("string",Wo._jsonSchemaVersion),vectorValues:is("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bse=/^__.*__$/;class Use{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new Ch(e,this.data,this.fieldMask,t,this.fieldTransforms):new em(e,this.data,t,this.fieldTransforms)}}function yR(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dr(40011,{Ac:r})}}class h4{constructor(e,t,n,s,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new h4({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const t=(s=this.path)==null?void 0:s.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){var s;const t=(s=this.path)==null?void 0:s.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return h2(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(yR(this.Ac)&&Bse.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class $se{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||_v(e)}Cc(e,t,n,s=!1){return new h4({Ac:e,methodName:t,Dc:n,path:Ls.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bR(r){const e=r._freezeSettings(),t=_v(r._databaseId);return new $se(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Vse(r,e,t,n,s,i={}){const a=r.Cc(i.merge||i.mergeFields?2:0,e,t,s);_R("Data must be an object, but it was:",a,n);const o=wR(n,a);let l,c;if(i.merge)l=new oo(a.fieldMask),c=a.fieldTransforms;else if(i.mergeFields){const u=[];for(const d of i.mergeFields){const h=zse(e,d,t);if(!a.contains(h))throw new Yt(Rt.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Wse(u,h)||u.push(h)}l=new oo(u),c=a.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=a.fieldTransforms;return new Use(new Ta(o),l,c)}function Hse(r,e,t,n=!1){return f4(t,r.Cc(n?4:3,e))}function f4(r,e){if(xR(r=Oa(r)))return _R("Unsupported field value:",e,r),wR(r,e);if(r instanceof vR)return function(n,s){if(!yR(s.Ac))throw s.Sc(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(n,s){const i=[];let a=0;for(const o of n){let l=f4(o,s.wc(a));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),a++}return{arrayValue:{values:i}}}(r,e)}return function(n,s){if((n=Oa(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Rre(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=wn.fromDate(n);return{timestampValue:o2(s.serializer,i)}}if(n instanceof wn){const i=new wn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:o2(s.serializer,i)}}if(n instanceof qo)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ca)return{bytesValue:FD(s.serializer,n._byteString)};if(n instanceof as){const i=s.databaseId,a=n.firestore._databaseId;if(!a.isEqual(i))throw s.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:X_(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof Wo)return function(a,o){return{mapValue:{fields:{[hD]:{stringValue:fD},[r2]:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw o.Sc("VectorValues must only contain numeric values.");return q_(o.serializer,c)})}}}}}}(n,s);throw s.Sc(`Unsupported field value: ${dv(n)}`)}(r,e)}function wR(r,e){const t={};return iD(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ah(r,(n,s)=>{const i=f4(s,e.mc(n));i!=null&&(t[n]=i)}),{mapValue:{fields:t}}}function xR(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof wn||r instanceof qo||r instanceof Ca||r instanceof as||r instanceof vR||r instanceof Wo)}function _R(r,e,t){if(!xR(t)||!nD(t)){const n=dv(t);throw n==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+n)}}function zse(r,e,t){if((e=Oa(e))instanceof u4)return e._internalPath;if(typeof e=="string")return SR(r,e);throw h2("Field path arguments must be of type string or ",r,!1,void 0,t)}const qse=new RegExp("[~\\*/\\[\\]]");function SR(r,e,t){if(e.search(qse)>=0)throw h2(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new u4(...e.split("."))._internalPath}catch{throw h2(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function h2(r,e,t,n,s){const i=n&&!n.isEmpty(),a=s!==void 0;let o=`Function ${e}() called with invalid data`;t&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||a)&&(l+=" (found",i&&(l+=` in field ${n}`),a&&(l+=` in document ${s}`),l+=")"),new Yt(Rt.INVALID_ARGUMENT,o+r+l)}function Wse(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,t,n,s,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new as(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Gse(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(d4("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Gse extends ER{data(){return super.data()}}function d4(r,e){return typeof e=="string"?SR(r,e):e instanceof u4?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kse(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Yt(Rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class p4{}class Xse extends p4{}function sk(r,e,...t){let n=[];e instanceof p4&&n.push(e),n=n.concat(t),function(i){const a=i.filter(l=>l instanceof m4).length,o=i.filter(l=>l instanceof Av).length;if(a>1||a>0&&o>0)throw new Yt(Rt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)r=s._apply(r);return r}class Av extends Xse{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Av(e,t,n)}_apply(e){const t=this._parse(e);return kR(e._query,t),new Nd(e.firestore,e.converter,xx(e._query,t))}_parse(e){const t=bR(e.firestore);return function(i,a,o,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Yt(Rt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){ok(d,u);const m=[];for(const g of d)m.push(ak(l,i,g));h={arrayValue:{values:m}}}else h=ak(l,i,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||ok(d,u),h=Hse(o,a,d,u==="in"||u==="not-in");return ss.create(c,u,h)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function ik(r,e,t){const n=e,s=d4("where",r);return Av._create(s,n,t)}class m4 extends p4{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new m4(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:mo.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,i){let a=s;const o=i.getFlattenedFilters();for(const l of o)kR(a,l),a=xx(a,l)}(e._query,t),new Nd(e.firestore,e.converter,xx(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function ak(r,e,t){if(typeof(t=Oa(t))=="string"){if(t==="")throw new Yt(Rt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wD(e)&&t.indexOf("/")!==-1)throw new Yt(Rt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(mn.fromString(t));if(!ar.isDocumentKey(n))throw new Yt(Rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return xE(r,new ar(n))}if(t instanceof as)return xE(r,t._key);throw new Yt(Rt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dv(t)}.`)}function ok(r,e){if(!Array.isArray(r)||r.length===0)throw new Yt(Rt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kR(r,e){const t=function(s,i){for(const a of s)for(const o of a.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Yt(Rt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Yt(Rt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Yse{convertValue(e,t="none"){switch(fu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw dr(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Ah(e,(s,i)=>{n[s]=this.convertValue(i,t)}),n}convertVectorValue(e){var n,s,i;const t=(i=(s=(n=e.fields)==null?void 0:n[r2].arrayValue)==null?void 0:s.values)==null?void 0:i.map(a=>zn(a.doubleValue));return new Wo(t)}convertGeoPoint(e){return new qo(zn(e.latitude),zn(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=gv(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Dp(e));default:return null}}convertTimestamp(e){const t=uu(e);return new wn(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=mn.fromString(e);en(VD(n),9688,{name:e});const s=new Rp(n.get(1),n.get(3)),i=new ar(n.popFirst(5));return s.isEqual(t)||Ml(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jse(r,e,t){let n;return n=r?r.toFirestore(e):e,n}class y0{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class th extends ER{constructor(e,t,n,s,i,a){super(e,t,n,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Jg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(d4("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Yt(Rt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=th._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}th._jsonSchemaVersion="firestore/documentSnapshot/1.0",th._jsonSchema={type:is("string",th._jsonSchemaVersion),bundleSource:is("string","DocumentSnapshot"),bundleName:is("string"),bundle:is("string")};class Jg extends th{data(e={}){return super.data(e)}}class Vf{constructor(e,t,n,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new y0(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Jg(this._firestore,this._userDataWriter,n.key,n,new y0(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Yt(Rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(o=>{const l=new Jg(s._firestore,s._userDataWriter,o.doc.key,o.doc,new y0(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const l=new Jg(s._firestore,s._userDataWriter,o.doc.key,o.doc,new y0(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),u=a.indexOf(o.doc.key)),{type:Qse(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Yt(Rt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Vf._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=j_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(t.push(i._document),n.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Qse(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dr(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(r){r=lu(r,as);const e=lu(r.firestore,sm);return Ose(c4(e),r._key).then(t=>Zse(e,r,t))}Vf._jsonSchemaVersion="firestore/querySnapshot/1.0",Vf._jsonSchema={type:is("string",Vf._jsonSchemaVersion),bundleSource:is("string","QuerySnapshot"),bundleName:is("string"),bundle:is("string")};class AR extends Yse{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ca(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new as(this.firestore,null,t)}}function bb(r){r=lu(r,Nd);const e=lu(r.firestore,sm),t=c4(e),n=new AR(e);return Kse(r._query),Mse(t,r._query).then(s=>new Vf(e,n,r,s))}function Eg(r,e,t){r=lu(r,as);const n=lu(r.firestore,sm),s=Jse(r.converter,e);return TR(n,[Vse(bR(n),"setDoc",r._key,s,r.converter!==null,t).toMutation(r._key,Ho.none())])}function lk(r){return TR(lu(r.firestore,sm),[new W_(r._key,Ho.none())])}function TR(r,e){return function(n,s){const i=new Al;return n.asyncQueue.enqueueAndForget(async()=>_se(await Pse(n),s,i)),i.promise}(c4(r),e)}function Zse(r,e,t){const n=t.docs.get(e._key),s=new AR(r);return new th(r,s,e._key,n,new y0(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){kd=s})(Ed),nd(new fh("firestore",(n,{instanceIdentifier:s,options:i})=>{const a=n.getProvider("app").getImmediate(),o=new sm(new Hte(n.getProvider("auth-internal")),new Wte(a,n.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Yt(Rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rp(c.options.projectId,u)}(a,s),a);return i={useFetchStreams:t,...i},o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Zc(lE,cE,e),Zc(lE,cE,"esm2020")})();function CR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eie=CR,NR=new Yp("auth","Firebase",CR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=new O_("@firebase/auth");function tie(r,...e){f2.logLevel<=Lr.WARN&&f2.warn(`Auth (${Ed}): ${r}`,...e)}function Qg(r,...e){f2.logLevel<=Lr.ERROR&&f2.error(`Auth (${Ed}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(r,...e){throw g4(r,...e)}function Go(r,...e){return g4(r,...e)}function DR(r,e,t){const n={...eie(),[e]:t};return new Yp("auth","Firebase",n).create(e,{appName:r.name})}function rh(r){return DR(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function g4(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return NR.create(r,...e)}function br(r,e,...t){if(!r)throw g4(e,...t)}function wl(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Qg(e),new Error(e)}function jl(r,e){r||wl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function rie(){return ck()==="http:"||ck()==="https:"}function ck(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nie(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rie()||yee()||"connection"in navigator)?navigator.onLine:!0}function sie(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,t){this.shortDelay=e,this.longDelay=t,jl(t>e,"Short delay should be less than long delay!"),this.isMobile=mee()||bee()}get(){return nie()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(r,e){jl(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aie=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oie=new im(3e4,6e4);function y4(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Dd(r,e,t,n,s={}){return IR(r,s,async()=>{let i={},a={};n&&(e==="GET"?a=n:i={body:JSON.stringify(n)});const o=Jp({key:r.config.apiKey,...a}).slice(1),l=await r._getAdditionalHeaders();l["Content-Type"]="application/json",r.languageCode&&(l["X-Firebase-Locale"]=r.languageCode);const c={method:e,headers:l,...i};return vee()||(c.referrerPolicy="no-referrer"),r.emulatorConfig&&Sd(r.emulatorConfig.host)&&(c.credentials="include"),RR.fetch()(await PR(r,r.config.apiHost,t,o),c)})}async function IR(r,e,t){r._canInitEmulator=!1;const n={...iie,...e};try{const s=new cie(r),i=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw kg(r,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const o=i.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw kg(r,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw kg(r,"email-already-in-use",a);if(l==="USER_DISABLED")throw kg(r,"user-disabled",a);const u=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw DR(r,u,c);Ll(r,u)}}catch(s){if(s instanceof zl)throw s;Ll(r,"network-request-failed",{message:String(s)})}}async function lie(r,e,t,n,s={}){const i=await Dd(r,e,t,n,s);return"mfaPendingCredential"in i&&Ll(r,"multi-factor-auth-required",{_serverResponse:i}),i}async function PR(r,e,t,n){const s=`${e}${t}?${n}`,i=r,a=i.config.emulator?v4(r.config,s):`${r.config.apiScheme}://${s}`;return aie.includes(t)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}class cie{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(Go(this.auth,"network-request-failed")),oie.get())})}}function kg(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const s=Go(r,e,n);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uie(r,e){return Dd(r,"POST","/v1/accounts:delete",e)}async function d2(r,e){return Dd(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hie(r,e=!1){const t=Oa(r),n=await t.getIdToken(e),s=b4(n);br(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:n,authTime:K0(wb(s.auth_time)),issuedAtTime:K0(wb(s.iat)),expirationTime:K0(wb(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function wb(r){return Number(r)*1e3}function b4(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return Qg("JWT malformed, contained fewer than 3 sections"),null;try{const s=FN(t);return s?JSON.parse(s):(Qg("Failed to decode base64 JWT payload"),null)}catch(s){return Qg("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function uk(r){const e=b4(r);return br(e,"internal-error"),br(typeof e.exp<"u","internal-error"),br(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mp(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof zl&&fie(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function fie({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class die{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=K0(this.lastLoginAt),this.creationTime=K0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p2(r){var d;const e=r.auth,t=await r.getIdToken(),n=await Mp(r,d2(e,{idToken:t}));br(n==null?void 0:n.users.length,e,"internal-error");const s=n.users[0];r._notifyReloadListener(s);const i=(d=s.providerUserInfo)!=null&&d.length?OR(s.providerUserInfo):[],a=mie(r.providerData,i),o=r.isAnonymous,l=!(r.email&&s.passwordHash)&&!(a!=null&&a.length),c=o?l:!1,u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Px(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(r,u)}async function pie(r){const e=Oa(r);await p2(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mie(r,e){return[...r.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function OR(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gie(r,e){const t=await IR(r,{},async()=>{const n=Jp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=r.config,a=await PR(r,s,"/v1/token",`key=${i}`),o=await r._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:n};return r.emulatorConfig&&Sd(r.emulatorConfig.host)&&(l.credentials="include"),RR.fetch()(a,l)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function vie(r,e){return Dd(r,"POST","/v2/accounts:revokeToken",y4(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){br(e.idToken,"internal-error"),br(typeof e.idToken<"u","internal-error"),br(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){br(e.length!==0,"internal-error");const t=uk(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(br(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:s,expiresIn:i}=await gie(e,t);this.updateTokensAndExpiration(n,s,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:s,expirationTime:i}=t,a=new Hf;return n&&(br(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),s&&(br(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(br(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hf,this.toJSON())}_performRefresh(){return wl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(r,e){br(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class lo{constructor({uid:e,auth:t,stsTokenManager:n,...s}){this.providerId="firebase",this.proactiveRefresh=new die(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Px(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Mp(this,this.stsTokenManager.getToken(this.auth,e));return br(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return hie(this,e)}reload(){return pie(this)}_assign(e){this!==e&&(br(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new lo({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){br(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await p2(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fo(this.auth.app))return Promise.reject(rh(this.auth));const e=await this.getIdToken();return await Mp(this,uie(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,s=t.email??void 0,i=t.phoneNumber??void 0,a=t.photoURL??void 0,o=t.tenantId??void 0,l=t._redirectEventId??void 0,c=t.createdAt??void 0,u=t.lastLoginAt??void 0,{uid:d,emailVerified:h,isAnonymous:f,providerData:m,stsTokenManager:g}=t;br(d&&g,e,"internal-error");const p=Hf.fromJSON(this.name,g);br(typeof d=="string",e,"internal-error"),yc(n,e.name),yc(s,e.name),br(typeof h=="boolean",e,"internal-error"),br(typeof f=="boolean",e,"internal-error"),yc(i,e.name),yc(a,e.name),yc(o,e.name),yc(l,e.name),yc(c,e.name),yc(u,e.name);const v=new lo({uid:d,auth:e,email:s,emailVerified:h,displayName:n,isAnonymous:f,photoURL:a,phoneNumber:i,tenantId:o,stsTokenManager:p,createdAt:c,lastLoginAt:u});return m&&Array.isArray(m)&&(v.providerData=m.map(y=>({...y}))),l&&(v._redirectEventId=l),v}static async _fromIdTokenResponse(e,t,n=!1){const s=new Hf;s.updateFromServerResponse(t);const i=new lo({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await p2(i),i}static async _fromGetAccountInfoResponse(e,t,n){const s=t.users[0];br(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?OR(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),o=new Hf;o.updateFromIdToken(n);const l=new lo({uid:s.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Px(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=new Map;function xl(r){jl(r instanceof Function,"Expected a class definition");let e=hk.get(r);return e?(jl(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,hk.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}MR.type="NONE";const fk=MR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(r,e,t){return`firebase:${r}:${e}:${t}`}class zf{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:s,name:i}=this.auth;this.fullUserKey=Zg(this.userKey,s.apiKey,i),this.fullPersistenceKey=Zg("persistence",s.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await d2(this.auth,{idToken:e}).catch(()=>{});return t?lo._fromGetAccountInfoResponse(this.auth,t,e):null}return lo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new zf(xl(fk),e,n);const s=(await Promise.all(t.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||xl(fk);const a=Zg(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const u=await c._get(a);if(u){let d;if(typeof u=="string"){const h=await d2(e,{idToken:u}).catch(()=>{});if(!h)break;d=await lo._fromGetAccountInfoResponse(e,h,u)}else d=lo._fromJSON(e,u);c!==i&&(o=d),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new zf(i,e,n):(i=l[0],o&&await i._set(a,o.toJSON()),await Promise.all(t.map(async c=>{if(c!==i)try{await c._remove(a)}catch{}})),new zf(i,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($R(e))return"Blackberry";if(VR(e))return"Webos";if(LR(e))return"Safari";if((e.includes("chrome/")||jR(e))&&!e.includes("edge/"))return"Chrome";if(UR(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function FR(r=hi()){return/firefox\//i.test(r)}function LR(r=hi()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jR(r=hi()){return/crios\//i.test(r)}function BR(r=hi()){return/iemobile/i.test(r)}function UR(r=hi()){return/android/i.test(r)}function $R(r=hi()){return/blackberry/i.test(r)}function VR(r=hi()){return/webos/i.test(r)}function w4(r=hi()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function yie(r=hi()){var e;return w4(r)&&!!((e=window.navigator)!=null&&e.standalone)}function bie(){return wee()&&document.documentMode===10}function HR(r=hi()){return w4(r)||UR(r)||VR(r)||$R(r)||/windows phone/i.test(r)||BR(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(r,e=[]){let t;switch(r){case"Browser":t=dk(hi());break;case"Worker":t=`${dk(hi())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ed}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wie{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=i=>new Promise((a,o)=>{try{const l=e(i);a(l)}catch(l){o(l)}});n.onAbort=t,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xie(r,e={}){return Dd(r,"GET","/v2/passwordPolicy",y4(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ie=6;class Sie{constructor(e){var n;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??_ie,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eie{constructor(e,t,n,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pk(this),this.idTokenSubscription=new pk(this),this.beforeStateQueue=new wie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=xl(t)),this._initializationPromise=this.queue(async()=>{var n,s,i;if(!this._deleted&&(this.persistenceManager=await zf.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await d2(this,{idToken:e}),n=await lo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Fo(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(i=this.redirectUser)==null?void 0:i._redirectEventId,o=n==null?void 0:n._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(n=l.user,s=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(n)}catch(a){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return br(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await p2(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sie()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fo(this.app))return Promise.reject(rh(this));const t=e?Oa(e):null;return t&&br(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&br(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fo(this.app)?Promise.reject(rh(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fo(this.app)?Promise.reject(rh(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xie(this),t=new Sie(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Yp("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await vie(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&xl(e)||this._popupRedirectResolver;br(t,this,"argument-error"),this.redirectPersistenceManager=await zf.create(this,[xl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,s){if(this._deleted)return()=>{};const i=typeof t=="function"?t:t.next.bind(t);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(br(o,this,"internal-error"),o.then(()=>{a||i(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,n,s);return()=>{a=!0,l()}}else{const l=e.addObserver(t);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return br(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var t;if(Fo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&tie(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function x4(r){return Oa(r)}class pk{constructor(e){this.auth=e,this.observer=null,this.addObserver=Cee(t=>this.observer=t)}get next(){return br(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _4={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kie(r){_4=r}function Aie(r){return _4.loadJS(r)}function Tie(){return _4.gapiScript}function Cie(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nie(r,e){const t=F_(r,"auth");if(t.isInitialized()){const s=t.getImmediate(),i=t.getOptions();if(hh(i,e??{}))return s;Ll(s,"already-initialized")}return t.initialize({options:e})}function Die(r,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(xl);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function Rie(r,e,t){const n=x4(r);br(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const s=!1,i=qR(e),{host:a,port:o}=Iie(e),l=o===null?"":`:${o}`,c={url:`${i}//${a}${l}/`},u=Object.freeze({host:a,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!n._canInitEmulator){br(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),br(hh(c,n.config.emulator)&&hh(u,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=c,n.emulatorConfig=u,n.settings.appVerificationDisabledForTesting=!0,Sd(a)?(UN(`${i}//${a}${l}`),$N("Auth",!0)):Pie()}function qR(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Iie(r){const e=qR(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const i=s[1];return{host:i,port:mk(n.substr(i.length+1))}}else{const[i,a]=n.split(":");return{host:i,port:mk(a)}}}function mk(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Pie(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return wl("not implemented")}_getIdTokenResponse(e){return wl("not implemented")}_linkToIdToken(e,t){return wl("not implemented")}_getReauthenticationResolver(e){return wl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qf(r,e){return lie(r,"POST","/v1/accounts:signInWithIdp",y4(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oie="http://localhost";class mh extends WR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new mh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ll("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s,...i}=t;if(!n||!s)return null;const a=new mh(n,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return qf(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,qf(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,qf(e,t)}buildRequest(){const e={requestUri:Oie,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Jp(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am extends GR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends am{constructor(){super("facebook.com")}static credential(e){return mh._fromParams({providerId:Dc.PROVIDER_ID,signInMethod:Dc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Dc.credentialFromTaggedObject(e)}static credentialFromError(e){return Dc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Dc.credential(e.oauthAccessToken)}catch{return null}}}Dc.FACEBOOK_SIGN_IN_METHOD="facebook.com";Dc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends am{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return mh._fromParams({providerId:Rc.PROVIDER_ID,signInMethod:Rc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Rc.credentialFromTaggedObject(e)}static credentialFromError(e){return Rc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Rc.credential(t,n)}catch{return null}}}Rc.GOOGLE_SIGN_IN_METHOD="google.com";Rc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic extends am{constructor(){super("github.com")}static credential(e){return mh._fromParams({providerId:Ic.PROVIDER_ID,signInMethod:Ic.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ic.credentialFromTaggedObject(e)}static credentialFromError(e){return Ic.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ic.credential(e.oauthAccessToken)}catch{return null}}}Ic.GITHUB_SIGN_IN_METHOD="github.com";Ic.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends am{constructor(){super("twitter.com")}static credential(e,t){return mh._fromParams({providerId:Pc.PROVIDER_ID,signInMethod:Pc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Pc.credentialFromTaggedObject(e)}static credentialFromError(e){return Pc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Pc.credential(t,n)}catch{return null}}}Pc.TWITTER_SIGN_IN_METHOD="twitter.com";Pc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,s=!1){const i=await lo._fromIdTokenResponse(e,n,s),a=gk(n);return new ud({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const s=gk(n);return new ud({user:e,providerId:s,_tokenResponse:n,operationType:t})}}function gk(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2 extends zl{constructor(e,t,n,s){super(t.code,t.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,m2.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,s){return new m2(e,t,n,s)}}function KR(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?m2._fromErrorAndOperation(r,i,e,n):i})}async function Mie(r,e,t=!1){const n=await Mp(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return ud._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fie(r,e,t=!1){const{auth:n}=r;if(Fo(n.app))return Promise.reject(rh(n));const s="reauthenticate";try{const i=await Mp(r,KR(n,s,e,r),t);br(i.idToken,n,"internal-error");const a=b4(i.idToken);br(a,n,"internal-error");const{sub:o}=a;return br(r.uid===o,n,"user-mismatch"),ud._forOperation(r,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Ll(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lie(r,e,t=!1){if(Fo(r.app))return Promise.reject(rh(r));const n="signIn",s=await KR(r,n,e),i=await ud._fromIdTokenResponse(r,n,s);return t||await r._updateCurrentUser(i.user),i}function jie(r,e,t,n){return Oa(r).onIdTokenChanged(e,t,n)}function Bie(r,e,t){return Oa(r).beforeAuthStateChanged(e,t)}const g2="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(g2,"1"),this.storage.removeItem(g2),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uie=1e3,$ie=10;class YR extends XR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=HR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),s=this.localCache[t];n!==s&&e(t,s,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const n=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(n);!t&&this.localCache[n]===a||this.notifyListeners(n,a)},i=this.storage.getItem(n);bie()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,$ie):s()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},Uie)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}YR.type="LOCAL";const Vie=YR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR extends XR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}JR.type="SESSION";const QR=JR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hie(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const n=new Tv(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:s,data:i}=t.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const o=Array.from(a).map(async c=>c(t.origin,i)),l=await Hie(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zie{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((o,l)=>{const c=S4("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},n);a={messageChannel:s,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(h.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(){return window}function qie(r){Ko().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(){return typeof Ko().WorkerGlobalScope<"u"&&typeof Ko().importScripts=="function"}async function Wie(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Gie(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function Kie(){return ZR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="firebaseLocalStorageDb",Xie=1,v2="firebaseLocalStorage",tI="fbase_key";class om{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Cv(r,e){return r.transaction([v2],e?"readwrite":"readonly").objectStore(v2)}function Yie(){const r=indexedDB.deleteDatabase(eI);return new om(r).toPromise()}function Ox(){const r=indexedDB.open(eI,Xie);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(v2,{keyPath:tI})}catch(s){t(s)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(v2)?e(n):(n.close(),await Yie(),e(await Ox()))})})}async function vk(r,e,t){const n=Cv(r,!0).put({[tI]:e,value:t});return new om(n).toPromise()}async function Jie(r,e){const t=Cv(r,!1).get(e),n=await new om(t).toPromise();return n===void 0?null:n.value}function yk(r,e){const t=Cv(r,!0).delete(e);return new om(t).toPromise()}const Qie=800,Zie=3;class rI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ox(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>Zie)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tv._getInstance(Kie()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await Wie(),!this.activeServiceWorker)return;this.sender=new zie(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Gie()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ox();return await vk(e,g2,"1"),await yk(e,g2),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>vk(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>Jie(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>yk(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Cv(s,!1).getAll();return new om(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Qie)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rI.type="LOCAL";const eae=rI;new im(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tae(r,e){return e?xl(e):(br(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4 extends WR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qf(e,this._buildIdpRequest())}_linkToIdToken(e,t){return qf(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return qf(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function rae(r){return Lie(r.auth,new E4(r),r.bypassAuthState)}function nae(r){const{auth:e,user:t}=r;return br(t,e,"internal-error"),Fie(t,new E4(r),r.bypassAuthState)}async function sae(r){const{auth:e,user:t}=r;return br(t,e,"internal-error"),Mie(t,new E4(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,t,n,s,i=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:s,tenantId:i,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rae;case"linkViaPopup":case"linkViaRedirect":return sae;case"reauthViaPopup":case"reauthViaRedirect":return nae;default:Ll(this.auth,"internal-error")}}resolve(e){jl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iae=new im(2e3,1e4);class kf extends nI{constructor(e,t,n,s,i){super(e,t,s,i),this.provider=n,this.authWindow=null,this.pollId=null,kf.currentPopupAction&&kf.currentPopupAction.cancel(),kf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return br(e,this.auth,"internal-error"),e}async onExecution(){jl(this.filter.length===1,"Popup operations only handle one event");const e=S4();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Go(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Go(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,kf.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if((n=(t=this.authWindow)==null?void 0:t.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Go(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iae.get())};e()}}kf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aae="pendingRedirect",e1=new Map;class oae extends nI{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=e1.get(this.auth._key());if(!e){try{const n=await lae(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}e1.set(this.auth._key(),e)}return this.bypassAuthState||e1.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lae(r,e){const t=hae(e),n=uae(r);if(!await n._isAvailable())return!1;const s=await n._get(t)==="true";return await n._remove(t),s}function cae(r,e){e1.set(r._key(),e)}function uae(r){return xl(r._redirectPersistence)}function hae(r){return Zg(aae,r.config.apiKey,r.name)}async function fae(r,e,t=!1){if(Fo(r.app))return Promise.reject(rh(r));const n=x4(r),s=tae(n,e),a=await new oae(n,s,t).execute();return a&&!t&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dae=10*60*1e3;class pae{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mae(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!sI(e)){const s=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";t.onError(Go(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dae&&this.cachedEventUids.clear(),this.cachedEventUids.has(bk(e))}saveEventToCache(e){this.cachedEventUids.add(bk(e)),this.lastProcessedEventTime=Date.now()}}function bk(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function sI({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function mae(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sI(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gae(r,e={}){return Dd(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vae=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yae=/^https?/;async function bae(r){if(r.config.emulator)return;const{authorizedDomains:e}=await gae(r);for(const t of e)try{if(wae(t))return}catch{}Ll(r,"unauthorized-domain")}function wae(r){const e=Ix(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const a=new URL(r);return a.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===n}if(!yae.test(t))return!1;if(vae.test(r))return n===r;const s=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xae=new im(3e4,6e4);function wk(){const r=Ko().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function _ae(r){return new Promise((e,t)=>{var s,i,a;function n(){wk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wk(),t(Go(r,"network-request-failed"))},timeout:xae.get()})}if((i=(s=Ko().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((a=Ko().gapi)!=null&&a.load)n();else{const o=Cie("iframefcb");return Ko()[o]=()=>{gapi.load?n():t(Go(r,"network-request-failed"))},Aie(`${Tie()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw t1=null,e})}let t1=null;function Sae(r){return t1=t1||_ae(r),t1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eae=new im(5e3,15e3),kae="__/auth/iframe",Aae="emulator/auth/iframe",Tae={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cae=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nae(r){const e=r.config;br(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?v4(e,Aae):`https://${r.config.authDomain}/${kae}`,n={apiKey:e.apiKey,appName:r.name,v:Ed},s=Cae.get(r.config.apiHost);s&&(n.eid=s);const i=r._getFrameworks();return i.length&&(n.fw=i.join(",")),`${t}?${Jp(n).slice(1)}`}async function Dae(r){const e=await Sae(r),t=Ko().gapi;return br(t,r,"internal-error"),e.open({where:document.body,url:Nae(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tae,dontclear:!0},n=>new Promise(async(s,i)=>{await n.restyle({setHideOnLeave:!1});const a=Go(r,"network-request-failed"),o=Ko().setTimeout(()=>{i(a)},Eae.get());function l(){Ko().clearTimeout(o),s(n)}n.ping(l).then(l,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rae={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Iae=500,Pae=600,Oae="_blank",Mae="http://localhost";class xk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Fae(r,e,t,n=Iae,s=Pae){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l={...Rae,width:n.toString(),height:s.toString(),top:i,left:a},c=hi().toLowerCase();t&&(o=jR(c)?Oae:t),FR(c)&&(e=e||Mae,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,m])=>`${h}${f}=${m},`,"");if(yie(c)&&o!=="_self")return Lae(e||"",o),new xk(null);const d=window.open(e||"",o,u);br(d,r,"popup-blocked");try{d.focus()}catch{}return new xk(d)}function Lae(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jae="__/auth/handler",Bae="emulator/auth/handler",Uae=encodeURIComponent("fac");async function _k(r,e,t,n,s,i){br(r.config.authDomain,r,"auth-domain-config-required"),br(r.config.apiKey,r,"invalid-api-key");const a={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:Ed,eventId:s};if(e instanceof GR){e.setDefaultLanguage(r.languageCode),a.providerId=e.providerId||"",Tee(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))a[u]=d}if(e instanceof am){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(a.scopes=u.join(","))}r.tenantId&&(a.tid=r.tenantId);const o=a;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await r._getAppCheckToken(),c=l?`#${Uae}=${encodeURIComponent(l)}`:"";return`${$ae(r)}?${Jp(o).slice(1)}${c}`}function $ae({config:r}){return r.emulator?v4(r,Bae):`https://${r.authDomain}/${jae}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="webStorageSupport";class Vae{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QR,this._completeRedirectFn=fae,this._overrideRedirectResult=cae}async _openPopup(e,t,n,s){var a;jl((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const i=await _k(e,t,n,Ix(),s);return Fae(e,i,S4())}async _openRedirect(e,t,n,s){await this._originValidation(e);const i=await _k(e,t,n,Ix(),s);return qie(i),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:i}=this.eventManagers[t];return s?Promise.resolve(s):(jl(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Dae(e),n=new pae(e);return t.register("authEvent",s=>(br(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xb,{type:xb},s=>{var a;const i=(a=s==null?void 0:s[0])==null?void 0:a[xb];i!==void 0&&t(!!i),Ll(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=bae(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return HR()||LR()||w4()}}const Hae=Vae;var Sk="@firebase/auth",Ek="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zae{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){br(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qae(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Wae(r){nd(new fh("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=n.options;br(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:a,authDomain:o,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zR(r)},c=new Eie(n,s,i,l);return Die(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),nd(new fh("auth-internal",e=>{const t=x4(e.getProvider("auth").getImmediate());return(n=>new zae(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zc(Sk,Ek,qae(r)),Zc(Sk,Ek,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gae=5*60,Kae=BN("authIdTokenMaxAge")||Gae;let kk=null;const Xae=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Kae)return;const s=t==null?void 0:t.token;kk!==s&&(kk=s,await fetch(r,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Yae(r=qN()){const e=F_(r,"auth");if(e.isInitialized())return e.getImmediate();const t=Nie(r,{popupRedirectResolver:Hae,persistence:[eae,Vie,QR]}),n=BN("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const a=Xae(i.toString());Bie(t,a,()=>a(t.currentUser)),jie(t,o=>a(o))}}const s=LN("auth");return s&&Rie(t,`http://${s}`),t}function Jae(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}kie({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=s=>{const i=Go("internal-error");i.customData=s,t(i)},n.type="text/javascript",n.charset="UTF-8",Jae().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Wae("Browser");const Qae={apiKey:"AIzaSyBQqZqTmy17oldVtZG9Tqf4KHxJHO8if5E",authDomain:"viboothi-a9dcd.firebaseapp.com",projectId:"viboothi-a9dcd",storageBucket:"viboothi-a9dcd.firebasestorage.app",messagingSenderId:"117979484616",appId:"1:117979484616:web:b9c4d97b8c2ef6f2d40db7"},iI=zN(Qae),Zae=Lse(iI),eoe=Yae(iI);class toe{constructor(){this.isStub=!1,this.db=Zae,this.auth=eoe,console.log("🔥 Firebase Service initialized (REAL MODE) - Shared data enabled"),console.log("🌐 Data will sync between localhost and viboothi.in")}async createUser(e){try{return console.log("🔥 [Firebase] Creating user:",e.username||e.id),await Eg(Ya(this.db,"users",e.id),{...e,createdAt:new Date().toISOString(),source:"firebase"}),{success:!0,data:e,source:"firebase"}}catch(t){throw console.error("❌ Firebase createUser error:",t),t}}async getUser(e){try{console.log("🔥 [Firebase] Getting user:",e);const t=Ya(this.db,"users",e),n=await s0(t);return n.exists()?{id:n.id,...n.data()}:null}catch(t){return console.error("❌ Firebase getUser error:",t),null}}async getAllUsers(){try{console.log("🔥 [Firebase] Getting all users");const e=await bb(yb(this.db,"users")),t=[];return e.forEach(n=>{t.push({id:n.id,...n.data()})}),t}catch(e){return console.error("❌ Firebase getAllUsers error:",e),[]}}async saveExcelData(e,t,n){try{console.log("🔥 [Firebase] Saving Excel data:",{userId:e,date:t,fileName:n.fileName});const s=`${e}_${t}`;return await Eg(Ya(this.db,"excelData",s),{userId:e,date:t,...n,updatedAt:new Date().toISOString(),source:"firebase"}),{success:!0,data:n,source:"firebase"}}catch(s){throw console.error("❌ Firebase saveExcelData error:",s),s}}async getExcelData(e,t){try{console.log("🔥 [Firebase] Getting Excel data:",{userId:e,date:t});const n=`${e}_${t}`,s=Ya(this.db,"excelData",n),i=await s0(s);return i.exists()?i.data():null}catch(n){return console.error("❌ Firebase getExcelData error:",n),null}}async hasExcelData(e,t){try{return console.log("🔥 [Firebase] Checking Excel data:",{userId:e,date:t}),!!await this.getExcelData(e,t)}catch(n){return console.error("❌ Firebase hasExcelData error:",n),!1}}async deleteExcelData(e,t){try{console.log("🔥 [Firebase] Deleting Excel data:",{userId:e,date:t});const n=`${e}_${t}`;return await lk(Ya(this.db,"excelData",n)),{success:!0,source:"firebase"}}catch(n){throw console.error("❌ Firebase deleteExcelData error:",n),n}}async saveHourEntry(e,t,n){try{console.log("🔥 [Firebase] Saving hour entry:",{userId:e,date:t,hrCount:Object.keys(n).length});const s=`${e}_${t}`;return await Eg(Ya(this.db,"hourEntries",s),{userId:e,date:t,planetSelections:n,updatedAt:new Date().toISOString(),source:"firebase"}),{success:!0,data:{planetSelections:n},source:"firebase"}}catch(s){throw console.error("❌ Firebase saveHourEntry error:",s),s}}async getHourEntry(e,t){try{console.log("🔥 [Firebase] Getting hour entry:",{userId:e,date:t});const n=`${e}_${t}`,s=Ya(this.db,"hourEntries",n),i=await s0(s);return i.exists()?i.data():null}catch(n){return console.error("❌ Firebase getHourEntry error:",n),null}}async hasHourEntry(e,t){try{return console.log("🔥 [Firebase] Checking hour entry:",{userId:e,date:t}),!!await this.getHourEntry(e,t)}catch(n){return console.error("❌ Firebase hasHourEntry error:",n),!1}}async deleteHourEntry(e,t){try{console.log("🔥 [Firebase] Deleting hour entry:",{userId:e,date:t});const n=`${e}_${t}`;return await lk(Ya(this.db,"hourEntries",n)),{success:!0,source:"firebase"}}catch(n){throw console.error("❌ Firebase deleteHourEntry error:",n),n}}async getUserDates(e){try{console.log("🔥 [Firebase] Getting user dates:",e);const t=Ya(this.db,"userDates",e),n=await s0(t);return n.exists()?n.data().dates||[]:[]}catch(t){return console.error("❌ Firebase getUserDates error:",t),[]}}async saveUserDates(e,t){try{return console.log("🔥 [Firebase] Saving user dates:",{userId:e,dateCount:t.length}),await Eg(Ya(this.db,"userDates",e),{userId:e,dates:t,updatedAt:new Date().toISOString(),source:"firebase"}),{success:!0,data:t,source:"firebase"}}catch(n){throw console.error("❌ Firebase saveUserDates error:",n),n}}async addUserDate(e,t){try{console.log("🔥 [Firebase] Adding user date:",{userId:e,date:t});const n=await this.getUserDates(e);if(!n.includes(t)){const s=[...n,t].sort();await this.saveUserDates(e,s)}return{success:!0,source:"firebase"}}catch(n){throw console.error("❌ Firebase addUserDate error:",n),n}}async checkConnection(){try{console.log("🔥 [Firebase] Checking connection");const e=await s0(Ya(this.db,"test","connection"));return!0}catch(e){return console.error("❌ Firebase connection check failed:",e),!1}}async getDataSummary(e){try{console.log("🔥 [Firebase] Getting data summary:",e);const[t,n,s]=await Promise.all([this.getUserDates(e),bb(sk(yb(this.db,"excelData"),ik("userId","==",e))),bb(sk(yb(this.db,"hourEntries"),ik("userId","==",e)))]);return{excelDataCount:n.size,hourEntryCount:s.size,userDatesCount:t.length,userDates:t,source:"firebase"}}catch(t){return console.error("❌ Firebase getDataSummary error:",t),{excelDataCount:0,hourEntryCount:0,userDatesCount:0,userDates:[],source:"firebase-error"}}}async syncFromSupabase(e){return console.log("🔥 [Firebase] Sync from Supabase for user:",e),{success:!0,note:"Firebase real service - sync available",source:"firebase"}}}const roe=new toe,Ak={ACTIVE_SERVICE:noe(),DUAL_SERVICE_MODE:soe(),SERVICES:{firebase:{enabled:ioe(),name:"Firebase",description:"Google Firebase Firestore & Authentication",role:"backup"},supabase:{enabled:!0,name:"Supabase",description:"Supabase PostgreSQL & Authentication",role:"primary"}}};function noe(){return"supabase"}function soe(){return console.log("🔄 Dual-service mode ENABLED for data sharing"),!0}function ioe(){return console.log("🔥 Firebase ENABLED for shared data between localhost and viboothi.in"),!0}const aoe={signIn:()=>Promise.reject(new Error("Use Supabase for authentication")),signUp:()=>Promise.reject(new Error("Use Supabase for authentication")),signOut:()=>Promise.resolve(!0),getCurrentUser:()=>null,isAuthenticated:()=>!1,onAuthStateChange:()=>()=>{},authenticateUser:()=>Promise.reject(new Error("Use Supabase for authentication")),getAuthErrorMessage:r=>r||"Firebase auth not configured - use Supabase"};class ooe{constructor(){this.activeService=Ak.ACTIVE_SERVICE,this.services=Ak.SERVICES,console.log("🔄 Database Service Switcher initialized"),console.log(`📊 Active Service: ${this.services[this.activeService].name}`),console.log(`📊 Firebase Status: ${this.services.firebase.enabled?"Active":"Paused"}`),console.log(`📊 Supabase Status: ${this.services.supabase.enabled?"Active":"Paused"}`)}getActiveService(){return this.activeService}getServiceStatus(){return{active:this.activeService,firebase:this.services.firebase,supabase:this.services.supabase}}switchToFirebase(){return this.activeService="firebase",this.services.firebase.enabled=!0,this.services.supabase.enabled=!1,console.log("🔥 Switched to Firebase"),this.getServiceStatus()}switchToSupabase(){return this.activeService="supabase",this.services.supabase.enabled=!0,this.services.firebase.enabled=!1,console.log("⚡ Switched to Supabase"),this.getServiceStatus()}pauseFirebase(){return this.services.firebase.enabled=!1,this.activeService==="firebase"&&this.switchToSupabase(),console.log("⏸️ Firebase paused"),this.getServiceStatus()}resumeFirebase(){return this.services.firebase.enabled=!0,console.log("▶️ Firebase resumed"),this.getServiceStatus()}async createUser(e){return this.activeService==="firebase"?await yr.createUser(e):await yr.createUser(e)}async getUser(e){return this.activeService==="firebase"?await yr.getUser(e):await yr.getUser(e)}async getAllUsers(){return this.activeService==="firebase"?await yr.getAllUsers():await yr.getAllUsers()}async saveExcelData(e,t,n){return this.activeService==="firebase"?await yr.saveExcelData(e,t,n):await yr.saveExcelData(e,t,n)}async getExcelData(e,t){return this.activeService==="firebase"?await yr.getExcelData(e,t):await yr.getExcelData(e,t)}async hasExcelData(e,t){return this.activeService==="firebase"?await yr.hasExcelData(e,t):await yr.hasExcelData(e,t)}async deleteExcelData(e,t){return this.activeService==="firebase"?await yr.deleteExcelData(e,t):await yr.deleteExcelData(e,t)}async saveHourEntry(e,t,n){return this.activeService==="firebase"?await yr.saveHourEntry(e,t,n):await yr.saveHourEntry(e,t,n)}async getHourEntry(e,t){return this.activeService==="firebase"?await yr.getHourEntry(e,t):await yr.getHourEntry(e,t)}async hasHourEntry(e,t){return this.activeService==="firebase"?await yr.hasHourEntry(e,t):await yr.hasHourEntry(e,t)}async deleteHourEntry(e,t){return this.activeService==="firebase"?await yr.deleteHourEntry(e,t):await yr.deleteHourEntry(e,t)}async getUserDates(e){return this.activeService==="firebase"?await yr.getUserDates(e):await yr.getUserDates(e)}async saveUserDates(e,t){return this.activeService==="firebase"?await yr.saveUserDates(e,t):await yr.saveUserDates(e,t)}async addUserDate(e,t){return this.activeService==="firebase"?await yr.addUserDate(e,t):await yr.addUserDate(e,t)}async checkConnection(){return this.activeService==="firebase"?await yr.checkConnection():await yr.checkConnection()}getAuthService(){return this.activeService==="firebase"?aoe:tee}enableDualService(){return this.services.firebase.enabled=!0,this.services.supabase.enabled=!0,console.log("🔄 Dual-service mode enabled: Both Firebase and Supabase active"),this.getServiceStatus()}isDualServiceMode(){return this.services.firebase.enabled&&this.services.supabase.enabled}async saveDataToBothServices(e,...t){if(!this.isDualServiceMode())return await this[e](...t);const n={primary:null,backup:null,errors:[]};try{this.services.supabase.enabled&&(n.primary=await yr[e](...t),console.log("✅ Data saved to Supabase (primary)"))}catch(s){n.errors.push({service:"supabase",error:s.message}),console.error("❌ Supabase save failed:",s.message)}try{this.services.firebase.enabled&&(console.log("🔥 Firebase backup save would happen here"),n.backup={success:!0,note:"Firebase implementation needed"})}catch(s){n.errors.push({service:"firebase",error:s.message}),console.error("❌ Firebase backup failed:",s.message)}return n}async syncBetweenServices(e){if(!this.isDualServiceMode())return console.log("ℹ️ Dual-service mode not active - skipping sync"),{success:!1,reason:"Dual-service mode disabled"};console.log("🔄 Starting data sync between Firebase and Supabase...");try{const t=await yr.getDataSummary(e);return console.log("🔄 Syncing to Firebase...",t),{success:!0,synced:{excelData:t.excelDataCount,hourEntries:t.hourEntryCount,userDates:t.userDatesCount}}}catch(t){return console.error("❌ Sync failed:",t),{success:!1,error:t.message}}}async getServicesHealth(){const e={supabase:{status:"unknown",latency:null},firebase:{status:"unknown",latency:null}};if(this.services.supabase.enabled)try{const t=Date.now();await yr.checkConnection(),e.supabase={status:"healthy",latency:Date.now()-t}}catch(t){e.supabase={status:"error",error:t.message}}return this.services.firebase.enabled&&(e.firebase={status:"implementation_needed",note:"Firebase health check needs implementation"}),e}}const loe=new ooe;class coe{constructor(){this.primary=yr,this.backup=roe,this.isEnabled=!0,console.log("🔄 Dual-Service Manager initialized with REAL Firebase service"),console.log("🌐 Data will sync between localhost and viboothi.in via Firebase")}enable(){return this.isEnabled=!0,loe.enableDualService(),console.log("🔄 Dual-service mode ENABLED"),this.getStatus()}disable(){return this.isEnabled=!1,console.log("🔄 Dual-service mode DISABLED"),this.getStatus()}getStatus(){return{enabled:this.isEnabled,primary:"Supabase",backup:"Firebase",health:null}}async dualSave(e,...t){if(!this.isEnabled)return await this.primary[e](...t);const n={primary:{success:!1,data:null,error:null},backup:{success:!1,data:null,error:null},overall:{success:!1,savedCount:0}};try{n.primary.data=await this.primary[e](...t),n.primary.success=!0,n.overall.savedCount++,console.log("✅ Primary save successful (Supabase)")}catch(s){n.primary.error=s.message,console.error("❌ Primary save failed (Supabase):",s.message)}try{n.backup.data=await this.backup[e](...t),n.backup.success=!0,n.overall.savedCount++,console.log("✅ Backup save successful (Firebase)")}catch(s){n.backup.error=s.message,console.error("❌ Backup save failed (Firebase):",s.message)}if(n.overall.success=n.overall.savedCount>0,n.overall.savedCount===0)throw new Error("Both primary and backup saves failed");return n.overall.savedCount===1?console.log("⚠️ Partial save success (only one service succeeded)"):console.log("🎉 Full dual-save success (both services succeeded)"),n}async dualFetch(e,...t){if(!this.isEnabled)return await this.primary[e](...t);let n=null,s=null,i=null,a=null;try{return n=await this.primary[e](...t),console.log("✅ Primary fetch successful (Supabase)"),{data:n,source:"primary",service:"Supabase",backupAvailable:!1}}catch(o){i=o.message,console.warn("⚠️ Primary fetch failed (Supabase), trying backup...")}try{return s=await this.backup[e](...t),console.log("✅ Backup fetch successful (Firebase)"),{data:s,source:"backup",service:"Firebase",primaryError:i}}catch(o){a=o.message,console.error("❌ Backup fetch failed (Firebase)")}throw new Error(`Both services failed - Primary: ${i}, Backup: ${a}`)}async syncPrimaryToBackup(e){if(!this.isEnabled)return{success:!1,reason:"Dual-service mode disabled"};console.log("🔄 Starting primary-to-backup sync...");try{const t=await this.primary.getDataSummary(e),n=await this.primary.getUserDates(e);let s=0;n.length>0&&(await this.backup.saveUserDates(e,n),s++);for(const i of n)try{const a=await this.primary.getExcelData(e,i);a&&(await this.backup.saveExcelData(e,i,a),s++);const o=await this.primary.getHourEntry(e,i);o&&(await this.backup.saveHourEntry(e,i,o.planetSelections),s++)}catch(a){console.warn(`⚠️ Failed to sync data for date ${i}:`,a.message)}return console.log(`🎉 Sync completed: ${s} items synced`),{success:!0,syncedItems:s,dates:n.length,summary:t}}catch(t){return console.error("❌ Sync failed:",t),{success:!1,error:t.message}}}async verifyDataConsistency(e){if(!this.isEnabled)return{success:!1,reason:"Dual-service mode disabled"};console.log("🔍 Verifying data consistency...");try{const t=await this.primary.getDataSummary(e),n={userDatesMatch:!0,excelDataMatch:!0,hourEntriesMatch:!0,issues:[]};return console.log("🔍 Consistency check completed"),{success:!0,primary:t,backup:{note:"Firebase summary implementation needed"},consistency:n}}catch(t){return console.error("❌ Consistency check failed:",t),{success:!1,error:t.message}}}async getHealthStatus(){const e={timestamp:new Date().toISOString(),services:{primary:{name:"Supabase",status:"unknown",latency:null},backup:{name:"Firebase",status:"unknown",latency:null}},overall:{status:"unknown",message:""}};try{const s=Date.now();await this.primary.checkConnection(),e.services.primary.status="healthy",e.services.primary.latency=Date.now()-s}catch(s){e.services.primary.status="error",e.services.primary.error=s.message}try{const s=Date.now();await this.backup.checkConnection(),e.services.backup.status="healthy",e.services.backup.latency=Date.now()-s}catch(s){e.services.backup.status="error",e.services.backup.error=s.message}const t=e.services.primary.status==="healthy",n=e.services.backup.status==="healthy";return t&&n?(e.overall.status="excellent",e.overall.message="Both services are healthy"):t?(e.overall.status="good",e.overall.message="Primary service healthy, backup needs attention"):n?(e.overall.status="degraded",e.overall.message="Primary service down, backup available"):(e.overall.status="critical",e.overall.message="Both services are down"),e}async saveExcelData(e,t,n){return await this.dualSave("saveExcelData",e,t,n)}async saveHourEntry(e,t,n){return await this.dualSave("saveHourEntry",e,t,n)}async saveUserDates(e,t){return await this.dualSave("saveUserDates",e,t)}async getExcelData(e,t){return await this.dualFetch("getExcelData",e,t)}async getHourEntry(e,t){return await this.dualFetch("getHourEntry",e,t)}async getUserDates(e){return await this.dualFetch("getUserDates",e)}async createUser(e){return await this.dualSave("createUser",e)}}const Mu=new coe,uoe=()=>{var g;const[r,e]=Ae.useState(null),[t,n]=Ae.useState(null),[s,i]=Ae.useState(null),[a,o]=Ae.useState(!1);Ae.useEffect(()=>{l()},[]);const l=async()=>{try{const p=Mu.getStatus(),v=await Mu.getHealthStatus();e(p),n(v)}catch(p){console.error("Failed to load status:",p)}},c=async()=>{o(!0);try{const p=Mu.enable();e(p),await l(),console.log("✅ Dual-service mode enabled")}catch(p){console.error("❌ Failed to enable dual-service:",p)}finally{o(!1)}},u=async()=>{o(!0);try{const p=Mu.disable();e(p),await l(),console.log("✅ Dual-service mode disabled")}catch(p){console.error("❌ Failed to disable dual-service:",p)}finally{o(!1)}},d=async()=>{o(!0);try{const p="test-user-123",v="2025-01-01",y={fileName:"test-excel.xlsx",sets:{"Test Set 1":{"Element 1":{Sun:"sun-1/element",Moon:"moon-2/element"}}}};console.log("🧪 Testing dual-save operation...");const b=await Mu.saveExcelData(p,v,y);i({operation:"Dual Save Excel Data",success:b.overall.success,details:b,timestamp:new Date().toISOString()}),console.log("🧪 Dual-save test completed:",b)}catch(p){i({operation:"Dual Save Excel Data",success:!1,error:p.message,timestamp:new Date().toISOString()}),console.error("❌ Dual-save test failed:",p)}finally{o(!1)}},h=async()=>{o(!0);try{const p="test-user-123",v="2025-01-01";console.log("🧪 Testing dual-fetch operation...");const y=await Mu.getExcelData(p,v);i({operation:"Dual Fetch Excel Data",success:!0,details:y,timestamp:new Date().toISOString()}),console.log("🧪 Dual-fetch test completed:",y)}catch(p){i({operation:"Dual Fetch Excel Data",success:!1,error:p.message,timestamp:new Date().toISOString()}),console.error("❌ Dual-fetch test failed:",p)}finally{o(!1)}},f=async()=>{o(!0);try{const p="test-user-123";console.log("🧪 Testing sync operation...");const v=await Mu.syncPrimaryToBackup(p);i({operation:"Sync Primary to Backup",success:v.success,details:v,timestamp:new Date().toISOString()}),console.log("🧪 Sync test completed:",v)}catch(p){i({operation:"Sync Primary to Backup",success:!1,error:p.message,timestamp:new Date().toISOString()}),console.error("❌ Sync test failed:",p)}finally{o(!1)}},m=p=>{switch(p){case"excellent":return"text-green-600";case"good":return"text-blue-600";case"degraded":return"text-yellow-600";case"critical":return"text-red-600";case"healthy":return"text-green-600";case"error":return"text-red-600";default:return"text-gray-600"}};return G.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[G.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-800",children:"🔄 Dual-Service Manager Demo"}),G.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[G.jsx("h2",{className:"text-lg font-semibold text-blue-800 mb-2",children:"About Dual-Service Mode"}),G.jsx("p",{className:"text-blue-700 text-sm",children:"This demo shows how to run both Supabase and Firebase simultaneously for maximum reliability. Data is saved to both services, with automatic fallback if one fails."})]}),G.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[G.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[G.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Service Status"}),r?G.jsxs("div",{className:"space-y-2",children:[G.jsxs("div",{className:"flex justify-between",children:[G.jsx("span",{children:"Dual-Service Mode:"}),G.jsx("span",{className:r.enabled?"text-green-600 font-semibold":"text-red-600",children:r.enabled?"ENABLED":"DISABLED"})]}),G.jsxs("div",{className:"flex justify-between",children:[G.jsx("span",{children:"Primary Service:"}),G.jsx("span",{className:"font-semibold text-blue-600",children:r.primary})]}),G.jsxs("div",{className:"flex justify-between",children:[G.jsx("span",{children:"Backup Service:"}),G.jsx("span",{className:"font-semibold text-orange-600",children:r.backup})]})]}):G.jsx("div",{className:"text-gray-500",children:"Loading..."})]}),G.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[G.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Health Status"}),t?G.jsxs("div",{className:"space-y-2",children:[G.jsxs("div",{className:"flex justify-between",children:[G.jsx("span",{children:"Overall Status:"}),G.jsx("span",{className:`font-semibold ${m(t.overall.status)}`,children:(g=t.overall.status)==null?void 0:g.toUpperCase()})]}),G.jsxs("div",{className:"flex justify-between",children:[G.jsx("span",{children:"Supabase:"}),G.jsxs("span",{className:`font-semibold ${m(t.services.primary.status)}`,children:[t.services.primary.status," ",t.services.primary.latency&&`(${t.services.primary.latency}ms)`]})]}),G.jsxs("div",{className:"flex justify-between",children:[G.jsx("span",{children:"Firebase:"}),G.jsx("span",{className:`font-semibold ${m(t.services.backup.status)}`,children:t.services.backup.status})]}),G.jsx("div",{className:"text-xs text-gray-600 mt-2",children:t.overall.message})]}):G.jsx("div",{className:"text-gray-500",children:"Loading..."})]})]}),G.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-6",children:[G.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Service Controls"}),G.jsxs("div",{className:"flex flex-wrap gap-3",children:[G.jsx("button",{onClick:c,disabled:a||(r==null?void 0:r.enabled),className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:"Enable Dual-Service"}),G.jsx("button",{onClick:u,disabled:a||!(r!=null&&r.enabled),className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:"Disable Dual-Service"}),G.jsx("button",{onClick:l,disabled:a,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-gray-400",children:"Refresh Status"})]})]}),G.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-6",children:[G.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Test Operations"}),G.jsxs("div",{className:"flex flex-wrap gap-3",children:[G.jsx("button",{onClick:d,disabled:a,className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 disabled:bg-gray-400",children:"Test Dual Save"}),G.jsx("button",{onClick:h,disabled:a,className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 disabled:bg-gray-400",children:"Test Dual Fetch"}),G.jsx("button",{onClick:f,disabled:a,className:"px-4 py-2 bg-orange-600 text-white rounded hover:bg-orange-700 disabled:bg-gray-400",children:"Test Sync"})]})]}),s&&G.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[G.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Test Results"}),G.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[G.jsxs("div",{className:"flex justify-between items-start mb-2",children:[G.jsx("span",{className:"font-semibold",children:s.operation}),G.jsx("span",{className:`px-2 py-1 text-xs rounded ${s.success?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.success?"SUCCESS":"FAILED"})]}),G.jsx("div",{className:"text-xs text-gray-600 mb-2",children:s.timestamp}),s.error&&G.jsxs("div",{className:"text-red-600 text-sm mb-2",children:["Error: ",s.error]}),G.jsxs("details",{className:"text-sm",children:[G.jsx("summary",{className:"cursor-pointer text-blue-600",children:"View Details"}),G.jsx("pre",{className:"mt-2 text-xs bg-white p-2 rounded border overflow-auto",children:JSON.stringify(s.details,null,2)})]})]})]}),a&&G.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:G.jsxs("div",{className:"bg-white rounded-lg p-6 flex items-center",children:[G.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mr-3"}),G.jsx("span",{children:"Processing..."})]})})]})};function hoe(){const[r,e]=Ae.useState(null),[t,n]=Ae.useState(!0),[s,i]=Ae.useState(!0),[a,o]=Ae.useState(null);return Ae.useEffect(()=>{try{localStorage.setItem("house_count_enabled","true"),localStorage.setItem("auth_type","simple");const l={user:{authenticated:!0,email:"dev@temporary.com",id:"temp-dev-user"}};localStorage.setItem("house_count_session",JSON.stringify(l)),e(l),console.log("App initialized successfully")}catch(l){console.error("Error initializing app:",l),o(l.message)}},[]),G.jsx(dF,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:G.jsx(wc,{children:G.jsx("div",{className:"min-h-screen bg-gray-100",children:a?G.jsxs("div",{className:"p-8 text-center",children:[G.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Application Error"}),G.jsx("p",{className:"text-gray-700 mb-4",children:a}),G.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Reload Page"})]}):G.jsxs(aF,{children:[G.jsx(Zi,{path:"/",element:G.jsx(US,{})}),G.jsx(Zi,{path:"/users",element:G.jsx(US,{})}),G.jsx(Zi,{path:"/dashboard",element:G.jsx(f6,{to:"/abcd-number/1",replace:!0})}),G.jsx(Zi,{path:"/user/:userId",element:G.jsx(BS,{})}),G.jsx(Zi,{path:"/user-data/:userId",element:G.jsx(BS,{})}),G.jsx(Zi,{path:"/day-details/:userId",element:G.jsx(wc,{children:G.jsx(XG,{})})}),G.jsx(Zi,{path:"/number-gen",element:G.jsx(wc,{children:G.jsx(RZ,{})})}),G.jsx(Zi,{path:"/abcd-number/:userId",element:G.jsx(wc,{children:G.jsx(QZ,{})})}),G.jsx(Zi,{path:"/planets-analysis",element:G.jsx(wc,{children:G.jsx(X8,{})})}),G.jsx(Zi,{path:"/planets-analysis/:userId",element:G.jsx(wc,{children:G.jsx(X8,{})})}),G.jsx(Zi,{path:"/dual-service-demo",element:G.jsx(wc,{children:G.jsx(uoe,{})})}),G.jsx(Zi,{path:"*",element:G.jsx(f6,{to:"/users",replace:!0})})]})})})})}Sb.createRoot(document.getElementById("root")).render(G.jsx(Ux.StrictMode,{children:G.jsx(hoe,{})}));export{p0 as _,gr as a,yr as c,Mx as g,hv as p};
