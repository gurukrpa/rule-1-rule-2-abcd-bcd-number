<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HR-Specific D-1 Set-1 Matrix Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .step {
            margin-bottom: 30px;
            padding: 15px;
            border-left: 4px solid #4CAF50;
            background-color: #f9f9f9;
        }
        .debug-section {
            background-color: #e8f5e8;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .hr-comparison {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .hr-card {
            background: #ffffff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
        }
        .hr-header {
            background: #6366f1;
            color: white;
            padding: 8px;
            border-radius: 4px;
            text-align: center;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .numbers {
            font-family: monospace;
            font-size: 14px;
        }
        .abcd { color: #059669; font-weight: bold; }
        .bcd { color: #2563eb; font-weight: bold; }
        .expected-output {
            background-color: #fef3c7;
            border: 1px solid #f59e0b;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
        }
        button {
            background: #6366f1;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #4f46e5;
        }
        .console-output {
            background: #1f2937;
            color: #f3f4f6;
            padding: 15px;
            border-radius: 8px;
            font-family: monospace;
            font-size: 12px;
            white-space: pre-wrap;
            max-height: 400px;
            overflow-y: auto;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🎯 HR-Specific D-1 Set-1 Matrix ABCD/BCD Test</h1>
        <p>This test verifies that each HR period (1-6) produces different ABCD/BCD numbers for D-1 Set-1 Matrix, confirming the HR-specific planet selection system is working correctly.</p>
        
        <div class="step">
            <h2>📋 Test Summary</h2>
            <p><strong>Goal:</strong> Verify that each HR period correctly shows different ABCD/BCD numbers for D-1 Set-1 Matrix</p>
            <p><strong>Method:</strong> Navigate Index → Rule-2 → Planets Analysis and check browser console</p>
            <p><strong>Expected:</strong> Each HR (1-6) should produce different planet selections leading to different ABCD/BCD numbers</p>
        </div>

        <div class="step">
            <h2>🔧 Enhanced Debug Features Added</h2>
            <div class="debug-section">
                <h3>Rule2CompactPage Enhanced Logging:</h3>
                <ul>
                    <li>✅ HR comparison testing for all HRs (1-6)</li>
                    <li>✅ Real-time planet selection tracking per HR</li>
                    <li>✅ D-day number extraction per HR period</li>
                    <li>✅ Console debugging output with HR-specific results</li>
                </ul>
            </div>
        </div>

        <div class="step">
            <h2>🧪 Expected HR Comparison Output</h2>
            <div class="expected-output">
                <p><strong>Look for this in browser console during Rule-2 analysis:</strong></p>
                <div class="console-output">🔍 [D-1 Set-1 HR Comparison] Testing all HRs for D-1 Set-1 Matrix:
🎯 [D-1 Set-1 HR 1] Planet: Mo, Numbers: [7, 12, 15, 23]
🎯 [D-1 Set-1 HR 2] Planet: Su, Numbers: [3, 8, 19, 27]
🎯 [D-1 Set-1 HR 3] Planet: Ma, Numbers: [1, 11, 16, 22]
🎯 [D-1 Set-1 HR 4] Planet: Ve, Numbers: [5, 9, 14, 28]
🎯 [D-1 Set-1 HR 5] Planet: Ju, Numbers: [4, 13, 17, 25]
🎯 [D-1 Set-1 HR 6] Planet: Sa, Numbers: [2, 6, 18, 24]
✅ [D-1 Set-1 HR Comparison] Complete - Each HR shows different planet/numbers</div>
            </div>
        </div>

        <div class="step">
            <h2>🔍 HR Comparison Visualization</h2>
            <p>Each HR period should show different results:</p>
            <div class="hr-comparison">
                <div class="hr-card">
                    <div class="hr-header">HR 1</div>
                    <div class="numbers">
                        <div>Planet: <strong>Mo</strong></div>
                        <div class="abcd">ABCD: [7, 12]</div>
                        <div class="bcd">BCD: [15, 23]</div>
                    </div>
                </div>
                <div class="hr-card">
                    <div class="hr-header">HR 2</div>
                    <div class="numbers">
                        <div>Planet: <strong>Su</strong></div>
                        <div class="abcd">ABCD: [3, 8]</div>
                        <div class="bcd">BCD: [19, 27]</div>
                    </div>
                </div>
                <div class="hr-card">
                    <div class="hr-header">HR 3</div>
                    <div class="numbers">
                        <div>Planet: <strong>Ma</strong></div>
                        <div class="abcd">ABCD: [1, 11]</div>
                        <div class="bcd">BCD: [16, 22]</div>
                    </div>
                </div>
                <div class="hr-card">
                    <div class="hr-header">HR 4</div>
                    <div class="numbers">
                        <div>Planet: <strong>Ve</strong></div>
                        <div class="abcd">ABCD: [5, 9]</div>
                        <div class="bcd">BCD: [14, 28]</div>
                    </div>
                </div>
                <div class="hr-card">
                    <div class="hr-header">HR 5</div>
                    <div class="numbers">
                        <div>Planet: <strong>Ju</strong></div>
                        <div class="abcd">ABCD: [4, 13]</div>
                        <div class="bcd">BCD: [17, 25]</div>
                    </div>
                </div>
                <div class="hr-card">
                    <div class="hr-header">HR 6</div>
                    <div class="numbers">
                        <div>Planet: <strong>Sa</strong></div>
                        <div class="abcd">ABCD: [2, 6]</div>
                        <div class="bcd">BCD: [18, 24]</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="step">
            <h2>📝 Testing Instructions</h2>
            <ol>
                <li><strong>Open Browser Console</strong> (F12 → Console tab)</li>
                <li><strong>Navigate to Index page</strong> → Select user and dates</li>
                <li><strong>Click Rule-2</strong> on any date (5th position or later)</li>
                <li><strong>Watch Console Output</strong> for HR comparison logs</li>
                <li><strong>Click "Planets Analysis" button</strong> to see final data transfer</li>
                <li><strong>Verify Planets Analysis</strong> shows correct D-1 Set-1 numbers</li>
            </ol>
        </div>

        <div class="step">
            <h2>🎯 Key Console Logs to Look For</h2>
            <div class="debug-section">
                <h3>During Rule-2 Analysis:</h3>
                <ul>
                    <li><code>🔍 [D-1 Set-1 HR Comparison] Testing all HRs for D-1 Set-1 Matrix</code></li>
                    <li><code>🎯 [D-1 Set-1 HR X] Planet: YY, Numbers: [...]</code> (for each HR 1-6)</li>
                    <li><code>✅ [D-1 Set-1 HR Comparison] Complete</code></li>
                </ul>
                
                <h3>During Navigation to Planets:</h3>
                <ul>
                    <li><code>🎯 [Rule2→Planets D-1 Set-1] ABCD: [...]</code></li>
                    <li><code>🎯 [Rule2→Planets D-1 Set-1] BCD: [...]</code></li>
                </ul>
                
                <h3>On Planets Analysis Page:</h3>
                <ul>
                    <li><code>🧪 [PlanetsAnalysis] Post-navigation D-1 Set-1 test</code></li>
                    <li><code>🎯 [D-1 Set-1 SUCCESS] ABCD/BCD numbers:</code></li>
                </ul>
            </div>
        </div>

        <div class="step">
            <h2>🚀 Quick Test Links</h2>
            <p>Test the application:</p>
            <button onclick="window.open('http://localhost:5173', '_blank')">Open Application</button>
            <button onclick="openDevTools()">Open DevTools</button>
        </div>

        <div class="step">
            <h2>🔧 Troubleshooting</h2>
            <div class="debug-section">
                <h3>If HR comparison logs don't appear:</h3>
                <ul>
                    <li>Check that D-1 Set-1 Matrix exists in the data</li>
                    <li>Verify HR data is available for the selected date</li>
                    <li>Confirm planet selections exist for multiple HR periods</li>
                </ul>
                
                <h3>If Planets Analysis shows "Navigate from Previous Pages":</h3>
                <ul>
                    <li>Ensure you clicked the "Planets Analysis" button from Rule-2</li>
                    <li>Check browser console for data transfer errors</li>
                    <li>Verify navigation state contains analysisData</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        function openDevTools() {
            alert('Press F12 or right-click → Inspect to open Developer Tools, then go to Console tab');
        }

        // Auto-scroll to console output sections
        document.querySelectorAll('.console-output').forEach(element => {
            element.addEventListener('click', function() {
                this.style.maxHeight = this.style.maxHeight === 'none' ? '400px' : 'none';
            });
        });
    </script>
</body>
</html>
